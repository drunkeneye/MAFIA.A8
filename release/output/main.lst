mads 2.1.7
  1497 					opt l+
   115 = 0000				?EXTDETECT = 0
   116 = 0000				?VBXDETECT = 0
   117
   118 0C75				RCASM 'dlists/dlist_console.asm' DL_CONSOLE_ADR 0 0 0 0 0 0 0 0
Macro: RESOURCE.RCASM [Source: resource.asm]
     2 0C75				org RESORIGIN
     4 = 0020			len = .sizeof(_DL_CONSOLE_ADR)
     6 				mcpy	ift main.DL_CONSOLE_ADR+len >= $bc20
     7 0C75 A9 00 8D 2F 02		mva #0 sdmctl
     8 0C7A 8D 00 D4			sta dmactl
    11 0C7D 20 41 0C			jsr sys.off
    13 0C80 A9 9E 85 88 A9 0C +  MWA #DATA EDX
    13 0C88 A9 70 85 8C A9 FF +  MWA #MAIN.DL_CONSOLE_ADR ECX
    13 0C90 A9 20 85 84 A9 00 +  MWA #LEN EAX
    13 0C98 20 00 0C		 JSR RESOURCE.MEMCPY
    15 0C9B 4C 65 0C			jmp sys.on
    16 0C9E			data
Source: dlist_console.asm
     1 = 0000			DL_BLANK1 = 0; // 1 blank line
     2 = 0010			DL_BLANK2 = %00010000; // 2 blank lines
     3 = 0020			DL_BLANK3 = %00100000; // 3 blank lines
     4 = 0030			DL_BLANK4 = %00110000; // 4 blank lines
     5 = 0040			DL_BLANK5 = %01000000; // 5 blank lines
     6 = 0050			DL_BLANK6 = %01010000; // 6 blank lines
     7 = 0060			DL_BLANK7 = %01100000; // 7 blank lines
     8 = 0070			DL_BLANK8 = %01110000; // 8 blank lines
    10 = 0080			DL_DLI = %10000000; // Order to run DLI
    11 = 0040			DL_LMS = %01000000; // Order to set new memory address
    12 = 0020			DL_VSCROLL = %00100000; // Turn on vertical scroll on this line
    13 = 0010			DL_HSCROLL = %00010000; // Turn on horizontal scroll on this line
    15 = 0002			DL_MODE_40x24T2 = 2; // Antic Modes
    16 = 0004			DL_MODE_40x24T5 = 4;
    17 = 0005			DL_MODE_40x12T5 = 5;
    18 = 0006			DL_MODE_20x24T5 = 6;
    19 = 0007			DL_MODE_20x12T5 = 7;
    20 = 0008			DL_MODE_40x24G4 = 8;
    21 = 0009			DL_MODE_80x48G2 = 9;
    22 = 000A			DL_MODE_80x48G4 = $A;
    23 = 000B			DL_MODE_160x96G2 = $B;
    24 = 000C			DL_MODE_160x192G2 = $C;
    25 = 000D			DL_MODE_160x96G4 = $D;
    26 = 000E			DL_MODE_160x192G4 = $E;
    27 = 000F			DL_MODE_320x192G2 = $F;
    29 = 0001			DL_JMP = %00000001; // Order to jump
    30 = 0041			DL_JVB = %01000001; // Jump to begining
    10 = B000			TXT_ADDRESS = $b000;
    11 = B400			MAINFONT_ADR = $b400;
    12 = B800			PMG_BASE_ADR = $b800;
    15 = C000			LOCATION_ADR = $c000; // $c000-c91c
    20 = C920			VARBLOCK2 = $c920; // $c920-c9b0 or so
    21 = CA00			VARBLOCK1 = $ca00; // $c920-ce80
    29 = D800			MAP_FNT_ADDRESS = $d800;
    30 = DC00			MAP_SCR_ADDRESS = $dc00;
    31 = E000			LOC_MAP_ADR = $e000; // could be used as second font, but we dont.
    35 = E400			VARFIGHT = $e400; // around $300, end is less then $e700
    36 = E700			E7_ADR = $e700;
    40 = F000			RMT_PLAYER = $f000;
    41 = F700			RMT_MODUL = $f700;
    43 = FF70			DL_CONSOLE_ADR = $ff70; // $1f bytes as is
    44 = FF90			DL_MAP_ADR = $ff90; // $1f bytes as is
    45 = FFB0			DL_BLACK_CONSOLE_ADR = $ffb0; //$7 bytes as is
    46 = FFB8			DL_BITMAP_ADR = $ffb8; //$7 bytes as is
    49 = 1FFA			XEX_ADDRESS = $2000-6; //?
    53 = B000			SAP_PLAYER = $b000;
    54 = B003			SAP_PLAYER_3 = $b003;
    55 = B006			SAP_PLAYER_6 = $b006;
    41 FF70			dl_start
    42 FF70 F0			    dta DL_DLI + DL_BLANK8                                        ; // 8 blank line
    43 FF71 70			    dta DL_BLANK8
    44 FF72 70			    dta DL_BLANK8
    45 FF73 70			    dta DL_BLANK8
    46 FF74 42 00 B0		    dta DL_MODE_40x24T2 + DL_LMS, a(TXT_ADDRESS)                  ; // mode 0 line + text memory start
    47 FF77 02 02 02 02 02 02 +     :22 dta DL_MODE_40x24T2                                       ; // x mode 0 line
    48 FF8D 41 70 FF		    dta DL_JVB, a(dl_start)                                       ; // jump to beginning
    23 02E2-02E3> 75 0C			ini mcpy
    25 					.print '$R RCASM   ',main.DL_CONSOLE_ADR,'..',main.DL_CONSOLE_ADR+len-1," 'dlists/dlist_console.asm'"
    25 				$R RCASM   $FF70..$FF8F 'dlists/dlist_console.asm'
Source: main.a65
   119 0CBE				RCASM 'dlists/dlist_black_console.asm' DL_BLACK_CONSOLE_ADR 0 0 0 0 0 0 0 0
Macro: RESOURCE.RCASM [Source: resource.asm]
     2 0CBE				org RESORIGIN
     4 = 0007			len = .sizeof(_DL_BLACK_CONSOLE_ADR)
     6 				mcpy	ift main.DL_BLACK_CONSOLE_ADR+len >= $bc20
     7 0C75-0CA4> A9 00 8D 2F + 	mva #0 sdmctl
     8 0C7A 8D 00 D4			sta dmactl
    11 0C7D 20 41 0C			jsr sys.off
    13 0C80 A9 9E 85 88 A9 0C +  MWA #DATA EDX
    13 0C88 A9 B0 85 8C A9 FF +  MWA #MAIN.DL_BLACK_CONSOLE_ADR ECX
    13 0C90 A9 07 85 84 A9 00 +  MWA #LEN EAX
    13 0C98 20 00 0C		 JSR RESOURCE.MEMCPY
    15 0C9B 4C 65 0C			jmp sys.on
    16 0C9E			data
Source: dlist_black_console.asm
     1 = 0000			DL_BLANK1 = 0; // 1 blank line
     2 = 0010			DL_BLANK2 = %00010000; // 2 blank lines
     3 = 0020			DL_BLANK3 = %00100000; // 3 blank lines
     4 = 0030			DL_BLANK4 = %00110000; // 4 blank lines
     5 = 0040			DL_BLANK5 = %01000000; // 5 blank lines
     6 = 0050			DL_BLANK6 = %01010000; // 6 blank lines
     7 = 0060			DL_BLANK7 = %01100000; // 7 blank lines
     8 = 0070			DL_BLANK8 = %01110000; // 8 blank lines
    10 = 0080			DL_DLI = %10000000; // Order to run DLI
    11 = 0040			DL_LMS = %01000000; // Order to set new memory address
    12 = 0020			DL_VSCROLL = %00100000; // Turn on vertical scroll on this line
    13 = 0010			DL_HSCROLL = %00010000; // Turn on horizontal scroll on this line
    15 = 0002			DL_MODE_40x24T2 = 2; // Antic Modes
    16 = 0004			DL_MODE_40x24T5 = 4;
    17 = 0005			DL_MODE_40x12T5 = 5;
    18 = 0006			DL_MODE_20x24T5 = 6;
    19 = 0007			DL_MODE_20x12T5 = 7;
    20 = 0008			DL_MODE_40x24G4 = 8;
    21 = 0009			DL_MODE_80x48G2 = 9;
    22 = 000A			DL_MODE_80x48G4 = $A;
    23 = 000B			DL_MODE_160x96G2 = $B;
    24 = 000C			DL_MODE_160x192G2 = $C;
    25 = 000D			DL_MODE_160x96G4 = $D;
    26 = 000E			DL_MODE_160x192G4 = $E;
    27 = 000F			DL_MODE_320x192G2 = $F;
    29 = 0001			DL_JMP = %00000001; // Order to jump
    30 = 0041			DL_JVB = %01000001; // Jump to begining
    34 FFB0			dl_start
    35 FFB0 F0			    dta DL_DLI + DL_BLANK8                                        ; // 8 blank line
    36 FFB1 70 70 70		    :3 dta DL_BLANK8
    37 FFB4 41 B0 FF		    dta DL_JVB, a(dl_start)                                       ; // jump to beginning
    23 02E2-02E3> 75 0C			ini mcpy
    25 					.print '$R RCASM   ',main.DL_BLACK_CONSOLE_ADR,'..',main.DL_BLACK_CONSOLE_ADR+len-1," 'dlists/dlist_black_console.asm'"
    25 				$R RCASM   $FFB0..$FFB6 'dlists/dlist_black_console.asm'
Source: main.a65
   120 0CA5				RCASM 'dlists/dlist_map.asm' DL_MAP_ADR 0 0 0 0 0 0 0 0
Macro: RESOURCE.RCASM [Source: resource.asm]
     2 0CA5				org RESORIGIN
     4 = 0020			len = .sizeof(_DL_MAP_ADR)
     6 				mcpy	ift main.DL_MAP_ADR+len >= $bc20
     7 0C75-0CBD> A9 00 8D 2F + 	mva #0 sdmctl
     8 0C7A 8D 00 D4			sta dmactl
    11 0C7D 20 41 0C			jsr sys.off
    13 0C80 A9 9E 85 88 A9 0C +  MWA #DATA EDX
    13 0C88 A9 90 85 8C A9 FF +  MWA #MAIN.DL_MAP_ADR ECX
    13 0C90 A9 20 85 84 A9 00 +  MWA #LEN EAX
    13 0C98 20 00 0C		 JSR RESOURCE.MEMCPY
    15 0C9B 4C 65 0C			jmp sys.on
    16 0C9E			data
Source: dlist_map.asm
     1 = 0070			DL_BLANK8 = %01110000;
     2 = 0080			DL_DLI = %10000000;
     3 = 0040			DL_LMS = %01000000;
     4 = 0002			DL_MODE_40x24T2 = 2; // Antic Modes
     5 = 0004			DL_MODE_40x24T5 = 4;
     6 = 0005			DL_MODE_40x12T5 = 5;
     7 = 0041			DL_JVB = %01000001;
    10 = B000			TXT_ADDRESS = $b000;
    11 = B400			MAINFONT_ADR = $b400;
    12 = B800			PMG_BASE_ADR = $b800;
    15 = C000			LOCATION_ADR = $c000; // $c000-c91c
    20 = C920			VARBLOCK2 = $c920; // $c920-c9b0 or so
    21 = CA00			VARBLOCK1 = $ca00; // $c920-ce80
    29 = D800			MAP_FNT_ADDRESS = $d800;
    30 = DC00			MAP_SCR_ADDRESS = $dc00;
    31 = E000			LOC_MAP_ADR = $e000; // could be used as second font, but we dont.
    35 = E400			VARFIGHT = $e400; // around $300, end is less then $e700
    36 = E700			E7_ADR = $e700;
    40 = F000			RMT_PLAYER = $f000;
    41 = F700			RMT_MODUL = $f700;
    43 = FF70			DL_CONSOLE_ADR = $ff70; // $1f bytes as is
    44 = FF90			DL_MAP_ADR = $ff90; // $1f bytes as is
    45 = FFB0			DL_BLACK_CONSOLE_ADR = $ffb0; //$7 bytes as is
    46 = FFB8			DL_BITMAP_ADR = $ffb8; //$7 bytes as is
    49 = 1FFA			XEX_ADDRESS = $2000-6; //?
    53 = B000			SAP_PLAYER = $b000;
    54 = B003			SAP_PLAYER_3 = $b003;
    55 = B006			SAP_PLAYER_6 = $b006;
    17 FF90			dl_start
    18 FF90 70			    dta DL_BLANK8
    19 FF91 70			    dta DL_BLANK8
    20 FF92 F0			    dta DL_DLI + DL_BLANK8
    21 FF93 44 00 DC		    dta DL_MODE_40x24T5 + DL_LMS, a(MAP_SCR_ADDRESS)
    22 FF96 04 04 04 04 04 04 +     :23-6 dta DL_MODE_40x24T5
    23 FFA7 84			    dta DL_MODE_40x24T5 + DL_DLI
    24 FFA8 02			    dta DL_MODE_40x24T2
    25 FFA9 82			    dta DL_MODE_40x24T2 + DL_DLI
    26 FFAA 02			    dta DL_MODE_40x24T2
    27 FFAB 02			    dta DL_MODE_40x24T2
    28 FFAC 82			    dta DL_MODE_40x24T2 + DL_DLI
    29 FFAD 41 90 FF		    dta DL_JVB, a(dl_start)
    23 02E2-02E3> 75 0C			ini mcpy
    25 					.print '$R RCASM   ',main.DL_MAP_ADR,'..',main.DL_MAP_ADR+len-1," 'dlists/dlist_map.asm'"
    25 				$R RCASM   $FF90..$FFAF 'dlists/dlist_map.asm'
Source: main.a65
   121 0CBE				RCASM 'dlists/dlist_bitmap.asm' DL_BITMAP_ADR 0 0 0 0 0 0 0 0
Macro: RESOURCE.RCASM [Source: resource.asm]
     2 0CBE				org RESORIGIN
     4 = 001C			len = .sizeof(_DL_BITMAP_ADR)
     6 				mcpy	ift main.DL_BITMAP_ADR+len >= $bc20
     7 0C75-0CB9> A9 00 8D 2F + 	mva #0 sdmctl
     8 0C7A 8D 00 D4			sta dmactl
    11 0C7D 20 41 0C			jsr sys.off
    13 0C80 A9 9E 85 88 A9 0C +  MWA #DATA EDX
    13 0C88 A9 B8 85 8C A9 FF +  MWA #MAIN.DL_BITMAP_ADR ECX
    13 0C90 A9 1C 85 84 A9 00 +  MWA #LEN EAX
    13 0C98 20 00 0C		 JSR RESOURCE.MEMCPY
    15 0C9B 4C 65 0C			jmp sys.on
    16 0C9E			data
Source: dlist_bitmap.asm
     1 = 0070			DL_BLANK8 = %01110000;
     2 = 0080			DL_DLI = %10000000;
     3 = 0040			DL_LMS = %01000000;
     4 = 0002			DL_MODE_40x24T2 = 2; // Antic Modes
     5 = 0004			DL_MODE_40x24T5 = 4;
     6 = 0005			DL_MODE_40x12T5 = 5;
     7 = 0041			DL_JVB = %01000001;
    10 = B000			TXT_ADDRESS = $b000;
    11 = B400			MAINFONT_ADR = $b400;
    12 = B800			PMG_BASE_ADR = $b800;
    15 = C000			LOCATION_ADR = $c000; // $c000-c91c
    20 = C920			VARBLOCK2 = $c920; // $c920-c9b0 or so
    21 = CA00			VARBLOCK1 = $ca00; // $c920-ce80
    29 = D800			MAP_FNT_ADDRESS = $d800;
    30 = DC00			MAP_SCR_ADDRESS = $dc00;
    31 = E000			LOC_MAP_ADR = $e000; // could be used as second font, but we dont.
    35 = E400			VARFIGHT = $e400; // around $300, end is less then $e700
    36 = E700			E7_ADR = $e700;
    40 = F000			RMT_PLAYER = $f000;
    41 = F700			RMT_MODUL = $f700;
    43 = FF70			DL_CONSOLE_ADR = $ff70; // $1f bytes as is
    44 = FF90			DL_MAP_ADR = $ff90; // $1f bytes as is
    45 = FFB0			DL_BLACK_CONSOLE_ADR = $ffb0; //$7 bytes as is
    46 = FFB8			DL_BITMAP_ADR = $ffb8; //$7 bytes as is
    49 = 1FFA			XEX_ADDRESS = $2000-6; //?
    53 = B000			SAP_PLAYER = $b000;
    54 = B003			SAP_PLAYER_3 = $b003;
    55 = B006			SAP_PLAYER_6 = $b006;
    17 FFB8			dl_start
    18 FFB8 70			    dta DL_BLANK8
    19 FFB9 70			    dta DL_BLANK8
    20 FFBA F0			    dta DL_DLI + DL_BLANK8
    21 FFBB 44 00 DC		    dta DL_MODE_40x24T5 + DL_LMS, a(MAP_SCR_ADDRESS)
    22 FFBE 04 04 04 04 04 04 +     :8 dta DL_MODE_40x24T5
    23 FFC6 84			    dta DL_MODE_40x24T5 + DL_DLI
    24 FFC7 04 04 04 04 04 04 +     :10 dta DL_MODE_40x24T5
    25 FFD1 41 B8 FF		    dta DL_JVB, a(dl_start)
    23 02E2-02E3> 75 0C			ini mcpy
    25 					.print '$R RCASM   ',main.DL_BITMAP_ADR,'..',main.DL_BITMAP_ADR+len-1," 'dlists/dlist_bitmap.asm'"
    25 				$R RCASM   $FFB8..$FFD3 'dlists/dlist_bitmap.asm'
Source: main.a65
   122 0CBA				RCDATA '../assets/player.pmg' PMG_BASE_ADR 0 0 0 0 0 0 0 0
Macro: RESOURCE.RCDATA [Source: resource.asm]
     2 = 0180			len = .filesize('../assets/player.pmg')-0
    28 0CBA				org main.PMG_BASE_ADR
    30 B800-B97F> 10 00 00 14 + 	ins '../assets/player.pmg',0
    32 					.print '$R RCDATA  ',main.PMG_BASE_ADR,'..',*-1," '../assets/player.pmg'"
    32 				$R RCDATA  $B800..$B97F '../assets/player.pmg'
Source: main.a65
   123 B980				RCDATA '../assets/mafia.fnt' MAINFONT_ADR 0 0 0 0 0 0 0 0
Macro: RESOURCE.RCDATA [Source: resource.asm]
     2 = 0400			len = .filesize('../assets/mafia.fnt')-0
    28 B980				org main.MAINFONT_ADR
    30 B400-B7FF> 00 00 00 00 + 	ins '../assets/mafia.fnt',0
    32 					.print '$R RCDATA  ',main.MAINFONT_ADR,'..',*-1," '../assets/mafia.fnt'"
    32 				$R RCDATA  $B400..$B7FF '../assets/mafia.fnt'
Source: main.a65
   124 B800				RCASM 'dlists/dlist_black_console.asm' TXT_ADDRESS 0 0 0 0 0 0 0 0
Macro: RESOURCE.RCASM [Source: resource.asm]
     2 B800				org RESORIGIN
     4 = 0007			len = .sizeof(_TXT_ADDRESS)
     6 				mcpy	ift main.TXT_ADDRESS+len >= $bc20
    11 0C75-0C9C> 20 41 0C		jsr sys.off
    13 0C78 A9 96 85 88 A9 0C +  MWA #DATA EDX
    13 0C80 A9 00 85 8C A9 B0 +  MWA #MAIN.TXT_ADDRESS ECX
    13 0C88 A9 07 85 84 A9 00 +  MWA #LEN EAX
    13 0C90 20 00 0C		 JSR RESOURCE.MEMCPY
    15 0C93 4C 65 0C			jmp sys.on
    16 0C96			data
Source: dlist_black_console.asm
     1 = 0000			DL_BLANK1 = 0; // 1 blank line
     2 = 0010			DL_BLANK2 = %00010000; // 2 blank lines
     3 = 0020			DL_BLANK3 = %00100000; // 3 blank lines
     4 = 0030			DL_BLANK4 = %00110000; // 4 blank lines
     5 = 0040			DL_BLANK5 = %01000000; // 5 blank lines
     6 = 0050			DL_BLANK6 = %01010000; // 6 blank lines
     7 = 0060			DL_BLANK7 = %01100000; // 7 blank lines
     8 = 0070			DL_BLANK8 = %01110000; // 8 blank lines
    10 = 0080			DL_DLI = %10000000; // Order to run DLI
    11 = 0040			DL_LMS = %01000000; // Order to set new memory address
    12 = 0020			DL_VSCROLL = %00100000; // Turn on vertical scroll on this line
    13 = 0010			DL_HSCROLL = %00010000; // Turn on horizontal scroll on this line
    15 = 0002			DL_MODE_40x24T2 = 2; // Antic Modes
    16 = 0004			DL_MODE_40x24T5 = 4;
    17 = 0005			DL_MODE_40x12T5 = 5;
    18 = 0006			DL_MODE_20x24T5 = 6;
    19 = 0007			DL_MODE_20x12T5 = 7;
    20 = 0008			DL_MODE_40x24G4 = 8;
    21 = 0009			DL_MODE_80x48G2 = 9;
    22 = 000A			DL_MODE_80x48G4 = $A;
    23 = 000B			DL_MODE_160x96G2 = $B;
    24 = 000C			DL_MODE_160x192G2 = $C;
    25 = 000D			DL_MODE_160x96G4 = $D;
    26 = 000E			DL_MODE_160x192G4 = $E;
    27 = 000F			DL_MODE_320x192G2 = $F;
    29 = 0001			DL_JMP = %00000001; // Order to jump
    30 = 0041			DL_JVB = %01000001; // Jump to begining
    34 B000			dl_start
    35 B000 F0			    dta DL_DLI + DL_BLANK8                                        ; // 8 blank line
    36 B001 70 70 70		    :3 dta DL_BLANK8
    37 B004 41 00 B0		    dta DL_JVB, a(dl_start)                                       ; // jump to beginning
    23 02E2-02E3> 75 0C			ini mcpy
    25 					.print '$R RCASM   ',main.TXT_ADDRESS,'..',main.TXT_ADDRESS+len-1," 'dlists/dlist_black_console.asm'"
    25 				$R RCASM   $B000..$B006 'dlists/dlist_black_console.asm'
Source: main.a65
   125 0C9D				RMTPLAY2 '../music/sfx_s.feat' RMT_PLAYER 0 0 0 0 0 0 0 0
Macro: RESOURCE.RMTPLAY2 [Source: resource.asm]
     2 0C9D				org RESORIGIN
     4 = 0000			STEREOMODE	= 0
     5 = F000			PLAYER		= main.RMT_PLAYER
     7 = 061C			len	= .sizeof(_RMT_PLAYER)
    11 0C75-12B1> 20 41 0C	mcpy	jsr sys.off
    13 0C78 A9 96 85 88 A9 0C +  MWA #DATA EDX
    13 0C80 A9 00 85 8C A9 F0 +  MWA #PLAYER ECX
    13 0C88 A9 1C 85 84 A9 06 +  MWA #.SIZEOF(_RMT_PLAYER) EAX
    13 0C90 20 00 0C		 JSR RESOURCE.MEMCPY
    15 0C93 4C 65 0C			jmp sys.on
    22 0C96			data
Source: sfx_s.feat
     3 = 0001			FEAT_SFX		equ 1
     4 = 0000			FEAT_GLOBALVOLUMEFADE	equ 0		;RMTGLOBALVOLUMEFADE variable
     5 = 0000			FEAT_NOSTARTINGSONGLINE	equ 0
     6 = 0001			FEAT_INSTRSPEED		equ 1
     7 = 0000			FEAT_CONSTANTSPEED		equ 0		;(4 times)
     8 = 0001			FEAT_COMMAND1		equ 1		;(4 times)
     9 = 0000			FEAT_COMMAND2		equ 0		;(0 times)
    10 = 0000			FEAT_COMMAND3		equ 0		;(0 times)
    11 = 0000			FEAT_COMMAND4		equ 0		;(0 times)
    12 = 0000			FEAT_COMMAND5		equ 0		;(0 times)
    13 = 0000			FEAT_COMMAND6		equ 0		;(0 times)
    14 = 0000			FEAT_COMMAND7SETNOTE		equ 0		;(0 times)
    15 = 0000			FEAT_COMMAND7VOLUMEONLY		equ 0		;(0 times)
    16 = 0000			FEAT_PORTAMENTO		equ 0		;(0 times)
    17 = 0001			FEAT_FILTER		equ 1		;(22 times)
    18 = 0001			FEAT_FILTERG0L		equ 1		;(22 times)
    19 = 0000			FEAT_FILTERG1L		equ 0		;(0 times)
    20 = 0000			FEAT_FILTERG0R		equ 0		;(0 times)
    21 = 0000			FEAT_FILTERG1R		equ 0		;(0 times)
    22 = 0000			FEAT_BASS16		equ 0		;(0 times)
    23 = 0000			FEAT_BASS16G1L		equ 0		;(0 times)
    24 = 0000			FEAT_BASS16G3L		equ 0		;(0 times)
    25 = 0000			FEAT_BASS16G1R		equ 0		;(0 times)
    26 = 0000			FEAT_BASS16G3R		equ 0		;(0 times)
    27 = 0000			FEAT_VOLUMEONLYG0L		equ 0		;(0 times)
    28 = 0000			FEAT_VOLUMEONLYG2L		equ 0		;(0 times)
    29 = 0000			FEAT_VOLUMEONLYG3L		equ 0		;(0 times)
    30 = 0000			FEAT_VOLUMEONLYG0R		equ 0		;(0 times)
    31 = 0000			FEAT_VOLUMEONLYG2R		equ 0		;(0 times)
    32 = 0000			FEAT_VOLUMEONLYG3R		equ 0		;(0 times)
    33 = 0000			FEAT_TABLETYPE		equ 0		;(0 times)
    34 = 0000			FEAT_TABLEMODE		equ 0		;(0 times)
    35 = 0000			FEAT_TABLEGO		equ 0		;(0 times)
    36 = 0001			FEAT_AUDCTLMANUALSET		equ 1		;(3 times)
    37 = 0000			FEAT_VOLUMEMIN		equ 0		;(0 times)
    38 = 0001			FEAT_EFFECTVIBRATO		equ 1		;(1 times)
    39 = 0001			FEAT_EFFECTFSHIFT		equ 1		;(1 times)
Source: rmt_player_reloc.asm
    99 = 0004			TRACKS		equ 4
   101 = 000C			INSTRPAR	equ 12
   103 = 0001			FEAT_EFFECTS equ FEAT_EFFECTVIBRATO||FEAT_EFFECTFSHIFT
   105 = 0000			FEAT_RECALCADDR = 0
   106 = 0000			FEAT_PATCH = 0
   108 = 0000			RMT_STANDARD = 0	;standard RMT 1.28
   109 = 0001			RMT_PATCH0A = 1		;16-bit bass 0a patch
   113 = 00E0			p_tis = .ZPVAR
   128 F000 4C FC F1			jmp rmt_play			; rmt_play at first
   130 F003 4C 12 F0			jmp rmt_init
   131 F006 4C 18 F2			jmp rmt_p3
   132 F009 4C 6A F0			jmp rmt_silence
   133 F00C 4C 56 F3			jmp SetPokey
   136 F00F 4C 80 F1			jmp rmt_sfx			;* A=note(0,..,60),X=channel(0,..,3 or 0,..,7),Y=instrument*2(0,2,4,..,126)
   138 F012			rmt_init
   139 F012 86 E8			stx ns
   140 F014 84 E9			sty ns+1
   142 F016 48				pha
   152 F017 A0 00			ldy #track_endvariables-track_variables
   153 F019 A9 00			lda #0
   154 F01B 99 9A F5		ri0	sta track_variables-1,y
   155 F01E 88				dey
   156 F01F D0 FA			bne ri0
   177 F021 A0 03			ldy #3
   178 F023 B1 E8			lda (ns),y	;RMTx
   179 F025 29 0F			and #%00001111
   180 F027 8D 1A F6			sta v_channel_number
   181 F02A 8D 1B F6			sta v_channel_number_less1
   182 F02D CE 1B F6			dec v_channel_number_less1
   184 F030 C8				iny
   185 F031 B1 E8			lda (ns),y
   186 F033 8D 19 F6			sta v_maxtracklen
   187 F036 C8				iny
   189 F037 B1 E8			lda (ns),y
   190 F039 8D 14 F6			sta v_speed
   211 F03C A0 08			ldy #8
   212 F03E B1 E8		ri1	lda (ns),y
   221 F040 99 D8 00			sta p_tis-8,y
   222 F043 C8				iny
   223 F044 C0 10			cpy #8+8
   224 F046 D0 F6			bne ri1
   227 F048 A9 00			lda #0
   228 F04A 85 90			sta tmp
   229 F04C AD 1A F6			lda v_channel_number
   230 F04F C9 08			cmp #8
   231 F051 68				pla
   232 F052 90 03			bcc ?x4
   233 F054 0A				asl @
   234 F055 26 90			rol tmp
   235 F057 0A			?x4	asl @
   236 F058 26 90			rol tmp
   237 F05A 0A				asl @
   238 F05B 26 90			rol tmp
   240 F05D 65 E6			adc p_song
   241 F05F 85 E6			sta p_song
   242 F061 A5 90			lda tmp
   243 F063 65 E7			adc p_song+1
   244 F065 85 E7			sta p_song+1
   246 F067 20 7F F0			jsr GetSongLineTrackLineInitOfNewSetInstrumentsOnlyRmtp3
   247 F06A			rmt_silence
   261 F06A A9 00			lda #0
   262 F06C 8D 08 D2			sta $d208
   263 F06F A0 03			ldy #3
   264 F071 8C 0F D2			sty $d20f
   265 F074 A0 08			ldy #8
   266 F076 99 00 D2		si1	sta $d200,y
   267 F079 88				dey
   268 F07A 10 FA			bpl si1
   273 F07C A9 01			lda #FEAT_INSTRSPEED
   275 F07E 60				rts
   276 F07F			GetSongLineTrackLineInitOfNewSetInstrumentsOnlyRmtp3
   277 F07F			GetSongLine
   278 F07F A2 00			ldx #0
   279 F081 8E 18 F6			stx v_abeat
   280 F084			nn0
   281 F084 8A			nn1	txa
   282 F085 A8				tay
   283 F086 B1 E6			lda (p_song),y
   284 F088 C9 FE			cmp #$fe
   285 F08A B0 2E			bcs nn2
   286 F08C A8				tay
   287 F08D B1 E2			lda (p_trackslbstable),y
   292 F08F 9D 9B F5			sta trackn_db,x
   293 F092 B1 E4			lda (p_trackshbstable),y
   297 F094 9D 9F F5		nn1a sta trackn_hb,x
   298 F097 A9 00			lda #0
   299 F099 9D A3 F5			sta trackn_idx,x
   300 F09C A9 01			lda #1
   301 F09E 9D A7 F5		nn1a2 sta trackn_pause,x
   302 F0A1 A9 80			lda #$80
   303 F0A3 9D BB F5			sta trackn_instrx2,x
   304 F0A6 E8				inx
   305 F0A7			xtracks01
   309 F0A7 E0 04			cpx #TRACKS
   311 F0A9 D0 D9			bne nn1
   312 F0AB A5 E6			lda p_song
   313 F0AD 18				clc
   314 F0AE 6D 1A F6		xtracks02	adc v_channel_number	;#TRACKS
   315 F0B1 85 E6			sta p_song
   316 F0B3 90 1B			bcc GetTrackLine
   317 F0B5 E6 E7			inc p_song+1
   318 F0B7			nn1b
   319 F0B7 4C D0 F0			jmp GetTrackLine
   320 F0BA			nn2
   321 F0BA F0 04			beq nn3
   322 F0BC			nn2a
   323 F0BC A9 00			lda #0
   324 F0BE F0 DE			beq nn1a2
   325 F0C0			nn3
   326 F0C0 A0 02			ldy #2
   327 F0C2 B1 E6			lda (p_song),y
   332 F0C4 AA				tax
   333 F0C5 C8				iny
   334 F0C6 B1 E6			lda (p_song),y
   338 F0C8 85 E7			sta p_song+1
   339 F0CA 86 E6			stx p_song
   340 F0CC A2 00			ldx #0
   341 F0CE F0 B4			beq nn0
   342 F0D0			GetTrackLine
   343 F0D0			oo0
   344 F0D0			oo0a
   346 F0D0 AD 14 F6			lda v_speed
   347 F0D3 8D 15 F6			sta v_bspeed
   349 F0D6 A2 FF			ldx #-1
   350 F0D8			oo1
   351 F0D8 E8				inx
   352 F0D9 DE A7 F5			dec trackn_pause,x
   353 F0DC D0 42			bne oo1x
   354 F0DE			oo1b
   355 F0DE BD 9B F5			lda trackn_db,x
   356 F0E1 85 E8			sta ns
   357 F0E3 BD 9F F5			lda trackn_hb,x
   358 F0E6 85 E9			sta ns+1
   359 F0E8			oo1i
   360 F0E8 BC A3 F5			ldy trackn_idx,x
   361 F0EB FE A3 F5			inc trackn_idx,x
   362 F0EE B1 E8			lda (ns),y
   363 F0F0 85 EE			sta reg1
   364 F0F2 29 3F			and #$3f
   365 F0F4 C9 3D			cmp #61
   366 F0F6 F0 0E			beq oo1a
   367 F0F8 B0 36			bcs oo2
   368 F0FA 9D AB F5			sta trackn_note,x
   372 F0FD C8				iny
   373 F0FE B1 E8			lda (ns),y
   374 F100 4A				lsr @
   375 F101 29 7E			and #$3f*2
   376 F103 9D BB F5			sta trackn_instrx2,x
   377 F106			oo1a
   378 F106 A9 01			lda #1
   379 F108 9D A7 F5			sta trackn_pause,x
   380 F10B BC A3 F5			ldy trackn_idx,x
   381 F10E FE A3 F5			inc trackn_idx,x
   382 F111 B1 E8			lda (ns),y
   383 F113 4A				lsr @
   384 F114 66 EE			ror reg1
   385 F116 4A				lsr @
   386 F117 66 EE			ror reg1
   387 F119 A5 EE			lda reg1
   395 F11B 29 F0			and #$f0
   396 F11D 9D AF F5			sta trackn_volume,x
   397 F120			oo1x
   398 F120			xtracks03sub1
   402 F120 E0 03			cpx #TRACKS-1
   404 F122 D0 B4			bne oo1
   406 F124 AD 15 F6			lda v_bspeed
   407 F127 8D 14 F6			sta v_speed
   411 F12A 8D 13 F6			sta v_aspeed
   412 F12D 4C 75 F1			jmp InitOfNewSetInstrumentsOnly
   413 F130			oo2
   414 F130 C9 3F			cmp #63
   415 F132 F0 1B			beq oo63
   416 F134 A5 EE			lda reg1
   417 F136 29 C0			and #$c0
   418 F138 F0 09			beq oo62_b
   419 F13A 0A				asl @
   420 F13B 2A				rol @
   421 F13C 2A				rol @
   422 F13D 9D A7 F5			sta trackn_pause,x
   423 F140 4C 20 F1			jmp oo1x
   424 F143			oo62_b
   425 F143 C8				iny
   426 F144 B1 E8			lda (ns),y
   427 F146 9D A7 F5			sta trackn_pause,x
   428 F149 FE A3 F5			inc trackn_idx,x
   429 F14C 4C 20 F1			jmp oo1x
   430 F14F			oo63
   431 F14F A5 EE			lda reg1
   433 F151 30 0C			bmi oo63_1X
   434 F153 C8				iny
   435 F154 B1 E8			lda (ns),y
   436 F156 8D 15 F6			sta v_bspeed
   437 F159 FE A3 F5			inc trackn_idx,x
   438 F15C 4C E8 F0			jmp oo1i
   439 F15F			oo63_1X
   441 F15F C9 FF			cmp #255
   442 F161 F0 09			beq oo63_11
   443 F163 C8				iny
   444 F164 B1 E8			lda (ns),y
   445 F166 9D A3 F5			sta trackn_idx,x
   446 F169 4C E8 F0			jmp oo1i
   447 F16C			oo63_11
   448 F16C 4C 7F F0			jmp GetSongLine
   449 F16F 4C 18 F2		p2xrmtp3	jmp rmt_p3
   450 F172 CA			p2x0 dex
   451 F173 30 FA			 bmi p2xrmtp3
   452 F175			InitOfNewSetInstrumentsOnly
   453 F175 BC BB F5		p2x1 ldy trackn_instrx2,x
   454 F178 30 F8			bmi p2x0
   456 F17A 20 88 F1			jsr SetUpInstrumentY2
   457 F17D 4C 72 F1			jmp p2x0
   458 F180			rmt_sfx
   459 F180 9D AB F5			sta trackn_note,x
   463 F183 A9 00			lda RMTSFXVOLUME:: #$00
   466 F185 9D AF F5			sta trackn_volume,x
   468 F188			SetUpInstrumentY2
   469 F188 B1 E0			lda (p_instrstable),y
   474 F18A 9D BF F5			sta trackn_instrdb,x
   475 F18D 85 EC			sta nt
   476 F18F C8				iny
   477 F190 B1 E0			lda (p_instrstable),y
   481 F192 9D C3 F5			sta trackn_instrhb,x
   482 F195 85 ED			sta nt+1
   484 F197 A9 01			lda #1
   485 F199 9D 03 F6			sta trackn_filter,x
   497 F19C A0 02			ldy #2
   499 F19E B1 EC			lda (nt),y
   500 F1A0 9D CB F5			sta trackn_instrlen,x
   501 F1A3 C8				iny
   502 F1A4 B1 EC			lda (nt),y
   503 F1A6 9D CF F5			sta trackn_instrlop,x
   504 F1A9 C8				iny
   505 F1AA B1 EC			lda (nt),y
   506 F1AC 9D EB F5			sta trackn_tabletypespeed,x
   510 F1AF 9D FB F5			sta trackn_tablespeeda,x
   517 F1B2 C8				iny
   518 F1B3 B1 EC			lda (nt),y
   519 F1B5 9D 0F F6			sta trackn_audctl,x
   520 F1B8 C8				iny
   524 F1B9 B1 EC			lda (nt),y
   525 F1BB 9D D7 F5			sta trackn_volumeslidedepth,x
   535 F1BE A0 08			ldy #8
   539 F1C0 B1 EC			lda (nt),y
   540 F1C2 9D DF F5			sta trackn_effdelay,x
   542 F1C5 C8				iny
   543 F1C6 B1 EC			lda (nt),y
   544 F1C8 A8				tay
   545 F1C9 B9 C2 F3			lda vibtabbeg,y
   546 F1CC 9D E3 F5			sta trackn_effvibratoa,x
   549 F1CF A0 0A			ldy #10
   550 F1D1 B1 EC			lda (nt),y
   551 F1D3 9D E7 F5			sta trackn_effshift,x
   554 F1D6 A9 80			lda #128
   555 F1D8 9D DB F5			sta trackn_volumeslidevalue,x
   556 F1DB 9D BB F5			sta trackn_instrx2,x
   557 F1DE 0A				asl @
   558 F1DF 9D D3 F5			sta trackn_instrreachend,x
   559 F1E2 9D B7 F5			sta trackn_shiftfrq,x
   560 F1E5 A8				tay
   561 F1E6 B1 EC			lda (nt),y
   562 F1E8 9D F7 F5			sta trackn_tableend,x
   563 F1EB 69 00			adc #0
   564 F1ED 9D C7 F5			sta trackn_instridx,x
   565 F1F0 A9 0C			lda #INSTRPAR
   566 F1F2 9D F3 F5			sta trackn_tablea,x
   567 F1F5 A8				tay
   568 F1F6 B1 EC			lda (nt),y
   569 F1F8 9D EF F5			sta trackn_tablenote,x
   570 F1FB			xata_rtshere
   572 F1FB 60				rts
   576 F1FC			rmt_play
   577 F1FC			rmt_p0
   578 F1FC 20 56 F3			jsr SetPokey
   579 F1FF			rmt_p1
   591 F1FF			rmt_p2
   592 F1FF CE 13 F6			dec v_aspeed
   593 F202 D0 14			bne rmt_p3
   594 F204 EE 18 F6			inc v_abeat
   595 F207 AD 18 F6			lda v_abeat
   596 F20A CD 19 F6			cmp v_maxtracklen
   597 F20D F0 03			beq p2o3
   598 F20F 4C D0 F0			jmp GetTrackLine
   599 F212			p2o3
   600 F212 4C 7F F0			jmp GetSongLineTrackLineInitOfNewSetInstrumentsOnlyRmtp3
   601 F215 4C 16 F3		go_ppnext	jmp ppnext
   602 F218			rmt_p3
   606 F218			xtracks05sub1
   610 F218 A2 03			ldx #TRACKS-1
   612 F21A			pp1
   613 F21A BD C3 F5			lda trackn_instrhb,x
   614 F21D F0 F6			beq go_ppnext
   615 F21F 85 E9			sta ns+1
   616 F221 BD BF F5			lda trackn_instrdb,x
   617 F224 85 E8			sta ns
   618 F226 BC C7 F5			ldy trackn_instridx,x
   619 F229 B1 E8			lda (ns),y
   620 F22B 85 EE			sta reg1
   621 F22D C8				iny
   622 F22E B1 E8			lda (ns),y
   623 F230 85 EF			sta reg2
   624 F232 C8				iny
   625 F233 B1 E8			lda (ns),y
   626 F235 85 F0			sta reg3
   627 F237 C8				iny
   628 F238 98				tya
   629 F239 DD CB F5			cmp trackn_instrlen,x
   630 F23C 90 0A			bcc pp2
   631 F23E F0 08			beq pp2
   632 F240 A9 80			lda #$80
   633 F242 9D D3 F5			sta trackn_instrreachend,x
   634 F245			pp1b
   635 F245 BD CF F5			lda trackn_instrlop,x
   636 F248 9D C7 F5		pp2	sta trackn_instridx,x
   637 F24B A5 EE			lda reg1
   655 F24D 29 0F			and #$0f
   656 F24F 1D AF F5			ora trackn_volume,x
   657 F252 A8				tay
   658 F253 B9 9B F4			lda volumetab,y
   659 F256 85 90			sta tmp
   660 F258 A5 EF			lda reg2
   661 F25A 29 0E			and #$0e
   662 F25C A8				tay
   663 F25D B9 8D F3			lda tabbegad,y		;lda tabbeganddistor,y
   664 F260 85 EA			sta nr
   665 F262 B9 8E F3			lda tabbegad+1,y
   666 F265 85 EB			sta nr+1
   667 F267 A5 90			lda tmp
   671 F269 19 9D F3			ora tabdistor,y
   673 F26C 9D 0B F6			sta trackn_audc,x
   674 F26F			InstrumentsEffects
   676 F26F BD DF F5			lda trackn_effdelay,x
   677 F272 F0 21			beq ei2
   678 F274 C9 01			cmp #1
   679 F276 D0 1A			bne ei1
   680 F278 BD B7 F5			lda trackn_shiftfrq,x
   682 F27B 18				clc
   683 F27C 7D E7 F5			adc trackn_effshift,x
   686 F27F 18				clc
   687 F280 BC E3 F5			ldy trackn_effvibratoa,x
   688 F283 79 AD F3			adc vib0,y
   690 F286 9D B7 F5			sta trackn_shiftfrq,x
   692 F289 B9 C6 F3			lda vibtabnext,y
   693 F28C 9D E3 F5			sta trackn_effvibratoa,x
   695 F28F 4C 95 F2			jmp ei2
   696 F292			ei1
   697 F292 DE DF F5			dec trackn_effdelay,x
   698 F295			ei2
   700 F295 BC F7 F5			ldy trackn_tableend,x
   701 F298 C0 0D			cpy #INSTRPAR+1
   702 F29A 90 30			bcc ei3
   703 F29C BD FB F5			lda trackn_tablespeeda,x
   704 F29F 10 25			bpl ei2f
   705 F2A1			ei2c
   706 F2A1 98				tya
   707 F2A2 DD F3 F5			cmp trackn_tablea,x
   708 F2A5 D0 07			bne ei2c2
   712 F2A7 A9 0C			lda #INSTRPAR
   714 F2A9 9D F3 F5			sta trackn_tablea,x
   715 F2AC D0 03			bne ei2a
   716 F2AE			ei2c2
   717 F2AE FE F3 F5			inc trackn_tablea,x
   718 F2B1			ei2a
   719 F2B1 BD BF F5			lda trackn_instrdb,x
   720 F2B4 85 EC			sta nt
   721 F2B6 BD C3 F5			lda trackn_instrhb,x
   722 F2B9 85 ED			sta nt+1
   723 F2BB BC F3 F5			ldy trackn_tablea,x
   724 F2BE B1 EC			lda (nt),y
   732 F2C0 9D EF F5			sta trackn_tablenote,x
   733 F2C3 BD EB F5			lda trackn_tabletypespeed,x
   737 F2C6			ei2f
   738 F2C6 38				sec
   739 F2C7 E9 01			sbc #1
   740 F2C9 9D FB F5			sta trackn_tablespeeda,x
   741 F2CC			ei3
   742 F2CC BD D3 F5			lda trackn_instrreachend,x
   743 F2CF 10 18			bpl ei4
   744 F2D1 BD AF F5			lda trackn_volume,x
   745 F2D4 F0 13			beq ei4
   751 F2D6 A8				tay
   752 F2D7 BD DB F5			lda trackn_volumeslidevalue,x
   753 F2DA 18				clc
   754 F2DB 7D D7 F5			adc trackn_volumeslidedepth,x
   755 F2DE 9D DB F5			sta trackn_volumeslidevalue,x
   756 F2E1 90 06			bcc ei4
   757 F2E3 98				tya
   758 F2E4 E9 10			sbc #16
   759 F2E6 9D AF F5			sta trackn_volume,x
   760 F2E9			ei4
   766 F2E9 A5 EF			lda reg2
   768 F2EB 9D FF F5			sta trackn_command,x
   770 F2EE 29 70			and #$70
   772 F2F0 F0 05			beq cmd0
   809 F2F2			cmd1
   811 F2F2 A5 F0			lda reg3
   812 F2F4 4C 13 F3			jmp cmd0c
   814 F2F7			cmd2
   821 F2F7			cmd3
   829 F2F7			cmd4
   838 F2F7			cmd5
   881 F2F7			cmd6
   893 F2F7			cmd7
   913 F2F7			cmd0
   914 F2F7 BD AB F5			lda trackn_note,x
   915 F2FA 18				clc
   916 F2FB 65 F0			adc reg3
   917 F2FD			cmd0a
   922 F2FD 18				clc
   923 F2FE 7D EF F5			adc trackn_tablenote,x
   924 F301 C9 3D			cmp #61
   925 F303 90 07			bcc cmd0a1
   926 F305 A9 00			lda #0
   927 F307 9D 0B F6			sta trackn_audc,x
   928 F30A A9 3F			lda #63
   929 F30C			cmd0a1
   933 F30C A8				tay
   934 F30D B1 EA			lda (nr),y
   935 F30F 18				clc
   936 F310 7D B7 F5			adc trackn_shiftfrq,x
   961 F313			cmd0c
   962 F313 9D 07 F6			sta trackn_audf,x
   963 F316			pp9
   999 F316			ppnext
  1000 F316 CA				dex
  1001 F317 30 03			bmi rmt_p4
  1002 F319 4C 1A F2			jmp pp1
  1003 F31C			rmt_p4
  1005 F31C AD 0F F6			lda trackn_audctl+0
  1006 F31F 0D 10 F6			ora trackn_audctl+1
  1007 F322 0D 11 F6			ora trackn_audctl+2
  1008 F325 0D 12 F6			ora trackn_audctl+3
  1009 F328 AA				tax
  1013 F329			qq1
  1014 F329 8E 16 F6			stx v_audctl
  1017 F32C AD FF F5			lda trackn_command+0
  1018 F32F 10 1A			bpl qq2
  1019 F331 AD 0B F6			lda trackn_audc+0
  1020 F334 29 0F			and #$0f
  1021 F336 F0 13			beq qq2
  1022 F338 AD 07 F6			lda trackn_audf+0
  1023 F33B 18				clc
  1024 F33C 6D 03 F6			adc trackn_filter+0
  1025 F33F 8D 09 F6			sta trackn_audf+2
  1031 F342 A9 00			lda #0
  1033 F344 8D 0D F6			sta trackn_audc+2
  1034 F347			qq1a
  1035 F347 8A				txa
  1036 F348 09 04			ora #4
  1037 F34A AA				tax
  1039 F34B			qq2
  1063 F34B			qq3
  1065 F34B EC 16 F6			cpx v_audctl
  1066 F34E D0 00			bne qq5
  1138 F350			qq5
  1139 F350 8E 16 F6			stx v_audctl
  1284 F353			rmt_p5
  1288 F353 A9 01			lda #1
  1290 F355 60				rts
  1291 F356			SetPokey
  1371 F356 AC 16 F6			ldy v_audctl
  1372 F359 AD 07 F6			lda trackn_audf+0
  1373 F35C AE 0B F6			ldx trackn_audc+0
  1374 F35F 8D 00 D2			sta $d200
  1375 F362 8E 01 D2			stx $d201
  1376 F365 AD 08 F6			lda trackn_audf+1
  1377 F368 AE 0C F6			ldx trackn_audc+1
  1378 F36B 8D 02 D2			sta $d200+2
  1379 F36E 8E 03 D2			stx $d201+2
  1380 F371 AD 09 F6			lda trackn_audf+2
  1381 F374 AE 0D F6			ldx trackn_audc+2
  1382 F377 8D 04 D2			sta $d200+4
  1383 F37A 8E 05 D2			stx $d201+4
  1384 F37D AD 0A F6			lda trackn_audf+3
  1385 F380 AE 0E F6			ldx trackn_audc+3
  1386 F383 8D 06 D2			sta $d200+6
  1387 F386 8E 07 D2			stx $d201+6
  1388 F389 8C 08 D2			sty $d208
  1435 F38C 60				rts
  1436 F38D			RMTPLAYEREND
  1457 F38D			tabbegad:
  1458 F38D 5B F4			.word frqtabpure
  1459 F38F 5B F4			.word frqtabpure
  1460 F391 5B F4			.word frqtabpure
  1461 F393 DB F3			.word frqtabbass1
  1462 F395 5B F4			.word frqtabpure
  1463 F397 5B F4			.word frqtabpure
  1464 F399 DB F3			.word frqtabbass1
  1465 F39B 1B F4			.word frqtabbass2
  1467 F39D			tabdistor:
  1469 = F39E			miker_tabdistor = *+1
  1470 F39D 00 00			.byte $00,$00
  1471 F39F 20 20			.byte $20,$20
  1472 F3A1 40 40			.byte $40,$40
  1473 F3A3 C0 A0			.byte $c0,$a0	;!
  1474 F3A5 80 80			.byte $80,$80
  1475 F3A7 A0 A0			.byte $a0,$a0
  1476 F3A9 C0 C0			.byte $c0,$c0
  1477 F3AB C0 C0			.byte $c0,$c0
  1490 F3AD 00			vib0	.byte 0
  1491 F3AE 01 FF FF 01		vib1	.byte 1,-1,-1,1
  1492 F3B2 01 00 FF FF 00 01	vib2	.byte 1,0,-1,-1,0,1
  1493 F3B8 01 01 00 FF FF FF + vib3	.byte 1,1,0,-1,-1,-1,-1,0,1,1
  1503 F3C2			vibtabbeg:
  1504 F3C2 00 01 05 0B			.byte   $00,$01,$05,$0B
  1506 F3C6			vibtabnext:
  1507 F3C6 00				.byte   $00
  1508 F3C7 02 03 04 01			.byte	$02,$03,$04,$01
  1509 F3CB 06 07 08 09 0A 05		.byte	$06,$07,$08,$09,$0A,$05
  1510 F3D1 0C 0D 0E 0F 10 11 + 	.byte	$0C,$0D,$0E,$0F,$10,$11,$12,$13,$14,$0B
  1542 F3DB			frqtab
  1543 F3DB			frqtabbass1
  1544 F3DB BF B6 AA A1 98 8F + 	.byte $BF,$B6,$AA,$A1,$98,$8F,$89,$80,$F2,$E6,$DA,$CE,$BF,$B6,$AA,$A1
  1545 F3EB 98 8F 89 80 7A 71 + 	.byte $98,$8F,$89,$80,$7A,$71,$6B,$65,$5F,$5C,$56,$50,$4D,$47,$44,$3E
  1546 F3FB 3C 38 35 32 2F 2D + 	.byte $3C,$38,$35,$32,$2F,$2D,$2A,$28,$25,$23,$21,$1F,$1D,$1C,$1A,$18
  1547 F40B 17 16 14 13 12 11 + 	.byte $17,$16,$14,$13,$12,$11,$10,$0F,$0E,$0D,$0C,$0B,$0A,$09,$08,$07
  1548 F41B			frqtabbass2
  1549 F41B FF F1 E4 D8 CA C0 + 	.byte $FF,$F1,$E4,$D8,$CA,$C0,$B5,$AB,$A2,$99,$8E,$87,$7F,$79,$73,$70
  1550 F42B 66 61 5A 55 52 4B + 	.byte $66,$61,$5A,$55,$52,$4B,$48,$43,$3F,$3C,$39,$37,$33,$30,$2D,$2A
  1551 F43B 28 25 24 21 1F 1E + 	.byte $28,$25,$24,$21,$1F,$1E,$1C,$1B,$19,$17,$16,$15,$13,$12,$11,$10
  1552 F44B 0F 0E 0D 0C 0B 0A + 	.byte $0F,$0E,$0D,$0C,$0B,$0A,$09,$08,$07,$06,$05,$04,$03,$02,$01,$00
  1553 F45B			frqtabpure
  1554 F45B F3 E6 D9 CC C1 B5 + 	.byte $F3,$E6,$D9,$CC,$C1,$B5,$AD,$A2,$99,$90,$88,$80,$79,$72,$6C,$66
  1555 F46B 60 5B 55 51 4C 48 + 	.byte $60,$5B,$55,$51,$4C,$48,$44,$40,$3C,$39,$35,$32,$2F,$2D,$2A,$28
  1556 F47B 25 23 21 1F 1D 1C + 	.byte $25,$23,$21,$1F,$1D,$1C,$1A,$18,$17,$16,$14,$13,$12,$11,$10,$0F
  1557 F48B 0E 0D 0C 0B 0A 09 + 	.byte $0E,$0D,$0C,$0B,$0A,$09,$08,$07,$06,$05,$04,$03,$02,$01,$00,$00
  1560 F49B			volumetab
  1561 F49B 00 00 00 00 00 00 + 	.byte $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
  1562 F4AB 00 00 00 00 00 00 + 	.byte $00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01
  1563 F4BB 00 00 00 00 01 01 + 	.byte $00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$02,$02,$02,$02
  1564 F4CB 00 00 00 01 01 01 + 	.byte $00,$00,$00,$01,$01,$01,$01,$01,$02,$02,$02,$02,$02,$03,$03,$03
  1565 F4DB 00 00 01 01 01 01 + 	.byte $00,$00,$01,$01,$01,$01,$02,$02,$02,$02,$03,$03,$03,$03,$04,$04
  1566 F4EB 00 00 01 01 01 02 + 	.byte $00,$00,$01,$01,$01,$02,$02,$02,$03,$03,$03,$04,$04,$04,$05,$05
  1567 F4FB 00 00 01 01 02 02 + 	.byte $00,$00,$01,$01,$02,$02,$02,$03,$03,$04,$04,$04,$05,$05,$06,$06
  1568 F50B 00 00 01 01 02 02 + 	.byte $00,$00,$01,$01,$02,$02,$03,$03,$04,$04,$05,$05,$06,$06,$07,$07
  1569 F51B 00 01 01 02 02 03 + 	.byte $00,$01,$01,$02,$02,$03,$03,$04,$04,$05,$05,$06,$06,$07,$07,$08
  1570 F52B 00 01 01 02 02 03 + 	.byte $00,$01,$01,$02,$02,$03,$04,$04,$05,$05,$06,$07,$07,$08,$08,$09
  1571 F53B 00 01 01 02 03 03 + 	.byte $00,$01,$01,$02,$03,$03,$04,$05,$05,$06,$07,$07,$08,$09,$09,$0A
  1572 F54B 00 01 01 02 03 04 + 	.byte $00,$01,$01,$02,$03,$04,$04,$05,$06,$07,$07,$08,$09,$0A,$0A,$0B
  1573 F55B 00 01 02 02 03 04 + 	.byte $00,$01,$02,$02,$03,$04,$05,$06,$06,$07,$08,$09,$0A,$0A,$0B,$0C
  1574 F56B 00 01 02 03 03 04 + 	.byte $00,$01,$02,$03,$03,$04,$05,$06,$07,$08,$09,$0A,$0A,$0B,$0C,$0D
  1575 F57B 00 01 02 03 04 05 + 	.byte $00,$01,$02,$03,$04,$05,$06,$07,$07,$08,$09,$0A,$0B,$0C,$0D,$0E
  1576 F58B 00 01 02 03 04 05 + 	.byte $00,$01,$02,$03,$04,$05,$06,$07,$08,$09,$0A,$0B,$0C,$0D,$0E,$0F
  1579 F59B			track_variables
  1688 F59B			track_endvariables
  1704 = 00E0			P_INSTRSTABLE
  1704 = 00E2			P_TRACKSLBSTABLE
  1704 = 00E4			P_TRACKSHBSTABLE
  1704 = 00E6			P_SONG
  1704 = 00E8			NS
  1704 = 00EA			NR
  1704 = 00EC			NT
  1704 = 00EE			REG1
  1704 = 00EF			REG2
  1704 = 00F0			REG3
  1704 = 00F1			TMP
  1704 = F59B 00 00 00 00	TRACKN_DB
  1704 = F59F 00 00 00 00	TRACKN_HB
  1704 = F5A3 00 00 00 00	TRACKN_IDX
  1704 = F5A7 00 00 00 00	TRACKN_PAUSE
  1704 = F5AB 00 00 00 00	TRACKN_NOTE
  1704 = F5AF 00 00 00 00	TRACKN_VOLUME
  1704 = F5B3 00 00 00 00	TRACKN_DISTOR
  1704 = F5B7 00 00 00 00	TRACKN_SHIFTFRQ
  1704 = F5BB 00 00 00 00	TRACKN_INSTRX2
  1704 = F5BF 00 00 00 00	TRACKN_INSTRDB
  1704 = F5C3 00 00 00 00	TRACKN_INSTRHB
  1704 = F5C7 00 00 00 00	TRACKN_INSTRIDX
  1704 = F5CB 00 00 00 00	TRACKN_INSTRLEN
  1704 = F5CF 00 00 00 00	TRACKN_INSTRLOP
  1704 = F5D3 00 00 00 00	TRACKN_INSTRREACHEND
  1704 = F5D7 00 00 00 00	TRACKN_VOLUMESLIDEDEPTH
  1704 = F5DB 00 00 00 00	TRACKN_VOLUMESLIDEVALUE
  1704 = F5DF 00 00 00 00	TRACKN_EFFDELAY
  1704 = F5E3 00 00 00 00	TRACKN_EFFVIBRATOA
  1704 = F5E7 00 00 00 00	TRACKN_EFFSHIFT
  1704 = F5EB 00 00 00 00	TRACKN_TABLETYPESPEED
  1704 = F5EF 00 00 00 00	TRACKN_TABLENOTE
  1704 = F5F3 00 00 00 00	TRACKN_TABLEA
  1704 = F5F7 00 00 00 00	TRACKN_TABLEEND
  1704 = F5FB 00 00 00 00	TRACKN_TABLESPEEDA
  1704 = F5FF 00 00 00 00	TRACKN_COMMAND
  1704 = F603 00 00 00 00	TRACKN_FILTER
  1704 = F607 00 00 00 00	TRACKN_AUDF
  1704 = F60B 00 00 00 00	TRACKN_AUDC
  1704 = F60F 00 00 00 00	TRACKN_AUDCTL
  1704 = F613 00		V_ASPEED
  1704 = F614 00		V_SPEED
  1704 = F615 00		V_BSPEED
  1704 = F616 00		V_AUDCTL
  1704 = F617 00		V_AUDCTL2
  1704 = F618 00		V_ABEAT
  1704 = F619 00		V_MAXTRACKLEN
  1704 = F61A 00		V_CHANNEL_NUMBER
  1704 = F61B 00		V_CHANNEL_NUMBER_LESS1
    29 02E2-02E3> 75 0C			ini mcpy
    37 					.echo '$R RMTPLAY ',_RMT_PLAYER.p_tis,'..',.zpvar-1,', ',PLAYER,'..',_RMT_PLAYER+.sizeof(_RMT_PLAYER)-1," '../music/sfx_s.feat'"
    37 				$R RMTPLAY $00E0..$00F1, $F000..$F61B '../music/sfx_s.feat'
Source: main.a65
   126 12B2				RMT '../music/sfx_s.rmt' RMT_MODUL 0 0 0 0 0 0 0 0
Macro: RESOURCE.RMT [Source: resource.asm]
     2 = 0290			len = .filesize('../music/sfx_s.rmt')
     5 12B2				org RESORIGIN
     7 0C75-0F1F> 20 41 0C	mcpy	jsr sys.off
     9 0C78 A9 96 85 88 A9 0C +  MWA #DATA EDX
     9 0C80 A9 00 85 8C A9 F7 +  MWA #MAIN.RMT_MODUL ECX
     9 0C88 A9 8A 85 84 A9 02 +  MWA #LEN-6 EAX
     9 0C90 20 00 0C		 JSR RESOURCE.MEMCPY
    11 0C93 4C 65 0C			jmp sys.on
    13 0C96			data	rmt_relocator '../music/sfx_s.rmt',main.RMT_MODUL
Macro: RESOURCE.RMT_RELOCATOR [Source: resource.asm]
     2 0C96				.get [$100] '../music/sfx_s.rmt',0,6				// wczytujemy plik do bufora MADS'a
     6 = F700			new_add = MAIN.RMT_MODUL						// nowy adres dla modulu RMT
     8 = B200			old_add	= .wget[$102]					// stary adres modulu RMT
    10 = 028A			length	= .wget[$104] - old_add + 1			// dlugosc pliku RMT bez naglowka DOS'u
    12 = 4500			ofset	= new_add-old_add
    14 0C96				.get [old_add-6] '../music/sfx_s.rmt'
    16  [B1FC] 00			.put[old_add-4] = .lo(new_add)			// poprawiamy nag³ówek DOS'a
    17  [B1FD] F7			.put[old_add-3] = .hi(new_add)			// tak aby zawieral informacje o nowym
    19  [B1FE] 89			.put[old_add-2] = .lo(new_add + length - 1)	// adresie modulu RMT
    20  [B1FF] F9			.put[old_add-1] = .hi(new_add + length - 1)
    22 = 0034			type	= .get[old_add+3]
    24 = B210			pinst	= .get[old_add+8] + .get[old_add+9]<<8
    25 = B222			pltrc	= .get[old_add+10] + .get[old_add+11]<<8
    26 = B232			phtrc	= .get[old_add+12] + .get[old_add+13]<<8
    27 = B442			ptlst	= .get[old_add+14] + .get[old_add+15]<<8
    29  [B208] 10			.put[old_add+8] = .lo(pinst+ofset)
    30  [B209] F7			.put[old_add+9] = .hi(pinst+ofset)
    32  [B20A] 22			.put[old_add+10] = .lo(pltrc+ofset)
    33  [B20B] F7			.put[old_add+11] = .hi(pltrc+ofset)
    35  [B20C] 32			.put[old_add+12] = .lo(phtrc+ofset)
    36  [B20D] F7			.put[old_add+13] = .hi(phtrc+ofset)
    38  [B20E] 42			.put[old_add+14] = .lo(ptlst+ofset)
    39  [B20F] F9			.put[old_add+15] = .hi(ptlst+ofset)
    43 = B242				?TMP = .GET[PINST+#*2] + .GET[PINST+#*2+1]<<8
    43  [B210] 42			.PUT[PINST+#*2] = .LO(?TMP+OFSET)
    43  [B211] F7			.PUT[PINST+#*2+1] = .HI(?TMP+OFSET)
    43 = B26A				?TMP = .GET[PINST+#*2] + .GET[PINST+#*2+1]<<8
    43  [B212] 6A			.PUT[PINST+#*2] = .LO(?TMP+OFSET)
    43  [B213] F7			.PUT[PINST+#*2+1] = .HI(?TMP+OFSET)
    43 = B2B0				?TMP = .GET[PINST+#*2] + .GET[PINST+#*2+1]<<8
    43  [B214] B0			.PUT[PINST+#*2] = .LO(?TMP+OFSET)
    43  [B215] F7			.PUT[PINST+#*2+1] = .HI(?TMP+OFSET)
    43 = B2D2				?TMP = .GET[PINST+#*2] + .GET[PINST+#*2+1]<<8
    43  [B216] D2			.PUT[PINST+#*2] = .LO(?TMP+OFSET)
    43  [B217] F7			.PUT[PINST+#*2+1] = .HI(?TMP+OFSET)
    43 = B324				?TMP = .GET[PINST+#*2] + .GET[PINST+#*2+1]<<8
    43  [B218] 24			.PUT[PINST+#*2] = .LO(?TMP+OFSET)
    43  [B219] F8			.PUT[PINST+#*2+1] = .HI(?TMP+OFSET)
    43 = B340				?TMP = .GET[PINST+#*2] + .GET[PINST+#*2+1]<<8
    43  [B21A] 40			.PUT[PINST+#*2] = .LO(?TMP+OFSET)
    43  [B21B] F8			.PUT[PINST+#*2+1] = .HI(?TMP+OFSET)
    43 = B35C				?TMP = .GET[PINST+#*2] + .GET[PINST+#*2+1]<<8
    43  [B21C] 5C			.PUT[PINST+#*2] = .LO(?TMP+OFSET)
    43  [B21D] F8			.PUT[PINST+#*2+1] = .HI(?TMP+OFSET)
    43 = B381				?TMP = .GET[PINST+#*2] + .GET[PINST+#*2+1]<<8
    43  [B21E] 81			.PUT[PINST+#*2] = .LO(?TMP+OFSET)
    43  [B21F] F8			.PUT[PINST+#*2+1] = .HI(?TMP+OFSET)
    43 = B3A3				?TMP = .GET[PINST+#*2] + .GET[PINST+#*2+1]<<8
    43  [B220] A3			.PUT[PINST+#*2] = .LO(?TMP+OFSET)
    43  [B221] F8			.PUT[PINST+#*2+1] = .HI(?TMP+OFSET)
    52 = B3D4				?TMP = .GET[PLTRC+#] + .GET[PHTRC+#]<<8
    52  [B222] D4			.PUT[PLTRC+#] = .LO(?TMP+OFSET)
    52  [B232] F8			.PUT[PHTRC+#] = .HI(?TMP+OFSET)
    52 = B3E4				?TMP = .GET[PLTRC+#] + .GET[PHTRC+#]<<8
    52  [B223] E4			.PUT[PLTRC+#] = .LO(?TMP+OFSET)
    52  [B233] F8			.PUT[PHTRC+#] = .HI(?TMP+OFSET)
    52 = B3E9				?TMP = .GET[PLTRC+#] + .GET[PHTRC+#]<<8
    52  [B224] E9			.PUT[PLTRC+#] = .LO(?TMP+OFSET)
    52  [B234] F8			.PUT[PHTRC+#] = .HI(?TMP+OFSET)
    52 = B3FA				?TMP = .GET[PLTRC+#] + .GET[PHTRC+#]<<8
    52  [B225] FA			.PUT[PLTRC+#] = .LO(?TMP+OFSET)
    52  [B235] F8			.PUT[PHTRC+#] = .HI(?TMP+OFSET)
    52 = B41D				?TMP = .GET[PLTRC+#] + .GET[PHTRC+#]<<8
    52  [B226] 1D			.PUT[PLTRC+#] = .LO(?TMP+OFSET)
    52  [B236] F9			.PUT[PHTRC+#] = .HI(?TMP+OFSET)
    52 = B42B				?TMP = .GET[PLTRC+#] + .GET[PHTRC+#]<<8
    52  [B227] 2B			.PUT[PLTRC+#] = .LO(?TMP+OFSET)
    52  [B237] F9			.PUT[PHTRC+#] = .HI(?TMP+OFSET)
    52 = B42F				?TMP = .GET[PLTRC+#] + .GET[PHTRC+#]<<8
    52  [B228] 2F			.PUT[PLTRC+#] = .LO(?TMP+OFSET)
    52  [B238] F9			.PUT[PHTRC+#] = .HI(?TMP+OFSET)
    52 = B433				?TMP = .GET[PLTRC+#] + .GET[PHTRC+#]<<8
    52  [B229] 33			.PUT[PLTRC+#] = .LO(?TMP+OFSET)
    52  [B239] F9			.PUT[PHTRC+#] = .HI(?TMP+OFSET)
    52 = B437				?TMP = .GET[PLTRC+#] + .GET[PHTRC+#]<<8
    52  [B22A] 37			.PUT[PLTRC+#] = .LO(?TMP+OFSET)
    52  [B23A] F9			.PUT[PHTRC+#] = .HI(?TMP+OFSET)
    52 = B43B				?TMP = .GET[PLTRC+#] + .GET[PHTRC+#]<<8
    52  [B22B] 3B			.PUT[PLTRC+#] = .LO(?TMP+OFSET)
    52  [B23B] F9			.PUT[PHTRC+#] = .HI(?TMP+OFSET)
    52 = 0000				?TMP = .GET[PLTRC+#] + .GET[PHTRC+#]<<8
    52 = 0000				?TMP = .GET[PLTRC+#] + .GET[PHTRC+#]<<8
    52 = 0000				?TMP = .GET[PLTRC+#] + .GET[PHTRC+#]<<8
    52 = 0000				?TMP = .GET[PLTRC+#] + .GET[PHTRC+#]<<8
    52 = 0000				?TMP = .GET[PLTRC+#] + .GET[PHTRC+#]<<8
    52 = B440				?TMP = .GET[PLTRC+#] + .GET[PHTRC+#]<<8
    52  [B231] 40			.PUT[PLTRC+#] = .LO(?TMP+OFSET)
    52  [B241] F9			.PUT[PHTRC+#] = .HI(?TMP+OFSET)
    66 = 0004				skip=4
    70 = B482				?TMP = .GET[PTLST+#*SKIP+2] + .GET[PTLST+#*SKIP+3]<<8
    70  [B448] 82			.PUT[PTLST+#*SKIP+2] = .LO(?TMP+OFSET)
    70  [B449] F9			.PUT[PTLST+#*SKIP+3] = .HI(?TMP+OFSET)
    70 = B482				?TMP = .GET[PTLST+#*SKIP+2] + .GET[PTLST+#*SKIP+3]<<8
    70  [B450] 82			.PUT[PTLST+#*SKIP+2] = .LO(?TMP+OFSET)
    70  [B451] F9			.PUT[PTLST+#*SKIP+3] = .HI(?TMP+OFSET)
    70 = B482				?TMP = .GET[PTLST+#*SKIP+2] + .GET[PTLST+#*SKIP+3]<<8
    70  [B458] 82			.PUT[PTLST+#*SKIP+2] = .LO(?TMP+OFSET)
    70  [B459] F9			.PUT[PTLST+#*SKIP+3] = .HI(?TMP+OFSET)
    70 = B482				?TMP = .GET[PTLST+#*SKIP+2] + .GET[PTLST+#*SKIP+3]<<8
    70  [B460] 82			.PUT[PTLST+#*SKIP+2] = .LO(?TMP+OFSET)
    70  [B461] F9			.PUT[PTLST+#*SKIP+3] = .HI(?TMP+OFSET)
    70 = B482				?TMP = .GET[PTLST+#*SKIP+2] + .GET[PTLST+#*SKIP+3]<<8
    70  [B468] 82			.PUT[PTLST+#*SKIP+2] = .LO(?TMP+OFSET)
    70  [B469] F9			.PUT[PTLST+#*SKIP+3] = .HI(?TMP+OFSET)
    70 = B482				?TMP = .GET[PTLST+#*SKIP+2] + .GET[PTLST+#*SKIP+3]<<8
    70  [B470] 82			.PUT[PTLST+#*SKIP+2] = .LO(?TMP+OFSET)
    70  [B471] F9			.PUT[PTLST+#*SKIP+3] = .HI(?TMP+OFSET)
    70 = B482				?TMP = .GET[PTLST+#*SKIP+2] + .GET[PTLST+#*SKIP+3]<<8
    70  [B478] 82			.PUT[PTLST+#*SKIP+2] = .LO(?TMP+OFSET)
    70  [B479] F9			.PUT[PTLST+#*SKIP+3] = .HI(?TMP+OFSET)
    70 = B482				?TMP = .GET[PTLST+#*SKIP+2] + .GET[PTLST+#*SKIP+3]<<8
    70  [B480] 82			.PUT[PTLST+#*SKIP+2] = .LO(?TMP+OFSET)
    70  [B481] F9			.PUT[PTLST+#*SKIP+3] = .HI(?TMP+OFSET)
    70 = B482				?TMP = .GET[PTLST+#*SKIP+2] + .GET[PTLST+#*SKIP+3]<<8
    70  [B488] 82			.PUT[PTLST+#*SKIP+2] = .LO(?TMP+OFSET)
    70  [B489] F9			.PUT[PTLST+#*SKIP+3] = .HI(?TMP+OFSET)
    19 02E2-02E3> 75 0C			ini mcpy
    36 				 	.print '$R RMT     ',main.RMT_MODUL,'..',main.RMT_MODUL+len-6," '../music/sfx_s.rmt'"
    36 				$R RMT     $F700..$F98A '../music/sfx_s.rmt'
Source: main.a65
   127 				.endl
   128
   129 				; ------------------------------------------------------------
   130
   131 					org CODEORIGIN
   132
   133 0C00				STATICDATA
Macro: STATICDATA [Source: main.a65]
     1 0C00-9C05> 40 41 42 43 + .by  $40 $41 $42 $43 $44 $45 $46 $47  $48 $49 $4A $4B $4C $4D $4E $4F  $50 $51 $52 $53 $54 $55 $56 $57
     2 0C18 58 59 5A 61 62 63 + .by  $58 $59 $5A $61 $62 $63 $64 $65  $66 $67 $68 $69 $6A $6B $6C $6D  $6E $6F $70 $71 $72 $73 $74 $75
     3 0C30 76 77 78 79 7A 30 + .by  $76 $77 $78 $79 $7A $30 $31 $32  $33 $34 $35 $36 $37 $38 $39 $2B  $2F $00 $04 $54 $52 $55 $45 $05
     4 0C48 46 41 4C 53 45 0B + .by  $46 $41 $4C $53 $45 $0B $45 $37  $30 $30 $50 $41 $47 $45 $41 $45  $4E $0B $53 $41 $56 $45 $47 $41
     5 0C60 4D 45 44 41 54 02 + .by  $4D $45 $44 $41 $54 $02 $25 $1A  $02 $37 $1A $02 $00 $00 $04 $00  $00 $00 $00 $02 $04 $01 $03 $00
     6 0C78 0D 00 02 33 1A 03 + .by  $0D $00 $02 $33 $1A $03 $00 $29  $1A $03 $00 $22 $1A $02 $0C $00  $02 $04 $00 $02 $09 $00 $0B $53
     7 0C90 41 46 45 43 42 4D + .by  $41 $46 $45 $43 $42 $4D $50 $41  $50 $4C $02 $00 $08 $02 $04 $09  $02 $04 $0E $02 $09 $1F $04 $04
     8 0CA8 09 1F 00 03 0E 0E + .by  $09 $1F $00 $03 $0E $0E $0E $03  $08 $10 $0D $02 $01 $01 $03 $00  $00 $00 $03 $00 $2D $09 $03 $09
     9 0CC0 1F 00 0B 46 49 4E + .by  $1F $00 $0B $46 $49 $4E $41 $47  $50 $49 $43 $41 $50 $4C $0B $46  $4D $55 $53 $42 $38 $30 $30 $41
    10 0CD8 50 4C 0B 50 4C 41 + .by  $50 $4C $0B $50 $4C $41 $59 $42  $30 $52 $5A $41 $50 $4C $6C $6A  $3B $FF $FF $6B $2B $2A $6F $FF
    11 0CF0 70 75 9B 69 2D 3D + .by  $70 $75 $9B $69 $2D $3D $76 $FF  $63 $FF $FF $62 $78 $7A $34 $FF  $33 $36 $1B $35 $32 $31 $2C $20
    12 0D08 2E 6E FF 6D 2F 81 + .by  $2E $6E $FF $6D $2F $81 $72 $FF  $65 $79 $7F $74 $77 $71 $39 $FF  $30 $37 $7E $38 $3E $FF $66 $68
    13 0D20 64 FF 82 67 73 61 + .by  $64 $FF $82 $67 $73 $61 $4C $4A  $3A $FF $FF $4B $5C $5E $4F $FF  $50 $55 $FF $49 $5F $7C $56 $FF
    14 0D38 43 FF FF 42 58 5A + .by  $43 $FF $FF $42 $58 $5A $24 $FF  $23 $26 $FF $25 $22 $21 $5B $3B  $5D $4E $FF $4D $3F $FF $52 $FF
    15 0D50 45 59 FF 54 57 51 + .by  $45 $59 $FF $54 $57 $51 $28 $FF  $29 $27 $FF $40 $FF $FF $46 $48  $44 $FF $FF $47 $53 $41 $FF $FF
    16 0D68 FF FF FF FF FF FF + .by  $FF $FF $FF $FF $FF $FF $FF $FF  $FF $FF $FF $FF $FF $FF $FF $FF  $FF $FF $FF $FF $FF $FF $FF $FF
    17 0D80 FF FF FF FF FF FF + .by  $FF $FF $FF $FF $FF $FF $FF $FF  $FF $FF $FF $FF $FF $FF $FF $FF  $FF $FF $FF $FF $FF $FF $FF $FF
    18 0D98 FF FF FF FF FF FF + .by  $FF $FF $FF $FF $FF $FF $FF $FF  $FF $FF $FF $FF $FF $FF $FF $FF  $FF $FF $FF $FF $FF $FF $FF $FF
    19 0DB0 FF FF FF FF FF FF + .by  $FF $FF $FF $FF $FF $FF $FF $FF  $FF $FF $FF $FF $FF $FF $FF $FF  $FF $FF $FF $FF $FF $FF $FF $FF
    20 0DC8 FF FF FF FF FF FF + .by  $FF $FF $FF $FF $FF $FF $FF $FF  $FF $FF $FF $FF $FF $FF $FF $FF  $FF $FF $FF $FF $FF $FF $FF $FF
    21 0DE0 FF FF FF FF FF FF	.by  $FF $FF $FF $FF $FF $FF
Source: main.a65
   134
   135 				; ------------------------------------------------------------
   136
   137 0DE6			RTLIB
   138 0DE6				icl 'rtl6502_a8.asm'
Source: rtl6502_a8.asm
    64 					opt l+
   139
   140 				.print 'ZPAGE: ',zpage,'..',zpend-1
   140 				ZPAGE: $0080..$00D3
   141
   142 				.print 'RTBUF: ',@buf,'..',@buf+255
   142 				RTBUF: $0400..$04FF
   143
   144 				.print 'RTLIB: ',RTLIB,'..',*-1
   144 				RTLIB: $0DE6..$12A9
   145
   146 				; ------------------------------------------------------------
   147
   148 12AA			START
   149 12AA BA				tsx
   150 12AB 8E DC 99			stx MAIN.@halt+1
   151
   152 					.ifdef MAIN.@DEFINES.ROMOFF
   153 12AE				icl 'atari\romoff.asm'
Source: romoff.asm
     1
     2 				// http://atariki.krap.pl/index.php/Programowanie:_U%C5%BCycie_OS-a_przy_wy%C5%82%C4%85czonym_ROM-ie
     3
     4 12AE			.local	rominit
     5
     6 12AE 78			        sei
     7 12AF A9 00		        lda #%00000000
     8 12B1 8D 0E D4		        sta NMIEN       ;$D40E
     9 12B4 A9 FE		        lda #%11111110
    10 12B6 8D 01 D3		        sta PORTB       ;$D301
    11
    12 				; Wprowadzona zmiana pozwala wyÅÄczyÄ z poziomu kodu Pascala, kopiowanie czcionek z pamiÄci ROM do RAM przy wyÅÄczonym ROMie
    13 				; Proces ten (niefortunnie) powoduje nadpisanie danych w obszarze $E000..$E3FF, gdy w zasobach umieÅcimi dane, ktÃ³re
    14 				; w ten obszar sÄ wczytywane. Za pomocÄ definicji '{$DEFINE NOROMFONT}` moÅ¼na wyÅÄczyÄ przerzut danych czcionek z ROM do RAMu,
    15 				; co pozwala zachowaÄ, wczytywane zasoby.
    16
    17 				.ifndef MAIN.@DEFINES.NOROMFONT
    18 					ldx #3
    19 					ldy #0
    20 				mv	inc portb
    21 				afnt0	lda $e000,y
    22 					dec portb
    23 				afnt1	sta $e000,y
    24 					iny
    25 					bne mv
    26 					inc afnt0+2
    27 					inc afnt1+2
    28 					dex
    29 					bpl mv
    30 				.endif
    31
    32 12B9 A2 D6		        ldx #<nmiint
    33 12BB A0 12		        ldy #>nmiint
    34 12BD 8E FA FF		        stx NMIVEC      ;$FFFA
    35 12C0 8C FB FF		        sty NMIVEC+1
    36
    37 12C3 A2 E0		        ldx #<irqint
    38 12C5 A0 12		        ldy #>irqint
    39 12C7 8E FE FF		        stx IRQVEC      ;$FFFE
    40 12CA 8C FF FF		        sty IRQVEC+1
    41
    42 12CD A9 40		        lda #%01000000
    43 12CF 8D 0E D4		        sta NMIEN       ;$D40E
    44 12D2 58			        cli
    45
    46 12D3 4C 01 13			jmp skp
    47
    48
    49
    50 12D6 2C 0F D4		nmiint  bit NMIST        ;$D40F
    51 12D9 10 03		        spl
    52 12DB 6C 00 02		        jmp (VDSLST)     ;$0200
    53
    54 12DE 38			        sec
    55 12DF 24			        .byte $24        ;BIT $18
    56
    57 12E0 18			irqint  clc
    58
    59 				        ;wlaczenie OS ROM
    60
    61 12E1 EE 01 D3		        inc PORTB       ;$D301
    62
    63 12E4 48			        pha
    64 12E5 8A			        txa
    65 12E6 48			        pha
    66 12E7 BA			        tsx
    67
    68 				        ;odlozenie na stos danych dla powrotu z przerwania (RTI)
    69
    70 12E8 A9 12		        lda #>iret      ;adres procedury iret
    71 12EA 48			        pha
    72 12EB A9 FA		        lda #<iret
    73 12ED 48			        pha
    74 12EE BD 03 01		        lda $103,x      ;skopiowanie wartosci rejestru stanu procesora
    75 12F1 48			        pha
    76
    77 				        ;skok przez odpowiedni wektor przerwania
    78
    79 12F2 90 03		        scc
    80 12F4 6C FA FF		        jmp (NMIVEC)    ;$FFFA
    81 12F7 6C FE FF		        jmp (IRQVEC)    ;$FFFE
    82
    83 12FA 68			iret	pla
    84 12FB AA				tax
    85 12FC 68				pla
    86
    87 				        ;wylaczenie OS ROM
    88
    89 12FD CE 01 D3		        dec PORTB       ;$D301
    90 1300 40			        rti
    91
    92 1301			skp
    93
    94 				.endl
    95
   154 					.fi
   155
   156 = 04A1			VLEN	= VARDATASIZE-VARINITSIZE
   157 = A456			VADR	= DATAORIGIN+VARINITSIZE
   158
   159 					ift (VADR > $BFFF) && .not(.def MAIN.@DEFINES.ROMOFF)
   160 					ert 'Invalid memory address range ',VADR
   161 					eif
   162
   163 					ift (VLEN > 0) && (VLEN <= 256)
   164 					ldx #256-VLEN
   165 					lda #$00
   166 					sta:rne VADR+VLEN-256,x+
   167 					eli VLEN>256
   168 1301				m@init
Macro: M@INIT [Source: macros.asm]
     2 1301 A0 56			ldy <VADR
     3 1303 A2 A4			ldx >VADR
     5 1305 A9 00			lda #$00
     6 1307 F0 07			beq skp_
     8 1309 99 00 10		clr	sta adr: $1000,y
    10 130C C8				iny
    11 130D D0 04			bne skp
    12 130F E8				inx
    13 1310 8E 0B 13		skp_	stx adr+1
    15 1313 E0 A8		skp	cpx >VADR+VLEN
    16 1315 D0 F2			bne clr
    17 1317 C0 F7			cpy <VADR+VLEN
    18 1319 D0 EE			bne clr
   169 					eif
   170
   171 				.ifdef psptr
   172 					mwa #PROGRAMSTACK psptr
   173 				.fi
   174
   175 131B A2 00			ldx #$00					; X = 0
   176 131D 86 80			stx bp						; BP = 0
   177
   178 131F 8E 08 D2			stx audctl					; reset POKEY
   179 1322 8E 18 D2			stx audctl+$10
   180 1325 A9 03			lda #3
   181 1327 8D 0F D2			sta skctl
   182 132A 8D 1F D2			sta skctl+$10
   183
   184 132D CA				dex						; X = 255
   185
   186 132E				UNITINITIALIZATION
Macro: UNITINITIALIZATION [Source: main.a65]
     3 132E 20 4F 14			jsr MAIN.SYSTEM.@UnitInit
    35 1331 20 FF 15			jsr MAIN.RMT.@UnitInit
   187
   188 1334			.local	MAIN						; PROCEDURE
   189
   190 1334 4C A4 93			jmp l_00EA
   191
   192 				; ------------------------------------------------------------
   193
   194 1337			.local	SYSTEM						; UNIT
   195
   196 1337			.local	PEEK						; FUNCTION | ASSEMBLER | REGISTER
   197
   198 				; ------------------------------------------------------------
   199
   200 				; Generate Assignment for WORD / SMALLINT / SHORTREAL / POINTER
   201 				; as Pointer
   202 1337 B5 94			lda :STACKORIGIN,x
   203 1339 85 88			sta A
   204 133B B5 A4			lda :STACKORIGIN+STACKWIDTH,x
   205 133D 85 89			sta A+1
   206 133F CA				dex
   207 1340			@main
   208
   209 				; -------------------  ASM Block 00000002  -------------------
   210
   211 1340 A0 00			ldy #0
   212 1342 B1 88 85 90			mva (:edx),y Result
   213
   214 1346			@exit
   215
   216 				; ------------------------------------------------------------
   217
   218 				; Push BYTE / CHAR / SHORTINT / BOOLEAN
   219 				; as Pointer
   220
   221 1346 E8				inx
   222 1347 A5 90 95 94			mva RESULT :STACKORIGIN,x
   223
   224 					.ifdef @new
   225 					lda <@VarData
   226 					sta :ztmp
   227 					lda >@VarData
   228 					ldy #@VarDataSize-1
   229 					jmp @FreeMem
   230 					eif
   231
   232 				; ------------------------------------------------------------
   233
   234 = 0088			A	= :EDX
   235 = 0090			RESULT	= :STACKORIGIN-4
   236
   237 134B 60				rts						; ret
   238 				.endl
   239
   240 134C			.local	POKE						; PROCEDURE | ASSEMBLER | REGISTER
   241
   242 				; ------------------------------------------------------------
   243
   244 				; Generate Assignment for WORD / SMALLINT / SHORTREAL / POINTER
   245 				; as Pointer
   246 134C B5 94			lda :STACKORIGIN,x
   247 134E 85 88			sta A
   248 1350 B5 A4			lda :STACKORIGIN+STACKWIDTH,x
   249 1352 85 89			sta A+1
   250 1354 CA				dex
   251 1355 30 05			jmi @main
   252
   253 				; ------------------------------------------------------------
   254
   255 				; Generate Assignment for BYTE / CHAR / SHORTINT / BOOLEAN
   256 				; as Pointer
   257 1357 B5 94			lda :STACKORIGIN,x
   258 1359 85 8C			sta VALUE
   259 135B CA				dex
   260 135C			@main
   261
   262 				; -------------------  ASM Block 00000025  -------------------
   263
   264 135C A0 00			ldy #0
   265 135E A5 8C 91 88			mva value (:edx),y
   266
   267 				; ------------------------------------------------------------
   268
   269 = 0088			A	= :EDX
   270 = 008C			VALUE	= :ECX
   271
   272 1362			@exit
   273 					.ifdef @new
   274 					lda <@VarData
   275 					sta :ztmp
   276 					lda >@VarData
   277 					ldy #@VarDataSize-1
   278 					jmp @FreeMem
   279 					els
   280 1362 60				rts						; ret
   281 					eif
   282 				.endl
   283
   284 1363			.local	DPOKE						; PROCEDURE | ASSEMBLER | REGISTER
   285
   286 				; ------------------------------------------------------------
   287
   288 				; Generate Assignment for WORD / SMALLINT / SHORTREAL / POINTER
   289 				; as Pointer
   290 1363 B5 94			lda :STACKORIGIN,x
   291 1365 85 88			sta A
   292 1367 B5 A4			lda :STACKORIGIN+STACKWIDTH,x
   293 1369 85 89			sta A+1
   294 136B CA				dex
   295 136C 30 09			jmi @main
   296
   297 				; ------------------------------------------------------------
   298
   299 				; Generate Assignment for WORD / SMALLINT / SHORTREAL / POINTER
   300 				; as Pointer
   301 136E B5 94			lda :STACKORIGIN,x
   302 1370 85 8C			sta VALUE
   303 1372 B5 A4			lda :STACKORIGIN+STACKWIDTH,x
   304 1374 85 8D			sta VALUE+1
   305 1376 CA				dex
   306 1377			@main
   307
   308 				; -------------------  ASM Block 00000026  -------------------
   309
   310 1377 A0 00			ldy #0
   311 1379 A5 8C 91 88			mva value (:edx),y
   312 137D C8				iny
   313 137E A5 8D 91 88			mva value+1 (:edx),y
   314
   315 				; ------------------------------------------------------------
   316
   317 = 0088			A	= :EDX
   318 = 008C			VALUE	= :ECX
   319
   320 1382			@exit
   321 					.ifdef @new
   322 					lda <@VarData
   323 					sta :ztmp
   324 					lda >@VarData
   325 					ldy #@VarDataSize-1
   326 					jmp @FreeMem
   327 					els
   328 1382 60				rts						; ret
   329 					eif
   330 				.endl
   331
   332 1383			.local	FILLCHAR					; PROCEDURE | ASSEMBLER | OVERLOAD | REGISTER | INLINE
   333 1383			.local	@03018600001810000188000
   334
   335 					.MACRO m@INLINE
   336 				
   337 				; -------------------  ASM Block 00000027  -------------------
   338 				
   339 					jsr @fill
   340 				
   341 					.ENDM
   342
   343 				; ------------------------------------------------------------
   344
   345 = 0088			A	= :EDX
   346 = 008C			COUNT	= :ECX
   347 = 0084			VALUE	= :EAX
   348
   349 1383			@exit
   350 				.endl
   351 				.endl							; overload
   352
   353 1383			.local	FILLCHAR					; PROCEDURE | ASSEMBLER | OVERLOAD | REGISTER | INLINE
   354 1383			.local	@03018000001810000188000
   355
   356 					.MACRO m@INLINE
   357 				
   358 				; -------------------  ASM Block 00000028  -------------------
   359 				
   360 					jsr @fill
   361 				
   362 					.ENDM
   363
   364 				; ------------------------------------------------------------
   365
   366 = 0088			A	= :EDX
   367 = 008C			COUNT	= :ECX
   368 = 0084			VALUE	= :EAX
   369
   370 1383			@exit
   371 				.endl
   372 				.endl							; overload
   373
   374 1383			.local	FILLCHAR					; PROCEDURE | ASSEMBLER | OVERLOAD | REGISTER | INLINE
   375 1383			.local	@03018000001810000300000
   376
   377 					.MACRO m@INLINE
   378 				
   379 				; -------------------  ASM Block 00000031  -------------------
   380 				
   381 					jsr @fill
   382 				
   383 					.ENDM
   384
   385 				; ------------------------------------------------------------
   386
   387 = 0088			A	= :EDX
   388 = 008C			COUNT	= :ECX
   389 = 0084			VALUE	= :EAX
   390
   391 1383			@exit
   392 				.endl
   393 				.endl							; overload
   394
   395 1383			.local	MOVE						; PROCEDURE | ASSEMBLER | OVERLOAD | REGISTER | INLINE
   396 1383			.local	@03018100001880000188000
   397
   398 					.MACRO m@INLINE
   399 				
   400 				; -------------------  ASM Block 00000034  -------------------
   401 				
   402 					jsr @move
   403 				
   404 					.ENDM
   405
   406 				; ------------------------------------------------------------
   407
   408 = 0088			SOURCE	= :EDX
   409 = 008C			DEST	= :ECX
   410 = 0084			COUNT	= :EAX
   411
   412 1383			@exit
   413 				.endl
   414 				.endl							; overload
   415
   416 1383			.local	MOVE						; PROCEDURE | ASSEMBLER | OVERLOAD | REGISTER | INLINE
   417 1383			.local	@03018100001880000300000
   418
   419 					.MACRO m@INLINE
   420 				
   421 				; -------------------  ASM Block 00000036  -------------------
   422 				
   423 					jsr @move
   424 				
   425 					.ENDM
   426
   427 				; ------------------------------------------------------------
   428
   429 = 0088			SOURCE	= :EDX
   430 = 008C			DEST	= :ECX
   431 = 0084			COUNT	= :EAX
   432
   433 1383			@exit
   434 				.endl
   435 				.endl							; overload
   436
   437 1383			.local	RANDOMIZE					; PROCEDURE | ASSEMBLER
   438
   439 				; -------------------  ASM Block 00000045  -------------------
   440
   441
   442 1383 AD 0A D2 8D 24 9C	  mva $d20a RndSeed
   443 1389 A9 00 8D 25 9C	  mva #$00  RndSeed+1
   444
   445
   446 138E			@exit
   447 					.ifdef @new
   448 					lda <@VarData
   449 					sta :ztmp
   450 					lda >@VarData
   451 					ldy #@VarDataSize-1
   452 					jmp @FreeMem
   453 					els
   454 138E 60				rts						; ret
   455 					eif
   456 				.endl
   457
   458 138F			.local	RANDOM						; FUNCTION | ASSEMBLER | OVERLOAD
   459 138F			.local	@010180000
   460 138F 8D 26 9C			sta RANGE
   461
   462 				; -------------------  ASM Block 00000049  -------------------
   463
   464
   465 				;BYTE FUNC Rand(BYTE range)
   466 				; returns random number between 0 and
   467 				; range-1.  If range=0, then a random
   468 				; number between 0 and 255 is returned
   469
   470 1392 AC 0A D2		  ldy $d20a   ; RANDOM
   471
   472 1395 AD 26 9C		  lda range
   473 1398 F0 08		  beq stop
   474
   475 139A 85 8C		  sta :ecx
   476 139C 84 84		  sty :eax
   477
   478 139E 20 43 10		  jsr imulCL
   479 13A1 A8			  tay
   480
   481 13A2 8C 27 9C		stop  sty Result
   482
   483
   484 13A5			@exit
   485
   486 				; ------------------------------------------------------------
   487
   488 = 9C26			RANGE	= DATAORIGIN+$000B
   489 = 9C27			RESULT	= DATAORIGIN+$000C
   490
   491 = 9C26			@VarData	= RANGE
   492 = 0001			@VarDataSize	= 1
   493
   494 13A5 60				rts						; ret
   495 				.endl
   496 				.endl							; overload
   497
   498 13A6			.local	RANDOM						; FUNCTION | OVERLOAD
   499 13A6			.local	@010184000
   500
   501 				; optimize OK (system_atari.inc), line = 179
   502
   503 13A6 AD 29 9C			lda RANGE+1
   504 13A9 0D 28 9C			ora RANGE
   505 13AC D0 0B			jne l_017E
   506
   507 				; optimize OK (system_atari.inc), line = 180
   508
   509 13AE A9 00			lda #$00
   510 13B0 8D 2A 9C			sta RESULT
   511 13B3 8D 2B 9C			sta RESULT+1
   512 13B6 4C 1B 14			jmp l_018C
   513 13B9			l_017E
   514
   515 				; optimize OK (system_atari.inc), line = 183
   516
   517 13B9 AD 24 9C			lda RNDSEED
   518 13BC 85 8C			sta :ecx
   519 13BE AD 25 9C			lda RNDSEED+1
   520 13C1 85 8D			sta :ecx+1
   521 13C3 A9 95			lda #$95
   522 13C5 85 84			sta :eax
   523 13C7 A9 45			lda #$45
   524 13C9 85 85			sta :eax+1
   525 					.ifdef fmulinit
   526 					fmulu_16
   527 					els
   528 13CB 20 8F 10			imulCX
   529 					eif
   530 13CE A5 84			lda :eax
   531 13D0 8D 24 9C			sta RNDSEED
   532 13D3 A5 85			lda :eax+1
   533 13D5 8D 25 9C			sta RNDSEED+1
   534
   535 				; optimize OK (system_atari.inc), line = 184
   536
   537 13D8 AD 28 9C			lda RANGE
   538 13DB 85 8C			sta @SMALLINT.MOD.B
   539 13DD AD 29 9C			lda RANGE+1
   540 13E0 85 8D			sta @SMALLINT.MOD.B+1
   541 13E2 AD 24 9C			lda RNDSEED
   542 13E5 85 84			sta @SMALLINT.MOD.A
   543 13E7 AD 25 9C			lda RNDSEED+1
   544 13EA 85 85			sta @SMALLINT.MOD.A+1
   545 13EC 20 E0 0F			jsr @SMALLINT.MOD
   546 13EF A5 90			lda @SMALLINT.MOD.RESULT
   547 13F1 8D 2A 9C			sta RESULT
   548 13F4 A5 91			lda @SMALLINT.MOD.RESULT+1
   549 13F6 8D 2B 9C			sta RESULT+1
   550
   551 				; -------------------  ASM Block 00000050  -------------------
   552
   553 13F9 AD 29 9C			lda range+1
   554 13FC 10 07			bpl plus
   555
   556 13FE AD 2B 9C			lda Result+1
   557 1401 30 18			bmi ok
   558 1403 10 05			bpl sign
   559
   560 1405 AD 2B 9C		plus	lda Result+1
   561 1408 10 11			bpl ok
   562
   563 140A A9 00		sign 	lda #0
   564 140C 38 ED 2A 9C			sub Result
   565 1410 8D 2A 9C			sta Result
   566
   567 1413 A9 00			lda #0
   568 1415 ED 2B 9C			sbc Result+1
   569 1418 8D 2B 9C			sta Result+1
   570 141B			ok
   571
   572 141B			l_018C
   573 141B			@exit
   574
   575 				; ------------------------------------------------------------
   576
   577 = 9C28			RANGE	= DATAORIGIN+$000D
   578 = 9C2A			RESULT	= DATAORIGIN+$000F
   579
   580 = 9C28			@VarData	= RANGE
   581 = 0002			@VarDataSize	= 2
   582
   583 141B 60				rts						; ret
   584 				.endl
   585 				.endl							; overload
   586
   587 141C			.local	CONCAT						; FUNCTION | ASSEMBLER | OVERLOAD
   588 141C			.local	@0201898600189860
   589
   590 				; -------------------  ASM Block 00000053  -------------------
   591
   592 141C AD 2D 9C C9 04 D0 + 	cpw a #@buf
   593 1428 F0 0E			beq skp
   594
   595 142A A9 00 8D 00 04		mva #0 @buf
   596 					@addString a
   596 				 LDY A+1\ LDA A\ JSR @ADDSTRING
   596 142F AC 2D 9C		 LDY A+1
   596 1432 AD 2C 9C		 LDA A
   596 1435 20 96 0F		 JSR @ADDSTRING
   597 1438			skp
   598 					@addString b
   598 				 LDY B+1\ LDA B\ JSR @ADDSTRING
   598 1438 AC 2F 9C		 LDY B+1
   598 143B AD 2E 9C		 LDA B
   598 143E 20 96 0F		 JSR @ADDSTRING
   599
   600 1441 A0 00			ldy #0
   601 1443 B9 00 04 99 30 9C + 	mva:rne @buf,y adr.Result,y+
   602
   603 144C			@exit
   604
   605 				; ------------------------------------------------------------
   606
   607 = 9C2C			A	= DATAORIGIN+$0011
   608 = 9C2E			B	= DATAORIGIN+$0013
   609 = 9C30			adr.RESULT	= [DATAORIGIN+$0015] .array [256]
   610 144C			.var RESULT	= adr.RESULT .word
   611
   612 = 9C2C			@VarData	= A
   613 = 0104			@VarDataSize	= 260
   614
   615 144C 60				rts						; ret
   616 = 144D 30 9C		RESULT
   616 				.endl
   617 				.endl							; overload
   618
   619 				; ------------------------------------------------------------
   620 				; ------------------------------------------------------------
   621 144F			@UnitInit
   622
   623 				; -------------------  ASM Block 00000060  -------------------
   624
   625 					.ifdef @CmdLine
   626
   627 					ldx #$0F
   628 					mva:rpl $340,x IOCB@COPY,x-
   629 					rts
   630
   631 				IOCB@COPY	:16 brk
   632 					eif
   633
   634
   635 144F 60				rts
   636
   637 				; ------------------------------------------------------------
   638
   639 = 0648			M_PI_2	= $0648
   640 = 0192			D_PI_2	= $0192
   641 = 0004			D_PI_180	= $04
   642 = 0101			__PORTB_BANKS	= $0101
   643 = 0000			MGTIA	= $00
   644 = 0080			MVBXE	= $80
   645 = 0000			VBXE_XDLADR	= $00
   646 = 00E0			VBXE_BCBTMP	= $E0
   647 = 0100			VBXE_BCBADR	= $0100
   648 = 1000			VBXE_MAPADR	= $1000
   649 = 1000			VBXE_CHBASE	= $1000
   650 = 5000			VBXE_OVRADR	= $5000
   651 = B000			VBXE_WINDOW	= $B000
   652 = 0000			IDLI	= $00
   653 = 0001			IVBL	= $01
   654 = 0001			IVBLD	= $01
   655 = 0002			IVBLI	= $02
   656 = 0003			ITIM1	= $03
   657 = 0004			ITIM2	= $04
   658 = 0005			ITIM4	= $05
   659 = 00FE			CH_DELCHR	= $FE
   660 = 009B			CH_ENTER	= $9B
   661 = 001B			CH_ESC	= $1B
   662 = 001C			CH_CURS_UP	= $1C
   663 = 001D			CH_CURS_DOWN	= $1D
   664 = 001E			CH_CURS_LEFT	= $1E
   665 = 001F			CH_CURS_RIGHT	= $1F
   666 = 007F			CH_TAB	= $7F
   667 = 009B			CH_EOL	= $9B
   668 = 007D			CH_CLR	= $7D
   669 = 00FD			CH_BELL	= $FD
   670 = 007E			CH_DEL	= $7E
   671 = 009C			CH_DELLINE	= $9C
   672 = 009D			CH_INSLINE	= $9D
   673 = 0000			PAL_PMCOLOR0	= $00
   674 = 0001			PAL_PMCOLOR1	= $01
   675 = 0002			PAL_PMCOLOR2	= $02
   676 = 0003			PAL_PMCOLOR3	= $03
   677 = 0004			PAL_COLOR0	= $04
   678 = 0005			PAL_COLOR1	= $05
   679 = 0006			PAL_COLOR2	= $06
   680 = 0007			PAL_COLOR3	= $07
   681 = 0008			PAL_COLBAK	= $08
   682 = 0000			COLOR_BLACK	= $00
   683 = 000E			COLOR_WHITE	= $0E
   684 = 0032			COLOR_RED	= $32
   685 = 0096			COLOR_CYAN	= $96
   686 = 0068			COLOR_VIOLET	= $68
   687 = 00C4			COLOR_GREEN	= $C4
   688 = 0074			COLOR_BLUE	= $74
   689 = 00EE			COLOR_YELLOW	= $EE
   690 = 0028			COLOR_ORANGE	= $28
   691 = 00E4			COLOR_BROWN	= $E4
   692 = 003C			COLOR_LIGHTRED	= $3C
   693 = 0004			COLOR_GRAY1	= $04
   694 = 0006			COLOR_GRAY2	= $06
   695 = 000A			COLOR_GRAY3	= $0A
   696 = 00CC			COLOR_LIGHTGREEN	= $CC
   697 = 007C			COLOR_LIGHTBLUE	= $7C
   698 = 0004			FMOPENREAD	= $04
   699 = 0008			FMOPENWRITE	= $08
   700 = 0009			FMOPENAPPEND	= $09
   701 = 000C			FMOPENREADWRITE	= $0C
   702 = 9C1B			DATESEPARATOR	= DATAORIGIN+$0000
   703 = D20A			RND	= $D20A
   704 = 02C0			adr.PALETTE	= $02C0
   705 1450			.var PALETTE	= adr.PALETTE .word
   706 = D012			adr.HPALETTE	= $D012
   707 1450			.var HPALETTE	= adr.HPALETTE .word
   708 = 9C1C			FILEMODE	= DATAORIGIN+$0001
   709 = 9C1D			GRAPHMODE	= DATAORIGIN+$0002
   710 = 9C1E			IORESULT	= DATAORIGIN+$0003
   711 = 9C1F			EOLN	= DATAORIGIN+$0004
   712 = 9C20			SCREENWIDTH	= DATAORIGIN+$0005
   713 = 9C22			SCREENHEIGHT	= DATAORIGIN+$0007
   714 = 0000			adr.MEM	= $00
   715 1450			.var MEM	= adr.MEM .word
   716 = 9C24			RNDSEED	= DATAORIGIN+$0009
   717
   718 = 1450 C0 02		PALETTE
   718 = 1452 12 D0		HPALETTE
   718 = 1454 00 00		MEM
   718 				.endl							; UNIT SYSTEM
   719
   720 				; ------------------------------------------------------------
   721
   722 1456			.local	ATARI						; UNIT
   723
   724 				; ------------------------------------------------------------
   725
   726 = 0000			DL_BLANK1	= $00
   727 = 0010			DL_BLANK2	= $10
   728 = 0020			DL_BLANK3	= $20
   729 = 0030			DL_BLANK4	= $30
   730 = 0040			DL_BLANK5	= $40
   731 = 0050			DL_BLANK6	= $50
   732 = 0060			DL_BLANK7	= $60
   733 = 0070			DL_BLANK8	= $70
   734 = 0080			DL_DLI	= $80
   735 = 0040			DL_LMS	= $40
   736 = 0020			DL_VSCROLL	= $20
   737 = 0010			DL_HSCROLL	= $10
   738 = 0001			DL_JMP	= $01
   739 = 0041			DL_JVB	= $41
   740 = 000E			DL_MODE_GR15	= $0E
   741 = 000F			DL_MODE_GR8	= $0F
   742 = 0010			IRQENS	= $10
   743 = 0012			RTCLOK	= $12
   744 = 0012			RTCLOK1	= $12
   745 = 0013			RTCLOK2	= $13
   746 = 0014			RTCLOK3	= $14
   747 = 004D			ATRACT	= $4D
   748 = 0052			LMARGIN	= $52
   749 = 0053			RMARGIN	= $53
   750 = 0054			ROWCRS	= $54
   751 = 0055			COLCRS	= $55
   752 = 0057			DINDEX	= $57
   753 = 0058			SAVMSC	= $58
   754 = 0062			PALNTS	= $62
   755 = 006A			RAMTOP	= $6A
   756 = 0200			VDSLST	= $0200
   757 = 0230			SDLSTL	= $0230
   758 = 0290			TXTROW	= $0290
   759 = 0291			TXTCOL	= $0291
   760 = 0293			TINDEX	= $0293
   761 = 0294			TXTMSC	= $0294
   762 = 022F			SDMCTL	= $022F
   763 = 026F			GPRIOR	= $026F
   764 = 02F0			CRSINH	= $02F0
   765 = 02F3			CHACT	= $02F3
   766 = 02F4			CHBAS	= $02F4
   767 = 02FC			CH	= $02FC
   768 = 02FD			FILDAT	= $02FD
   769 = 02C0			PCOLR0	= $02C0
   770 = 02C1			PCOLR1	= $02C1
   771 = 02C2			PCOLR2	= $02C2
   772 = 02C3			PCOLR3	= $02C3
   773 = 02C4			COLOR0	= $02C4
   774 = 02C5			COLOR1	= $02C5
   775 = 02C6			COLOR2	= $02C6
   776 = 02C7			COLOR3	= $02C7
   777 = 02C8			COLOR4	= $02C8
   778 = 02C8			COLBAKS	= $02C8
   779 = D000			HPOSP0	= $D000
   780 = D001			HPOSP1	= $D001
   781 = D002			HPOSP2	= $D002
   782 = D003			HPOSP3	= $D003
   783 = D004			HPOSM0	= $D004
   784 = D005			HPOSM1	= $D005
   785 = D006			HPOSM2	= $D006
   786 = D007			HPOSM3	= $D007
   787 = D008			SIZEP0	= $D008
   788 = D009			SIZEP1	= $D009
   789 = D00A			SIZEP2	= $D00A
   790 = D00B			SIZEP3	= $D00B
   791 = D00C			SIZEM	= $D00C
   792 = D00D			GRAFP0	= $D00D
   793 = D00E			GRAFP1	= $D00E
   794 = D00F			GRAFP2	= $D00F
   795 = D010			GRAFP3	= $D010
   796 = D011			GRAFM	= $D011
   797 = D004			P0PF	= $D004
   798 = D014			PAL	= $D014
   799 = D013			TRIG3	= $D013
   800 = D012			COLPM0	= $D012
   801 = D013			COLPM1	= $D013
   802 = D014			COLPM2	= $D014
   803 = D015			COLPM3	= $D015
   804 = D016			COLPF0	= $D016
   805 = D017			COLPF1	= $D017
   806 = D018			COLPF2	= $D018
   807 = D019			COLPF3	= $D019
   808 = D01A			COLBAK	= $D01A
   809 = D01A			COLBK	= $D01A
   810 = D01B			PRIOR	= $D01B
   811 = D01D			GRACTL	= $D01D
   812 = D01E			HITCLR	= $D01E
   813 = D01F			CONSOL	= $D01F
   814 = D200			AUDF1	= $D200
   815 = D201			AUDC1	= $D201
   816 = D202			AUDF2	= $D202
   817 = D203			AUDC2	= $D203
   818 = D204			AUDF3	= $D204
   819 = D205			AUDC3	= $D205
   820 = D206			AUDF4	= $D206
   821 = D207			AUDC4	= $D207
   822 = D208			AUDCTL	= $D208
   823 = D209			KBCODE	= $D209
   824 = D20E			IRQEN	= $D20E
   825 = D20F			SKSTAT	= $D20F
   826 = D300			PORTA	= $D300
   827 = D301			PORTB	= $D301
   828 = D302			PACTL	= $D302
   829 = D400			DMACTL	= $D400
   830 = D401			CHACTL	= $D401
   831 = D402			DLISTL	= $D402
   832 = D404			HSCROL	= $D404
   833 = D405			VSCROL	= $D405
   834 = D407			PMBASE	= $D407
   835 = D409			CHBASE	= $D409
   836 = D40A			WSYNC	= $D40A
   837 = D40B			VCOUNT	= $D40B
   838 = D40C			PENH	= $D40C
   839 = D40D			PENV	= $D40D
   840 = D40E			NMIEN	= $D40E
   841 = FFFA			NMIVEC	= $FFFA
   842 = FFFC			RESETVEC	= $FFFC
   843 = FFFE			IRQVEC	= $FFFE
   844
   845 				.endl							; UNIT ATARI
   846
   847 				; ------------------------------------------------------------
   848
   849 1456			.local	MATH						; UNIT
   850
   851 				; ------------------------------------------------------------
   852
   853 				.endl							; UNIT MATH
   854
   855 				; ------------------------------------------------------------
   856
   857 1456			.local	PMG						; UNIT
   858
   859 				; ------------------------------------------------------------
   860
   861 = 000E			_P_MAX	= $0E
   862 = 0002			_M0_MAX	= $02
   863 = 0000			_M1_MAX	= $00
   864 = 0003			_M2_MAX	= $03
   865 = 0004			_M3_MAX	= $04
   866 = 0000			_PM_NORMAL_SIZE	= $00
   867 = 0001			_PM_DOUBLE_SIZE	= $01
   868 = 0003			_PM_QUAD_SIZE	= $03
   869 = 0003			_PM_SHOW_ON	= $03
   870 = 0000			_PM_SHOW_OFF	= $00
   871 = 0001			_PM_DOUBLE_RES	= $01
   872 = 0002			_PM_SINGLE_RES	= $02
   873 = 9D30			adr.P_DATA	= [DATAORIGIN+$0115] .array [4] .word
   874 1456			.var P_DATA	= adr.P_DATA .word
   875 = 9D38			adr.M_DATA	= [DATAORIGIN+$011D] .array [4] .word
   876 1456			.var M_DATA	= adr.M_DATA .word
   877 = 9D40			PM_MEM	= DATAORIGIN+$0125
   878 = 9D42			PM_OFFSET	= DATAORIGIN+$0127
   879 = 9D44			PM_TOP	= DATAORIGIN+$0129
   880 = 9D45			PM_SIZE	= DATAORIGIN+$012A
   881
   882 = 1456 30 9D		P_DATA
   882 = 1458 38 9D		M_DATA
   882 				.endl							; UNIT PMG
   883
   884 				; ------------------------------------------------------------
   885
   886 145A			.local	XBIOS						; UNIT
   887
   888 145A			.local	XBIOSOPENFILE					; PROCEDURE | ASSEMBLER
   889
   890 				; -------------------  ASM Block 00000063  -------------------
   891
   892
   893 145A 8A 48		    txa:pha
   894 145C A9 00 8D 47 9D	    mva #0 xBiosIOresult
   895 1461 8D 48 9D		    sta xBiosIOerror
   896 1464 AC 4D 9D		    ldy filename
   897 1467 AE 4E 9D		    ldx filename+1
   898 146A C8			    iny
   899 146B D0 01		    sne
   900 146D E8			    inx
   901 146E 20 09 08		    jsr xBIOS_OPEN_FILE
   902 1471 90 08		    bcc @+
   903 1473 8E 48 9D		    stx xBiosIOerror
   904 1476 A9 01 8D 47 9D	    mva #1 xBiosIOresult 
   905 147B 68 AA		@   pla:tax
   906
   907 				; ------------------------------------------------------------
   908
   909 = 9D4D			FILENAME	= DATAORIGIN+$0132
   910
   911 = 9D4D			@VarData	= FILENAME
   912 = 0002			@VarDataSize	= 2
   913
   914 147D			@exit
   915 					.ifdef @new
   916 					lda <@VarData
   917 					sta :ztmp
   918 					lda >@VarData
   919 					ldy #@VarDataSize-1
   920 					jmp @FreeMem
   921 					els
   922 147D 60				rts						; ret
   923 					eif
   924 				.endl
   925
   926 147E			.local	XBIOSLOADDATA					; PROCEDURE | ASSEMBLER
   927
   928 				; -------------------  ASM Block 00000064  -------------------
   929
   930
   931 147E 8A 48		    txa:pha
   932 1480 A9 00 8D 47 9D	    mva #0 xBiosIOresult
   933 1485 8D 48 9D		    sta xBiosIOerror
   934 1488 AC 4F 9D		    ldy dest
   935 148B AE 50 9D		    ldx dest+1
   936 148E 20 0C 08		    jsr xBIOS_LOAD_DATA
   937 1491 90 08		    bcc @+
   938 1493 8E 48 9D		    stx xBiosIOerror
   939 1496 A9 01 8D 47 9D	    mva #1 xBiosIOresult 
   940 149B 68 AA		@   pla:tax
   941
   942 				; ------------------------------------------------------------
   943
   944 = 9D4F			DEST	= DATAORIGIN+$0134
   945
   946 = 9D4F			@VarData	= DEST
   947 = 0002			@VarDataSize	= 2
   948
   949 149D			@exit
   950 					.ifdef @new
   951 					lda <@VarData
   952 					sta :ztmp
   953 					lda >@VarData
   954 					ldy #@VarDataSize-1
   955 					jmp @FreeMem
   956 					els
   957 149D 60				rts						; ret
   958 					eif
   959 				.endl
   960
   961 149E			.local	XBIOSWRITEDATA					; PROCEDURE | ASSEMBLER
   962
   963 				; -------------------  ASM Block 00000066  -------------------
   964
   965
   966 149E 8A 48		    txa:pha
   967 14A0 A9 00 8D 47 9D	    mva #0 xBiosIOresult
   968 14A5 8D 48 9D		    sta xBiosIOerror
   969 14A8 AC 51 9D		    ldy src
   970 14AB AE 52 9D		    ldx src+1
   971 14AE 20 0F 08		    jsr xBIOS_WRITE_DATA 
   972 14B1 90 08		    bcc @+
   973 14B3 8E 48 9D		    stx xBiosIOerror
   974 14B6 A9 01 8D 47 9D	    mva #1 xBiosIOresult 
   975 14BB 68 AA		@   pla:tax
   976
   977 				; ------------------------------------------------------------
   978
   979 = 9D51			SRC	= DATAORIGIN+$0136
   980
   981 = 9D51			@VarData	= SRC
   982 = 0002			@VarDataSize	= 2
   983
   984 14BD			@exit
   985 					.ifdef @new
   986 					lda <@VarData
   987 					sta :ztmp
   988 					lda >@VarData
   989 					ldy #@VarDataSize-1
   990 					jmp @FreeMem
   991 					els
   992 14BD 60				rts						; ret
   993 					eif
   994 				.endl
   995
   996 14BE			.local	XBIOSGETBYTE					; FUNCTION | ASSEMBLER
   997
   998 				; -------------------  ASM Block 00000068  -------------------
   999
  1000
  1001 14BE 8A 48		    txa:pha
  1002 14C0 A9 00 8D 47 9D	    mva #0 xBiosIOresult
  1003 14C5 8D 48 9D		    sta xBiosIOerror
  1004 14C8 20 15 08		    jsr xBIOS_GET_BYTE  
  1005 14CB 8D 53 9D		    sta result
  1006 14CE 90 08		    bcc @+
  1007 14D0 8E 48 9D		    stx xBiosIOerror
  1008 14D3 A9 01 8D 47 9D	    mva #1 xBiosIOresult 
  1009 14D8 68 AA		@   pla:tax
  1010
  1011 14DA			@exit
  1012
  1013 				; ------------------------------------------------------------
  1014
  1015 = 9D53			RESULT	= DATAORIGIN+$0138
  1016
  1017 14DA 60				rts						; ret
  1018 				.endl
  1019
  1020 14DB			.local	XBIOSFLUSHBUFFER				; PROCEDURE | ASSEMBLER
  1021
  1022 				; -------------------  ASM Block 00000070  -------------------
  1023
  1024
  1025 14DB 8A 48		    txa:pha
  1026 14DD A9 00 8D 47 9D	    mva #0 xBiosIOresult
  1027 14E2 8D 48 9D		    sta xBiosIOerror
  1028 14E5 20 1B 08		    jsr xBIOS_FLUSH_BUFFER
  1029 14E8 90 08		    bcc @+
  1030 14EA 8E 48 9D		    stx xBiosIOerror
  1031 14ED A9 01 8D 47 9D	    mva #1 xBiosIOresult 
  1032 14F2 68 AA		@   pla:tax
  1033
  1034 14F4			@exit
  1035 					.ifdef @new
  1036 					lda <@VarData
  1037 					sta :ztmp
  1038 					lda >@VarData
  1039 					ldy #@VarDataSize-1
  1040 					jmp @FreeMem
  1041 					els
  1042 14F4 60				rts						; ret
  1043 					eif
  1044 				.endl
  1045
  1046 14F5			.local	XBIOSSETLENGTH					; PROCEDURE | ASSEMBLER
  1047
  1048 				; -------------------  ASM Block 00000071  -------------------
  1049
  1050
  1051 14F5 8A 48		    txa:pha
  1052 14F7 AC 54 9D		    ldy len
  1053 14FA AE 55 9D		    ldx len+1
  1054 14FD 20 1E 08		    jsr xBIOS_SET_LENGTH
  1055 1500 68 AA		    pla:tax
  1056
  1057 				; ------------------------------------------------------------
  1058
  1059 = 9D54			LEN	= DATAORIGIN+$0139
  1060
  1061 = 9D54			@VarData	= LEN
  1062 = 0002			@VarDataSize	= 2
  1063
  1064 1502			@exit
  1065 					.ifdef @new
  1066 					lda <@VarData
  1067 					sta :ztmp
  1068 					lda >@VarData
  1069 					ldy #@VarDataSize-1
  1070 					jmp @FreeMem
  1071 					els
  1072 1502 60				rts						; ret
  1073 					eif
  1074 				.endl
  1075
  1076 1503			.local	XBIOSSETFILEOFFSET				; PROCEDURE | ASSEMBLER
  1077
  1078 				; -------------------  ASM Block 00000073  -------------------
  1079
  1080
  1081 1503 8A 48		    txa:pha
  1082 1505 A9 00 8D 47 9D	    mva #0 xBiosIOresult
  1083 150A 8D 48 9D		    sta xBiosIOerror
  1084 150D AC 56 9D		    ldy pos
  1085 1510 AE 57 9D		    ldx pos+1
  1086 1513 AD 58 9D		    lda pos+2
  1087 1516 20 24 08		    jsr xBIOS_SET_FILE_OFFSET 
  1088 1519 90 08		    bcc @+
  1089 151B 8E 48 9D		    stx xBiosIOerror
  1090 151E A9 01 8D 47 9D	    mva #1 xBiosIOresult 
  1091 1523 68 AA		@   pla:tax
  1092
  1093 				; ------------------------------------------------------------
  1094
  1095 = 9D56			POS	= DATAORIGIN+$013B
  1096
  1097 = 9D56			@VarData	= POS
  1098 = 0004			@VarDataSize	= 4
  1099
  1100 1525			@exit
  1101 					.ifdef @new
  1102 					lda <@VarData
  1103 					sta :ztmp
  1104 					lda >@VarData
  1105 					ldy #@VarDataSize-1
  1106 					jmp @FreeMem
  1107 					els
  1108 1525 60				rts						; ret
  1109 					eif
  1110 				.endl
  1111
  1112 				; ------------------------------------------------------------
  1113
  1114 = 9D47			XBIOSIORESULT	= DATAORIGIN+$012C
  1115 = 9D48			XBIOSIOERROR	= DATAORIGIN+$012D
  1116 = 9D49			XBIOSDIRENTRYINDEX	= DATAORIGIN+$012E
  1117 = 9D4A			XBIOSDIRENTRYSTATUS	= DATAORIGIN+$012F
  1118 = 9D4B			XBIOSDIRENTRYSECTOR	= DATAORIGIN+$0130
  1119 = 0800			XBIOS_ADDRESS	= $0800
  1120 = 0802			XBIOS_VERSION	= $0802
  1121 = 0803			XBIOS_RENAME_ENTRY	= $0803
  1122 = 0806			XBIOS_LOAD_FILE	= $0806
  1123 = 0809			XBIOS_OPEN_FILE	= $0809
  1124 = 080C			XBIOS_LOAD_DATA	= $080C
  1125 = 080F			XBIOS_WRITE_DATA	= $080F
  1126 = 0812			XBIOS_OPEN_CURRENT_DIR	= $0812
  1127 = 0815			XBIOS_GET_BYTE	= $0815
  1128 = 0818			XBIOS_PUT_BYTE	= $0818
  1129 = 081B			XBIOS_FLUSH_BUFFER	= $081B
  1130 = 081E			XBIOS_SET_LENGTH	= $081E
  1131 = 0821			XBIOS_SET_INIAD	= $0821
  1132 = 0824			XBIOS_SET_FILE_OFFSET	= $0824
  1133 = 0827			XBIOS_SET_RUNAD	= $0827
  1134 = 082A			XBIOS_SET_DEFAULT_DEVICE	= $082A
  1135 = 082D			XBIOS_OPEN_DIR	= $082D
  1136 = 0830			XBIOS_LOAD_BINARY_FILE	= $0830
  1137 = 0833			XBIOS_OPEN_DEFAULT_DIR	= $0833
  1138 = 0836			XBIOS_SET_DEVICE	= $0836
  1139 = 0839			XBIOS_RELOCATE_BUFFER	= $0839
  1140 = 083C			XBIOS_GET_ENTRY	= $083C
  1141 = 083F			XBIOS_OPEN_DEFAULT_FILE	= $083F
  1142 = 0842			XBIOS_READ_SECTOR	= $0842
  1143 = 0845			XBIOS_FIND_ENTRY	= $0845
  1144 = 0848			XBIOS_SET_BUFFER_SIZE	= $0848
  1145 = 0BE5			XDIRSIZE	= $0BE5
  1146 = 0BE6			XSPEED	= $0BE6
  1147 = 0BE7			XHSPEED	= $0BE7
  1148 = 0BE8			XIRQEN	= $0BE8
  1149 = 0BE9			XAUDCTL	= $0BE9
  1150 = 0BEA			XFILE	= $0BEA
  1151 = 0BEC			XDIR	= $0BEC
  1152 = 0BEE			XIOV	= $0BEE
  1153 = 0BF0			XBUFFERH	= $0BF0
  1154 = 0BF1			XBUFSIZE	= $0BF1
  1155 = 0BF2			XDAUX3	= $0BF2
  1156 = 0BF3			XSEGMENT	= $0BF3
  1157 = 0BF5			XNOTE	= $0BF5
  1158 = 0BF7			XNOTEH	= $0BF7
  1159 = 0BFC			XDEVICE	= $0BFC
  1160 = 0BFD			XDCMD	= $0BFD
  1161 = 0BFE			XDAUX1	= $0BFE
  1162 = 0BFF			XDAUX2	= $0BFF
  1163
  1164 				.endl							; UNIT XBIOS
  1165
  1166 				; ------------------------------------------------------------
  1167
  1168 1526			.local	CRT						; UNIT
  1169
  1170 				; ------------------------------------------------------------
  1171
  1172 = 9D5A			TEXTATTR	= DATAORIGIN+$013F
  1173 = D01F			CONSOL	= $D01F
  1174 = 0000			CN_START_SELECT_OPTION	= $00
  1175 = 0001			CN_SELECT_OPTION	= $01
  1176 = 0002			CN_START_OPTION	= $02
  1177 = 0003			CN_OPTION	= $03
  1178 = 0004			CN_START_SELECT	= $04
  1179 = 0005			CN_SELECT	= $05
  1180 = 0006			CN_START	= $06
  1181 = 0007			CN_NONE	= $07
  1182 = 0000			BLACK	= $00
  1183 = 000F			WHITE	= $0F
  1184 = 0026			RED	= $26
  1185 = 00AC			CYAN	= $AC
  1186 = 0048			PURPLE	= $48
  1187 = 00B6			GREEN	= $B6
  1188 = 0086			BLUE	= $86
  1189 = 00DC			YELLOW	= $DC
  1190 = 0018			ORANGE	= $18
  1191 = 00F4			BROWN	= $F4
  1192 = 002A			LIGHT_RED	= $2A
  1193 = 0004			DARK_GREY	= $04
  1194 = 0008			GREY	= $08
  1195 = 00BC			LIGHT_GREEN	= $BC
  1196 = 009A			LIGHT_BLUE	= $9A
  1197 = 000C			LIGHT_GREY	= $0C
  1198 = 0000			BW40	= $00
  1199 = 0001			CO40	= $01
  1200 = 0002			BW80	= $02
  1201 = 0003			CO80	= $03
  1202 = 0007			MONO	= $07
  1203 = 0001			C40	= $01
  1204 = 0003			C80	= $03
  1205 = 0080			BLINK	= $80
  1206
  1207 				.endl							; UNIT CRT
  1208
  1209 				; ------------------------------------------------------------
  1210
  1211 1526			.local	B_UTILS						; UNIT
  1212
  1213 				; ------------------------------------------------------------
  1214
  1215 = 9D5B			BASE64CHARS	= DATAORIGIN+$0140
  1216 = 9D5D			adr.BASE64INV	= [DATAORIGIN+$0142] .array [128]
  1217 1526			.var BASE64INV	= adr.BASE64INV .word
  1218
  1219 = 1526 5D 9D		BASE64INV
  1219 				.endl							; UNIT B_UTILS
  1220
  1221 				; ------------------------------------------------------------
  1222
  1223 1528			.local	MISC						; UNIT
  1224
  1225 1528			.local	DETECTANTIC					; FUNCTION | ASSEMBLER
  1226
  1227 				; -------------------  ASM Block 00000099  -------------------
  1228
  1229
  1230 				// ANTIC PAL Test for Atari 8-bits
  1231 				// (C) 2019 Guillermo Fuenzalida
  1232
  1233 1528			antic_loop1
  1234 1528 AD 0B D4			lda vcount
  1235 152B C9 64			cmp #100
  1236 152D 90 F9			bcc antic_loop1		// wait till scanline 200
  1237 152F 8D 46 15			sta scanline
  1238 1532			antic_loop2
  1239 1532 AD 0B D4			lda vcount
  1240 1535 C9 0A			cmp #10
  1241 1537 30 0A			bmi antic_loop2_fin
  1242 1539 CD 46 15			cmp scanline
  1243 153C 30 F4			bmi antic_loop2
  1244 153E 8D 46 15			sta scanline
  1245 1541 10 EF			bpl antic_loop2
  1246
  1247 1543			antic_loop2_fin
  1248 1543 A0 00			ldy #$00
  1249 1545 A9 00			lda #0
  1250 = 1546			scanline equ *-1
  1251 1547 C9 87			cmp #135
  1252 1549 30 01			bmi ntsc
  1253 154B C8				iny
  1254 154C			ntsc
  1255 154C 8C DD 9D			sty Result
  1256
  1257
  1258 154F			@exit
  1259
  1260 				; ------------------------------------------------------------
  1261
  1262 = 9DDD			RESULT	= DATAORIGIN+$01C2
  1263
  1264 154F 60				rts						; ret
  1265 				.endl
  1266
  1267 				; ------------------------------------------------------------
  1268
  1269 = 0101			adr.BANKS	= $0101
  1270 1550			.var BANKS	= adr.BANKS .word
  1271 = FFF7			DETECTOS	= $FFF7
  1272
  1273 = 1550 01 01		BANKS
  1273 				.endl							; UNIT MISC
  1274
  1275 				; ------------------------------------------------------------
  1276
  1277 1552			.local	RMT						; UNIT
  1278
  1279 1552			.local	TRMT.INIT					; PROCEDURE | ASSEMBLER
  1280 1552 8D DF 9D			sta TRMT
  1281 1555 8C E0 9D			sty TRMT+1
  1282 1558 8D E2 9D			sta PLAYER
  1283 155B 8C E3 9D			sty PLAYER+1
  1284 155E 18 69 02			add #2
  1285 1561 90 01			scc
  1286 1563 C8				iny
  1287 1564 8D E4 9D			sta MODUL
  1288 1567 8C E5 9D			sty MODUL+1
  1289
  1290 				; -------------------  ASM Block 00000109  -------------------
  1291
  1292 156A 8A 48			txa:pha
  1293
  1294 156C AD DF 9D 85 82 AD + 	mwa TRMT :bp2
  1295
  1296 1576 A0 01			ldy #1
  1297 1578 B1 82			lda (:bp2),y
  1298 157A 8D 8A 15			sta adr+2
  1299
  1300 157D C8				iny
  1301 157E B1 82			lda (:bp2),y
  1302 1580 AA				tax		; low byte of RMT module to X reg
  1303 1581 C8				iny
  1304 1582 B1 82			lda (:bp2),y
  1305 1584 A8				tay		; hi byte of RMT module to Y reg
  1306
  1307 1585 AD E1 9D			lda a		; starting song line 0-255 to A reg
  1308 1588 20 03 FF		adr	jsr $ff03	; jsr player+3
  1309
  1310 158B 68 AA			pla:tax
  1311
  1312 				; ------------------------------------------------------------
  1313
  1314 = 9DDF			TRMT	= DATAORIGIN+$01C4
  1315 = 9DE1			A	= DATAORIGIN+$01C6
  1316 = 9DE2			PLAYER	= DATAORIGIN+$01C7
  1317 = 9DE4			MODUL	= DATAORIGIN+$01C9
  1318
  1319 = 9DDF			@VarData	= TRMT
  1320 = 0007			@VarDataSize	= 7
  1321
  1322 158D			@exit
  1323 					.ifdef @new
  1324 					lda <@VarData
  1325 					sta :ztmp
  1326 					lda >@VarData
  1327 					ldy #@VarDataSize-1
  1328 					jmp @FreeMem
  1329 					els
  1330 158D 60				rts						; ret
  1331 					eif
  1332 				.endl
  1333
  1334 158E			.local	TRMT.PLAY					; PROCEDURE | ASSEMBLER
  1335 158E 8D EA 9D			sta TRMT
  1336 1591 8C EB 9D			sty TRMT+1
  1337 1594 8D EC 9D			sta PLAYER
  1338 1597 8C ED 9D			sty PLAYER+1
  1339 159A 18 69 02			add #2
  1340 159D 90 01			scc
  1341 159F C8				iny
  1342 15A0 8D EE 9D			sta MODUL
  1343 15A3 8C EF 9D			sty MODUL+1
  1344
  1345 				; -------------------  ASM Block 00000111  -------------------
  1346
  1347 15A6 8A 48			txa:pha
  1348
  1349 15A8 0E DE 9D			asl ntsc		; =0 PAL, =4 NTSC
  1350 15AB 90 07			bcc skp
  1351
  1352 15AD A9 04			lda #%00000100
  1353 15AF 8D DE 9D			sta ntsc
  1354
  1355 15B2 D0 17			bne quit
  1356 15B4			skp
  1357 15B4 AD EA 9D 8D C3 15 + 	mwa TRMT adr+1
  1358
  1359 15C0 A0 01			ldy #1
  1360 15C2 B9 FF FF		adr	lda $ffff,y
  1361 15C5 8D CA 15			sta ptr+2
  1362
  1363 15C8 20 00 FF		ptr	jsr $ff00		; jmp (TRMT)	6502 buggy indirect jump
  1364
  1365 15CB 68 AA		quit	pla:tax
  1366
  1367 				; ------------------------------------------------------------
  1368
  1369 = 9DEA			TRMT	= DATAORIGIN+$01CF
  1370 = 9DEC			PLAYER	= DATAORIGIN+$01D1
  1371 = 9DEE			MODUL	= DATAORIGIN+$01D3
  1372
  1373 = 9DEA			@VarData	= TRMT
  1374 = 0006			@VarDataSize	= 6
  1375
  1376 15CD			@exit
  1377 					.ifdef @new
  1378 					lda <@VarData
  1379 					sta :ztmp
  1380 					lda >@VarData
  1381 					ldy #@VarDataSize-1
  1382 					jmp @FreeMem
  1383 					els
  1384 15CD 60				rts						; ret
  1385 					eif
  1386 				.endl
  1387
  1388 15CE			.local	TRMT.STOP					; PROCEDURE | ASSEMBLER
  1389 15CE 8D F0 9D			sta TRMT
  1390 15D1 8C F1 9D			sty TRMT+1
  1391 15D4 8D F2 9D			sta PLAYER
  1392 15D7 8C F3 9D			sty PLAYER+1
  1393 15DA 18 69 02			add #2
  1394 15DD 90 01			scc
  1395 15DF C8				iny
  1396 15E0 8D F4 9D			sta MODUL
  1397 15E3 8C F5 9D			sty MODUL+1
  1398
  1399 				; -------------------  ASM Block 00000112  -------------------
  1400
  1401 15E6 8A 48			txa:pha
  1402
  1403 15E8 AD F0 9D 85 82 AD + 	mwa TRMT :bp2
  1404
  1405 15F2 A0 01			ldy #1
  1406 15F4 B1 82			lda (:bp2),y
  1407 15F6 8D FB 15			sta adr+2
  1408
  1409 15F9 20 09 FF		adr	jsr $ff09	; jsr player+9
  1410
  1411 15FC 68 AA			pla:tax
  1412
  1413 				; ------------------------------------------------------------
  1414
  1415 = 9DF0			TRMT	= DATAORIGIN+$01D5
  1416 = 9DF2			PLAYER	= DATAORIGIN+$01D7
  1417 = 9DF4			MODUL	= DATAORIGIN+$01D9
  1418
  1419 = 9DF0			@VarData	= TRMT
  1420 = 0006			@VarDataSize	= 6
  1421
  1422 15FE			@exit
  1423 					.ifdef @new
  1424 					lda <@VarData
  1425 					sta :ztmp
  1426 					lda >@VarData
  1427 					ldy #@VarDataSize-1
  1428 					jmp @FreeMem
  1429 					els
  1430 15FE 60				rts						; ret
  1431 					eif
  1432 				.endl
  1433
  1434 				; ------------------------------------------------------------
  1435 				; ------------------------------------------------------------
  1436 15FF			@UnitInit
  1437
  1438 				; optimize FAIL ('MISC.DETECTANTIC', RMT), line = 159
  1439
  1440 15FF 20 28 15			jsr MISC.DETECTANTIC
  1441 1602 AD DD 9D			lda MISC.DETECTANTIC.RESULT
  1442 1605 F0 05			jeq l_0242
  1443
  1444 				; optimize OK (RMT), line = 160
  1445
  1446 1607 A9 00			lda #$00
  1447 1609 4C 0E 16			jmp l_0250
  1448 160C			l_0242
  1449
  1450 				; optimize OK (RMT), line = 162
  1451
  1452 160C A9 04			lda #$04
  1453 160E			l_0250
  1454 160E 8D DE 9D			sta NTSC
  1455
  1456 1611 60				rts
  1457
  1458 				; ------------------------------------------------------------
  1459
  1460 = 9DDE			NTSC	= DATAORIGIN+$01C3
  1461
  1462 				.endl							; UNIT RMT
  1463
  1464 				; ------------------------------------------------------------
  1465
  1466 1612			.local	DOS						; UNIT
  1467
  1468 				; ------------------------------------------------------------
  1469
  1470 = D014			PALNTSC	= $D014
  1471
  1472 				.endl							; UNIT DOS
  1473
  1474 				; ------------------------------------------------------------
  1475
  1476 1612			.local	STRUTILS					; UNIT
  1477
  1478 				; ------------------------------------------------------------
  1479
  1480 				.endl							; UNIT STRUTILS
  1481
  1482 				; ------------------------------------------------------------
  1483
  1484 1612			.local	SYSUTILS					; UNIT
  1485
  1486 1612			.local	INTTOSTR					; FUNCTION | ASSEMBLER | OVERLOAD
  1487 1612			.local	@010185000
  1488
  1489 				; ------------------------------------------------------------
  1490
  1491 				; Generate Assignment for CARDINAL / INTEGER / REAL / SINGLE
  1492 				; as Pointer
  1493 1612 B5 94			lda :STACKORIGIN,x
  1494 1614 8D F6 9D			sta A
  1495 1617 B5 A4			lda :STACKORIGIN+STACKWIDTH,x
  1496 1619 8D F7 9D			sta A+1
  1497 161C B5 B4			lda :STACKORIGIN+STACKWIDTH*2,x
  1498 161E 8D F8 9D			sta A+2
  1499 1621 B5 C4			lda :STACKORIGIN+STACKWIDTH*3,x
  1500 1623 8D F9 9D			sta A+3
  1501 1626 CA				dex
  1502 1627			@main
  1503
  1504 				; -------------------  ASM Block 00000126  -------------------
  1505
  1506 1627 8A 48			txa:pha
  1507
  1508 1629 E8				inx
  1509
  1510 					@ValueToStr #@printINT
  1510 				 LDY> @PRINTINT\ LDA< @PRINTINT\ JSR @VALUETOSTR
  1510 162A A0 11		 LDY> @PRINTINT
  1510 162C A9 F4		 LDA< @PRINTINT
  1510 162E 20 C8 11		 JSR @VALUETOSTR
  1511
  1512 1631 A2 20			ldx #$20
  1513 1633 BD 00 04 9D FA 9D + 	mva:rpl @buf,x adr.Result,x-
  1514
  1515 163C 68 AA			pla:tax
  1516
  1517 163E			@exit
  1518
  1519 				; ------------------------------------------------------------
  1520
  1521 				; Push WORD / SMALLINT / SHORTREAL / POINTER
  1522 				; as Pointer
  1523
  1524 163E E8				inx
  1525 163F AD 4A 16 95 94		mva RESULT :STACKORIGIN,x
  1526 1644 AD 4B 16 95 A4		mva RESULT+1 :STACKORIGIN+STACKWIDTH,x
  1527
  1528 					.ifdef @new
  1529 					lda <@VarData
  1530 					sta :ztmp
  1531 					lda >@VarData
  1532 					ldy #@VarDataSize-1
  1533 					jmp @FreeMem
  1534 					eif
  1535
  1536 				; ------------------------------------------------------------
  1537
  1538 = 9DF6			A	= DATAORIGIN+$01DB
  1539 = 9DFA			adr.RESULT	= [DATAORIGIN+$01DF] .array [33]
  1540 1649			.var RESULT	= adr.RESULT .word
  1541
  1542 = 9DF6			@VarData	= A
  1543 = 0025			@VarDataSize	= 37
  1544
  1545 1649 60				rts						; ret
  1546 = 164A FA 9D		RESULT
  1546 				.endl
  1547 				.endl							; overload
  1548
  1549 164C			.local	INTTOSTR					; FUNCTION | ASSEMBLER | OVERLOAD
  1550 164C			.local	@010182000
  1551
  1552 				; ------------------------------------------------------------
  1553
  1554 				; Generate Assignment for CARDINAL / INTEGER / REAL / SINGLE
  1555 				; as Pointer
  1556 164C B5 94			lda :STACKORIGIN,x
  1557 164E 8D 1B 9E			sta A
  1558 1651 B5 A4			lda :STACKORIGIN+STACKWIDTH,x
  1559 1653 8D 1C 9E			sta A+1
  1560 1656 B5 B4			lda :STACKORIGIN+STACKWIDTH*2,x
  1561 1658 8D 1D 9E			sta A+2
  1562 165B B5 C4			lda :STACKORIGIN+STACKWIDTH*3,x
  1563 165D 8D 1E 9E			sta A+3
  1564 1660 CA				dex
  1565 1661			@main
  1566
  1567 				; -------------------  ASM Block 00000127  -------------------
  1568
  1569 1661 8A 48			txa:pha
  1570
  1571 1663 E8				inx
  1572
  1573 					@ValueToStr #@printCARD
  1573 				 LDY> @PRINTCARD\ LDA< @PRINTCARD\ JSR @VALUETOSTR
  1573 1664 A0 11		 LDY> @PRINTCARD
  1573 1666 A9 FE		 LDA< @PRINTCARD
  1573 1668 20 C8 11		 JSR @VALUETOSTR
  1574
  1575 166B A2 20			ldx #$20
  1576 166D BD 00 04 9D 1F 9E + 	mva:rpl @buf,x adr.Result,x-
  1577
  1578 1676 68 AA			pla:tax
  1579
  1580 1678			@exit
  1581
  1582 				; ------------------------------------------------------------
  1583
  1584 				; Push WORD / SMALLINT / SHORTREAL / POINTER
  1585 				; as Pointer
  1586
  1587 1678 E8				inx
  1588 1679 AD 84 16 95 94		mva RESULT :STACKORIGIN,x
  1589 167E AD 85 16 95 A4		mva RESULT+1 :STACKORIGIN+STACKWIDTH,x
  1590
  1591 					.ifdef @new
  1592 					lda <@VarData
  1593 					sta :ztmp
  1594 					lda >@VarData
  1595 					ldy #@VarDataSize-1
  1596 					jmp @FreeMem
  1597 					eif
  1598
  1599 				; ------------------------------------------------------------
  1600
  1601 = 9E1B			A	= DATAORIGIN+$0200
  1602 = 9E1F			adr.RESULT	= [DATAORIGIN+$0204] .array [33]
  1603 1683			.var RESULT	= adr.RESULT .word
  1604
  1605 = 9E1B			@VarData	= A
  1606 = 0025			@VarDataSize	= 37
  1607
  1608 1683 60				rts						; ret
  1609 = 1684 1F 9E		RESULT
  1609 				.endl
  1610 				.endl							; overload
  1611
  1612 				; ------------------------------------------------------------
  1613
  1614 = 0001			FAREADONLY	= $01
  1615 = 0002			FAHIDDEN	= $02
  1616 = 0004			FASYSFILE	= $04
  1617 = 0008			FAVOLUMEID	= $08
  1618 = 0010			FADIRECTORY	= $10
  1619 = 0020			FAARCHIVE	= $20
  1620 = 003F			FAANYFILE	= $3F
  1621
  1622 				.endl							; UNIT SYSUTILS
  1623
  1624 				; ------------------------------------------------------------
  1625
  1626 1686			.local	B_SYSTEM					; UNIT
  1627
  1628 1686			.local	SYSTEMOFF					; PROCEDURE | ASSEMBLER | OVERLOAD
  1629 1686			.local	@010180000
  1630 1686 8D 41 9E			sta PORT_B
  1631
  1632 				; -------------------  ASM Block 00000133  -------------------
  1633
  1634
  1635 						;lda:cmp:req 20 ;; removed due to problem with nmien = 0 already set
  1636 1689 78					sei
  1637 168A A9 00 8D 0E D4			mva #0 NMIEN
  1638
  1639 168F AD 41 9E 8D 01 D3			mva port_b PORTB
  1640 1695 A9 BF 8D FA FF A9 + 		mwa #__nmi NMIVEC
  1641
  1642 169F A9 D5				lda <__iret
  1643 16A1 8D FE FF				sta IRQVEC
  1644 16A4 8D D3 16				sta __vblvec
  1645 16A7 8D C5 16				sta __dlivec
  1646
  1647 16AA A9 16				lda >__iret
  1648 16AC 8D FF FF				sta IRQVEC+1
  1649 16AF 8D D4 16				sta __vblvec+1
  1650 16B2 8D C6 16				sta __dlivec+1
  1651
  1652 16B5 A9 40 8D 0E D4			mva #$40 NMIEN
  1653 16BA 8D 40 9E				sta __nmien
  1654 16BD D0 17				bne __stop
  1655 16BF			__nmi
  1656 16BF 2C 0F D4				bit NMIST
  1657 16C2 10 04				bpl __vbl
  1658 16C4 4C C5 16				jmp __dlivec
  1659 = 16C5			.def :__dlivec = *-2
  1660 16C7 40					rti
  1661 16C8			__vbl
  1662 16C8 E6 14				inc rtclok+2
  1663 16CA D0 06				bne __vblvec-1
  1664 16CC E6 13				inc rtclok+1
  1665 16CE D0 02				bne __vblvec-1
  1666 16D0 E6 12				inc rtclok
  1667 16D2 4C D3 16				jmp __vblvec
  1668 = 16D3			.def :__vblvec = *-2
  1669 = 16D5			.def :__iret
  1670 16D5 40			    	rti
  1671 16D6			__stop
  1672
  1673 				; ------------------------------------------------------------
  1674
  1675 = 9E41			PORT_B	= DATAORIGIN+$0226
  1676
  1677 = 9E41			@VarData	= PORT_B
  1678 = 0001			@VarDataSize	= 1
  1679
  1680 16D6			@exit
  1681 					.ifdef @new
  1682 					lda <@VarData
  1683 					sta :ztmp
  1684 					lda >@VarData
  1685 					ldy #@VarDataSize-1
  1686 					jmp @FreeMem
  1687 					els
  1688 16D6 60				rts						; ret
  1689 					eif
  1690 				.endl
  1691 				.endl							; overload
  1692
  1693 16D7			.local	SYSTEMOFF					; PROCEDURE | OVERLOAD
  1694 16D7			.local	@00
  1695
  1696 				; optimize OK (B_SYSTEM), line = 180
  1697
  1698 16D7 A9 FE			lda #$FE
  1699 16D9 20 86 16			jsr SYSTEMOFF.@010180000
  1700
  1701 16DC			@exit
  1702 					.ifdef @new
  1703 					lda <@VarData
  1704 					sta :ztmp
  1705 					lda >@VarData
  1706 					ldy #@VarDataSize-1
  1707 					jmp @FreeMem
  1708 					els
  1709 16DC 60				rts						; ret
  1710 					eif
  1711 				.endl
  1712 				.endl							; overload
  1713
  1714 16DD			.local	ENABLEDLI					; PROCEDURE | ASSEMBLER
  1715
  1716 				; -------------------  ASM Block 00000140  -------------------
  1717
  1718
  1719 16DD A5 14 C5 14 F0 FC			lda:cmp:req 20
  1720 16E3 A9 00 8D 0E D4			mva #0 NMIEN
  1721 16E8 AD 42 9E 8D C5 16 + 		mwa dliptr __dlivec
  1722 16F4 A9 C0 8D 0E D4			mva #$c0 NMIEN
  1723 16F9 8D 40 9E				sta __nmien
  1724
  1725 				; ------------------------------------------------------------
  1726
  1727 = 9E42			DLIPTR	= DATAORIGIN+$0227
  1728
  1729 = 9E42			@VarData	= DLIPTR
  1730 = 0002			@VarDataSize	= 2
  1731
  1732 16FC			@exit
  1733 					.ifdef @new
  1734 					lda <@VarData
  1735 					sta :ztmp
  1736 					lda >@VarData
  1737 					ldy #@VarDataSize-1
  1738 					jmp @FreeMem
  1739 					els
  1740 16FC 60				rts						; ret
  1741 					eif
  1742 				.endl
  1743
  1744 16FD			.local	DISABLEDLI					; PROCEDURE | ASSEMBLER
  1745
  1746 				; -------------------  ASM Block 00000141  -------------------
  1747
  1748
  1749 16FD A5 14 C5 14 F0 FC			lda:cmp:req 20
  1750 1703 A9 40 8D 0E D4			mva #$40 NMIEN
  1751 1708 8D 40 9E				sta __nmien
  1752
  1753 170B			@exit
  1754 					.ifdef @new
  1755 					lda <@VarData
  1756 					sta :ztmp
  1757 					lda >@VarData
  1758 					ldy #@VarDataSize-1
  1759 					jmp @FreeMem
  1760 					els
  1761 170B 60				rts						; ret
  1762 					eif
  1763 				.endl
  1764
  1765 170C			.local	WAITFRAME					; PROCEDURE | ASSEMBLER
  1766
  1767 				; -------------------  ASM Block 00000142  -------------------
  1768
  1769
  1770 170C A5 14 C5 14 F0 FC	    lda:cmp:req rtclok+2
  1771
  1772 1712			@exit
  1773 					.ifdef @new
  1774 					lda <@VarData
  1775 					sta :ztmp
  1776 					lda >@VarData
  1777 					ldy #@VarDataSize-1
  1778 					jmp @FreeMem
  1779 					els
  1780 1712 60				rts						; ret
  1781 					eif
  1782 				.endl
  1783
  1784 1713			.local	WAITFRAMES					; PROCEDURE
  1785 1713 8D 44 9E			sta FRAMES
  1786
  1787 				; --- WhileProlog
  1788 1716 4C 1F 17			jmp l_02A8
  1789 1719			l_02A9
  1790
  1791 				; optimize FAIL ('WAITFRAME', B_SYSTEM), line = 269
  1792
  1793 1719 20 0C 17			jsr WAITFRAME
  1794
  1795 				; optimize FAIL (0, B_SYSTEM), line = 270
  1796
  1797 171C CE 44 9E			dec FRAMES
  1798 171F			l_02A8
  1799
  1800 				; optimize OK (B_SYSTEM), line = 268
  1801
  1802 171F AD 44 9E			lda FRAMES
  1803 1722 D0 F5			jne l_02A9
  1804
  1805 				; ------------------------------------------------------------
  1806
  1807 = 9E44			FRAMES	= DATAORIGIN+$0229
  1808
  1809 = 9E44			@VarData	= FRAMES
  1810 = 0001			@VarDataSize	= 1
  1811
  1812 1724			@exit
  1813 					.ifdef @new
  1814 					lda <@VarData
  1815 					sta :ztmp
  1816 					lda >@VarData
  1817 					ldy #@VarDataSize-1
  1818 					jmp @FreeMem
  1819 					els
  1820 1724 60				rts						; ret
  1821 					eif
  1822 				.endl
  1823
  1824 1725			.local	SETCHARSET					; PROCEDURE
  1825 1725 8D 45 9E			sta MSB
  1826
  1827 				; optimize OK (B_SYSTEM), line = 276
  1828
  1829 1728 8D 09 D4			sta ATARI.CHBASE
  1830
  1831 				; ------------------------------------------------------------
  1832
  1833 = 9E45			MSB	= DATAORIGIN+$022A
  1834
  1835 = 9E45			@VarData	= MSB
  1836 = 0001			@VarDataSize	= 1
  1837
  1838 172B			@exit
  1839 					.ifdef @new
  1840 					lda <@VarData
  1841 					sta :ztmp
  1842 					lda >@VarData
  1843 					ldy #@VarDataSize-1
  1844 					jmp @FreeMem
  1845 					els
  1846 172B 60				rts						; ret
  1847 					eif
  1848 				.endl
  1849
  1850 				; ------------------------------------------------------------
  1851
  1852 = 9E40			__NMIEN	= DATAORIGIN+$0225
  1853 = 0080			PORTB_SELFTEST_OFF	= $80
  1854 = 0002			PORTB_BASIC_OFF	= $02
  1855 = 0001			PORTB_SYSTEM_ON	= $01
  1856
  1857 				.endl							; UNIT B_SYSTEM
  1858
  1859 				; ------------------------------------------------------------
  1860
  1861 172C			.local	B_CRT						; UNIT
  1862
  1863 172C			.local	ATASCII2ANTIC					; FUNCTION | OVERLOAD
  1864 172C			.local	@010180000
  1865 172C 8D 4F 9E			sta C
  1866
  1867 				; -------------------  ASM Block 00000143  -------------------
  1868
  1869
  1870 172F AD 4F 9E		        lda c
  1871 1732 0A			        asl
  1872 1733 08			        php
  1873 1734 C9 C0		        cmp #2*$60
  1874 1736 B0 06		        bcs @+
  1875 1738 E9 3F		        sbc #2*$20-1
  1876 173A B0 02		        bcs @+
  1877 173C 69 C0		        adc #2*$60
  1878 173E 28			@       plp
  1879 173F 6A			        ror
  1880 1740 8D 50 9E		        sta result;
  1881 				    
  1882 1743			@exit
  1883
  1884 				; ------------------------------------------------------------
  1885
  1886 = 9E4F			C	= DATAORIGIN+$0234
  1887 = 9E50			RESULT	= DATAORIGIN+$0235
  1888
  1889 = 9E4F			@VarData	= C
  1890 = 0001			@VarDataSize	= 1
  1891
  1892 1743 60				rts						; ret
  1893 				.endl
  1894 				.endl							; overload
  1895
  1896 1744			.local	ATASCII2ANTIC					; FUNCTION | OVERLOAD
  1897 1744			.local	@0101898600000100
  1898
  1899 				; ------------------------------------------------------------
  1900
  1901 				; Generate Assignment for WORD / SMALLINT / SHORTREAL / POINTER
  1902 				; as Pointer
  1903 1744 B5 94			lda :STACKORIGIN,x
  1904 1746 85 82			sta :bp2
  1905 1748 B5 A4			lda :STACKORIGIN+STACKWIDTH,x
  1906 174A 85 83			sta :bp2+1
  1907 174C A0 00			ldy #$00
  1908 174E B1 82 99 51 9E C8 + 	mva:rne (:bp2),y adr.S,y+
  1909 1756 CA				dex
  1910 1757			@main
  1911
  1912 				; optimize OK (B_CRT), line = 468
  1913
  1914 1757 AD 51 9E			lda adr.S
  1915 175A 8D 51 9F			sta adr.RESULT
  1916
  1917 				; optimize OK (B_CRT), line = 469
  1918
  1919 175D A9 01			lda #$01
  1920 175F 8D 51 A0			sta I
  1921 1762 AD 51 9E 8D 69 17		mva adr.S @FORTMP_02E0_0
  1922
  1923 1768			l_02E3
  1924 				; --- ForToDoCondition
  1925 1768 A9 00			lda @FORTMP_02E0_0::#$00
  1926 176A CD 51 A0			cmp I
  1927 176D 90 21			jcc l_02F1
  1928
  1929 				; optimize FAIL (1, B_CRT), line = 470
  1930
  1931 176F E8				inx
  1932 1770 AD 51 A0 95 94		mva I :STACKORIGIN,x
  1933 1775 A9 00 95 A4			mva #$00 :STACKORIGIN+STACKWIDTH,x
  1934 1779 AC 51 A0			ldy I
  1935 177C B9 51 9E			lda adr.S,y
  1936 177F 20 2C 17			jsr ATASCII2ANTIC.@010180000
  1937 1782 B4 94			ldy :STACKORIGIN,x
  1938 1784 AD 50 9E			lda ATASCII2ANTIC.@010180000.RESULT
  1939 1787 99 51 9F			sta adr.RESULT,y
  1940 178A CA				dex
  1941
  1942 				; --- ForToDoEpilog
  1943 178B EE 51 A0			inc I
  1944 178E D0 D8			jne l_02E3
  1945 1790			l_02F1
  1946 1790			@exit
  1947
  1948 				; ------------------------------------------------------------
  1949
  1950 = 9E51			adr.S	= [DATAORIGIN+$0236] .array [256]
  1951 1790			.var S	= adr.S .word
  1952 = 9F51			adr.RESULT	= [DATAORIGIN+$0336] .array [256]
  1953 1790			.var RESULT	= adr.RESULT .word
  1954 = A051			I	= DATAORIGIN+$0436
  1955
  1956 = 1791			@VarData	= S
  1957 = 0201			@VarDataSize	= 513
  1958
  1959 1790 60				rts						; ret
  1960 = 1791 51 9E		S
  1960 = 1793 51 9F		RESULT
  1960 				.endl
  1961 				.endl							; overload
  1962
  1963 1795			.local	CRT_INIT					; PROCEDURE | OVERLOAD
  1964 1795			.local	@03018000001800000181000
  1965
  1966 				; optimize OK (B_CRT), line = 483
  1967
  1968 1795 AD 53 A0			lda VRAM_ADDRESS
  1969 1798 8D 46 9E			sta CRT_VRAM
  1970 179B AD 54 A0			lda VRAM_ADDRESS+1
  1971 179E 8D 47 9E			sta CRT_VRAM+1
  1972
  1973 				; optimize OK (B_CRT), line = 484
  1974
  1975 17A1 AD 55 A0			lda WIDTH
  1976 17A4 8D 4A 9E			sta CRT_SCREENWIDTH
  1977
  1978 				; optimize OK (B_CRT), line = 485
  1979
  1980 17A7 AD 56 A0			lda HEIGHT
  1981 17AA 8D 4B 9E			sta CRT_SCREENHEIGHT
  1982
  1983 				; optimize OK (B_CRT), line = 486
  1984
  1985 17AD 85 8C			sta :ecx
  1986 17AF AD 55 A0			lda WIDTH
  1987 17B2 85 84			sta :eax
  1988 					.ifdef fmulinit
  1989 					fmulu_8
  1990 					els
  1991 17B4 20 43 10			imulCL
  1992 					eif
  1993 17B7 8D 49 9E			sta CRT_SIZE+1
  1994 17BA A5 84			lda :eax
  1995 17BC 8D 48 9E			sta CRT_SIZE
  1996
  1997 				; optimize OK (B_CRT), line = 487
  1998
  1999 17BF AD 46 9E			lda CRT_VRAM
  2000 17C2 8D 4C 9E			sta CRT_CURSOR
  2001 17C5 AD 47 9E			lda CRT_VRAM+1
  2002 17C8 8D 4D 9E			sta CRT_CURSOR+1
  2003
  2004 				; optimize OK (B_CRT), line = 488
  2005
  2006 17CB A9 00			lda #$00
  2007 17CD 8D 4E 9E			sta CRT_LEFTMARGIN
  2008
  2009 				; ------------------------------------------------------------
  2010
  2011 = A053			VRAM_ADDRESS	= DATAORIGIN+$0438
  2012 = A055			WIDTH	= DATAORIGIN+$043A
  2013 = A056			HEIGHT	= DATAORIGIN+$043B
  2014
  2015 = A053			@VarData	= VRAM_ADDRESS
  2016 = 0004			@VarDataSize	= 4
  2017
  2018 17D0			@exit
  2019 					.ifdef @new
  2020 					lda <@VarData
  2021 					sta :ztmp
  2022 					lda >@VarData
  2023 					ldy #@VarDataSize-1
  2024 					jmp @FreeMem
  2025 					els
  2026 17D0 60				rts						; ret
  2027 					eif
  2028 				.endl
  2029 				.endl							; overload
  2030
  2031 17D1			.local	CRT_CLEAR					; PROCEDURE | OVERLOAD
  2032 17D1			.local	@00
  2033
  2034 				; optimize OK (B_CRT), line = 504
  2035
  2036 17D1 AD 46 9E			lda CRT_VRAM
  2037 17D4 85 88			sta SYSTEM.FILLCHAR.@03018000001810000188000.A
  2038 17D6 AD 47 9E			lda CRT_VRAM+1
  2039 17D9 85 89			sta SYSTEM.FILLCHAR.@03018000001810000188000.A+1
  2040 17DB AD 48 9E			lda CRT_SIZE
  2041 17DE 85 8C			sta SYSTEM.FILLCHAR.@03018000001810000188000.COUNT
  2042 17E0 AD 49 9E			lda CRT_SIZE+1
  2043 17E3 85 8D			sta SYSTEM.FILLCHAR.@03018000001810000188000.COUNT+1
  2044 17E5 A9 00			lda #$00
  2045 17E7 85 84			sta SYSTEM.FILLCHAR.@03018000001810000188000.VALUE
  2046 17E9				.LOCAL +MAIN.SYSTEM.FILLCHAR.@03018000001810000188000
  2047 17E9				m@INLINE
Macro: MAIN.SYSTEM.FILLCHAR.@03018000001810000188000.M@INLINE [Source: main.a65]
     4 17E9 20 2C 0F			jsr @fill
Source: main.a65
  2048 					.ENDL
  2049
  2050 				; optimize OK (B_CRT), line = 505
  2051
  2052 17EC AD 46 9E			lda CRT_VRAM
  2053 17EF 8D 4C 9E			sta CRT_CURSOR
  2054 17F2 AD 47 9E			lda CRT_VRAM+1
  2055 17F5 8D 4D 9E			sta CRT_CURSOR+1
  2056
  2057 17F8			@exit
  2058 					.ifdef @new
  2059 					lda <@VarData
  2060 					sta :ztmp
  2061 					lda >@VarData
  2062 					ldy #@VarDataSize-1
  2063 					jmp @FreeMem
  2064 					els
  2065 17F8 60				rts						; ret
  2066 					eif
  2067 				.endl
  2068 				.endl							; overload
  2069
  2070 17F9			.local	CRT_GOTOXY					; PROCEDURE
  2071
  2072 				; optimize OK (B_CRT), line = 516
  2073
  2074 17F9 AD 4A 9E			lda CRT_SCREENWIDTH
  2075 17FC 85 8C			sta :ecx
  2076 17FE AD 58 A0			lda Y
  2077 1801 85 84			sta :eax
  2078 					.ifdef fmulinit
  2079 					fmulu_8
  2080 					els
  2081 1803 20 43 10			imulCL
  2082 					eif
  2083 1806 A5 84			lda :eax
  2084 1808 18 6D 57 A0			add X
  2085 180C 85 9D			sta :STACKORIGIN+9
  2086 180E A5 85			lda :eax+1
  2087 1810 69 00			adc #$00
  2088 1812 85 AD			sta :STACKORIGIN+STACKWIDTH+9
  2089 1814 A5 9D			lda :STACKORIGIN+9
  2090 1816 18 6D 46 9E			add CRT_VRAM
  2091 181A 8D 4C 9E			sta CRT_CURSOR
  2092 181D A5 AD			lda :STACKORIGIN+STACKWIDTH+9
  2093 181F 6D 47 9E			adc CRT_VRAM+1
  2094 1822 8D 4D 9E			sta CRT_CURSOR+1
  2095
  2096 				; ------------------------------------------------------------
  2097
  2098 = A057			X	= DATAORIGIN+$043C
  2099 = A058			Y	= DATAORIGIN+$043D
  2100
  2101 = A057			@VarData	= X
  2102 = 0002			@VarDataSize	= 2
  2103
  2104 1825			@exit
  2105 					.ifdef @new
  2106 					lda <@VarData
  2107 					sta :ztmp
  2108 					lda >@VarData
  2109 					ldy #@VarDataSize-1
  2110 					jmp @FreeMem
  2111 					els
  2112 1825 60				rts						; ret
  2113 					eif
  2114 				.endl
  2115
  2116 1826			.local	CRT_WHEREY					; FUNCTION
  2117
  2118 				; optimize OK (B_CRT), line = 521
  2119
  2120 1826 AD 4C 9E			lda CRT_CURSOR
  2121 1829 38 ED 46 9E			sub CRT_VRAM
  2122 182D 85 84			sta @WORD.DIV.A
  2123 182F AD 4D 9E			lda CRT_CURSOR+1
  2124 1832 ED 47 9E			sbc CRT_VRAM+1
  2125 1835 85 85			sta @WORD.DIV.A+1
  2126 1837 AD 4A 9E			lda CRT_SCREENWIDTH
  2127 183A 85 8C			sta @WORD.DIV.B
  2128 183C A9 00			lda #$00
  2129 183E 85 8D			sta @WORD.DIV.B+1
  2130 1840 20 24 11			jsr @WORD.DIV
  2131 1843 A5 84			lda :eax
  2132 1845 8D 59 A0			sta RESULT
  2133 1848			@exit
  2134
  2135 				; ------------------------------------------------------------
  2136
  2137 = A059			RESULT	= DATAORIGIN+$043E
  2138
  2139 1848 60				rts						; ret
  2140 				.endl
  2141
  2142 1849			.local	CRT_WHEREX					; FUNCTION
  2143
  2144 				; optimize OK (B_CRT), line = 526
  2145
  2146 1849 AD 4C 9E			lda CRT_CURSOR
  2147 184C 38 ED 46 9E			sub CRT_VRAM
  2148 1850 85 84			sta @WORD.MOD.A
  2149 1852 AD 4D 9E			lda CRT_CURSOR+1
  2150 1855 ED 47 9E			sbc CRT_VRAM+1
  2151 1858 85 85			sta @WORD.MOD.A+1
  2152 185A AD 4A 9E			lda CRT_SCREENWIDTH
  2153 185D 85 8C			sta @WORD.MOD.B
  2154 185F A9 00			lda #$00
  2155 1861 85 8D			sta @WORD.MOD.B+1
  2156 1863 20 24 11			jsr @WORD.MOD
  2157 1866 A5 90			lda @WORD.MOD.RESULT
  2158 1868 8D 5A A0			sta RESULT
  2159 186B			@exit
  2160
  2161 				; ------------------------------------------------------------
  2162
  2163 = A05A			RESULT	= DATAORIGIN+$043F
  2164
  2165 186B 60				rts						; ret
  2166 				.endl
  2167
  2168 186C			.local	CRT_WRITE					; PROCEDURE | OVERLOAD
  2169 186C			.local	@0101898600000100
  2170
  2171 				; ------------------------------------------------------------
  2172
  2173 				; Generate Assignment for WORD / SMALLINT / SHORTREAL / POINTER
  2174 				; as Pointer
  2175 186C B5 94			lda :STACKORIGIN,x
  2176 186E 85 82			sta :bp2
  2177 1870 B5 A4			lda :STACKORIGIN+STACKWIDTH,x
  2178 1872 85 83			sta :bp2+1
  2179 1874 A0 00			ldy #$00
  2180 1876 B1 82 99 5B A0 C8 + 	mva:rne (:bp2),y adr.S,y+
  2181 187E CA				dex
  2182 187F			@main
  2183
  2184 				; optimize OK (B_CRT), line = 531
  2185
  2186 187F AD 5B A0			lda adr.S
  2187 1882 85 84			sta SYSTEM.MOVE.@03018100001880000300000.COUNT
  2188 1884 A9 5C			lda <adr.S+$01
  2189 1886 85 88			sta SYSTEM.MOVE.@03018100001880000300000.SOURCE
  2190 1888 A9 A0			lda >adr.S+$01
  2191 188A 85 89			sta SYSTEM.MOVE.@03018100001880000300000.SOURCE+1
  2192 188C AD 4C 9E			lda CRT_CURSOR
  2193 188F 85 8C			sta SYSTEM.MOVE.@03018100001880000300000.DEST
  2194 1891 AD 4D 9E			lda CRT_CURSOR+1
  2195 1894 85 8D			sta SYSTEM.MOVE.@03018100001880000300000.DEST+1
  2196 1896 A9 00			lda #$00
  2197 1898 85 85			sta SYSTEM.MOVE.@03018100001880000300000.COUNT+1
  2198 189A				.LOCAL +MAIN.SYSTEM.MOVE.@03018100001880000300000
  2199 189A				m@INLINE
Macro: MAIN.SYSTEM.MOVE.@03018100001880000300000.M@INLINE [Source: main.a65]
     4 189A 20 D7 0E			jsr @move
Source: main.a65
  2200 					.ENDL
  2201
  2202 				; optimize OK (B_CRT), line = 532
  2203
  2204 189D AD 5B A0			lda adr.S
  2205 18A0 18 6D 4C 9E			add CRT_CURSOR
  2206 18A4 8D 4C 9E			sta CRT_CURSOR
  2207 18A7 AD 4D 9E			lda CRT_CURSOR+1
  2208 18AA 69 00			adc #$00
  2209 18AC 8D 4D 9E			sta CRT_CURSOR+1
  2210
  2211 				; ------------------------------------------------------------
  2212
  2213 = A05B			adr.S	= [DATAORIGIN+$0440] .array [256]
  2214 18AF			.var S	= adr.S .word
  2215
  2216 = 18B0			@VarData	= S
  2217 = 0100			@VarDataSize	= 256
  2218
  2219 18AF			@exit
  2220 					.ifdef @new
  2221 					lda <@VarData
  2222 					sta :ztmp
  2223 					lda >@VarData
  2224 					ldy #@VarDataSize-1
  2225 					jmp @FreeMem
  2226 					els
  2227 18AF 60				rts						; ret
  2228 					eif
  2229 = 18B0 5B A0		S
  2229 				.endl
  2230 				.endl							; overload
  2231
  2232 18B2			.local	CRT_WRITE					; PROCEDURE | OVERLOAD
  2233 18B2			.local	@010186000
  2234 18B2 8D 5B A1			sta C
  2235
  2236 				; optimize OK (B_CRT), line = 537
  2237
  2238 18B5 AC 4D 9E			ldy CRT_CURSOR+1
  2239 18B8 84 81			sty :bp+1
  2240 18BA AC 4C 9E			ldy CRT_CURSOR
  2241 18BD AD 5B A1			lda C
  2242 18C0 91 80			sta (:bp),y
  2243
  2244 				; optimize FAIL (0, B_CRT), line = 538
  2245
  2246 18C2 EE 4C 9E			inc CRT_CURSOR
  2247 18C5 D0 03			sne
  2248 18C7 EE 4D 9E			inc CRT_CURSOR+1
  2249
  2250 				; ------------------------------------------------------------
  2251
  2252 = A15B			C	= DATAORIGIN+$0540
  2253
  2254 = A15B			@VarData	= C
  2255 = 0001			@VarDataSize	= 1
  2256
  2257 18CA			@exit
  2258 					.ifdef @new
  2259 					lda <@VarData
  2260 					sta :ztmp
  2261 					lda >@VarData
  2262 					ldy #@VarDataSize-1
  2263 					jmp @FreeMem
  2264 					els
  2265 18CA 60				rts						; ret
  2266 					eif
  2267 				.endl
  2268 				.endl							; overload
  2269
  2270 18CB			.local	CRT_WRITE					; PROCEDURE | OVERLOAD
  2271 18CB			.local	@010180000
  2272 18CB 8D 5C A1			sta NUM
  2273
  2274 				; optimize FAIL ('SYSUTILS.INTTOSTR.@010182000', B_CRT), line = 543
  2275
  2276 18CE E8				inx
  2277 18CF AD 5C A1 95 94		mva NUM :STACKORIGIN,x
  2278 18D4 A9 00 95 A4			mva #$00 :STACKORIGIN+STACKWIDTH,x
  2279 18D8 95 B4			sta :STACKORIGIN+STACKWIDTH*2,x
  2280 18DA 95 C4			sta :STACKORIGIN+STACKWIDTH*3,x
  2281 18DC 20 4C 16			jsr SYSUTILS.INTTOSTR.@010182000
  2282 18DF 20 44 17			jsr ATASCII2ANTIC.@0101898600000100
  2283 18E2 E8				inx
  2284 18E3 AD 93 17 95 94		mva ATASCII2ANTIC.@0101898600000100.RESULT :STACKORIGIN,x
  2285 18E8 AD 94 17 95 A4		mva ATASCII2ANTIC.@0101898600000100.RESULT+1 :STACKORIGIN+STACKWIDTH,x
  2286 18ED 20 6C 18			jsr CRT_WRITE.@0101898600000100
  2287
  2288 				; ------------------------------------------------------------
  2289
  2290 = A15C			NUM	= DATAORIGIN+$0541
  2291
  2292 = A15C			@VarData	= NUM
  2293 = 0001			@VarDataSize	= 1
  2294
  2295 18F0			@exit
  2296 					.ifdef @new
  2297 					lda <@VarData
  2298 					sta :ztmp
  2299 					lda >@VarData
  2300 					ldy #@VarDataSize-1
  2301 					jmp @FreeMem
  2302 					els
  2303 18F0 60				rts						; ret
  2304 					eif
  2305 				.endl
  2306 				.endl							; overload
  2307
  2308 18F1			.local	CRT_WRITE					; PROCEDURE | OVERLOAD
  2309 18F1			.local	@010181000
  2310
  2311 				; optimize FAIL ('SYSUTILS.INTTOSTR.@010182000', B_CRT), line = 548
  2312
  2313 18F1 E8				inx
  2314 18F2 AD 5D A1 95 94		mva NUM :STACKORIGIN,x
  2315 18F7 AD 5E A1 95 A4		mva NUM+1 :STACKORIGIN+STACKWIDTH,x
  2316 18FC A9 00 95 B4			mva #$00 :STACKORIGIN+STACKWIDTH*2,x
  2317 1900 95 C4			sta :STACKORIGIN+STACKWIDTH*3,x
  2318 1902 20 4C 16			jsr SYSUTILS.INTTOSTR.@010182000
  2319 1905 20 44 17			jsr ATASCII2ANTIC.@0101898600000100
  2320 1908 E8				inx
  2321 1909 AD 93 17 95 94		mva ATASCII2ANTIC.@0101898600000100.RESULT :STACKORIGIN,x
  2322 190E AD 94 17 95 A4		mva ATASCII2ANTIC.@0101898600000100.RESULT+1 :STACKORIGIN+STACKWIDTH,x
  2323 1913 20 6C 18			jsr CRT_WRITE.@0101898600000100
  2324
  2325 				; ------------------------------------------------------------
  2326
  2327 = A15D			NUM	= DATAORIGIN+$0542
  2328
  2329 = A15D			@VarData	= NUM
  2330 = 0002			@VarDataSize	= 2
  2331
  2332 1916			@exit
  2333 					.ifdef @new
  2334 					lda <@VarData
  2335 					sta :ztmp
  2336 					lda >@VarData
  2337 					ldy #@VarDataSize-1
  2338 					jmp @FreeMem
  2339 					els
  2340 1916 60				rts						; ret
  2341 					eif
  2342 				.endl
  2343 				.endl							; overload
  2344
  2345 1917			.local	CRT_WRITE					; PROCEDURE | OVERLOAD
  2346 1917			.local	@010185000
  2347
  2348 				; optimize FAIL ('SYSUTILS.INTTOSTR.@010185000', B_CRT), line = 558
  2349
  2350 1917 E8				inx
  2351 1918 AD 5F A1 95 94		mva NUM :STACKORIGIN,x
  2352 191D AD 60 A1 95 A4		mva NUM+1 :STACKORIGIN+STACKWIDTH,x
  2353 1922 AD 61 A1 95 B4		mva NUM+2 :STACKORIGIN+STACKWIDTH*2,x
  2354 1927 AD 62 A1 95 C4		mva NUM+3 :STACKORIGIN+STACKWIDTH*3,x
  2355 192C 20 12 16			jsr SYSUTILS.INTTOSTR.@010185000
  2356 192F 20 44 17			jsr ATASCII2ANTIC.@0101898600000100
  2357 1932 E8				inx
  2358 1933 AD 93 17 95 94		mva ATASCII2ANTIC.@0101898600000100.RESULT :STACKORIGIN,x
  2359 1938 AD 94 17 95 A4		mva ATASCII2ANTIC.@0101898600000100.RESULT+1 :STACKORIGIN+STACKWIDTH,x
  2360 193D 20 6C 18			jsr CRT_WRITE.@0101898600000100
  2361
  2362 				; ------------------------------------------------------------
  2363
  2364 = A15F			NUM	= DATAORIGIN+$0544
  2365
  2366 = A15F			@VarData	= NUM
  2367 = 0004			@VarDataSize	= 4
  2368
  2369 1940			@exit
  2370 					.ifdef @new
  2371 					lda <@VarData
  2372 					sta :ztmp
  2373 					lda >@VarData
  2374 					ldy #@VarDataSize-1
  2375 					jmp @FreeMem
  2376 					els
  2377 1940 60				rts						; ret
  2378 					eif
  2379 				.endl
  2380 				.endl							; overload
  2381
  2382 1941			.local	CRT_PUT						; PROCEDURE | OVERLOAD
  2383 1941			.local	@010180000
  2384 1941 8D 63 A1			sta B
  2385
  2386 				; optimize OK (B_CRT), line = 574
  2387
  2388 1944 AC 4D 9E			ldy CRT_CURSOR+1
  2389 1947 84 81			sty :bp+1
  2390 1949 AC 4C 9E			ldy CRT_CURSOR
  2391 194C AD 63 A1			lda B
  2392 194F 91 80			sta (:bp),y
  2393
  2394 				; optimize FAIL (0, B_CRT), line = 575
  2395
  2396 1951 EE 4C 9E			inc CRT_CURSOR
  2397 1954 D0 03			sne
  2398 1956 EE 4D 9E			inc CRT_CURSOR+1
  2399
  2400 				; ------------------------------------------------------------
  2401
  2402 = A163			B	= DATAORIGIN+$0548
  2403
  2404 = A163			@VarData	= B
  2405 = 0001			@VarDataSize	= 1
  2406
  2407 1959			@exit
  2408 					.ifdef @new
  2409 					lda <@VarData
  2410 					sta :ztmp
  2411 					lda >@VarData
  2412 					ldy #@VarDataSize-1
  2413 					jmp @FreeMem
  2414 					els
  2415 1959 60				rts						; ret
  2416 					eif
  2417 				.endl
  2418 				.endl							; overload
  2419
  2420 195A			.local	CRT_KEYPRESSED					; FUNCTION
  2421
  2422 				; optimize OK (B_CRT), line = 592
  2423
  2424 195A A9 00			lda #$00
  2425 195C 8D 64 A1			sta RESULT
  2426
  2427 				; optimize OK (B_CRT), line = 593
  2428
  2429 195F AD 0F D2			lda ATARI.SKSTAT
  2430 1962 29 04			and #$04
  2431 1964 D0 05			jne l_03E8
  2432 1966 A9 01			lda #$01
  2433 1968 8D 64 A1			sta RESULT
  2434 196B			l_03E8
  2435 196B			@exit
  2436
  2437 				; ------------------------------------------------------------
  2438
  2439 = A164			RESULT	= DATAORIGIN+$0549
  2440
  2441 196B 60				rts						; ret
  2442 				.endl
  2443
  2444 196C			.local	CRT_READKEY					; FUNCTION
  2445
  2446 				; optimize OK (B_CRT), line = 598
  2447
  2448 196C AD 09 D2			lda KBCODE
  2449 196F 8D 65 A1			sta RESULT
  2450
  2451 				; --- RepeatUntilProlog
  2452 1972			l_03FA
  2453
  2454 				; optimize FAIL ('CRT_KEYPRESSED', B_CRT), line = 599
  2455
  2456 1972 20 5A 19			jsr CRT_KEYPRESSED
  2457 1975 A0 01			ldy #1
  2458 1977 AD 64 A1			lda CRT_KEYPRESSED.RESULT
  2459 197A F0 01			beq @+
  2460 197C 88				dey
  2461 				@
  2462 197D 94 95			sty :STACKORIGIN+1,x
  2463 197F A0 01			ldy #1
  2464 1981 AD 65 A1			lda RESULT
  2465 1984 CD 09 D2			cmp KBCODE
  2466 1987 D0 01			bne @+
  2467 1989 88				dey
  2468 				@
  2469 198A 98				tya
  2470 198B 15 95			ora :STACKORIGIN+1,x
  2471 198D F0 E3			jeq l_03FA
  2472
  2473 				; --- RepeatUntilProlog
  2474 198F			l_0411
  2475
  2476 				; optimize FAIL ('CRT_KEYPRESSED', B_CRT), line = 600
  2477
  2478 198F 20 5A 19			jsr CRT_KEYPRESSED
  2479 1992 AD 64 A1			lda CRT_KEYPRESSED.RESULT
  2480 1995 F0 F8			jeq l_0411
  2481
  2482 				; optimize OK (B_CRT), line = 601
  2483
  2484 1997 AD 09 D2			lda KBCODE
  2485 199A 8D 65 A1			sta RESULT
  2486 199D			@exit
  2487
  2488 				; ------------------------------------------------------------
  2489
  2490 = A165			RESULT	= DATAORIGIN+$054A
  2491
  2492 199D 60				rts						; ret
  2493 				.endl
  2494
  2495 199E			.local	CRT_READCHAR					; FUNCTION
  2496
  2497 				; --- RepeatUntilProlog
  2498 199E			l_0421
  2499
  2500 				; optimize FAIL ('CRT_READKEY', B_CRT), line = 607
  2501
  2502 199E 20 6C 19			jsr CRT_READKEY
  2503 19A1 AC 65 A1			ldy CRT_READKEY.RESULT
  2504 19A4 B9 E6 0C			lda adr.CRT_KEYCODE,y
  2505 19A7 8D 66 A1			sta RESULT
  2506
  2507 				; optimize OK (B_CRT), line = 608
  2508
  2509 19AA C9 FF			cmp #$FF
  2510 19AC F0 F0			jeq l_0421
  2511 19AE			@exit
  2512
  2513 				; ------------------------------------------------------------
  2514
  2515 = A166			RESULT	= DATAORIGIN+$054B
  2516
  2517 19AE 60				rts						; ret
  2518 				.endl
  2519
  2520 19AF			.local	CRT_READCHARI					; FUNCTION
  2521
  2522 				; optimize FAIL ('CRT_READCHAR', B_CRT), line = 613
  2523
  2524 19AF 20 9E 19			jsr CRT_READCHAR
  2525 19B2 AD 66 A1			lda CRT_READCHAR.RESULT
  2526 19B5 20 2C 17			jsr ATASCII2ANTIC.@010180000
  2527 19B8 AD 50 9E			lda ATASCII2ANTIC.@010180000.RESULT
  2528 19BB 8D 67 A1			sta RESULT
  2529 19BE			@exit
  2530
  2531 				; ------------------------------------------------------------
  2532
  2533 = A167			RESULT	= DATAORIGIN+$054C
  2534
  2535 19BE 60				rts						; ret
  2536 				.endl
  2537
  2538 19BF			.local	CRT_NEWLINE					; PROCEDURE | OVERLOAD
  2539 19BF			.local	@010180000
  2540 19BF 8D 68 A1			sta OFFSET
  2541
  2542 				; optimize OK (B_CRT), line = 670
  2543
  2544 19C2 8D 4E 9E			sta CRT_LEFTMARGIN
  2545
  2546 				; optimize OK (B_CRT), line = 671
  2547
  2548 19C5 AD 4C 9E			lda CRT_CURSOR
  2549 19C8 18 6D 4A 9E			add CRT_SCREENWIDTH
  2550 19CC 85 9D			sta :STACKORIGIN+9
  2551 19CE AD 4D 9E			lda CRT_CURSOR+1
  2552 19D1 69 00			adc #$00
  2553 19D3 85 AD			sta :STACKORIGIN+STACKWIDTH+9
  2554 19D5 AD 4C 9E			lda CRT_CURSOR
  2555 19D8 38 ED 46 9E			sub CRT_VRAM
  2556 19DC 85 84			sta @INTEGER.MOD.A
  2557 19DE AD 4D 9E			lda CRT_CURSOR+1
  2558 19E1 ED 47 9E			sbc CRT_VRAM+1
  2559 19E4 85 85			sta @INTEGER.MOD.A+1
  2560 19E6 A9 00			lda #$00
  2561 19E8 E9 00			sbc #$00
  2562 19EA 85 86			sta @INTEGER.MOD.A+2
  2563 19EC A9 00			lda #$00
  2564 19EE E9 00			sbc #$00
  2565 19F0 85 87			sta @INTEGER.MOD.A+3
  2566 19F2 AD 4A 9E			lda CRT_SCREENWIDTH
  2567 19F5 85 8C			sta @INTEGER.MOD.B
  2568 19F7 A9 00			lda #$00
  2569 19F9 85 8D			sta @INTEGER.MOD.B+1
  2570 19FB 85 8E			sta @INTEGER.MOD.B+2
  2571 19FD 85 8F			sta @INTEGER.MOD.B+3
  2572 19FF 20 03 10			jsr @INTEGER.MOD
  2573 1A02 A5 88			lda @INTEGER.MOD.RESULT
  2574 1A04 85 9E			sta :STACKORIGIN+10
  2575 1A06 A5 89			lda @INTEGER.MOD.RESULT+1
  2576 1A08 85 AE			sta :STACKORIGIN+STACKWIDTH+10
  2577 1A0A A5 9D			lda :STACKORIGIN+9
  2578 1A0C 38 E5 9E			sub :STACKORIGIN+10
  2579 1A0F A8				tay
  2580 1A10 A5 AD			lda :STACKORIGIN+STACKWIDTH+9
  2581 1A12 E5 AE			sbc :STACKORIGIN+STACKWIDTH+10
  2582 1A14 8D 4D 9E			sta CRT_CURSOR+1
  2583 1A17 98				tya
  2584 1A18 18 6D 68 A1			add OFFSET
  2585 1A1C 8D 4C 9E			sta CRT_CURSOR
  2586 1A1F 90 03			scc
  2587 1A21 EE 4D 9E			inc CRT_CURSOR+1
  2588
  2589 				; ------------------------------------------------------------
  2590
  2591 = A168			OFFSET	= DATAORIGIN+$054D
  2592
  2593 = A168			@VarData	= OFFSET
  2594 = 0001			@VarDataSize	= 1
  2595
  2596 1A24			@exit
  2597 					.ifdef @new
  2598 					lda <@VarData
  2599 					sta :ztmp
  2600 					lda >@VarData
  2601 					ldy #@VarDataSize-1
  2602 					jmp @FreeMem
  2603 					els
  2604 1A24 60				rts						; ret
  2605 					eif
  2606 				.endl
  2607 				.endl							; overload
  2608
  2609 1A25			.local	CRT_NEWLINE					; PROCEDURE | OVERLOAD
  2610 1A25			.local	@00
  2611
  2612 				; optimize OK (B_CRT), line = 676
  2613
  2614 1A25 AD 4E 9E			lda CRT_LEFTMARGIN
  2615 1A28 20 BF 19			jsr CRT_NEWLINE.@010180000
  2616
  2617 1A2B			@exit
  2618 					.ifdef @new
  2619 					lda <@VarData
  2620 					sta :ztmp
  2621 					lda >@VarData
  2622 					ldy #@VarDataSize-1
  2623 					jmp @FreeMem
  2624 					els
  2625 1A2B 60				rts						; ret
  2626 					eif
  2627 				.endl
  2628 				.endl							; overload
  2629
  2630 1A2C			.local	CRT_WRITECENTERED				; PROCEDURE | OVERLOAD
  2631 1A2C			.local	@02018986000001000180000
  2632
  2633 				; ------------------------------------------------------------
  2634
  2635 				; Generate Assignment for BYTE / CHAR / SHORTINT / BOOLEAN
  2636 				; as Pointer
  2637 1A2C B5 94			lda :STACKORIGIN,x
  2638 1A2E 8D 69 A1			sta ROW
  2639 1A31 CA				dex
  2640 1A32 30 01			jmi @main
  2641 1A34 CA				dex
  2642 1A35			@main
  2643
  2644 				; optimize OK (B_CRT), line = 690
  2645
  2646 1A35 AD 4A 9E			lda CRT_SCREENWIDTH
  2647 1A38 4A				lsr @
  2648 1A39 85 9D			sta :STACKORIGIN+9
  2649 1A3B AD 6A A1			lda adr.S
  2650 1A3E 4A				lsr @
  2651 1A3F 85 9E			sta :STACKORIGIN+10
  2652 1A41 A5 9D			lda :STACKORIGIN+9
  2653 1A43 38 E5 9E			sub :STACKORIGIN+10
  2654 1A46 38 E9 01			sub #$01
  2655 1A49 8D 6A A2			sta OFF
  2656
  2657 				; optimize OK (B_CRT), line = 691
  2658
  2659 1A4C AD 4C 9E			lda CRT_CURSOR
  2660 1A4F 18 6D 6A A2			add OFF
  2661 1A53 8D 4C 9E			sta CRT_CURSOR
  2662 1A56 90 03			scc
  2663 1A58 EE 4D 9E			inc CRT_CURSOR+1
  2664
  2665 				; optimize OK (B_CRT), line = 692
  2666
  2667 1A5B AD 6A A2			lda OFF
  2668 1A5E 8D 57 A0			sta CRT_GOTOXY.X
  2669 1A61 AD 69 A1			lda ROW
  2670 1A64 8D 58 A0			sta CRT_GOTOXY.Y
  2671 1A67 20 F9 17			jsr CRT_GOTOXY
  2672
  2673 				; optimize FAIL ('CRT_WRITE.@0101898600000100', B_CRT), line = 693
  2674
  2675 1A6A E8				inx
  2676 1A6B AD 79 1A 95 94		mva S :STACKORIGIN,x
  2677 1A70 AD 7A 1A 95 A4		mva S+1 :STACKORIGIN+STACKWIDTH,x
  2678 1A75 20 6C 18			jsr CRT_WRITE.@0101898600000100
  2679
  2680 				; ------------------------------------------------------------
  2681
  2682 = A169			ROW	= DATAORIGIN+$054E
  2683 = A16A			adr.S	= [DATAORIGIN+$054F] .array [256]
  2684 1A78			.var S	= adr.S .word
  2685 = A26A			OFF	= DATAORIGIN+$064F
  2686
  2687 = A169			@VarData	= ROW
  2688 = 0102			@VarDataSize	= 258
  2689
  2690 1A78			@exit
  2691 					.ifdef @new
  2692 					lda <@VarData
  2693 					sta :ztmp
  2694 					lda >@VarData
  2695 					ldy #@VarDataSize-1
  2696 					jmp @FreeMem
  2697 					els
  2698 1A78 60				rts						; ret
  2699 					eif
  2700 = 1A79 6A A1		S
  2700 				.endl
  2701 				.endl							; overload
  2702
  2703 1A7B			.local	CRT_WRITERIGHTALIGNED				; PROCEDURE | OVERLOAD
  2704 1A7B			.local	@02018986000001000180000
  2705
  2706 				; ------------------------------------------------------------
  2707
  2708 				; Generate Assignment for BYTE / CHAR / SHORTINT / BOOLEAN
  2709 				; as Pointer
  2710 1A7B B5 94			lda :STACKORIGIN,x
  2711 1A7D 8D 6B A2			sta ROW
  2712 1A80 CA				dex
  2713 1A81 30 01			jmi @main
  2714 1A83 CA				dex
  2715 1A84			@main
  2716
  2717 				; optimize OK (B_CRT), line = 704
  2718
  2719 1A84 AD 4A 9E			lda CRT_SCREENWIDTH
  2720 1A87 38 ED 6C A2			sub adr.S
  2721 1A8B 8D 6C A3			sta OFF
  2722
  2723 				; optimize OK (B_CRT), line = 705
  2724
  2725 1A8E AD 4C 9E			lda CRT_CURSOR
  2726 1A91 18 6D 6C A3			add OFF
  2727 1A95 8D 4C 9E			sta CRT_CURSOR
  2728 1A98 90 03			scc
  2729 1A9A EE 4D 9E			inc CRT_CURSOR+1
  2730
  2731 				; optimize OK (B_CRT), line = 706
  2732
  2733 1A9D AD 6C A3			lda OFF
  2734 1AA0 8D 57 A0			sta CRT_GOTOXY.X
  2735 1AA3 AD 6B A2			lda ROW
  2736 1AA6 8D 58 A0			sta CRT_GOTOXY.Y
  2737 1AA9 20 F9 17			jsr CRT_GOTOXY
  2738
  2739 				; optimize FAIL ('CRT_WRITE.@0101898600000100', B_CRT), line = 707
  2740
  2741 1AAC E8				inx
  2742 1AAD AD BB 1A 95 94		mva S :STACKORIGIN,x
  2743 1AB2 AD BC 1A 95 A4		mva S+1 :STACKORIGIN+STACKWIDTH,x
  2744 1AB7 20 6C 18			jsr CRT_WRITE.@0101898600000100
  2745
  2746 				; ------------------------------------------------------------
  2747
  2748 = A26B			ROW	= DATAORIGIN+$0650
  2749 = A26C			adr.S	= [DATAORIGIN+$0651] .array [256]
  2750 1ABA			.var S	= adr.S .word
  2751 = A36C			OFF	= DATAORIGIN+$0751
  2752
  2753 = A26B			@VarData	= ROW
  2754 = 0102			@VarDataSize	= 258
  2755
  2756 1ABA			@exit
  2757 					.ifdef @new
  2758 					lda <@VarData
  2759 					sta :ztmp
  2760 					lda >@VarData
  2761 					ldy #@VarDataSize-1
  2762 					jmp @FreeMem
  2763 					els
  2764 1ABA 60				rts						; ret
  2765 					eif
  2766 = 1ABB 6C A2		S
  2766 				.endl
  2767 				.endl							; overload
  2768
  2769 1ABD			.local	CRT_INVERT					; PROCEDURE
  2770
  2771 				; optimize OK (B_CRT), line = 734
  2772
  2773 1ABD AD 4A 9E			lda CRT_SCREENWIDTH
  2774 1AC0 85 8C			sta :ecx
  2775 1AC2 AD 6E A3			lda Y
  2776 1AC5 85 84			sta :eax
  2777 					.ifdef fmulinit
  2778 					fmulu_8
  2779 					els
  2780 1AC7 20 43 10			imulCL
  2781 					eif
  2782 1ACA A5 84			lda :eax
  2783 1ACC 18 6D 46 9E			add CRT_VRAM
  2784 1AD0 A8				tay
  2785 1AD1 A5 85			lda :eax+1
  2786 1AD3 6D 47 9E			adc CRT_VRAM+1
  2787 1AD6 8D 71 A3			sta CURSOR+1
  2788 1AD9 98				tya
  2789 1ADA 18 6D 6D A3			add X
  2790 1ADE 8D 70 A3			sta CURSOR
  2791 1AE1 90 03			scc
  2792 1AE3 EE 71 A3			inc CURSOR+1
  2793
  2794 				; --- WhileProlog
  2795 1AE6 4C 02 1B			jmp l_04DB
  2796 1AE9			l_04DC
  2797
  2798 				; optimize OK (B_CRT), line = 736
  2799
  2800 1AE9 AC 71 A3			ldy CURSOR+1
  2801 1AEC 84 81			sty :bp+1
  2802 1AEE AC 70 A3			ldy CURSOR
  2803 1AF1 B1 80			lda (:bp),y
  2804 1AF3 49 80			eor #$80
  2805 1AF5 91 80			sta (:bp),y
  2806
  2807 				; optimize FAIL (0, B_CRT), line = 737
  2808
  2809 1AF7 CE 6F A3			dec WIDTH
  2810
  2811 				; optimize FAIL (0, B_CRT), line = 738
  2812
  2813 1AFA EE 70 A3			inc CURSOR
  2814 1AFD D0 03			sne
  2815 1AFF EE 71 A3			inc CURSOR+1
  2816 1B02			l_04DB
  2817
  2818 				; optimize OK (B_CRT), line = 735
  2819
  2820 1B02 AD 6F A3			lda WIDTH
  2821 1B05 D0 E2			jne l_04DC
  2822
  2823 				; ------------------------------------------------------------
  2824
  2825 = A36D			X	= DATAORIGIN+$0752
  2826 = A36E			Y	= DATAORIGIN+$0753
  2827 = A36F			WIDTH	= DATAORIGIN+$0754
  2828 = A370			CURSOR	= DATAORIGIN+$0755
  2829
  2830 = A36D			@VarData	= X
  2831 = 0005			@VarDataSize	= 5
  2832
  2833 1B07			@exit
  2834 					.ifdef @new
  2835 					lda <@VarData
  2836 					sta :ztmp
  2837 					lda >@VarData
  2838 					ldy #@VarDataSize-1
  2839 					jmp @FreeMem
  2840 					els
  2841 1B07 60				rts						; ret
  2842 					eif
  2843 				.endl
  2844
  2845 				; ------------------------------------------------------------
  2846
  2847 = 0028			DEFAULT_SCREENWIDTH	= $28
  2848 = 0018			DEFAULT_SCREENHEIGHT	= $18
  2849 = 009B			CHAR_RETURN	= $9B
  2850 = 001B			CHAR_ESCAPE	= $1B
  2851 = 007E			CHAR_BACKSPACE	= $7E
  2852 = 007F			CHAR_TAB	= $7F
  2853 = 0081			CHAR_INVERSE	= $81
  2854 = 0082			CHAR_CAPS	= $82
  2855 = 00DB			ICHAR_RETURN	= $DB
  2856 = 005B			ICHAR_ESCAPE	= $5B
  2857 = 007E			ICHAR_BACKSPACE	= $7E
  2858 = 007F			ICHAR_TAB	= $7F
  2859 = 00C1			ICHAR_INVERSE	= $C1
  2860 = 00C2			ICHAR_CAPS	= $C2
  2861 = 0CE6			adr.CRT_KEYCODE	= CODEORIGIN+$00E6
  2862 1B08			.var CRT_KEYCODE	= adr.CRT_KEYCODE .word
  2863 = 9E46			CRT_VRAM	= DATAORIGIN+$022B
  2864 = 9E48			CRT_SIZE	= DATAORIGIN+$022D
  2865 = 9E4A			CRT_SCREENWIDTH	= DATAORIGIN+$022F
  2866 = 9E4B			CRT_SCREENHEIGHT	= DATAORIGIN+$0230
  2867 = 9E4C			CRT_CURSOR	= DATAORIGIN+$0231
  2868 = 9E4E			CRT_LEFTMARGIN	= DATAORIGIN+$0233
  2869 = D209			KBCODE	= $D209
  2870 = D01F			CONSOL	= $D01F
  2871
  2872 = 1B08 E6 0C		CRT_KEYCODE
  2872 				.endl							; UNIT B_CRT
  2873
  2874 1B0A			.local	MUSICPROXY					; PROCEDURE
  2875
  2876 				; optimize OK (main.pas), line = 59
  2877
  2878 1B0A AD 11 CA			lda PLAYMUSIC
  2879 1B0D C9 01			cmp #$01
  2880 1B0F D0 09			jne l_0510
  2881
  2882 				; optimize FAIL ('RMT.TRMT.PLAY', main.pas), line = 60
  2883
  2884 1B11 AD E4 99			lda MSX
  2885 1B14 AC E5 99			ldy MSX+1
  2886 1B17 20 8E 15			jsr RMT.TRMT.PLAY
  2887 1B1A			l_0510
  2888
  2889 1B1A			@exit
  2890 					.ifdef @new
  2891 					lda <@VarData
  2892 					sta :ztmp
  2893 					lda >@VarData
  2894 					ldy #@VarDataSize-1
  2895 					jmp @FreeMem
  2896 					els
  2897 1B1A 60				rts						; ret
  2898 					eif
  2899 				.endl
  2900
  2901 1B1B			.local	READKEYANDSTICK					; FUNCTION
  2902
  2903 				; optimize OK (helpers_input.pas), line = 28
  2904
  2905 1B1B A9 00			lda #$00
  2906 1B1D 8D BD A4			sta CH
  2907
  2908 				; -------------------  ASM Block 00000145  -------------------
  2909
  2910
  2911 1B20 48 8A 48 98 48	        phr
  2912 1B25 A9 00		        lda #$00
  2913 1B27 8D F9 EA		        sta joystickused
  2914 1B2A			  loop:
  2915 1B2A AD 00 D3		        lda $d300
  2916 1B2D 29 0F		        and #$0f
  2917 1B2F C9 0F		        cmp #$0f 
  2918 1B31 D0 3A		        bne foundstick
  2919
  2920 1B33 AD 10 D0		        lda $d010 ; try stick button 
  2921 1B36 C9 00		        cmp #$00
  2922 1B38 D0 08		        bne nofire 
  2923 1B3A A9 0C		        lda #$0c
  2924 1B3C 8D F9 EA		        sta joystickused
  2925 1B3F 4C 83 1B		        jmp loopend
  2926
  2927 1B42			nofire:
  2928 1B42 AD 1F D0		        lda consol		; START
  2929 1B45 C9 05		        cmp #$05
  2930 1B47 F0 2E		        beq foundsave
  2931 1B49 C9 03		        cmp #$03
  2932 1B4B F0 34		        beq foundload
  2933 1B4D C9 06		        cmp #$06
  2934 1B4F F0 2B		        beq foundmsx
  2935
  2936 1B51 AD 0F D2		        lda skctl		; ANY KEY
  2937 1B54 29 04		        and #$04
  2938 1B56 D0 D2		        bne loop
  2939
  2940 1B58 AD 09 D2		        lda kbcode
  2941 1B5B 4C 83 1B		        jmp loopend
  2942 1B5E			  stickdata:
  2943 				        // right, left, down, up --> 7= 0111=right;  11=1011=left, 13=1101=down, 14=1110=up
  2944 1B5E 00 00 00 00 00 00 +         dta 0,0,0,0,    0,0, 0, 07,   0, 0,0, 06, 0,     15, 14
  2945 1B6D			  foundstick:
  2946 1B6D A8			        tay
  2947 1B6E B9 5E 1B		        lda stickdata,y
  2948 1B71 8D F9 EA		        sta joystickused
  2949 1B74 4C 83 1B		        jmp loopend
  2950 1B77			  foundsave:
  2951 1B77 A9 1F		        lda #$1f 
  2952 1B79 4C 83 1B		        jmp loopend
  2953 1B7C			  foundmsx:
  2954 1B7C A9 20		        lda #$20
  2955 1B7E 4C 83 1B		        jmp loopend
  2956 1B81			  foundload:
  2957 1B81 A9 1E		        lda #$1e
  2958 				        // check for key
  2959 1B83			  loopend:
  2960 1B83 8D BD A4		        sta ch
  2961 1B86 68 A8 68 AA 68	        plr
  2962 				  
  2963 				; optimize OK (helpers_input.pas), line = 82
  2964
  2965 1B8B AD BD A4			lda CH
  2966 1B8E 8D BC A4			sta RESULT
  2967 1B91			@exit
  2968
  2969 				; ------------------------------------------------------------
  2970
  2971 = A4BC			RESULT	= DATAORIGIN+$08A1
  2972 = A4BD			CH	= DATAORIGIN+$08A2
  2973
  2974 = A4BD			@VarData	= CH
  2975 = 0001			@VarDataSize	= 1
  2976
  2977 1B91 60				rts						; ret
  2978 				.endl
  2979
  2980 1B92			.local	CHECKKEYANDSTICK				; FUNCTION
  2981
  2982 				; optimize OK (helpers_input.pas), line = 92
  2983
  2984 1B92 A9 00			lda #$00
  2985 1B94 8D BF A4			sta CH
  2986
  2987 				; -------------------  ASM Block 00000146  -------------------
  2988
  2989
  2990 1B97 48 8A 48 98 48	        phr
  2991
  2992 1B9C AD 00 D3		        lda $d300
  2993 1B9F 29 0F		        and #$0f
  2994 1BA1 C9 0F		        cmp #$0f   
  2995 1BA3 D0 2F		        bne foundstick
  2996
  2997 1BA5 AD 10 D0		        lda $d010 ; try stick button 
  2998 1BA8 C9 00		        cmp #$00
  2999 1BAA D0 05		        bne nofire 
  3000 1BAC A9 0C		        lda #$0c
  3001 1BAE 4C DD 1B		        jmp loopend
  3002
  3003 1BB1			  nofire:
  3004 1BB1 AD 1F D0		        lda consol		; START
  3005 1BB4 29 01		        and #1
  3006 1BB6 F0 23		        beq foundconsol
  3007
  3008 1BB8 AD 0F D2		        lda skctl		; ANY KEY
  3009 1BBB 29 04		        and #$04
  3010 1BBD D0 1C		        bne loopend_zero
  3011
  3012 1BBF AD 09 D2		        lda kbcode
  3013 1BC2 4C DD 1B		        jmp loopend
  3014 1BC5			  stickdata:
  3015 1BC5 00 00 00 00 00 00 +         dta 0,0,0,0,    0,0, 0, 07,   0, 0,0, 06, 0,     15, 14
  3016 1BD4			  foundstick:
  3017 1BD4 A8			        tay
  3018 1BD5 B9 C5 1B		        lda stickdata,y
  3019 1BD8 4C DD 1B		        jmp loopend
  3020 1BDB			  foundconsol:
  3021 				        // check for key
  3022 1BDB			  loopend_zero:
  3023 1BDB A9 00		        lda #$00
  3024 1BDD			  loopend:
  3025 1BDD 8D BF A4		        sta ch
  3026 1BE0 68 A8 68 AA 68	        plr
  3027 				  
  3028 				; optimize OK (helpers_input.pas), line = 132
  3029
  3030 1BE5 AD BF A4			lda CH
  3031 1BE8 8D BE A4			sta RESULT
  3032 1BEB			@exit
  3033
  3034 				; ------------------------------------------------------------
  3035
  3036 = A4BE			RESULT	= DATAORIGIN+$08A3
  3037 = A4BF			CH	= DATAORIGIN+$08A4
  3038
  3039 = A4BF			@VarData	= CH
  3040 = 0001			@VarDataSize	= 1
  3041
  3042 1BEB 60				rts						; ret
  3043 				.endl
  3044
  3045 1BEC			.local	WAITFORKEYRELEASE				; PROCEDURE
  3046
  3047 				; optimize FAIL ('READKEYANDSTICK', helpers_input.pas), line = 146
  3048
  3049 1BEC 20 1B 1B			jsr READKEYANDSTICK
  3050 1BEF AD BC A4			lda READKEYANDSTICK.RESULT
  3051 1BF2 8D C0 A4			sta CH
  3052
  3053 				; --- RepeatUntilProlog
  3054 1BF5			l_0539
  3055
  3056 				; optimize FAIL ('CHECKKEYANDSTICK', helpers_input.pas), line = 148
  3057
  3058 1BF5 20 92 1B			jsr CHECKKEYANDSTICK
  3059 1BF8 AD BE A4			lda CHECKKEYANDSTICK.RESULT
  3060 1BFB 8D C1 A4			sta TMPCH
  3061
  3062 				; optimize OK (helpers_input.pas), line = 149
  3063
  3064 1BFE CD C0 A4			cmp CH
  3065 1C01 F0 F2			jeq l_0539
  3066
  3067 				; ------------------------------------------------------------
  3068
  3069 = A4C0			CH	= DATAORIGIN+$08A5
  3070 = A4C1			TMPCH	= DATAORIGIN+$08A6
  3071
  3072 = A4C0			@VarData	= CH
  3073 = 0002			@VarDataSize	= 2
  3074
  3075 1C03			@exit
  3076 					.ifdef @new
  3077 					lda <@VarData
  3078 					sta :ztmp
  3079 					lda >@VarData
  3080 					ldy #@VarDataSize-1
  3081 					jmp @FreeMem
  3082 					els
  3083 1C03 60				rts						; ret
  3084 					eif
  3085 				.endl
  3086
  3087 1C04			.local	CRT_WRITE_LOCSTR				; PROCEDURE
  3088 1C04 8D C2 A4			sta B
  3089
  3090 				; optimize OK (helpers.pas), line = 7
  3091
  3092 1C07 38 E9 01			sub #$01
  3093 1C0A 85 84			sta :eax
  3094 1C0C A9 00			lda #$00
  3095 1C0E E9 00			sbc #$00
  3096 1C10 85 85			sta :eax+1
  3097 1C12 A9 28			lda #$28
  3098 1C14 85 8C			sta :ecx
  3099 1C16 A9 00			lda #$00
  3100 1C18 85 8D			sta :ecx+1
  3101 					.ifdef fmulinit
  3102 					fmulu_16
  3103 					els
  3104 1C1A 20 8F 10			imulCX
  3105 					eif
  3106 1C1D A5 84			lda :eax
  3107 1C1F 8D C3 A4			sta Z
  3108 1C22 A5 85			lda :eax+1
  3109 1C24 8D C4 A4			sta Z+1
  3110
  3111 				; optimize OK (helpers.pas), line = 8
  3112
  3113 1C27 AD 82 9A			lda LOC_STRING_1
  3114 1C2A 18 6D C3 A4			add Z
  3115 1C2E 8D C5 A4			sta TMPSTR
  3116 1C31 AD 83 9A			lda LOC_STRING_1+1
  3117 1C34 6D C4 A4			adc Z+1
  3118 1C37 8D C6 A4			sta TMPSTR+1
  3119
  3120 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', helpers.pas), line = 9
  3121
  3122 1C3A E8				inx
  3123 1C3B AD C5 A4 95 94		mva TMPSTR :STACKORIGIN,x
  3124 1C40 AD C6 A4 95 A4		mva TMPSTR+1 :STACKORIGIN+STACKWIDTH,x
  3125 1C45 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
  3126
  3127 				; ------------------------------------------------------------
  3128
  3129 = A4C2			B	= DATAORIGIN+$08A7
  3130 = A4C3			Z	= DATAORIGIN+$08A8
  3131 = A4C5			TMPSTR	= DATAORIGIN+$08AA
  3132
  3133 = A4C2			@VarData	= B
  3134 = 0005			@VarDataSize	= 5
  3135
  3136 1C48			@exit
  3137 					.ifdef @new
  3138 					lda <@VarData
  3139 					sta :ztmp
  3140 					lda >@VarData
  3141 					ldy #@VarDataSize-1
  3142 					jmp @FreeMem
  3143 					els
  3144 1C48 60				rts						; ret
  3145 					eif
  3146 				.endl
  3147
  3148 1C49			.local	CRT_WRITELN_LOCSTR				; PROCEDURE
  3149 1C49 8D C7 A4			sta B
  3150
  3151 				; optimize OK (helpers.pas), line = 15
  3152
  3153 1C4C 20 04 1C			jsr CRT_WRITE_LOCSTR
  3154
  3155 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', helpers.pas), line = 16
  3156
  3157 1C4F 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
  3158
  3159 				; ------------------------------------------------------------
  3160
  3161 = A4C7			B	= DATAORIGIN+$08AC
  3162
  3163 = A4C7			@VarData	= B
  3164 = 0001			@VarDataSize	= 1
  3165
  3166 1C52			@exit
  3167 					.ifdef @new
  3168 					lda <@VarData
  3169 					sta :ztmp
  3170 					lda >@VarData
  3171 					ldy #@VarDataSize-1
  3172 					jmp @FreeMem
  3173 					els
  3174 1C52 60				rts						; ret
  3175 					eif
  3176 				.endl
  3177
  3178 1C53			.local	CRT_WRITELN2_LOCSTR				; PROCEDURE
  3179 1C53 8D C8 A4			sta B
  3180
  3181 				; optimize OK (helpers.pas), line = 22
  3182
  3183 1C56 20 49 1C			jsr CRT_WRITELN_LOCSTR
  3184
  3185 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', helpers.pas), line = 23
  3186
  3187 1C59 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
  3188
  3189 				; ------------------------------------------------------------
  3190
  3191 = A4C8			B	= DATAORIGIN+$08AD
  3192
  3193 = A4C8			@VarData	= B
  3194 = 0001			@VarDataSize	= 1
  3195
  3196 1C5C			@exit
  3197 					.ifdef @new
  3198 					lda <@VarData
  3199 					sta :ztmp
  3200 					lda >@VarData
  3201 					ldy #@VarDataSize-1
  3202 					jmp @FreeMem
  3203 					els
  3204 1C5C 60				rts						; ret
  3205 					eif
  3206 				.endl
  3207
  3208 1C5D			.local	CRT_WRITECENTERED_LOCSTR			; PROCEDURE
  3209
  3210 				; optimize OK (helpers.pas), line = 31
  3211
  3212 1C5D AD CA A4			lda B
  3213 1C60 38 E9 01			sub #$01
  3214 1C63 85 84			sta :eax
  3215 1C65 A9 00			lda #$00
  3216 1C67 E9 00			sbc #$00
  3217 1C69 85 85			sta :eax+1
  3218 1C6B A9 28			lda #$28
  3219 1C6D 85 8C			sta :ecx
  3220 1C6F A9 00			lda #$00
  3221 1C71 85 8D			sta :ecx+1
  3222 					.ifdef fmulinit
  3223 					fmulu_16
  3224 					els
  3225 1C73 20 8F 10			imulCX
  3226 					eif
  3227 1C76 A5 84			lda :eax
  3228 1C78 8D CB A4			sta Z
  3229 1C7B A5 85			lda :eax+1
  3230 1C7D 8D CC A4			sta Z+1
  3231
  3232 				; optimize OK (helpers.pas), line = 32
  3233
  3234 1C80 AD 82 9A			lda LOC_STRING_1
  3235 1C83 18 6D CB A4			add Z
  3236 1C87 8D CD A4			sta TMPSTR
  3237 1C8A AD 83 9A			lda LOC_STRING_1+1
  3238 1C8D 6D CC A4			adc Z+1
  3239 1C90 8D CE A4			sta TMPSTR+1
  3240
  3241 				; optimize FAIL ('B_CRT.CRT_WRITECENTERED.@02018986000001000180000', helpers.pas), line = 33
  3242
  3243 1C93 E8				inx
  3244 1C94 AC CD A4 84 82 AC + 	mwy TMPSTR :bp2
  3245 1C9E A0 00			ldy #$00
  3246 1CA0 B1 82 99 6A A1 C8 + 	mva:rne (:bp2),y B_CRT.CRT_WRITECENTERED.@02018986000001000180000.adr.S,y+
  3247 1CA8 E8				inx
  3248 1CA9 AD C9 A4 95 94		mva R :STACKORIGIN,x
  3249 1CAE 20 2C 1A			jsr B_CRT.CRT_WRITECENTERED.@02018986000001000180000
  3250
  3251 				; ------------------------------------------------------------
  3252
  3253 = A4C9			R	= DATAORIGIN+$08AE
  3254 = A4CA			B	= DATAORIGIN+$08AF
  3255 = A4CB			Z	= DATAORIGIN+$08B0
  3256 = A4CD			TMPSTR	= DATAORIGIN+$08B2
  3257
  3258 = A4C9			@VarData	= R
  3259 = 0006			@VarDataSize	= 6
  3260
  3261 1CB1			@exit
  3262 					.ifdef @new
  3263 					lda <@VarData
  3264 					sta :ztmp
  3265 					lda >@VarData
  3266 					ldy #@VarDataSize-1
  3267 					jmp @FreeMem
  3268 					els
  3269 1CB1 60				rts						; ret
  3270 					eif
  3271 				.endl
  3272
  3273 1CB2			.local	EFFECTWAIT					; PROCEDURE
  3274
  3275 				; optimize OK (helpers.pas), line = 40
  3276
  3277 1CB2 A9 78			lda #$78
  3278 1CB4 20 13 17			jsr B_SYSTEM.WAITFRAMES
  3279
  3280 1CB7			@exit
  3281 					.ifdef @new
  3282 					lda <@VarData
  3283 					sta :ztmp
  3284 					lda >@VarData
  3285 					ldy #@VarDataSize-1
  3286 					jmp @FreeMem
  3287 					els
  3288 1CB7 60				rts						; ret
  3289 					eif
  3290 				.endl
  3291
  3292 1CB8			.local	CRT_READKEYORJOYSTICK				; FUNCTION
  3293
  3294 				; optimize OK (helpers.pas), line = 48
  3295
  3296 1CB8 AD 09 D2			lda B_CRT.KBCODE
  3297 1CBB 8D CF A4			sta RESULT
  3298
  3299 				; --- RepeatUntilProlog
  3300 1CBE			l_05B0
  3301
  3302 				; optimize FAIL ('B_CRT.CRT_KEYPRESSED', helpers.pas), line = 49
  3303
  3304 1CBE 20 5A 19			jsr B_CRT.CRT_KEYPRESSED
  3305 1CC1 A0 01			ldy #1
  3306 1CC3 AD 64 A1			lda B_CRT.CRT_KEYPRESSED.RESULT
  3307 1CC6 F0 01			beq @+
  3308 1CC8 88				dey
  3309 				@
  3310 1CC9 94 95			sty :STACKORIGIN+1,x
  3311 1CCB A0 01			ldy #1
  3312 1CCD AD CF A4			lda RESULT
  3313 1CD0 CD 09 D2			cmp B_CRT.KBCODE
  3314 1CD3 D0 01			bne @+
  3315 1CD5 88				dey
  3316 				@
  3317 1CD6 98				tya
  3318 1CD7 15 95			ora :STACKORIGIN+1,x
  3319 1CD9 F0 E3			jeq l_05B0
  3320
  3321 				; --- RepeatUntilProlog
  3322 1CDB			l_05C7
  3323
  3324 				; optimize FAIL ('CHECKKEYANDSTICK', helpers.pas), line = 51
  3325
  3326 1CDB 20 92 1B			jsr CHECKKEYANDSTICK
  3327 1CDE AD BE A4			lda CHECKKEYANDSTICK.RESULT
  3328 1CE1 8D D0 A4			sta Z
  3329
  3330 				; optimize FAIL ('B_CRT.CRT_KEYPRESSED', helpers.pas), line = 52
  3331
  3332 1CE4 20 5A 19			jsr B_CRT.CRT_KEYPRESSED
  3333 1CE7 A0 01			ldy #1
  3334 1CE9 AD D0 A4			lda Z
  3335 1CEC C9 0C			cmp #$0C
  3336 1CEE F0 01			beq @+
  3337 1CF0 88				dey
  3338 				@
  3339 1CF1 98				tya
  3340 1CF2 0D 64 A1			ora B_CRT.CRT_KEYPRESSED.RESULT
  3341 1CF5 95 95			sta :STACKORIGIN+1,x
  3342 1CF7 A0 01			ldy #1
  3343 1CF9 AD D0 A4			lda Z
  3344 1CFC C9 0E			cmp #$0E
  3345 1CFE F0 01			beq @+
  3346 1D00 88				dey
  3347 				@
  3348 1D01 98				tya
  3349 1D02 15 95			ora :STACKORIGIN+1,x
  3350 1D04 95 95			sta :STACKORIGIN+1,x
  3351 1D06 A0 01			ldy #1
  3352 1D08 AD D0 A4			lda Z
  3353 1D0B C9 0F			cmp #$0F
  3354 1D0D F0 01			beq @+
  3355 1D0F 88				dey
  3356 				@
  3357 1D10 98				tya
  3358 1D11 15 95			ora :STACKORIGIN+1,x
  3359 1D13 95 95			sta :STACKORIGIN+1,x
  3360 1D15 A0 01			ldy #1
  3361 1D17 AD D0 A4			lda Z
  3362 1D1A C9 06			cmp #$06
  3363 1D1C F0 01			beq @+
  3364 1D1E 88				dey
  3365 				@
  3366 1D1F 98				tya
  3367 1D20 15 95			ora :STACKORIGIN+1,x
  3368 1D22 95 95			sta :STACKORIGIN+1,x
  3369 1D24 A0 01			ldy #1
  3370 1D26 AD D0 A4			lda Z
  3371 1D29 C9 07			cmp #$07
  3372 1D2B F0 01			beq @+
  3373 1D2D 88				dey
  3374 				@
  3375 1D2E 98				tya
  3376 1D2F 15 95			ora :STACKORIGIN+1,x
  3377 1D31 F0 A8			jeq l_05C7
  3378
  3379 				; optimize OK (helpers.pas), line = 53
  3380
  3381 1D33 AD D0 A4			lda Z
  3382 1D36 F0 03			jeq l_061E
  3383
  3384 				; optimize OK (helpers.pas), line = 54
  3385
  3386 1D38 4C 3E 1D			jmp l_062E
  3387 1D3B			l_061E
  3388
  3389 				; optimize OK (helpers.pas), line = 56
  3390
  3391 1D3B AD 09 D2			lda B_CRT.KBCODE
  3392 1D3E			l_062E
  3393 1D3E 8D CF A4			sta RESULT
  3394 1D41			@exit
  3395
  3396 				; ------------------------------------------------------------
  3397
  3398 = A4CF			RESULT	= DATAORIGIN+$08B4
  3399 = A4D0			Z	= DATAORIGIN+$08B5
  3400
  3401 = A4D0			@VarData	= Z
  3402 = 0001			@VarDataSize	= 1
  3403
  3404 1D41 60				rts						; ret
  3405 				.endl
  3406
  3407 1D42			.local	CRT_READKEYORFIRE				; FUNCTION
  3408
  3409 				; optimize OK (helpers.pas), line = 62
  3410
  3411 1D42 AD 09 D2			lda B_CRT.KBCODE
  3412 1D45 8D D1 A4			sta RESULT
  3413
  3414 				; --- RepeatUntilProlog
  3415 1D48			l_063F
  3416
  3417 				; optimize FAIL ('B_CRT.CRT_KEYPRESSED', helpers.pas), line = 63
  3418
  3419 1D48 20 5A 19			jsr B_CRT.CRT_KEYPRESSED
  3420 1D4B A0 01			ldy #1
  3421 1D4D AD 64 A1			lda B_CRT.CRT_KEYPRESSED.RESULT
  3422 1D50 F0 01			beq @+
  3423 1D52 88				dey
  3424 				@
  3425 1D53 94 95			sty :STACKORIGIN+1,x
  3426 1D55 A0 01			ldy #1
  3427 1D57 AD D1 A4			lda RESULT
  3428 1D5A CD 09 D2			cmp B_CRT.KBCODE
  3429 1D5D D0 01			bne @+
  3430 1D5F 88				dey
  3431 				@
  3432 1D60 98				tya
  3433 1D61 15 95			ora :STACKORIGIN+1,x
  3434 1D63 F0 E3			jeq l_063F
  3435
  3436 				; --- RepeatUntilProlog
  3437 1D65			l_0656
  3438
  3439 				; optimize FAIL ('B_CRT.CRT_KEYPRESSED', helpers.pas), line = 64
  3440
  3441 1D65 20 5A 19			jsr B_CRT.CRT_KEYPRESSED
  3442 1D68 E8				inx
  3443 1D69 AD 64 A1 95 94		mva B_CRT.CRT_KEYPRESSED.RESULT :STACKORIGIN,x
  3444 1D6E 20 92 1B			jsr CHECKKEYANDSTICK
  3445 1D71 CA				dex
  3446 1D72 A0 01			ldy #1
  3447 1D74 AD BE A4			lda CHECKKEYANDSTICK.RESULT
  3448 1D77 C9 0C			cmp #$0C
  3449 1D79 F0 01			beq @+
  3450 1D7B 88				dey
  3451 				@
  3452 1D7C 98				tya
  3453 1D7D 15 95			ora :STACKORIGIN+1,x
  3454 1D7F F0 E4			jeq l_0656
  3455
  3456 				; optimize OK (helpers.pas), line = 65
  3457
  3458 1D81 AD 09 D2			lda B_CRT.KBCODE
  3459 1D84 8D D1 A4			sta RESULT
  3460 1D87			@exit
  3461
  3462 				; ------------------------------------------------------------
  3463
  3464 = A4D1			RESULT	= DATAORIGIN+$08B6
  3465
  3466 1D87 60				rts						; ret
  3467 				.endl
  3468
  3469 1D88			.local	WAITFORKEY					; PROCEDURE
  3470
  3471 				; optimize FAIL ('B_CRT.CRT_WHEREY', helpers.pas), line = 72
  3472
  3473 1D88 20 26 18			jsr B_CRT.CRT_WHEREY
  3474 1D8B AD 59 A0			lda B_CRT.CRT_WHEREY.RESULT
  3475 1D8E 8D D2 A4			sta K
  3476
  3477 				; optimize OK (helpers.pas), line = 73
  3478
  3479 1D91 18 69 02			add #$02
  3480 1D94 8D D2 A4			sta K
  3481
  3482 				; optimize FAIL ('B_CRT.CRT_WRITECENTERED.@02018986000001000180000', helpers.pas), line = 74
  3483
  3484 1D97 E8				inx
  3485 1D98 AC D2 9B 84 82 AC + 	mwy WAITKEY_STRING :bp2
  3486 1DA2 A0 00			ldy #$00
  3487 1DA4 B1 82 99 6A A1 C8 + 	mva:rne (:bp2),y B_CRT.CRT_WRITECENTERED.@02018986000001000180000.adr.S,y+
  3488 1DAC E8				inx
  3489 1DAD AD D2 A4 95 94		mva K :STACKORIGIN,x
  3490 1DB2 20 2C 1A			jsr B_CRT.CRT_WRITECENTERED.@02018986000001000180000
  3491
  3492 				; optimize FAIL ('CRT_READKEYORFIRE', helpers.pas), line = 75
  3493
  3494 1DB5 20 42 1D			jsr CRT_READKEYORFIRE
  3495
  3496 				; ------------------------------------------------------------
  3497
  3498 = A4D2			K	= DATAORIGIN+$08B7
  3499
  3500 = A4D2			@VarData	= K
  3501 = 0001			@VarDataSize	= 1
  3502
  3503 1DB8			@exit
  3504 					.ifdef @new
  3505 					lda <@VarData
  3506 					sta :ztmp
  3507 					lda >@VarData
  3508 					ldy #@VarDataSize-1
  3509 					jmp @FreeMem
  3510 					els
  3511 1DB8 60				rts						; ret
  3512 					eif
  3513 				.endl
  3514
  3515 1DB9			.local	CRT_NEWLINE2					; PROCEDURE
  3516
  3517 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', helpers.pas), line = 82
  3518
  3519 1DB9 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
  3520
  3521 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', helpers.pas), line = 83
  3522
  3523 1DBC 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
  3524
  3525 1DBF			@exit
  3526 					.ifdef @new
  3527 					lda <@VarData
  3528 					sta :ztmp
  3529 					lda >@VarData
  3530 					ldy #@VarDataSize-1
  3531 					jmp @FreeMem
  3532 					els
  3533 1DBF 60				rts						; ret
  3534 					eif
  3535 				.endl
  3536
  3537 1DC0			.local	CRT_WRITELN2					; PROCEDURE
  3538
  3539 				; ------------------------------------------------------------
  3540
  3541 				; Generate Assignment for WORD / SMALLINT / SHORTREAL / POINTER
  3542 				; as Pointer
  3543 1DC0 B5 94			lda :STACKORIGIN,x
  3544 1DC2 85 82			sta :bp2
  3545 1DC4 B5 A4			lda :STACKORIGIN+STACKWIDTH,x
  3546 1DC6 85 83			sta :bp2+1
  3547 1DC8 A0 00			ldy #$00
  3548 1DCA B1 82 99 D3 A4 C8 + 	mva:rne (:bp2),y adr.S,y+
  3549 1DD2 CA				dex
  3550 1DD3			@main
  3551
  3552 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', helpers.pas), line = 88
  3553
  3554 1DD3 E8				inx
  3555 1DD4 AD E5 1D 95 94		mva S :STACKORIGIN,x
  3556 1DD9 AD E6 1D 95 A4		mva S+1 :STACKORIGIN+STACKWIDTH,x
  3557 1DDE 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
  3558
  3559 				; optimize FAIL ('CRT_NEWLINE2', helpers.pas), line = 89
  3560
  3561 1DE1 20 B9 1D			jsr CRT_NEWLINE2
  3562
  3563 				; ------------------------------------------------------------
  3564
  3565 = A4D3			adr.S	= [DATAORIGIN+$08B8] .array [256]
  3566 1DE4			.var S	= adr.S .word
  3567
  3568 = 1DE5			@VarData	= S
  3569 = 0100			@VarDataSize	= 256
  3570
  3571 1DE4			@exit
  3572 					.ifdef @new
  3573 					lda <@VarData
  3574 					sta :ztmp
  3575 					lda >@VarData
  3576 					ldy #@VarDataSize-1
  3577 					jmp @FreeMem
  3578 					els
  3579 1DE4 60				rts						; ret
  3580 					eif
  3581 = 1DE5 D3 A4		S
  3581 				.endl
  3582
  3583 1DE7			.local	CRT_WRITELN					; PROCEDURE
  3584
  3585 				; ------------------------------------------------------------
  3586
  3587 				; Generate Assignment for WORD / SMALLINT / SHORTREAL / POINTER
  3588 				; as Pointer
  3589 1DE7 B5 94			lda :STACKORIGIN,x
  3590 1DE9 85 82			sta :bp2
  3591 1DEB B5 A4			lda :STACKORIGIN+STACKWIDTH,x
  3592 1DED 85 83			sta :bp2+1
  3593 1DEF A0 00			ldy #$00
  3594 1DF1 B1 82 99 D3 A5 C8 + 	mva:rne (:bp2),y adr.S,y+
  3595 1DF9 CA				dex
  3596 1DFA			@main
  3597
  3598 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', helpers.pas), line = 95
  3599
  3600 1DFA E8				inx
  3601 1DFB AD 0C 1E 95 94		mva S :STACKORIGIN,x
  3602 1E00 AD 0D 1E 95 A4		mva S+1 :STACKORIGIN+STACKWIDTH,x
  3603 1E05 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
  3604
  3605 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', helpers.pas), line = 96
  3606
  3607 1E08 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
  3608
  3609 				; ------------------------------------------------------------
  3610
  3611 = A5D3			adr.S	= [DATAORIGIN+$09B8] .array [256]
  3612 1E0B			.var S	= adr.S .word
  3613
  3614 = 1E0C			@VarData	= S
  3615 = 0100			@VarDataSize	= 256
  3616
  3617 1E0B			@exit
  3618 					.ifdef @new
  3619 					lda <@VarData
  3620 					sta :ztmp
  3621 					lda >@VarData
  3622 					ldy #@VarDataSize-1
  3623 					jmp @FreeMem
  3624 					els
  3625 1E0B 60				rts						; ret
  3626 					eif
  3627 = 1E0C D3 A5		S
  3627 				.endl
  3628
  3629 1E0E			.local	GETRANDOM					; FUNCTION
  3630
  3631 				; optimize FAIL ('B_CRT.CRT_WHEREX', helpers.pas), line = 104
  3632
  3633 1E0E 20 49 18			jsr B_CRT.CRT_WHEREX
  3634 1E11 AD 5A A0			lda B_CRT.CRT_WHEREX.RESULT
  3635 1E14 8D DD A6			sta X
  3636
  3637 				; optimize FAIL ('B_CRT.CRT_WHEREY', helpers.pas), line = 105
  3638
  3639 1E17 20 26 18			jsr B_CRT.CRT_WHEREY
  3640 1E1A AD 59 A0			lda B_CRT.CRT_WHEREY.RESULT
  3641 1E1D 8D DE A6			sta Y
  3642
  3643 				; optimize OK (helpers.pas), line = 106
  3644
  3645 1E20 AD D3 A6			lda MINP
  3646 1E23 8D DB A6			sta PROP
  3647 1E26 AD D4 A6			lda MINP+1
  3648 1E29 8D DC A6			sta PROP+1
  3649
  3650 				; --- RepeatUntilProlog
  3651 1E2C			l_06B2
  3652
  3653 				; optimize FAIL ('B_CRT.CRT_KEYPRESSED', helpers.pas), line = 108
  3654
  3655 1E2C 20 5A 19			jsr B_CRT.CRT_KEYPRESSED
  3656 1E2F AD 64 A1			lda B_CRT.CRT_KEYPRESSED.RESULT
  3657 1E32 D0 F8			jne l_06B2
  3658
  3659 				; --- RepeatUntilProlog
  3660 1E34			l_06BB
  3661
  3662 				; optimize OK (helpers.pas), line = 111
  3663
  3664 1E34 AD DB A6			lda PROP
  3665 1E37 18 6D D7 A6			add STEPS
  3666 1E3B 8D DB A6			sta PROP
  3667 1E3E AD DC A6			lda PROP+1
  3668 1E41 6D D8 A6			adc STEPS+1
  3669 1E44 8D DC A6			sta PROP+1
  3670
  3671 				; optimize OK (helpers.pas), line = 112
  3672
  3673 1E47 AD D6 A6			lda MAXP+1
  3674 1E4A CD DC A6			cmp PROP+1
  3675 1E4D D0 06			bne @+
  3676 1E4F AD D5 A6			lda MAXP
  3677 1E52 CD DB A6			cmp PROP
  3678 				@
  3679 1E55 B0 0C			jcs l_06D7
  3680
  3681 				; optimize OK (helpers.pas), line = 113
  3682
  3683 1E57 AD D3 A6			lda MINP
  3684 1E5A 8D DB A6			sta PROP
  3685 1E5D AD D4 A6			lda MINP+1
  3686 1E60 8D DC A6			sta PROP+1
  3687 1E63			l_06D7
  3688
  3689 				; optimize OK (helpers.pas), line = 114
  3690
  3691 1E63 AD DD A6			lda X
  3692 1E66 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
  3693 1E69 AD DE A6			lda Y
  3694 1E6C 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
  3695 1E6F 20 F9 17			jsr B_CRT.CRT_GOTOXY
  3696
  3697 				; optimize FAIL ('B_SYSTEM.WAITFRAME', helpers.pas), line = 115
  3698
  3699 1E72 20 0C 17			jsr B_SYSTEM.WAITFRAME
  3700
  3701 				; optimize OK (helpers.pas), line = 116
  3702
  3703 1E75 AD DB A6			lda PROP
  3704 1E78 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
  3705 1E7B AD DC A6			lda PROP+1
  3706 1E7E 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
  3707 1E81 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
  3708
  3709 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', helpers.pas), line = 117
  3710
  3711 1E84 E8				inx
  3712 1E85 A9 6B 95 94			mva #$6B :STACKORIGIN,x
  3713 1E89 A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
  3714 1E8D 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
  3715
  3716 				; optimize FAIL ('CHECKKEYANDSTICK', helpers.pas), line = 119
  3717
  3718 1E90 20 92 1B			jsr CHECKKEYANDSTICK
  3719 1E93 AD BE A4			lda CHECKKEYANDSTICK.RESULT
  3720 1E96 F0 9C			jeq l_06BB
  3721
  3722 				; --- RepeatUntilProlog
  3723 1E98			l_06F8
  3724
  3725 				; optimize FAIL ('CHECKKEYANDSTICK', helpers.pas), line = 121
  3726
  3727 1E98 20 92 1B			jsr CHECKKEYANDSTICK
  3728 1E9B AD BE A4			lda CHECKKEYANDSTICK.RESULT
  3729 1E9E 8D FC 02			sta ATARI.CH
  3730
  3731 				; optimize FAIL (1, helpers.pas), line = 122
  3732
  3733 1EA1 E8				inx
  3734 1EA2 A0 01			ldy #1
  3735 1EA4 AD FC 02			lda ATARI.CH
  3736 1EA7 F0 01			beq @+
  3737 1EA9 88				dey
  3738 				@
  3739 1EAA 94 94			sty :STACKORIGIN,x
  3740 1EAC 20 5A 19			jsr B_CRT.CRT_KEYPRESSED
  3741 1EAF CA				dex
  3742 1EB0 A0 01			ldy #1
  3743 1EB2 AD 64 A1			lda B_CRT.CRT_KEYPRESSED.RESULT
  3744 1EB5 F0 01			beq @+
  3745 1EB7 88				dey
  3746 				@
  3747 1EB8 98				tya
  3748 1EB9 35 95			and :STACKORIGIN+1,x
  3749 1EBB F0 DB			jeq l_06F8
  3750
  3751 				; optimize OK (helpers.pas), line = 123
  3752
  3753 1EBD AD DB A6			lda PROP
  3754 1EC0 8D D9 A6			sta RESULT
  3755 1EC3 AD DC A6			lda PROP+1
  3756 1EC6 8D DA A6			sta RESULT+1
  3757 1EC9			@exit
  3758
  3759 				; ------------------------------------------------------------
  3760
  3761 = A6D3			MINP	= DATAORIGIN+$0AB8
  3762 = A6D5			MAXP	= DATAORIGIN+$0ABA
  3763 = A6D7			STEPS	= DATAORIGIN+$0ABC
  3764 = A6D9			RESULT	= DATAORIGIN+$0ABE
  3765 = A6DB			PROP	= DATAORIGIN+$0AC0
  3766 = A6DD			X	= DATAORIGIN+$0AC2
  3767 = A6DE			Y	= DATAORIGIN+$0AC3
  3768
  3769 = A6D3			@VarData	= MINP
  3770 = 000A			@VarDataSize	= 10
  3771
  3772 1EC9 60				rts						; ret
  3773 				.endl
  3774
  3775 1ECA			.local	GETANSWERCHAR					; FUNCTION
  3776
  3777 				; optimize FAIL ('B_CRT.CRT_WHEREX', helpers.pas), line = 133
  3778
  3779 1ECA 20 49 18			jsr B_CRT.CRT_WHEREX
  3780 1ECD AD 5A A0			lda B_CRT.CRT_WHEREX.RESULT
  3781 1ED0 8D E4 A6			sta X
  3782
  3783 				; optimize FAIL ('B_CRT.CRT_WHEREY', helpers.pas), line = 134
  3784
  3785 1ED3 20 26 18			jsr B_CRT.CRT_WHEREY
  3786 1ED6 AD 59 A0			lda B_CRT.CRT_WHEREY.RESULT
  3787 1ED9 8D E5 A6			sta Y
  3788
  3789 				; optimize OK (helpers.pas), line = 135
  3790
  3791 1EDC AD E1 A6			lda A
  3792 1EDF 8D E7 A6			sta ANSWER
  3793
  3794 				; --- RepeatUntilProlog
  3795 1EE2			l_0728
  3796
  3797 				; optimize OK (helpers.pas), line = 137
  3798
  3799 1EE2 AD E4 A6			lda X
  3800 1EE5 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
  3801 1EE8 AD E5 A6			lda Y
  3802 1EEB 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
  3803 1EEE 20 F9 17			jsr B_CRT.CRT_GOTOXY
  3804
  3805 				; optimize OK (helpers.pas), line = 138
  3806
  3807 1EF1 AD E7 A6			lda ANSWER
  3808 1EF4 20 B2 18			jsr B_CRT.CRT_WRITE.@010186000
  3809
  3810 				; optimize OK (helpers.pas), line = 139
  3811
  3812 1EF7 A9 00			lda #$00
  3813 1EF9 20 B2 18			jsr B_CRT.CRT_WRITE.@010186000
  3814
  3815 				; optimize FAIL ('CRT_READKEYORJOYSTICK', helpers.pas), line = 140
  3816
  3817 1EFC 20 B8 1C			jsr CRT_READKEYORJOYSTICK
  3818 1EFF AD CF A4			lda CRT_READKEYORJOYSTICK.RESULT
  3819 1F02 8D E6 A6			sta CH
  3820
  3821 				; optimize OK (helpers.pas), line = 141
  3822
  3823 1F05 C9 0C			cmp #$0C
  3824 1F07 D0 03			jne l_074B
  3825 1F09 4C 33 1F			jmp b_0728
  3826 1F0C			l_074B
  3827
  3828 				; optimize OK (helpers.pas), line = 142
  3829
  3830 1F0C AD E6 A6			lda CH
  3831 1F0F C9 0E			cmp #$0E
  3832 1F11 F0 05			jeq l_076Ex
  3833 1F13 CD DF A6			cmp AKEY
  3834 1F16 D0 06			jne l_076E
  3835 1F18			l_076Ex
  3836 1F18 AD E1 A6			lda A
  3837 1F1B 8D E7 A6			sta ANSWER
  3838 1F1E			l_076E
  3839
  3840 				; optimize OK (helpers.pas), line = 143
  3841
  3842 1F1E AD E6 A6			lda CH
  3843 1F21 C9 0F			cmp #$0F
  3844 1F23 F0 05			jeq l_0797x
  3845 1F25 CD E0 A6			cmp BKEY
  3846 1F28 D0 06			jne l_0797
  3847 1F2A			l_0797x
  3848 1F2A AD E2 A6			lda B
  3849 1F2D 8D E7 A6			sta ANSWER
  3850 1F30			l_0797
  3851
  3852 				; optimize OK (helpers.pas), line = 144
  3853
  3854 1F30 4C E2 1E			jmp l_0728
  3855 1F33			b_0728
  3856
  3857 				; optimize OK (helpers.pas), line = 145
  3858
  3859 1F33 AD E7 A6			lda ANSWER
  3860 1F36 CD E1 A6			cmp A
  3861 1F39 D0 05			jne l_07B9
  3862 1F3B A9 00			lda #$00
  3863 1F3D 4C 42 1F			jmp l_07C7
  3864 1F40			l_07B9
  3865 1F40 A9 01			lda #$01
  3866 1F42			l_07C7
  3867 1F42 8D E3 A6			sta RESULT
  3868 1F45			@exit
  3869
  3870 				; ------------------------------------------------------------
  3871
  3872 = A6DF			AKEY	= DATAORIGIN+$0AC4
  3873 = A6E0			BKEY	= DATAORIGIN+$0AC5
  3874 = A6E1			A	= DATAORIGIN+$0AC6
  3875 = A6E2			B	= DATAORIGIN+$0AC7
  3876 = A6E3			RESULT	= DATAORIGIN+$0AC8
  3877 = A6E4			X	= DATAORIGIN+$0AC9
  3878 = A6E5			Y	= DATAORIGIN+$0ACA
  3879 = A6E6			CH	= DATAORIGIN+$0ACB
  3880 = A6E7			ANSWER	= DATAORIGIN+$0ACC
  3881
  3882 = A6DF			@VarData	= AKEY
  3883 = 0008			@VarDataSize	= 8
  3884
  3885 1F45 60				rts						; ret
  3886 				.endl
  3887
  3888 1F46			.local	GETYESNO					; FUNCTION
  3889
  3890 				; optimize OK (helpers.pas), line = 152
  3891
  3892 1F46 A9 23			lda #$23
  3893 1F48 8D DF A6			sta GETANSWERCHAR.AKEY
  3894 1F4B A9 2B			lda #$2B
  3895 1F4D 8D E0 A6			sta GETANSWERCHAR.BKEY
  3896 1F50 A9 2E			lda #$2E
  3897 1F52 8D E1 A6			sta GETANSWERCHAR.A
  3898 1F55 A9 39			lda #$39
  3899 1F57 8D E2 A6			sta GETANSWERCHAR.B
  3900 1F5A 20 CA 1E			jsr GETANSWERCHAR
  3901 1F5D AD E3 A6			lda GETANSWERCHAR.RESULT
  3902 1F60 8D E8 A6			sta RESULT
  3903 1F63			@exit
  3904
  3905 				; ------------------------------------------------------------
  3906
  3907 = A6E8			RESULT	= DATAORIGIN+$0ACD
  3908
  3909 1F63 60				rts						; ret
  3910 				.endl
  3911
  3912 1F64			.local	READVALUE					; FUNCTION
  3913
  3914 				; optimize FAIL ('B_CRT.CRT_WHEREX', helpers.pas), line = 169
  3915
  3916 1F64 20 49 18			jsr B_CRT.CRT_WHEREX
  3917 1F67 AD 5A A0			lda B_CRT.CRT_WHEREX.RESULT
  3918 1F6A 8D F5 A6			sta X
  3919
  3920 				; optimize FAIL ('B_CRT.CRT_WHEREY', helpers.pas), line = 170
  3921
  3922 1F6D 20 26 18			jsr B_CRT.CRT_WHEREY
  3923 1F70 AD 59 A0			lda B_CRT.CRT_WHEREY.RESULT
  3924 1F73 8D F6 A6			sta Y
  3925
  3926 				; optimize OK (helpers.pas), line = 172
  3927
  3928 1F76 AD E9 A6			lda MINVALUE
  3929 1F79 8D EF A6			sta VALUE
  3930 1F7C A0 00			ldy #$00
  3931 1F7E AD EA A6			lda MINVALUE+1
  3932 1F81 10 01			spl
  3933 1F83 88				dey
  3934 1F84 8D F0 A6			sta VALUE+1
  3935 1F87 8C F1 A6			sty VALUE+2
  3936 1F8A 8C F2 A6			sty VALUE+3
  3937
  3938 				; optimize OK (helpers.pas), line = 173
  3939
  3940 1F8D A9 01			lda #$01
  3941 1F8F 8D F3 A6			sta STEP
  3942 1F92 A9 00			lda #$00
  3943 1F94 8D F4 A6			sta STEP+1
  3944
  3945 				; optimize OK (helpers.pas), line = 174
  3946
  3947 1F97 8D FA A6			sta FASTADJUSTCOUNTER
  3948
  3949 				; optimize OK (helpers.pas), line = 175
  3950
  3951 1F9A A9 10			lda #$10
  3952 1F9C 8D F9 A6			sta CURDELAY
  3953
  3954 				; optimize OK (helpers.pas), line = 176
  3955
  3956 1F9F AD EF A6			lda VALUE
  3957 1FA2 8D 5F A1			sta B_CRT.CRT_WRITE.@010185000.NUM
  3958 1FA5 AD F0 A6			lda VALUE+1
  3959 1FA8 8D 60 A1			sta B_CRT.CRT_WRITE.@010185000.NUM+1
  3960 1FAB AD F1 A6			lda VALUE+2
  3961 1FAE 8D 61 A1			sta B_CRT.CRT_WRITE.@010185000.NUM+2
  3962 1FB1 AD F2 A6			lda VALUE+3
  3963 1FB4 8D 62 A1			sta B_CRT.CRT_WRITE.@010185000.NUM+3
  3964 1FB7 20 17 19			jsr B_CRT.CRT_WRITE.@010185000
  3965
  3966 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', helpers.pas), line = 177
  3967
  3968 1FBA E8				inx
  3969 1FBB A9 6E 95 94			mva #$6E :STACKORIGIN,x
  3970 1FBF A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
  3971 1FC3 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
  3972
  3973 				; optimize FAIL ('CRT_READKEYORJOYSTICK', helpers.pas), line = 178
  3974
  3975 1FC6 20 B8 1C			jsr CRT_READKEYORJOYSTICK
  3976 1FC9 AD CF A4			lda CRT_READKEYORJOYSTICK.RESULT
  3977 1FCC 8D F8 A6			sta CH
  3978
  3979 				; --- RepeatUntilProlog
  3980 1FCF			l_07FD
  3981
  3982 				; optimize FAIL ('CHECKKEYANDSTICK', helpers.pas), line = 180
  3983
  3984 1FCF 20 92 1B			jsr CHECKKEYANDSTICK
  3985 1FD2 AD BE A4			lda CHECKKEYANDSTICK.RESULT
  3986 1FD5 8D F8 A6			sta CH
  3987
  3988 				; optimize OK (helpers.pas), line = 182
  3989
  3990 1FD8 C9 0C			cmp #$0C
  3991 1FDA D0 03			jne l_0813
  3992 1FDC 4C E3 22			jmp b_07FD
  3993 1FDF			l_0813
  3994
  3995 				; optimize OK (helpers.pas), line = 184
  3996
  3997 1FDF AD F8 A6			lda CH
  3998 1FE2 C9 0E			cmp #$0E
  3999 1FE4 F0 03 4C A0 20		jne l_0828
  4000
  4001 				; optimize OK (helpers.pas), line = 186
  4002
  4003 1FE9 AD FA A6			lda FASTADJUSTCOUNTER
  4004 1FEC F0 03 4C 9D 20		jne l_083B
  4005
  4006 				; optimize OK (helpers.pas), line = 188
  4007
  4008 1FF1 AD F3 A6			lda STEP
  4009 1FF4 85 9E			sta :STACKORIGIN+10
  4010 1FF6 A0 00			ldy #$00
  4011 1FF8 AD F4 A6			lda STEP+1
  4012 1FFB 10 01			spl
  4013 1FFD 88				dey
  4014 1FFE 85 AE			sta :STACKORIGIN+STACKWIDTH+10
  4015 2000 84 BE			sty :STACKORIGIN+STACKWIDTH*2+10
  4016 2002 84 CE			sty :STACKORIGIN+STACKWIDTH*3+10
  4017 2004 AD EF A6			lda VALUE
  4018 2007 18 65 9E			add :STACKORIGIN+10
  4019 200A 8D EF A6			sta VALUE
  4020 200D AD F0 A6			lda VALUE+1
  4021 2010 65 AE			adc :STACKORIGIN+STACKWIDTH+10
  4022 2012 8D F0 A6			sta VALUE+1
  4023 2015 AD F1 A6			lda VALUE+2
  4024 2018 65 BE			adc :STACKORIGIN+STACKWIDTH*2+10
  4025 201A 8D F1 A6			sta VALUE+2
  4026 201D AD F2 A6			lda VALUE+3
  4027 2020 65 CE			adc :STACKORIGIN+STACKWIDTH*3+10
  4028 2022 8D F2 A6			sta VALUE+3
  4029
  4030 				; optimize OK (helpers.pas), line = 189
  4031
  4032 2025 AD EB A6			lda MAXVALUE
  4033 2028 85 9E			sta :STACKORIGIN+10
  4034 202A A0 00			ldy #$00
  4035 202C AD EC A6			lda MAXVALUE+1
  4036 202F 10 01			spl
  4037 2031 88				dey
  4038 2032 85 AE			sta :STACKORIGIN+STACKWIDTH+10
  4039 2034 84 BE			sty :STACKORIGIN+STACKWIDTH*2+10
  4040 2036 84 CE			sty :STACKORIGIN+STACKWIDTH*3+10
  4041 2038				.LOCAL
  4042 2038 AD F2 A6			lda VALUE+3
  4043 203B 38 E5 CE			sub :STACKORIGIN+STACKWIDTH*3+10
  4044 203E D0 1F			bne L4
  4045 2040 AD F1 A6			lda VALUE+2
  4046 2043 C5 BE			cmp :STACKORIGIN+STACKWIDTH*2+10
  4047 2045 D0 0C			bne L1
  4048 2047 AD F0 A6			lda VALUE+1
  4049 204A C5 AE			cmp :STACKORIGIN+STACKWIDTH+10
  4050 204C D0 05			bne L1
  4051 204E AD EF A6			lda VALUE
  4052 2051 C5 9E			cmp :STACKORIGIN+10
  4053 2053 F0 10		L1	beq L5
  4054 2055 B0 04			bcs L3
  4055 2057 A9 FF			lda #$FF
  4056 2059 D0 0A			bne L5
  4057 205B A9 01		L3	lda #$01
  4058 205D D0 06			bne L5
  4059 205F 50 04		L4	bvc L5
  4060 2061 49 FF			eor #$FF
  4061 2063 09 01			ora #$01
  4062 2065			L5
  4063 					.ENDL
  4064 2065 30 19			jmi l_0856
  4065 2067 F0 17			jeq l_0856
  4066
  4067 				; optimize OK (helpers.pas), line = 190
  4068
  4069 2069 AD EB A6			lda MAXVALUE
  4070 206C 8D EF A6			sta VALUE
  4071 206F A0 00			ldy #$00
  4072 2071 AD EC A6			lda MAXVALUE+1
  4073 2074 10 01			spl
  4074 2076 88				dey
  4075 2077 8D F0 A6			sta VALUE+1
  4076 207A 8C F1 A6			sty VALUE+2
  4077 207D 8C F2 A6			sty VALUE+3
  4078 2080			l_0856
  4079
  4080 				; optimize OK (helpers.pas), line = 191
  4081
  4082 2080 AD F9 A6			lda CURDELAY
  4083 2083 C9 03			cmp #$03
  4084 2085 90 06			jcc l_0870
  4085
  4086 				; optimize OK (helpers.pas), line = 192
  4087
  4088 2087 CE F9 A6			dec CURDELAY
  4089 208A 4C 97 20			jmp l_0884
  4090 208D			l_0870
  4091
  4092 				; optimize OK (helpers.pas), line = 194
  4093
  4094 208D A9 02			lda #$02
  4095 208F 8D F3 A6			sta STEP
  4096 2092 A9 00			lda #$00
  4097 2094 8D F4 A6			sta STEP+1
  4098 2097			l_0884
  4099
  4100 				; optimize OK (helpers.pas), line = 195
  4101
  4102 2097 AD F9 A6			lda CURDELAY
  4103 209A 8D FA A6			sta FASTADJUSTCOUNTER
  4104 209D			l_083B
  4105 209D 4C 9F 22			jmp l_0899
  4106 20A0			l_0828
  4107
  4108 				; optimize OK (helpers.pas), line = 198
  4109
  4110 20A0 AD F8 A6			lda CH
  4111 20A3 C9 07			cmp #$07
  4112 20A5 F0 03 4C 37 21		jne l_08AB
  4113
  4114 				; optimize OK (helpers.pas), line = 200
  4115
  4116 20AA AD EF A6			lda VALUE
  4117 20AD 18 69 F4			add #$F4
  4118 20B0 8D EF A6			sta VALUE
  4119 20B3 AD F0 A6			lda VALUE+1
  4120 20B6 69 01			adc #$01
  4121 20B8 8D F0 A6			sta VALUE+1
  4122 20BB AD F1 A6			lda VALUE+2
  4123 20BE 69 00			adc #$00
  4124 20C0 8D F1 A6			sta VALUE+2
  4125 20C3 AD F2 A6			lda VALUE+3
  4126 20C6 69 00			adc #$00
  4127 20C8 8D F2 A6			sta VALUE+3
  4128
  4129 				; optimize OK (helpers.pas), line = 201
  4130
  4131 20CB AD EB A6			lda MAXVALUE
  4132 20CE 85 9E			sta :STACKORIGIN+10
  4133 20D0 A0 00			ldy #$00
  4134 20D2 AD EC A6			lda MAXVALUE+1
  4135 20D5 10 01			spl
  4136 20D7 88				dey
  4137 20D8 85 AE			sta :STACKORIGIN+STACKWIDTH+10
  4138 20DA 84 BE			sty :STACKORIGIN+STACKWIDTH*2+10
  4139 20DC 84 CE			sty :STACKORIGIN+STACKWIDTH*3+10
  4140 20DE				.LOCAL
  4141 20DE AD F2 A6			lda VALUE+3
  4142 20E1 38 E5 CE			sub :STACKORIGIN+STACKWIDTH*3+10
  4143 20E4 D0 1F			bne L4
  4144 20E6 AD F1 A6			lda VALUE+2
  4145 20E9 C5 BE			cmp :STACKORIGIN+STACKWIDTH*2+10
  4146 20EB D0 0C			bne L1
  4147 20ED AD F0 A6			lda VALUE+1
  4148 20F0 C5 AE			cmp :STACKORIGIN+STACKWIDTH+10
  4149 20F2 D0 05			bne L1
  4150 20F4 AD EF A6			lda VALUE
  4151 20F7 C5 9E			cmp :STACKORIGIN+10
  4152 20F9 F0 10		L1	beq L5
  4153 20FB B0 04			bcs L3
  4154 20FD A9 FF			lda #$FF
  4155 20FF D0 0A			bne L5
  4156 2101 A9 01		L3	lda #$01
  4157 2103 D0 06			bne L5
  4158 2105 50 04		L4	bvc L5
  4159 2107 49 FF			eor #$FF
  4160 2109 09 01			ora #$01
  4161 210B			L5
  4162 					.ENDL
  4163 210B 30 19			jmi l_08C5
  4164 210D F0 17			jeq l_08C5
  4165
  4166 				; optimize OK (helpers.pas), line = 202
  4167
  4168 210F AD EB A6			lda MAXVALUE
  4169 2112 8D EF A6			sta VALUE
  4170 2115 A0 00			ldy #$00
  4171 2117 AD EC A6			lda MAXVALUE+1
  4172 211A 10 01			spl
  4173 211C 88				dey
  4174 211D 8D F0 A6			sta VALUE+1
  4175 2120 8C F1 A6			sty VALUE+2
  4176 2123 8C F2 A6			sty VALUE+3
  4177 2126			l_08C5
  4178
  4179 				; --- RepeatUntilProlog
  4180 2126			l_08CE
  4181
  4182 				; optimize FAIL ('CHECKKEYANDSTICK', helpers.pas), line = 205
  4183
  4184 2126 20 92 1B			jsr CHECKKEYANDSTICK
  4185 2129 AD BE A4			lda CHECKKEYANDSTICK.RESULT
  4186 212C 8D F7 A6			sta TMPCH
  4187
  4188 				; optimize OK (helpers.pas), line = 206
  4189
  4190 212F CD F8 A6			cmp CH
  4191 2132 F0 F2			jeq l_08CE
  4192 2134 4C 9F 22			jmp l_08EA
  4193 2137			l_08AB
  4194
  4195 				; optimize OK (helpers.pas), line = 208
  4196
  4197 2137 AD F8 A6			lda CH
  4198 213A C9 06			cmp #$06
  4199 213C F0 03 4C CC 21		jne l_08FC
  4200
  4201 				; optimize OK (helpers.pas), line = 210
  4202
  4203 2141 AD EF A6			lda VALUE
  4204 2144 38 E9 F4			sub #$F4
  4205 2147 8D EF A6			sta VALUE
  4206 214A AD F0 A6			lda VALUE+1
  4207 214D E9 01			sbc #$01
  4208 214F 8D F0 A6			sta VALUE+1
  4209 2152 AD F1 A6			lda VALUE+2
  4210 2155 E9 00			sbc #$00
  4211 2157 8D F1 A6			sta VALUE+2
  4212 215A AD F2 A6			lda VALUE+3
  4213 215D E9 00			sbc #$00
  4214 215F 8D F2 A6			sta VALUE+3
  4215
  4216 				; optimize OK (helpers.pas), line = 211
  4217
  4218 2162 AD E9 A6			lda MINVALUE
  4219 2165 85 9E			sta :STACKORIGIN+10
  4220 2167 A0 00			ldy #$00
  4221 2169 AD EA A6			lda MINVALUE+1
  4222 216C 10 01			spl
  4223 216E 88				dey
  4224 216F 85 AE			sta :STACKORIGIN+STACKWIDTH+10
  4225 2171 84 BE			sty :STACKORIGIN+STACKWIDTH*2+10
  4226 2173 84 CE			sty :STACKORIGIN+STACKWIDTH*3+10
  4227 2175				.LOCAL
  4228 2175 AD F2 A6			lda VALUE+3
  4229 2178 38 E5 CE			sub :STACKORIGIN+STACKWIDTH*3+10
  4230 217B D0 1F			bne L4
  4231 217D AD F1 A6			lda VALUE+2
  4232 2180 C5 BE			cmp :STACKORIGIN+STACKWIDTH*2+10
  4233 2182 D0 0C			bne L1
  4234 2184 AD F0 A6			lda VALUE+1
  4235 2187 C5 AE			cmp :STACKORIGIN+STACKWIDTH+10
  4236 2189 D0 05			bne L1
  4237 218B AD EF A6			lda VALUE
  4238 218E C5 9E			cmp :STACKORIGIN+10
  4239 2190 F0 10		L1	beq L5
  4240 2192 B0 04			bcs L3
  4241 2194 A9 FF			lda #$FF
  4242 2196 D0 0A			bne L5
  4243 2198 A9 01		L3	lda #$01
  4244 219A D0 06			bne L5
  4245 219C 50 04		L4	bvc L5
  4246 219E 49 FF			eor #$FF
  4247 21A0 09 01			ora #$01
  4248 21A2			L5
  4249 					.ENDL
  4250 21A2 10 17			jpl l_0916
  4251
  4252 				; optimize OK (helpers.pas), line = 212
  4253
  4254 21A4 AD E9 A6			lda MINVALUE
  4255 21A7 8D EF A6			sta VALUE
  4256 21AA A0 00			ldy #$00
  4257 21AC AD EA A6			lda MINVALUE+1
  4258 21AF 10 01			spl
  4259 21B1 88				dey
  4260 21B2 8D F0 A6			sta VALUE+1
  4261 21B5 8C F1 A6			sty VALUE+2
  4262 21B8 8C F2 A6			sty VALUE+3
  4263 21BB			l_0916
  4264
  4265 				; --- RepeatUntilProlog
  4266 21BB			l_091F
  4267
  4268 				; optimize FAIL ('CHECKKEYANDSTICK', helpers.pas), line = 215
  4269
  4270 21BB 20 92 1B			jsr CHECKKEYANDSTICK
  4271 21BE AD BE A4			lda CHECKKEYANDSTICK.RESULT
  4272 21C1 8D F7 A6			sta TMPCH
  4273
  4274 				; optimize OK (helpers.pas), line = 216
  4275
  4276 21C4 CD F8 A6			cmp CH
  4277 21C7 F0 F2			jeq l_091F
  4278 21C9 4C 9F 22			jmp l_093B
  4279 21CC			l_08FC
  4280
  4281 				; optimize OK (helpers.pas), line = 218
  4282
  4283 21CC AD F8 A6			lda CH
  4284 21CF C9 0F			cmp #$0F
  4285 21D1 F0 03 4C 8B 22		jne l_094D
  4286
  4287 				; optimize OK (helpers.pas), line = 220
  4288
  4289 21D6 AD FA A6			lda FASTADJUSTCOUNTER
  4290 21D9 F0 03 4C 88 22		jne l_0960
  4291
  4292 				; optimize OK (helpers.pas), line = 222
  4293
  4294 21DE AD F3 A6			lda STEP
  4295 21E1 85 9E			sta :STACKORIGIN+10
  4296 21E3 A0 00			ldy #$00
  4297 21E5 AD F4 A6			lda STEP+1
  4298 21E8 10 01			spl
  4299 21EA 88				dey
  4300 21EB 85 AE			sta :STACKORIGIN+STACKWIDTH+10
  4301 21ED 84 BE			sty :STACKORIGIN+STACKWIDTH*2+10
  4302 21EF 84 CE			sty :STACKORIGIN+STACKWIDTH*3+10
  4303 21F1 AD EF A6			lda VALUE
  4304 21F4 38 E5 9E			sub :STACKORIGIN+10
  4305 21F7 8D EF A6			sta VALUE
  4306 21FA AD F0 A6			lda VALUE+1
  4307 21FD E5 AE			sbc :STACKORIGIN+STACKWIDTH+10
  4308 21FF 8D F0 A6			sta VALUE+1
  4309 2202 AD F1 A6			lda VALUE+2
  4310 2205 E5 BE			sbc :STACKORIGIN+STACKWIDTH*2+10
  4311 2207 8D F1 A6			sta VALUE+2
  4312 220A AD F2 A6			lda VALUE+3
  4313 220D E5 CE			sbc :STACKORIGIN+STACKWIDTH*3+10
  4314 220F 8D F2 A6			sta VALUE+3
  4315
  4316 				; optimize OK (helpers.pas), line = 223
  4317
  4318 2212 AD E9 A6			lda MINVALUE
  4319 2215 85 9E			sta :STACKORIGIN+10
  4320 2217 A0 00			ldy #$00
  4321 2219 AD EA A6			lda MINVALUE+1
  4322 221C 10 01			spl
  4323 221E 88				dey
  4324 221F 85 AE			sta :STACKORIGIN+STACKWIDTH+10
  4325 2221 84 BE			sty :STACKORIGIN+STACKWIDTH*2+10
  4326 2223 84 CE			sty :STACKORIGIN+STACKWIDTH*3+10
  4327 2225				.LOCAL
  4328 2225 AD F2 A6			lda VALUE+3
  4329 2228 38 E5 CE			sub :STACKORIGIN+STACKWIDTH*3+10
  4330 222B D0 1F			bne L4
  4331 222D AD F1 A6			lda VALUE+2
  4332 2230 C5 BE			cmp :STACKORIGIN+STACKWIDTH*2+10
  4333 2232 D0 0C			bne L1
  4334 2234 AD F0 A6			lda VALUE+1
  4335 2237 C5 AE			cmp :STACKORIGIN+STACKWIDTH+10
  4336 2239 D0 05			bne L1
  4337 223B AD EF A6			lda VALUE
  4338 223E C5 9E			cmp :STACKORIGIN+10
  4339 2240 F0 10		L1	beq L5
  4340 2242 B0 04			bcs L3
  4341 2244 A9 FF			lda #$FF
  4342 2246 D0 0A			bne L5
  4343 2248 A9 01		L3	lda #$01
  4344 224A D0 06			bne L5
  4345 224C 50 04		L4	bvc L5
  4346 224E 49 FF			eor #$FF
  4347 2250 09 01			ora #$01
  4348 2252			L5
  4349 					.ENDL
  4350 2252 10 17			jpl l_097B
  4351
  4352 				; optimize OK (helpers.pas), line = 224
  4353
  4354 2254 AD E9 A6			lda MINVALUE
  4355 2257 8D EF A6			sta VALUE
  4356 225A A0 00			ldy #$00
  4357 225C AD EA A6			lda MINVALUE+1
  4358 225F 10 01			spl
  4359 2261 88				dey
  4360 2262 8D F0 A6			sta VALUE+1
  4361 2265 8C F1 A6			sty VALUE+2
  4362 2268 8C F2 A6			sty VALUE+3
  4363 226B			l_097B
  4364
  4365 				; optimize OK (helpers.pas), line = 225
  4366
  4367 226B AD F9 A6			lda CURDELAY
  4368 226E C9 03			cmp #$03
  4369 2270 90 06			jcc l_0995
  4370
  4371 				; optimize OK (helpers.pas), line = 226
  4372
  4373 2272 CE F9 A6			dec CURDELAY
  4374 2275 4C 82 22			jmp l_09A9
  4375 2278			l_0995
  4376
  4377 				; optimize OK (helpers.pas), line = 228
  4378
  4379 2278 A9 02			lda #$02
  4380 227A 8D F3 A6			sta STEP
  4381 227D A9 00			lda #$00
  4382 227F 8D F4 A6			sta STEP+1
  4383 2282			l_09A9
  4384
  4385 				; optimize OK (helpers.pas), line = 229
  4386
  4387 2282 AD F9 A6			lda CURDELAY
  4388 2285 8D FA A6			sta FASTADJUSTCOUNTER
  4389 2288			l_0960
  4390 2288 4C 9F 22			jmp l_09BE
  4391 228B			l_094D
  4392
  4393 				; optimize OK (helpers.pas), line = 234
  4394
  4395 228B A9 00			lda #$00
  4396 228D 8D FA A6			sta FASTADJUSTCOUNTER
  4397
  4398 				; optimize OK (helpers.pas), line = 235
  4399
  4400 2290 A9 10			lda #$10
  4401 2292 8D F9 A6			sta CURDELAY
  4402
  4403 				; optimize OK (helpers.pas), line = 236
  4404
  4405 2295 A9 01			lda #$01
  4406 2297 8D F3 A6			sta STEP
  4407 229A A9 00			lda #$00
  4408 229C 8D F4 A6			sta STEP+1
  4409 229F			l_09BE
  4410 229F			l_093B
  4411 229F			l_08EA
  4412 229F			l_0899
  4413
  4414 				; optimize OK (helpers.pas), line = 239
  4415
  4416 229F AD FA A6			lda FASTADJUSTCOUNTER
  4417 22A2 F0 03			jeq l_09DC
  4418
  4419 				; optimize OK (helpers.pas), line = 240
  4420
  4421 22A4 CE FA A6			dec FASTADJUSTCOUNTER
  4422 22A7			l_09DC
  4423
  4424 				; optimize OK (helpers.pas), line = 242
  4425
  4426 22A7 AD F5 A6			lda X
  4427 22AA 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
  4428 22AD AD F6 A6			lda Y
  4429 22B0 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
  4430 22B3 20 F9 17			jsr B_CRT.CRT_GOTOXY
  4431
  4432 				; optimize OK (helpers.pas), line = 243
  4433
  4434 22B6 AD EF A6			lda VALUE
  4435 22B9 8D 5F A1			sta B_CRT.CRT_WRITE.@010185000.NUM
  4436 22BC AD F0 A6			lda VALUE+1
  4437 22BF 8D 60 A1			sta B_CRT.CRT_WRITE.@010185000.NUM+1
  4438 22C2 AD F1 A6			lda VALUE+2
  4439 22C5 8D 61 A1			sta B_CRT.CRT_WRITE.@010185000.NUM+2
  4440 22C8 AD F2 A6			lda VALUE+3
  4441 22CB 8D 62 A1			sta B_CRT.CRT_WRITE.@010185000.NUM+3
  4442 22CE 20 17 19			jsr B_CRT.CRT_WRITE.@010185000
  4443
  4444 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', helpers.pas), line = 244
  4445
  4446 22D1 E8				inx
  4447 22D2 A9 6E 95 94			mva #$6E :STACKORIGIN,x
  4448 22D6 A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
  4449 22DA 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
  4450
  4451 				; optimize FAIL ('B_SYSTEM.WAITFRAME', helpers.pas), line = 245
  4452
  4453 22DD 20 0C 17			jsr B_SYSTEM.WAITFRAME
  4454
  4455 				; optimize OK (helpers.pas), line = 246
  4456
  4457 22E0 4C CF 1F			jmp l_07FD
  4458 22E3			b_07FD
  4459
  4460 				; optimize OK (helpers.pas), line = 248
  4461
  4462 22E3 AD EF A6			lda VALUE
  4463 22E6 8D ED A6			sta RESULT
  4464 22E9 AD F0 A6			lda VALUE+1
  4465 22EC 8D EE A6			sta RESULT+1
  4466 22EF			@exit
  4467
  4468 				; ------------------------------------------------------------
  4469
  4470 = A6E9			MINVALUE	= DATAORIGIN+$0ACE
  4471 = A6EB			MAXVALUE	= DATAORIGIN+$0AD0
  4472 = A6ED			RESULT	= DATAORIGIN+$0AD2
  4473 = A6EF			VALUE	= DATAORIGIN+$0AD4
  4474 = A6F3			STEP	= DATAORIGIN+$0AD8
  4475 = A6F5			X	= DATAORIGIN+$0ADA
  4476 = A6F6			Y	= DATAORIGIN+$0ADB
  4477 = A6F7			TMPCH	= DATAORIGIN+$0ADC
  4478 = A6F8			CH	= DATAORIGIN+$0ADD
  4479 = A6F9			CURDELAY	= DATAORIGIN+$0ADE
  4480 = A6FA			FASTADJUSTCOUNTER	= DATAORIGIN+$0ADF
  4481
  4482 = A6E9			@VarData	= MINVALUE
  4483 = 0010			@VarDataSize	= 16
  4484
  4485 22EF 60				rts						; ret
  4486 				.endl
  4487
  4488 22F0			.local	LOADGANGSTER					; PROCEDURE
  4489 22F0 8D FB A6			sta G
  4490
  4491 				; optimize OK (helpers.pas), line = 275
  4492
  4493 22F3 AD 60 9B			lda GANGSTERFILENAME
  4494 22F6 8D 4D 9D			sta XBIOS.XBIOSOPENFILE.FILENAME
  4495 22F9 AD 61 9B			lda GANGSTERFILENAME+1
  4496 22FC 8D 4E 9D			sta XBIOS.XBIOSOPENFILE.FILENAME+1
  4497 22FF 20 5A 14			jsr XBIOS.XBIOSOPENFILE
  4498
  4499 				; optimize OK (helpers.pas), line = 276
  4500
  4501 2302 A9 00			lda #$00
  4502 2304 8D 00 A7			sta P+2
  4503 2307 8D 01 A7			sta P+3
  4504 230A 8D FE A6			sta P
  4505 230D AD FB A6			lda G
  4506 2310 8D FF A6			sta P+1
  4507
  4508 				; optimize OK (helpers.pas), line = 277
  4509
  4510 2313 AD FE A6			lda P
  4511 2316 8D 56 9D			sta XBIOS.XBIOSSETFILEOFFSET.POS
  4512 2319 AD FF A6			lda P+1
  4513 231C 8D 57 9D			sta XBIOS.XBIOSSETFILEOFFSET.POS+1
  4514 231F AD 00 A7			lda P+2
  4515 2322 8D 58 9D			sta XBIOS.XBIOSSETFILEOFFSET.POS+2
  4516 2325 AD 01 A7			lda P+3
  4517 2328 8D 59 9D			sta XBIOS.XBIOSSETFILEOFFSET.POS+3
  4518 232B 20 03 15			jsr XBIOS.XBIOSSETFILEOFFSET
  4519
  4520 				; optimize OK (helpers.pas), line = 278
  4521
  4522 232E A9 FF			lda #$FF
  4523 2330 8D 54 9D			sta XBIOS.XBIOSSETLENGTH.LEN
  4524 2333 A9 00			lda #$00
  4525 2335 8D 55 9D			sta XBIOS.XBIOSSETLENGTH.LEN+1
  4526 2338 20 F5 14			jsr XBIOS.XBIOSSETLENGTH
  4527
  4528 				; optimize OK (helpers.pas), line = 279
  4529
  4530 233B A9 00			lda #$00
  4531 233D 8D FD A6			sta K
  4532
  4533 2340			l_0A1C
  4534 				; --- ForToDoCondition
  4535 2340 AD FD A6			lda K
  4536 2343 C9 EF			cmp #$EF
  4537 2345 B0 28			jcs l_0A2A
  4538
  4539 				; optimize FAIL ('XBIOS.XBIOSGETBYTE', helpers.pas), line = 280
  4540
  4541 2347 20 BE 14			jsr XBIOS.XBIOSGETBYTE
  4542 234A E8				inx
  4543 234B AD 53 9D 95 94		mva XBIOS.XBIOSGETBYTE.RESULT :STACKORIGIN,x
  4544 2350 E8				inx
  4545 2351 A9 70 95 94			mva #$70 :STACKORIGIN,x
  4546 2355 A9 CE 95 A4			mva #$CE :STACKORIGIN+STACKWIDTH,x
  4547 2359 E8				inx
  4548 235A AD FD A6 95 94		mva K :STACKORIGIN,x
  4549 235F A9 00 95 A4			mva #$00 :STACKORIGIN+STACKWIDTH,x
  4550 2363 20 F9 0D			jsr addAX_CX
  4551 2366 CA				dex
  4552 2367 20 4C 13			jsr SYSTEM.POKE
  4553 236A EE FD A6			inc K
  4554 236D D0 D1			jne l_0A1C
  4555 236F			l_0A2A
  4556
  4557 				; optimize FAIL ('CRT_WRITELN', helpers.pas), line = 283
  4558
  4559 236F E8				inx
  4560 2370 AD 44 9B 95 94		mva BUF_GANGSTERNAME :STACKORIGIN,x
  4561 2375 AD 45 9B 95 A4		mva BUF_GANGSTERNAME+1 :STACKORIGIN+STACKWIDTH,x
  4562 237A 20 E7 1D			jsr CRT_WRITELN
  4563
  4564 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', helpers.pas), line = 284
  4565
  4566 237D 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
  4567
  4568 				; optimize FAIL ('CRT_WRITELN', helpers.pas), line = 285
  4569
  4570 2380 E8				inx
  4571 2381 AD 38 9B 95 94		mva BUF_GANGSTERTEXT1 :STACKORIGIN,x
  4572 2386 AD 39 9B 95 A4		mva BUF_GANGSTERTEXT1+1 :STACKORIGIN+STACKWIDTH,x
  4573 238B 20 E7 1D			jsr CRT_WRITELN
  4574
  4575 				; optimize FAIL ('CRT_WRITELN', helpers.pas), line = 286
  4576
  4577 238E E8				inx
  4578 238F AD 3A 9B 95 94		mva BUF_GANGSTERTEXT2 :STACKORIGIN,x
  4579 2394 AD 3B 9B 95 A4		mva BUF_GANGSTERTEXT2+1 :STACKORIGIN+STACKWIDTH,x
  4580 2399 20 E7 1D			jsr CRT_WRITELN
  4581
  4582 				; optimize FAIL ('CRT_WRITELN', helpers.pas), line = 287
  4583
  4584 239C E8				inx
  4585 239D AD 3C 9B 95 94		mva BUF_GANGSTERTEXT3 :STACKORIGIN,x
  4586 23A2 AD 3D 9B 95 A4		mva BUF_GANGSTERTEXT3+1 :STACKORIGIN+STACKWIDTH,x
  4587 23A7 20 E7 1D			jsr CRT_WRITELN
  4588
  4589 				; optimize FAIL ('CRT_WRITELN', helpers.pas), line = 288
  4590
  4591 23AA E8				inx
  4592 23AB AD 3E 9B 95 94		mva BUF_GANGSTERTEXT4 :STACKORIGIN,x
  4593 23B0 AD 3F 9B 95 A4		mva BUF_GANGSTERTEXT4+1 :STACKORIGIN+STACKWIDTH,x
  4594 23B5 20 E7 1D			jsr CRT_WRITELN
  4595
  4596 				; optimize FAIL ('CRT_WRITELN', helpers.pas), line = 289
  4597
  4598 23B8 E8				inx
  4599 23B9 AD 40 9B 95 94		mva BUF_GANGSTERTEXT5 :STACKORIGIN,x
  4600 23BE AD 41 9B 95 A4		mva BUF_GANGSTERTEXT5+1 :STACKORIGIN+STACKWIDTH,x
  4601 23C3 20 E7 1D			jsr CRT_WRITELN
  4602
  4603 				; ------------------------------------------------------------
  4604
  4605 = A6FB			G	= DATAORIGIN+$0AE0
  4606 = A6FC			B	= DATAORIGIN+$0AE1
  4607 = A6FD			K	= DATAORIGIN+$0AE2
  4608 = A6FE			P	= DATAORIGIN+$0AE3
  4609
  4610 = A6FB			@VarData	= G
  4611 = 0007			@VarDataSize	= 7
  4612
  4613 23C6			@exit
  4614 					.ifdef @new
  4615 					lda <@VarData
  4616 					sta :ztmp
  4617 					lda >@VarData
  4618 					ldy #@VarDataSize-1
  4619 					jmp @FreeMem
  4620 					els
  4621 23C6 60				rts						; ret
  4622 					eif
  4623 				.endl
  4624
  4625 23C7			.local	SAVEGAME					; PROCEDURE
  4626
  4627 				; optimize OK (helpers.pas), line = 423
  4628
  4629 23C7 AD FA 9B			lda SAVEFNAME
  4630 23CA 8D 4D 9D			sta XBIOS.XBIOSOPENFILE.FILENAME
  4631 23CD AD FB 9B			lda SAVEFNAME+1
  4632 23D0 8D 4E 9D			sta XBIOS.XBIOSOPENFILE.FILENAME+1
  4633 23D3 20 5A 14			jsr XBIOS.XBIOSOPENFILE
  4634
  4635 				; optimize OK (helpers.pas), line = 424
  4636
  4637 23D6 A9 E0			lda #$E0
  4638 23D8 8D 54 9D			sta XBIOS.XBIOSSETLENGTH.LEN
  4639 23DB A9 06			lda #$06
  4640 23DD 8D 55 9D			sta XBIOS.XBIOSSETLENGTH.LEN+1
  4641 23E0 20 F5 14			jsr XBIOS.XBIOSSETLENGTH
  4642
  4643 				; optimize OK (helpers.pas), line = 425
  4644
  4645 23E3 A9 20			lda #$20
  4646 23E5 8D 51 9D			sta XBIOS.XBIOSWRITEDATA.SRC
  4647 23E8 A9 C9			lda #$C9
  4648 23EA 8D 52 9D			sta XBIOS.XBIOSWRITEDATA.SRC+1
  4649 23ED 20 9E 14			jsr XBIOS.XBIOSWRITEDATA
  4650
  4651 				; optimize FAIL ('XBIOS.XBIOSFLUSHBUFFER', helpers.pas), line = 426
  4652
  4653 23F0 20 DB 14			jsr XBIOS.XBIOSFLUSHBUFFER
  4654
  4655 23F3			@exit
  4656 					.ifdef @new
  4657 					lda <@VarData
  4658 					sta :ztmp
  4659 					lda >@VarData
  4660 					ldy #@VarDataSize-1
  4661 					jmp @FreeMem
  4662 					els
  4663 23F3 60				rts						; ret
  4664 					eif
  4665 				.endl
  4666
  4667 23F4			.local	CHECKFORSAVEDGAME				; PROCEDURE
  4668
  4669 				; optimize OK (helpers.pas), line = 433
  4670
  4671 23F4 AD FA 9B			lda SAVEFNAME
  4672 23F7 8D 4D 9D			sta XBIOS.XBIOSOPENFILE.FILENAME
  4673 23FA AD FB 9B			lda SAVEFNAME+1
  4674 23FD 8D 4E 9D			sta XBIOS.XBIOSOPENFILE.FILENAME+1
  4675 2400 20 5A 14			jsr XBIOS.XBIOSOPENFILE
  4676
  4677 				; optimize OK (helpers.pas), line = 434
  4678
  4679 2403 A9 01			lda #$01
  4680 2405 8D 54 9D			sta XBIOS.XBIOSSETLENGTH.LEN
  4681 2408 A9 00			lda #$00
  4682 240A 8D 55 9D			sta XBIOS.XBIOSSETLENGTH.LEN+1
  4683 240D 20 F5 14			jsr XBIOS.XBIOSSETLENGTH
  4684
  4685 				; optimize OK (helpers.pas), line = 435
  4686
  4687 2410 A9 02			lda <TMP
  4688 2412 8D 4F 9D			sta XBIOS.XBIOSLOADDATA.DEST
  4689 2415 A9 A7			lda >TMP
  4690 2417 8D 50 9D			sta XBIOS.XBIOSLOADDATA.DEST+1
  4691 241A 20 7E 14			jsr XBIOS.XBIOSLOADDATA
  4692
  4693 				; optimize OK (helpers.pas), line = 436
  4694
  4695 241D AD 02 A7			lda TMP
  4696 2420 C9 05			cmp #$05
  4697 2422 B0 04			jcs l_0A84x
  4698 2424 C9 00			cmp #$00
  4699 2426 D0 08			jne l_0A84
  4700 2428			l_0A84x
  4701
  4702 				; optimize OK (helpers.pas), line = 437
  4703
  4704 2428 A9 00			lda #$00
  4705 242A 8D 05 C2			sta SAVE_GAMEFOUND
  4706 242D 4C 35 24			jmp @exit
  4707 2430			l_0A84
  4708
  4709 				; optimize OK (helpers.pas), line = 440
  4710
  4711 2430 A9 01			lda #$01
  4712 2432 8D 05 C2			sta SAVE_GAMEFOUND
  4713
  4714 				; ------------------------------------------------------------
  4715
  4716 = A702			TMP	= DATAORIGIN+$0AE7
  4717
  4718 = A702			@VarData	= TMP
  4719 = 0001			@VarDataSize	= 1
  4720
  4721 2435			@exit
  4722 					.ifdef @new
  4723 					lda <@VarData
  4724 					sta :ztmp
  4725 					lda >@VarData
  4726 					ldy #@VarDataSize-1
  4727 					jmp @FreeMem
  4728 					els
  4729 2435 60				rts						; ret
  4730 					eif
  4731 				.endl
  4732
  4733 2436			.local	LOADGAME					; PROCEDURE
  4734
  4735 				; optimize FAIL ('B_CRT.CRT_CLEAR.@00', helpers.pas), line = 447
  4736
  4737 2436 20 D1 17			jsr B_CRT.CRT_CLEAR.@00
  4738
  4739 				; optimize OK (helpers.pas), line = 448
  4740
  4741 2439 A9 01			lda #$01
  4742 243B 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
  4743 243E A9 11			lda #$11
  4744 2440 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
  4745 2443 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
  4746
  4747 				; optimize FAIL ('CHECKFORSAVEDGAME', helpers.pas), line = 450
  4748
  4749 2446 20 F4 23			jsr CHECKFORSAVEDGAME
  4750
  4751 				; optimize OK (helpers.pas), line = 451
  4752
  4753 2449 AD 05 C2			lda SAVE_GAMEFOUND
  4754 244C D0 13			jne l_0AAA
  4755
  4756 				; optimize OK (helpers.pas), line = 452
  4757
  4758 244E A9 03			lda #$03
  4759 2450 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
  4760 2453 A9 12			lda #$12
  4761 2455 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
  4762 2458 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
  4763
  4764 				; optimize FAIL ('WAITFORKEY', helpers.pas), line = 453
  4765
  4766 245B 20 88 1D			jsr WAITFORKEY
  4767 245E 4C 90 24			jmp @exit
  4768 2461			l_0AAA
  4769
  4770 				; optimize OK (helpers.pas), line = 458
  4771
  4772 2461 AD FA 9B			lda SAVEFNAME
  4773 2464 8D 4D 9D			sta XBIOS.XBIOSOPENFILE.FILENAME
  4774 2467 AD FB 9B			lda SAVEFNAME+1
  4775 246A 8D 4E 9D			sta XBIOS.XBIOSOPENFILE.FILENAME+1
  4776 246D 20 5A 14			jsr XBIOS.XBIOSOPENFILE
  4777
  4778 				; optimize OK (helpers.pas), line = 459
  4779
  4780 2470 A9 E0			lda #$E0
  4781 2472 8D 54 9D			sta XBIOS.XBIOSSETLENGTH.LEN
  4782 2475 A9 06			lda #$06
  4783 2477 8D 55 9D			sta XBIOS.XBIOSSETLENGTH.LEN+1
  4784 247A 20 F5 14			jsr XBIOS.XBIOSSETLENGTH
  4785
  4786 				; optimize OK (helpers.pas), line = 460
  4787
  4788 247D A9 20			lda #$20
  4789 247F 8D 4F 9D			sta XBIOS.XBIOSLOADDATA.DEST
  4790 2482 A9 C9			lda #$C9
  4791 2484 8D 50 9D			sta XBIOS.XBIOSLOADDATA.DEST+1
  4792 2487 20 7E 14			jsr XBIOS.XBIOSLOADDATA
  4793
  4794 				; optimize FAIL ('XBIOS.XBIOSFLUSHBUFFER', helpers.pas), line = 461
  4795
  4796 248A 20 DB 14			jsr XBIOS.XBIOSFLUSHBUFFER
  4797
  4798 				; optimize FAIL ('WAITFORKEY', helpers.pas), line = 462
  4799
  4800 248D 20 88 1D			jsr WAITFORKEY
  4801
  4802 2490			@exit
  4803 					.ifdef @new
  4804 					lda <@VarData
  4805 					sta :ztmp
  4806 					lda >@VarData
  4807 					ldy #@VarDataSize-1
  4808 					jmp @FreeMem
  4809 					els
  4810 2490 60				rts						; ret
  4811 					eif
  4812 				.endl
  4813
  4814 2491			.local	DLI_MAP						; PROCEDURE | ASSEMBLER | INTERRUPT
  4815
  4816 				; -------------------  ASM Block 00000147  -------------------
  4817
  4818
  4819 2491			dli:
  4820 2491 48 8A 48 98 48	    phr ; store registers
  4821
  4822 2496			dlijmp:
  4823 2496 4C 99 24		    jmp dli1
  4824
  4825 2499			dli1:
  4826 2499 A9 D8		    lda #>MAP_FNT_ADDRESS
  4827 249B 8D 09 D4		    sta $D409 ; CHBAS_real
  4828 249E 8D 0A D4		    sta WSYNC
  4829
  4830 24A1 A9 0E 8D 16 D0	    mva #$0e atari.colpf0 ; white 
  4831
  4832 24A6 AD F7 EA 8D 17 D0	    mva mapColorB atari.colpf1 ; $06 for map
  4833 24AC AD F6 EA 8D 18 D0	    mva mapColorA atari.colpf2 ; $88 for map 
  4834 24B2 A9 2A 8D 19 D0	    mva #$2a atari.colpf3 ; orangish
  4835 24B7 A9 00 8D 1A D0	    mva #$00 atari.colbk  ; black
  4836
  4837 				    ; move PMG to current position
  4838 24BC AD F8 EA		    lda spriteMoveDir
  4839 24BF C9 01		    cmp #$01
  4840 24C1 F0 09		    beq dli1_X
  4841 24C3 AD AE EA		    lda PLAYERPOS_X
  4842 24C6 38			    sec 
  4843 24C7 E9 01		    sbc #$01
  4844 24C9 4C CF 24		    jmp dli1_X2
  4845 24CC			dli1_X:
  4846 24CC AD AE EA		    lda PLAYERPOS_X
  4847 				    ; clc
  4848 				    ; adc #$01
  4849 24CF			dli1_X2:
  4850 24CF 8D 00 D0		    sta HPOSP0
  4851 24D2 8D 01 D0		    sta HPOSP1
  4852 24D5 8D 02 D0		    sta HPOSP2
  4853 24D8 8D 03 D0		    sta HPOSP3
  4854
  4855 24DB A9 EB		    lda #<dli2
  4856 24DD 8D 97 24		    sta dlijmp+1
  4857 24E0 A9 24		    lda #>dli2
  4858 24E2 8D 98 24		    sta dlijmp+2
  4859
  4860 24E5 68 A8 68 AA 68	    plr
  4861 24EA 40			    rti
  4862
  4863 24EB			dli2:
  4864 24EB EA			    nop
  4865 24EC EA			    nop
  4866 24ED EA			    nop
  4867 24EE EA			    nop
  4868 24EF A9 00 8D 18 D0	    mva #$00 atari.colpf2 ; hue
  4869 24F4 A9 FF 8D 17 D0	    mva #$ff atari.colpf1 ; lum
  4870
  4871 24F9 A9 B4		    lda #>MAINFONT_ADR
  4872 24FB 8D 09 D4		    sta $D409 ; CHBAS_real
  4873
  4874 				    ; deactivate PMG by moving it out of screen
  4875 24FE A9 00		    lda #$0
  4876 2500 8D 00 D0		    sta HPOSP0
  4877 2503 8D 01 D0		    sta HPOSP1
  4878 2506 8D 02 D0		    sta HPOSP2
  4879 2509 8D 03 D0		    sta HPOSP3
  4880 250C 8D 0A D4		    sta WSYNC
  4881
  4882 				    ; next
  4883 250F A9 1F		    lda #<dli3
  4884 2511 8D 97 24		    sta dlijmp+1
  4885 2514 A9 25		    lda #>dli3
  4886 2516 8D 98 24		    sta dlijmp+2
  4887
  4888 2519 68 A8 68 AA 68	    plr
  4889 251E 40			    rti
  4890
  4891 251F			dli3:
  4892 251F 8D 0A D4		    sta WSYNC
  4893 2522 A9 FF 8D 17 D0	    mva #$ff atari.colpf1 ; lum
  4894 2527 A9 00 8D 18 D0	    mva #$00 atari.colpf2 ; hue
  4895
  4896 252C A9 3C		    lda #<dli4
  4897 252E 8D 97 24		    sta dlijmp+1
  4898 2531 A9 25		    lda #>dli4
  4899 2533 8D 98 24		    sta dlijmp+2
  4900
  4901 2536 68 A8 68 AA 68	    plr
  4902 253B 40			    rti
  4903
  4904 253C			dli4:
  4905 253C 20 0A 1B		    jsr main.musicproxy
  4906
  4907 253F A9 99		    lda #<dli1
  4908 2541 8D 97 24		    sta dlijmp+1
  4909 2544 A9 24		    lda #>dli1
  4910 2546 8D 98 24		    sta dlijmp+2
  4911
  4912 2549 68 A8 68 AA 68	    plr
  4913 254E 40			    rti
  4914
  4915
  4916 254F 40				rti						; ret
  4917 				.endl
  4918
  4919 2550			.local	DLI_BITMAP					; PROCEDURE | ASSEMBLER | INTERRUPT
  4920
  4921 				; -------------------  ASM Block 00000148  -------------------
  4922
  4923
  4924 2550			dli:
  4925 2550 48 8A 48 98 48	    phr ; store registers
  4926
  4927 2555			dlijmp:
  4928 2555 4C 58 25		    jmp dli1
  4929
  4930 2558			dli1:
  4931 2558 A9 D8		    lda #>MAP_FNT_ADDRESS
  4932 255A 8D 09 D4		    sta $D409 ; CHBAS_real
  4933 255D 8D 0A D4		    sta WSYNC
  4934
  4935 2560 A9 0E 8D 16 D0	    mva #$0e atari.colpf0 ; white 
  4936 2565 AD F7 EA 8D 17 D0	    mva mapColorB atari.colpf1 ; $06 for map
  4937 256B AD F6 EA 8D 18 D0	    mva mapColorA atari.colpf2 ; $88 for map 
  4938 2571 A9 2A 8D 19 D0	    mva #$2a atari.colpf3 ; orangish
  4939 2576 A9 00 8D 1A D0	    mva #$00 atari.colbk  ; black
  4940
  4941 257B A9 8B		    lda #<dli2
  4942 257D 8D 56 25		    sta dlijmp+1
  4943 2580 A9 25		    lda #>dli2
  4944 2582 8D 57 25		    sta dlijmp+2
  4945
  4946 2585 68 A8 68 AA 68	    plr
  4947 258A 40			    rti
  4948
  4949 258B			dli2:
  4950 258B EA			    nop
  4951 258C EA			    nop
  4952 258D EA			    nop
  4953 258E EA			    nop
  4954
  4955 258F A9 E0		    lda #>LOC_MAP_ADR
  4956 2591 8D 09 D4		    sta $D409 ; CHBAS_real
  4957 2594 8D 0A D4		    sta WSYNC
  4958
  4959 2597 20 0A 1B		    jsr main.musicproxy
  4960
  4961 259A A9 58		    lda #<dli1
  4962 259C 8D 56 25		    sta dlijmp+1
  4963 259F A9 25		    lda #>dli1
  4964 25A1 8D 57 25		    sta dlijmp+2
  4965
  4966 25A4 68 A8 68 AA 68	    plr
  4967 25A9 40			    rti
  4968
  4969
  4970 25AA 40				rti						; ret
  4971 				.endl
  4972
  4973 25AB			.local	DLI_BLACK_CONSOLE				; PROCEDURE | ASSEMBLER | INTERRUPT
  4974
  4975 				; -------------------  ASM Block 00000149  -------------------
  4976
  4977
  4978 25AB 48 8A 48 98 48	    phr 
  4979 25B0 A9 00 8D 16 D0	    mva #$0 atari.colpf0 
  4980 25B5 A9 00 8D 17 D0	    mva #$0 atari.colpf1 
  4981 25BA A9 00 8D 18 D0	    mva #$0 atari.colpf2 
  4982 25BF A9 00 8D 1A D0	    mva #$0 atari.colbk 
  4983 25C4 20 0A 1B		    jsr main.musicproxy
  4984 25C7 68 A8 68 AA 68	    plr  
  4985
  4986 25CC 40				rti						; ret
  4987 				.endl
  4988
  4989 25CD			.local	DLI_CONSOLE					; PROCEDURE | ASSEMBLER | INTERRUPT
  4990
  4991 				; -------------------  ASM Block 00000150  -------------------
  4992
  4993
  4994 25CD 48 8A 48 98 48	    phr  
  4995 25D2 AD 18 C9 8D 1A D0	    mva loccolbk atari.colbk
  4996 25D8 AD 19 C9 8D 16 D0	    mva loccolpf0 atari.colpf0 
  4997 25DE AD 1A C9 8D 17 D0	    mva loccolpf1 atari.colpf1 
  4998 25E4 AD 1B C9 8D 18 D0	    mva loccolpf2 atari.colpf2  
  4999
  5000 25EA 20 0A 1B		    jsr main.musicproxy
  5001
  5002 25ED 68 A8 68 AA 68	    plr 
  5003
  5004 25F2 40				rti						; ret
  5005 				.endl
  5006
  5007 25F3			.local	XBUNAPL						; PROCEDURE
  5008
  5009 				; optimize OK (xbaplib.pas), line = 19
  5010
  5011 25F3 AD 03 A7			lda FNAME
  5012 25F6 8D 4D 9D			sta XBIOS.XBIOSOPENFILE.FILENAME
  5013 25F9 AD 04 A7			lda FNAME+1
  5014 25FC 8D 4E 9D			sta XBIOS.XBIOSOPENFILE.FILENAME+1
  5015 25FF 20 5A 14			jsr XBIOS.XBIOSOPENFILE
  5016
  5017 				; -------------------  ASM Block 00000151  -------------------
  5018
  5019 2602 8E 1E 27				stx @sp
  5020
  5021 2605 AD 05 A7 8D D6 26 + 		mwa outputPointer dest_ap
  5022
  5023 				//		mva #$00 GET_BYTE+1
  5024
  5025 2611 A9 80		aPL_depack	lda #$80
  5026 2613 8D D4 26				sta token
  5027 2616 4E 62 26		literal		lsr bl
  5028 2619 20 15 08				jsr xbios.xBIOS_GET_BYTE
  5029 261C 20 D5 26		write		jsr store
  5030 261F 20 C5 26		nxt_token	jsr get_token_bit
  5031 2622 90 F2				bcc literal		; literal  -> 0
  5032 2624 20 C5 26				jsr get_token_bit
  5033 2627 90 34				bcc block		; block    -> 10
  5034 2629 20 C5 26				jsr get_token_bit
  5035 262C 90 15				bcc short_block		; short block -> 110
  5036
  5037 262E 4E 62 26		single_byte	lsr bl			; single byte -> 111
  5038 2631 A9 10				lda #$10
  5039 2633 48			@		pha
  5040 2634 20 C5 26				jsr get_token_bit
  5041 2637 68					pla
  5042 2638 2A					rol @
  5043 2639 90 F8				bcc @-
  5044 263B F0 DF				beq write
  5045 263D 4C E1 26				jmp len01
  5046
  5047 2640 4C 14 27		aPL_done	jmp to_exit
  5048
  5049 2643 20 15 08		short_block	jsr xbios.xBIOS_GET_BYTE
  5050 2646 4A					lsr @
  5051 2647 F0 F7				beq aPL_done
  5052 2649 8D 6C 26				sta EBPL
  5053 264C A2 00				ldx #0
  5054 264E 8E 71 26				stx EBPH
  5055 2651 A2 02				ldx #$02
  5056 2653 90 01				bcc @+
  5057 2655 E8					inx
  5058 2656 38			@		sec
  5059 2657 6E 62 26				ror  bl
  5060 265A 4C E3 26				jmp len0203
  5061
  5062 265D 20 AB 26		block		jsr getgamma
  5063 2660 CA					dex
  5064 2661 A9 FF				lda #$ff
  5065 = 2662			bl		equ *-1
  5066 2663 30 13				bmi normalcodepair
  5067 2665 CA					dex
  5068 2666 D0 10				bne normalcodepair
  5069 2668 20 AB 26				jsr getgamma
  5070 266B A9 FF				lda #$ff
  5071 = 266C			EBPL		equ *-1
  5072 266D 8D F1 26				sta offsetL
  5073 2670 A9 FF				lda #$ff
  5074 = 2671			EBPH		equ *-1
  5075 2672 8D F9 26				sta offsetH
  5076 2675 4C A4 26				jmp lenffff
  5077
  5078 2678 CA			normalcodepair	dex
  5079 2679 8E F9 26				stx    offsetH
  5080 267C 8E 71 26				stx    EBPH
  5081 267F 20 15 08				jsr    xbios.xBIOS_GET_BYTE
  5082 2682 8D F1 26				sta    offsetL
  5083 2685 8D 6C 26				sta    EBPL
  5084 2688 20 AB 26				jsr    getgamma
  5085 268B AD F9 26				lda    offsetH
  5086 268E F0 0A				beq    _ceck7f
  5087 2690 C9 7D				cmp    #$7d
  5088 2692 B0 0B				bcs	 plus2
  5089 2694 C9 05				cmp    #$05
  5090 2696 B0 0B				bcs	 plus1
  5091 2698 90 0A				bcc    normal1               ; zawsze
  5092 269A AD F1 26		_ceck7f		lda	 offsetL
  5093 269D 30 05				bmi    normal1
  5094 269F E8			plus2		inx
  5095 26A0 D0 01				bne    plus1
  5096 26A2 C8					iny
  5097 26A3 E8			plus1		inx
  5098 26A4			normal1
  5099 26A4 C8			lenffff		iny
  5100 26A5 38					sec
  5101 26A6 6E 62 26				ror bl
  5102 26A9 D0 41				bne domatch	; zawsze
  5103
  5104 26AB A9 00		getgamma	lda #$00
  5105 26AD 48					pha
  5106 26AE A9 01				lda #$01
  5107 26B0 48					pha
  5108 26B1 20 C5 26		@		jsr get_token_bit
  5109 26B4 BA					tsx
  5110 26B5 3E 01 01				rol $101,x
  5111 26B8 3E 02 01				rol $102,x
  5112 26BB 20 C5 26				jsr get_token_bit
  5113 26BE B0 F1				bcs @-
  5114 26C0 68					pla
  5115 26C1 AA					tax
  5116 26C2 68					pla
  5117 26C3 A8					tay
  5118 26C4 60					rts
  5119
  5120 26C5 0E D4 26		get_token_bit	asl    token
  5121 26C8 D0 09				bne    @+
  5122 26CA 08					php
  5123 26CB 20 15 08				jsr    xbios.xBIOS_GET_BYTE
  5124 26CE 28					plp
  5125 26CF 2A					rol    @
  5126 26D0 8D D4 26				sta    token
  5127 26D3 60			@		rts
  5128 26D4 00			token		.byte $00
  5129
  5130 26D5 8D FF FF		store		sta $ffff
  5131 = 26D6			dest_ap		equ *-2
  5132 26D8 EE D6 26 D0 03 EE + 		inw dest_ap
  5133 26E0 60					rts
  5134
  5135 26E1 A2 01		len01		ldx    #$01
  5136 26E3 A0 00		len0203		ldy    #$00
  5137 26E5 8D F1 26				sta    offsetL
  5138 26E8 8C F9 26				sty    offsetH
  5139 26EB C8					iny
  5140
  5141 26EC AD D6 26		domatch		lda dest_ap
  5142 26EF 38					sec
  5143 26F0 E9 FF				sbc #$ff
  5144 = 26F1			offsetL		equ *-1
  5145 26F2 8D FE 26				sta src
  5146 26F5 AD D7 26				lda dest_ap+1
  5147 26F8 E9 FF				sbc #$ff
  5148 = 26F9			offsetH		equ *-1
  5149 26FA 8D FF 26				sta src+1
  5150 26FD AD FF FF		source		lda $ffff
  5151 = 26FE			src		equ *-2
  5152 2700 EE FE 26 D0 03 EE + 		inw src
  5153 2708 20 D5 26				jsr store
  5154 270B CA					dex
  5155 270C D0 EF				bne source
  5156 270E 88					dey
  5157 270F D0 EC				bne source
  5158 2711 4C 1F 26				jmp nxt_token
  5159
  5160
  5161 2714 A9 00		to_exit		lda #0
  5162 2716 98					tya
  5163 2717 99 00 04 C8 D0 FA			sta:rne @buf,y+
  5164
  5165 271D A2 00				ldx @sp: #0
  5166
  5167 				; ------------------------------------------------------------
  5168
  5169 = A703			FNAME	= DATAORIGIN+$0AE8
  5170 = A705			OUTPUTPOINTER	= DATAORIGIN+$0AEA
  5171
  5172 = A703			@VarData	= FNAME
  5173 = 0004			@VarDataSize	= 4
  5174
  5175 271F			@exit
  5176 					.ifdef @new
  5177 					lda <@VarData
  5178 					sta :ztmp
  5179 					lda >@VarData
  5180 					ldy #@VarDataSize-1
  5181 					jmp @FreeMem
  5182 					els
  5183 271F 60				rts						; ret
  5184 					eif
  5185 				.endl
  5186
  5187 2720			.local	LOADXAPL					; PROCEDURE
  5188
  5189 				; optimize OK (main.pas), line = 78
  5190
  5191 2720 AD 11 CA			lda PLAYMUSIC
  5192 2723 8D 0B A7			sta MSXSTATUS
  5193
  5194 				; optimize OK (main.pas), line = 79
  5195
  5196 2726 C9 01			cmp #$01
  5197 2728 D0 09			jne l_0AE1
  5198
  5199 				; optimize FAIL ('RMT.TRMT.STOP', main.pas), line = 80
  5200
  5201 272A AD E4 99			lda MSX
  5202 272D AC E5 99			ldy MSX+1
  5203 2730 20 CE 15			jsr RMT.TRMT.STOP
  5204 2733			l_0AE1
  5205
  5206 				; optimize OK (main.pas), line = 81
  5207
  5208 2733 A9 00			lda #$00
  5209 2735 8D 11 CA			sta PLAYMUSIC
  5210
  5211 				; optimize OK (main.pas), line = 82
  5212
  5213 2738 AD 07 A7			lda FNAME
  5214 273B 8D 03 A7			sta XBUNAPL.FNAME
  5215 273E AD 08 A7			lda FNAME+1
  5216 2741 8D 04 A7			sta XBUNAPL.FNAME+1
  5217 2744 AD 09 A7			lda OUTPUTPOINTER
  5218 2747 8D 05 A7			sta XBUNAPL.OUTPUTPOINTER
  5219 274A AD 0A A7			lda OUTPUTPOINTER+1
  5220 274D 8D 06 A7			sta XBUNAPL.OUTPUTPOINTER+1
  5221 2750 20 F3 25			jsr XBUNAPL
  5222
  5223 				; optimize OK (main.pas), line = 83
  5224
  5225 2753 AD 0B A7			lda MSXSTATUS
  5226 2756 8D 11 CA			sta PLAYMUSIC
  5227
  5228 				; ------------------------------------------------------------
  5229
  5230 = A707			FNAME	= DATAORIGIN+$0AEC
  5231 = A709			OUTPUTPOINTER	= DATAORIGIN+$0AEE
  5232 = A70B			MSXSTATUS	= DATAORIGIN+$0AF0
  5233
  5234 = A707			@VarData	= FNAME
  5235 = 0005			@VarDataSize	= 5
  5236
  5237 2759			@exit
  5238 					.ifdef @new
  5239 					lda <@VarData
  5240 					sta :ztmp
  5241 					lda >@VarData
  5242 					ldy #@VarDataSize-1
  5243 					jmp @FreeMem
  5244 					els
  5245 2759 60				rts						; ret
  5246 					eif
  5247 				.endl
  5248
  5249 275A			.local	WAITFRAMES					; PROCEDURE
  5250 275A 8D 0D A7			sta FRAMES
  5251
  5252 				; --- WhileProlog
  5253 275D 4C 66 27			jmp l_0AFA
  5254 2760			l_0AFB
  5255
  5256 				; optimize FAIL ('B_SYSTEM.WAITFRAME', console.pas), line = 10
  5257
  5258 2760 20 0C 17			jsr B_SYSTEM.WAITFRAME
  5259
  5260 				; optimize FAIL (0, console.pas), line = 11
  5261
  5262 2763 CE 0D A7			dec FRAMES
  5263 2766			l_0AFA
  5264
  5265 				; optimize OK (console.pas), line = 8
  5266
  5267 2766 AD 0D A7			lda FRAMES
  5268 2769 D0 F5			jne l_0AFB
  5269
  5270 				; ------------------------------------------------------------
  5271
  5272 = A70D			FRAMES	= DATAORIGIN+$0AF2
  5273
  5274 = A70D			@VarData	= FRAMES
  5275 = 0001			@VarDataSize	= 1
  5276
  5277 276B			@exit
  5278 					.ifdef @new
  5279 					lda <@VarData
  5280 					sta :ztmp
  5281 					lda >@VarData
  5282 					ldy #@VarDataSize-1
  5283 					jmp @FreeMem
  5284 					els
  5285 276B 60				rts						; ret
  5286 					eif
  5287 				.endl
  5288
  5289 276C			.local	BLACKCONSOLE					; PROCEDURE
  5290
  5291 				; optimize OK (console.pas), line = 18
  5292
  5293 276C AD 0C A7			lda CONSOLESTATE
  5294 276F F0 1C			jeq @exit
  5295 2771			l_0B22
  5296
  5297 				; optimize OK (console.pas), line = 19
  5298
  5299 2771 A9 AB			lda <DLI_BLACK_CONSOLE
  5300 2773 8D 42 9E			sta B_SYSTEM.ENABLEDLI.DLIPTR
  5301 2776 A9 25			lda >DLI_BLACK_CONSOLE
  5302 2778 8D 43 9E			sta B_SYSTEM.ENABLEDLI.DLIPTR+1
  5303 277B 20 DD 16			jsr B_SYSTEM.ENABLEDLI
  5304
  5305 				; optimize OK (console.pas), line = 20
  5306
  5307 277E A9 B0			lda #$B0
  5308 2780 8D 02 D4			sta ATARI.DLISTL
  5309 2783 A9 FF			lda #$FF
  5310 2785 8D 03 D4			sta ATARI.DLISTL+1
  5311
  5312 				; optimize OK (console.pas), line = 21
  5313
  5314 2788 A9 00			lda #$00
  5315 278A 8D 0C A7			sta CONSOLESTATE
  5316
  5317 278D			@exit
  5318 					.ifdef @new
  5319 					lda <@VarData
  5320 					sta :ztmp
  5321 					lda >@VarData
  5322 					ldy #@VarDataSize-1
  5323 					jmp @FreeMem
  5324 					els
  5325 278D 60				rts						; ret
  5326 					eif
  5327 				.endl
  5328
  5329 278E			.local	ENABLECONSOLE					; PROCEDURE
  5330
  5331 				; optimize OK (console.pas), line = 27
  5332
  5333 278E AD 0C A7			lda CONSOLESTATE
  5334 2791 C9 01			cmp #$01
  5335 2793 F0 38			jeq @exit
  5336 2795			l_0B44
  5337
  5338 				; optimize OK (console.pas), line = 29
  5339
  5340 2795 A9 CD			lda <DLI_CONSOLE
  5341 2797 8D 42 9E			sta B_SYSTEM.ENABLEDLI.DLIPTR
  5342 279A A9 25			lda >DLI_CONSOLE
  5343 279C 8D 43 9E			sta B_SYSTEM.ENABLEDLI.DLIPTR+1
  5344 279F 20 DD 16			jsr B_SYSTEM.ENABLEDLI
  5345
  5346 				; optimize OK (console.pas), line = 30
  5347
  5348 27A2 A9 70			lda #$70
  5349 27A4 8D 02 D4			sta ATARI.DLISTL
  5350 27A7 A9 FF			lda #$FF
  5351 27A9 8D 03 D4			sta ATARI.DLISTL+1
  5352
  5353 				; optimize OK (console.pas), line = 31
  5354
  5355 27AC A9 B4			lda #$B4
  5356 27AE 20 25 17			jsr B_SYSTEM.SETCHARSET
  5357
  5358 				; optimize OK (console.pas), line = 33
  5359
  5360 27B1 A9 00			lda #$00
  5361 27B3 8D 53 A0			sta B_CRT.CRT_INIT.@03018000001800000181000.VRAM_ADDRESS
  5362 27B6 A9 B0			lda #$B0
  5363 27B8 8D 54 A0			sta B_CRT.CRT_INIT.@03018000001800000181000.VRAM_ADDRESS+1
  5364 27BB A9 28			lda #$28
  5365 27BD 8D 55 A0			sta B_CRT.CRT_INIT.@03018000001800000181000.WIDTH
  5366 27C0 A9 19			lda #$19
  5367 27C2 8D 56 A0			sta B_CRT.CRT_INIT.@03018000001800000181000.HEIGHT
  5368 27C5 20 95 17			jsr B_CRT.CRT_INIT.@03018000001800000181000
  5369
  5370 				; optimize OK (console.pas), line = 34
  5371
  5372 27C8 A9 01			lda #$01
  5373 27CA 8D 0C A7			sta CONSOLESTATE
  5374
  5375 27CD			@exit
  5376 					.ifdef @new
  5377 					lda <@VarData
  5378 					sta :ztmp
  5379 					lda >@VarData
  5380 					ldy #@VarDataSize-1
  5381 					jmp @FreeMem
  5382 					els
  5383 27CD 60				rts						; ret
  5384 					eif
  5385 				.endl
  5386
  5387 27CE			.local	ENABLEMAPCONSOLE				; PROCEDURE
  5388
  5389 				; optimize OK (console.pas), line = 40
  5390
  5391 27CE AD 0C A7			lda CONSOLESTATE
  5392 27D1 C9 02			cmp #$02
  5393 27D3 F0 42			jeq @exit
  5394 27D5			l_0B6C
  5395
  5396 				; optimize OK (console.pas), line = 41
  5397
  5398 27D5 A9 88			lda #$88
  5399 27D7 8D F6 EA			sta MAPCOLORA
  5400
  5401 				; optimize OK (console.pas), line = 42
  5402
  5403 27DA A9 06			lda #$06
  5404 27DC 8D F7 EA			sta MAPCOLORB
  5405
  5406 				; optimize OK (console.pas), line = 43
  5407
  5408 27DF A9 91			lda <DLI_MAP
  5409 27E1 8D 42 9E			sta B_SYSTEM.ENABLEDLI.DLIPTR
  5410 27E4 A9 24			lda >DLI_MAP
  5411 27E6 8D 43 9E			sta B_SYSTEM.ENABLEDLI.DLIPTR+1
  5412 27E9 20 DD 16			jsr B_SYSTEM.ENABLEDLI
  5413
  5414 				; optimize OK (console.pas), line = 44
  5415
  5416 27EC A9 90			lda #$90
  5417 27EE 8D 02 D4			sta ATARI.DLISTL
  5418 27F1 A9 FF			lda #$FF
  5419 27F3 8D 03 D4			sta ATARI.DLISTL+1
  5420
  5421 				; optimize OK (console.pas), line = 45
  5422
  5423 27F6 A9 D8			lda #$D8
  5424 27F8 20 25 17			jsr B_SYSTEM.SETCHARSET
  5425
  5426 				; optimize OK (console.pas), line = 46
  5427
  5428 27FB A9 00			lda #$00
  5429 27FD 8D 53 A0			sta B_CRT.CRT_INIT.@03018000001800000181000.VRAM_ADDRESS
  5430 2800 A9 DC			lda #$DC
  5431 2802 8D 54 A0			sta B_CRT.CRT_INIT.@03018000001800000181000.VRAM_ADDRESS+1
  5432 2805 A9 28			lda #$28
  5433 2807 8D 55 A0			sta B_CRT.CRT_INIT.@03018000001800000181000.WIDTH
  5434 280A A9 19			lda #$19
  5435 280C 8D 56 A0			sta B_CRT.CRT_INIT.@03018000001800000181000.HEIGHT
  5436 280F 20 95 17			jsr B_CRT.CRT_INIT.@03018000001800000181000
  5437
  5438 				; optimize OK (console.pas), line = 47
  5439
  5440 2812 A9 02			lda #$02
  5441 2814 8D 0C A7			sta CONSOLESTATE
  5442
  5443 2817			@exit
  5444 					.ifdef @new
  5445 					lda <@VarData
  5446 					sta :ztmp
  5447 					lda >@VarData
  5448 					ldy #@VarDataSize-1
  5449 					jmp @FreeMem
  5450 					els
  5451 2817 60				rts						; ret
  5452 					eif
  5453 				.endl
  5454
  5455 2818			.local	SHOWLOCATIONHEADER				; PROCEDURE
  5456
  5457 				; optimize FAIL ('ENABLECONSOLE', locations.pas), line = 52
  5458
  5459 2818 20 8E 27			jsr ENABLECONSOLE
  5460
  5461 				; optimize FAIL ('B_CRT.CRT_CLEAR.@00', locations.pas), line = 53
  5462
  5463 281B 20 D1 17			jsr B_CRT.CRT_CLEAR.@00
  5464
  5465 				; optimize FAIL ('B_CRT.CRT_WRITECENTERED.@02018986000001000180000', locations.pas), line = 54
  5466
  5467 281E E8				inx
  5468 281F AC 5E 9A 84 82 AC + 	mwy LOC_NAME :bp2
  5469 2829 A0 00			ldy #$00
  5470 282B B1 82 99 6A A1 C8 + 	mva:rne (:bp2),y B_CRT.CRT_WRITECENTERED.@02018986000001000180000.adr.S,y+
  5471 2833 E8				inx
  5472 2834 A9 01 95 94			mva #$01 :STACKORIGIN,x
  5473 2838 20 2C 1A			jsr B_CRT.CRT_WRITECENTERED.@02018986000001000180000
  5474
  5475 				; optimize OK (locations.pas), line = 55
  5476
  5477 283B A9 00			lda #$00
  5478 283D 8D 6D A3			sta B_CRT.CRT_INVERT.X
  5479 2840 A9 01			lda #$01
  5480 2842 8D 6E A3			sta B_CRT.CRT_INVERT.Y
  5481 2845 AD 4A 9E			lda B_CRT.CRT_SCREENWIDTH
  5482 2848 8D 6F A3			sta B_CRT.CRT_INVERT.WIDTH
  5483 284B 20 BD 1A			jsr B_CRT.CRT_INVERT
  5484 284E A9 01 8D 0F A7		mva #$01 adr.CURRENTSUBLOCATIONNAME
  5485 2853 A9 00 8D 10 A7		mva #$00 adr.CURRENTSUBLOCATIONNAME+1
  5486
  5487 				; optimize OK (locations.pas), line = 58
  5488
  5489 2858 A9 00			lda #$00
  5490 285A 8D 38 A7			sta IDX
  5491
  5492 285D			l_0BA0
  5493 				; --- ForToDoCondition
  5494 285D AC 38 A7			ldy IDX
  5495 2860 C0 04			cpy #$04
  5496 2862 B0 2E			jcs l_0BAE
  5497
  5498 				; optimize OK (locations.pas), line = 60
  5499
  5500 2864 B9 AA C2			lda adr.LOC_MAP_PLACES,y
  5501 2867 CD 90 CD			cmp CURRENTMAP
  5502 286A D0 21			jne l_0BC5
  5503
  5504 				; optimize OK (locations.pas), line = 61
  5505
  5506 286C AD 38 A7			lda IDX
  5507 286F 0A				asl @
  5508 2870 A8				tay
  5509 2871 B9 D2 A3			lda adr.LOC_SUBLOCATION_NAMES,y
  5510 2874 85 88			sta @move.src
  5511 2876 B9 D3 A3			lda adr.LOC_SUBLOCATION_NAMES+1,y
  5512 2879 85 89			sta @move.src+1
  5513 					@moveSTRING CURRENTSUBLOCATIONNAME #40
  5513 				 MWA CURRENTSUBLOCATIONNAME @MOVE.DST\ MVA #40 @MOVESTRING.LEN\ JSR @MOVESTRING
  5513 287B AD 02 9C 85 8C AD +  MWA CURRENTSUBLOCATIONNAME @MOVE.DST
  5513 2885 A9 28 8D 7B 0F	 MVA #40 @MOVESTRING.LEN
  5513 288A 20 74 0F		 JSR @MOVESTRING
  5514 288D			l_0BC5
  5515
  5516 				; --- ForToDoEpilog
  5517 288D EE 38 A7			inc IDX
  5518 2890 D0 CB			jne l_0BA0
  5519 2892			l_0BAE
  5520
  5521 				; optimize FAIL ('B_CRT.CRT_WRITECENTERED.@02018986000001000180000', locations.pas), line = 63
  5522
  5523 2892 E8				inx
  5524 2893 AC 02 9C 84 82 AC + 	mwy CURRENTSUBLOCATIONNAME :bp2
  5525 289D A0 00			ldy #$00
  5526 289F B1 82 99 6A A1 C8 + 	mva:rne (:bp2),y B_CRT.CRT_WRITECENTERED.@02018986000001000180000.adr.S,y+
  5527 28A7 E8				inx
  5528 28A8 A9 02 95 94			mva #$02 :STACKORIGIN,x
  5529 28AC 20 2C 1A			jsr B_CRT.CRT_WRITECENTERED.@02018986000001000180000
  5530
  5531 				; optimize OK (locations.pas), line = 64
  5532
  5533 28AF A9 00			lda #$00
  5534 28B1 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
  5535 28B4 A9 04			lda #$04
  5536 28B6 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
  5537 28B9 20 F9 17			jsr B_CRT.CRT_GOTOXY
  5538
  5539 				; ------------------------------------------------------------
  5540
  5541 = A738			IDX	= DATAORIGIN+$0B1D
  5542
  5543 = A738			@VarData	= IDX
  5544 = 0001			@VarDataSize	= 1
  5545
  5546 28BC			@exit
  5547 					.ifdef @new
  5548 					lda <@VarData
  5549 					sta :ztmp
  5550 					lda >@VarData
  5551 					ldy #@VarDataSize-1
  5552 					jmp @FreeMem
  5553 					els
  5554 28BC 60				rts						; ret
  5555 					eif
  5556 				.endl
  5557
  5558 28BD			.local	LOADLOCATION					; PROCEDURE
  5559 28BD 8D 39 A7			sta L
  5560
  5561 				; optimize OK (locations.pas), line = 133
  5562
  5563 28C0 AD 21 C9			lda LASTLOCATIONSTRINGS
  5564 28C3 CD 39 A7			cmp L
  5565 28C6 D0 03 4C 12 2C		jeq @exit
  5566 28CB			l_0BF1
  5567
  5568 				; optimize OK (locations.pas), line = 134
  5569
  5570 28CB AD 39 A7			lda L
  5571 28CE 8D 21 C9			sta LASTLOCATIONSTRINGS
  5572
  5573 				; optimize OK (locations.pas), line = 135
  5574
  5575 28D1 AD 39 A7			lda L
  5576 28D4 8D 5B A7			sta @CASETMP_0009
  5577 28D7 C9 01			cmp #$01
  5578 28D9 D0 1F			jne l_0C05
  5579 				@
  5580
  5581 				; optimize OK (locations.pas), line = 136
  5582
  5583 28DB AD 62 9B			lda LOCABANKFNAME
  5584 28DE 85 88			sta @move.src
  5585 28E0 AD 63 9B			lda LOCABANKFNAME+1
  5586 28E3 85 89			sta @move.src+1
  5587 					@moveSTRING LOCFNAME #32
  5587 				 MWA LOCFNAME @MOVE.DST\ MVA #32 @MOVESTRING.LEN\ JSR @MOVESTRING
  5587 28E5 AD 13 2C 85 8C AD +  MWA LOCFNAME @MOVE.DST
  5587 28EF A9 20 8D 7B 0F	 MVA #32 @MOVESTRING.LEN
  5587 28F4 20 74 0F		 JSR @MOVESTRING
  5588 28F7 4C F9 2B			jmp a_0009
  5589 28FA			l_0C05
  5590 28FA C9 02			cmp #$02
  5591 28FC D0 1F			jne l_0C0E
  5592
  5593 				; optimize OK (locations.pas), line = 137
  5594
  5595 28FE AD 64 9B			lda LOCAFORGFNAME
  5596 2901 85 88			sta @move.src
  5597 2903 AD 65 9B			lda LOCAFORGFNAME+1
  5598 2906 85 89			sta @move.src+1
  5599 					@moveSTRING LOCFNAME #32
  5599 				 MWA LOCFNAME @MOVE.DST\ MVA #32 @MOVESTRING.LEN\ JSR @MOVESTRING
  5599 2908 AD 13 2C 85 8C AD +  MWA LOCFNAME @MOVE.DST
  5599 2912 A9 20 8D 7B 0F	 MVA #32 @MOVESTRING.LEN
  5599 2917 20 74 0F		 JSR @MOVESTRING
  5600 291A 4C F9 2B			jmp a_0009
  5601 291D			l_0C0E
  5602 291D C9 03			cmp #$03
  5603 291F D0 1F			jne l_0C17
  5604
  5605 				; optimize OK (locations.pas), line = 138
  5606
  5607 2921 AD 66 9B			lda LOCAMONYFNAME
  5608 2924 85 88			sta @move.src
  5609 2926 AD 67 9B			lda LOCAMONYFNAME+1
  5610 2929 85 89			sta @move.src+1
  5611 					@moveSTRING LOCFNAME #32
  5611 				 MWA LOCFNAME @MOVE.DST\ MVA #32 @MOVESTRING.LEN\ JSR @MOVESTRING
  5611 292B AD 13 2C 85 8C AD +  MWA LOCFNAME @MOVE.DST
  5611 2935 A9 20 8D 7B 0F	 MVA #32 @MOVESTRING.LEN
  5611 293A 20 74 0F		 JSR @MOVESTRING
  5612 293D 4C F9 2B			jmp a_0009
  5613 2940			l_0C17
  5614 2940 C9 04			cmp #$04
  5615 2942 D0 1F			jne l_0C20
  5616
  5617 				; optimize OK (locations.pas), line = 139
  5618
  5619 2944 AD 68 9B			lda LOCALOANFNAME
  5620 2947 85 88			sta @move.src
  5621 2949 AD 69 9B			lda LOCALOANFNAME+1
  5622 294C 85 89			sta @move.src+1
  5623 					@moveSTRING LOCFNAME #32
  5623 				 MWA LOCFNAME @MOVE.DST\ MVA #32 @MOVESTRING.LEN\ JSR @MOVESTRING
  5623 294E AD 13 2C 85 8C AD +  MWA LOCFNAME @MOVE.DST
  5623 2958 A9 20 8D 7B 0F	 MVA #32 @MOVESTRING.LEN
  5623 295D 20 74 0F		 JSR @MOVESTRING
  5624 2960 4C F9 2B			jmp a_0009
  5625 2963			l_0C20
  5626 2963 C9 05			cmp #$05
  5627 2965 D0 1F			jne l_0C29
  5628
  5629 				; optimize OK (locations.pas), line = 140
  5630
  5631 2967 AD 6A 9B			lda LOCAPOLIFNAME
  5632 296A 85 88			sta @move.src
  5633 296C AD 6B 9B			lda LOCAPOLIFNAME+1
  5634 296F 85 89			sta @move.src+1
  5635 					@moveSTRING LOCFNAME #32
  5635 				 MWA LOCFNAME @MOVE.DST\ MVA #32 @MOVESTRING.LEN\ JSR @MOVESTRING
  5635 2971 AD 13 2C 85 8C AD +  MWA LOCFNAME @MOVE.DST
  5635 297B A9 20 8D 7B 0F	 MVA #32 @MOVESTRING.LEN
  5635 2980 20 74 0F		 JSR @MOVESTRING
  5636 2983 4C F9 2B			jmp a_0009
  5637 2986			l_0C29
  5638 2986 C9 06			cmp #$06
  5639 2988 D0 1F			jne l_0C32
  5640
  5641 				; optimize OK (locations.pas), line = 141
  5642
  5643 298A AD 6C 9B			lda LOCACARSFNAME
  5644 298D 85 88			sta @move.src
  5645 298F AD 6D 9B			lda LOCACARSFNAME+1
  5646 2992 85 89			sta @move.src+1
  5647 					@moveSTRING LOCFNAME #32
  5647 				 MWA LOCFNAME @MOVE.DST\ MVA #32 @MOVESTRING.LEN\ JSR @MOVESTRING
  5647 2994 AD 13 2C 85 8C AD +  MWA LOCFNAME @MOVE.DST
  5647 299E A9 20 8D 7B 0F	 MVA #32 @MOVESTRING.LEN
  5647 29A3 20 74 0F		 JSR @MOVESTRING
  5648 29A6 4C F9 2B			jmp a_0009
  5649 29A9			l_0C32
  5650 29A9 C9 07			cmp #$07
  5651 29AB D0 1F			jne l_0C3B
  5652
  5653 				; optimize OK (locations.pas), line = 142
  5654
  5655 29AD AD 6E 9B			lda LOCAPUBBFNAME
  5656 29B0 85 88			sta @move.src
  5657 29B2 AD 6F 9B			lda LOCAPUBBFNAME+1
  5658 29B5 85 89			sta @move.src+1
  5659 					@moveSTRING LOCFNAME #32
  5659 				 MWA LOCFNAME @MOVE.DST\ MVA #32 @MOVESTRING.LEN\ JSR @MOVESTRING
  5659 29B7 AD 13 2C 85 8C AD +  MWA LOCFNAME @MOVE.DST
  5659 29C1 A9 20 8D 7B 0F	 MVA #32 @MOVESTRING.LEN
  5659 29C6 20 74 0F		 JSR @MOVESTRING
  5660 29C9 4C F9 2B			jmp a_0009
  5661 29CC			l_0C3B
  5662 29CC C9 14			cmp #$14
  5663 29CE D0 1F			jne l_0C44
  5664
  5665 				; optimize OK (locations.pas), line = 143
  5666
  5667 29D0 AD 70 9B			lda LOCAPUBCFNAME
  5668 29D3 85 88			sta @move.src
  5669 29D5 AD 71 9B			lda LOCAPUBCFNAME+1
  5670 29D8 85 89			sta @move.src+1
  5671 					@moveSTRING LOCFNAME #32
  5671 				 MWA LOCFNAME @MOVE.DST\ MVA #32 @MOVESTRING.LEN\ JSR @MOVESTRING
  5671 29DA AD 13 2C 85 8C AD +  MWA LOCFNAME @MOVE.DST
  5671 29E4 A9 20 8D 7B 0F	 MVA #32 @MOVESTRING.LEN
  5671 29E9 20 74 0F		 JSR @MOVESTRING
  5672 29EC 4C F9 2B			jmp a_0009
  5673 29EF			l_0C44
  5674 29EF C9 09			cmp #$09
  5675 29F1 D0 1F			jne l_0C4D
  5676
  5677 				; optimize OK (locations.pas), line = 144
  5678
  5679 29F3 AD 72 9B			lda LOCASTORFNAME
  5680 29F6 85 88			sta @move.src
  5681 29F8 AD 73 9B			lda LOCASTORFNAME+1
  5682 29FB 85 89			sta @move.src+1
  5683 					@moveSTRING LOCFNAME #32
  5683 				 MWA LOCFNAME @MOVE.DST\ MVA #32 @MOVESTRING.LEN\ JSR @MOVESTRING
  5683 29FD AD 13 2C 85 8C AD +  MWA LOCFNAME @MOVE.DST
  5683 2A07 A9 20 8D 7B 0F	 MVA #32 @MOVESTRING.LEN
  5683 2A0C 20 74 0F		 JSR @MOVESTRING
  5684 2A0F 4C F9 2B			jmp a_0009
  5685 2A12			l_0C4D
  5686 2A12 C9 0A			cmp #$0A
  5687 2A14 D0 1F			jne l_0C56
  5688
  5689 				; optimize OK (locations.pas), line = 145
  5690
  5691 2A16 AD 74 9B			lda LOCAHIDEFNAME
  5692 2A19 85 88			sta @move.src
  5693 2A1B AD 75 9B			lda LOCAHIDEFNAME+1
  5694 2A1E 85 89			sta @move.src+1
  5695 					@moveSTRING LOCFNAME #32
  5695 				 MWA LOCFNAME @MOVE.DST\ MVA #32 @MOVESTRING.LEN\ JSR @MOVESTRING
  5695 2A20 AD 13 2C 85 8C AD +  MWA LOCFNAME @MOVE.DST
  5695 2A2A A9 20 8D 7B 0F	 MVA #32 @MOVESTRING.LEN
  5695 2A2F 20 74 0F		 JSR @MOVESTRING
  5696 2A32 4C F9 2B			jmp a_0009
  5697 2A35			l_0C56
  5698 2A35 C9 0B			cmp #$0B
  5699 2A37 D0 1F			jne l_0C5F
  5700
  5701 				; optimize OK (locations.pas), line = 146
  5702
  5703 2A39 AD 76 9B			lda LOCAGAMBFNAME
  5704 2A3C 85 88			sta @move.src
  5705 2A3E AD 77 9B			lda LOCAGAMBFNAME+1
  5706 2A41 85 89			sta @move.src+1
  5707 					@moveSTRING LOCFNAME #32
  5707 				 MWA LOCFNAME @MOVE.DST\ MVA #32 @MOVESTRING.LEN\ JSR @MOVESTRING
  5707 2A43 AD 13 2C 85 8C AD +  MWA LOCFNAME @MOVE.DST
  5707 2A4D A9 20 8D 7B 0F	 MVA #32 @MOVESTRING.LEN
  5707 2A52 20 74 0F		 JSR @MOVESTRING
  5708 2A55 4C F9 2B			jmp a_0009
  5709 2A58			l_0C5F
  5710 2A58 C9 0C			cmp #$0C
  5711 2A5A D0 1F			jne l_0C68
  5712
  5713 				; optimize OK (locations.pas), line = 147
  5714
  5715 2A5C AD 78 9B			lda LOCASUBWFNAME
  5716 2A5F 85 88			sta @move.src
  5717 2A61 AD 79 9B			lda LOCASUBWFNAME+1
  5718 2A64 85 89			sta @move.src+1
  5719 					@moveSTRING LOCFNAME #32
  5719 				 MWA LOCFNAME @MOVE.DST\ MVA #32 @MOVESTRING.LEN\ JSR @MOVESTRING
  5719 2A66 AD 13 2C 85 8C AD +  MWA LOCFNAME @MOVE.DST
  5719 2A70 A9 20 8D 7B 0F	 MVA #32 @MOVESTRING.LEN
  5719 2A75 20 74 0F		 JSR @MOVESTRING
  5720 2A78 4C F9 2B			jmp a_0009
  5721 2A7B			l_0C68
  5722 2A7B C9 0D			cmp #$0D
  5723 2A7D D0 1F			jne l_0C71
  5724
  5725 				; optimize OK (locations.pas), line = 148
  5726
  5727 2A7F AD 7A 9B			lda LOCAARMSFNAME
  5728 2A82 85 88			sta @move.src
  5729 2A84 AD 7B 9B			lda LOCAARMSFNAME+1
  5730 2A87 85 89			sta @move.src+1
  5731 					@moveSTRING LOCFNAME #32
  5731 				 MWA LOCFNAME @MOVE.DST\ MVA #32 @MOVESTRING.LEN\ JSR @MOVESTRING
  5731 2A89 AD 13 2C 85 8C AD +  MWA LOCFNAME @MOVE.DST
  5731 2A93 A9 20 8D 7B 0F	 MVA #32 @MOVESTRING.LEN
  5731 2A98 20 74 0F		 JSR @MOVESTRING
  5732 2A9B 4C F9 2B			jmp a_0009
  5733 2A9E			l_0C71
  5734 2A9E C9 13			cmp #$13
  5735 2AA0 D0 1F			jne l_0C7A
  5736
  5737 				; optimize OK (locations.pas), line = 149
  5738
  5739 2AA2 AD 7C 9B			lda LOCAMAINFNAME
  5740 2AA5 85 88			sta @move.src
  5741 2AA7 AD 7D 9B			lda LOCAMAINFNAME+1
  5742 2AAA 85 89			sta @move.src+1
  5743 					@moveSTRING LOCFNAME #32
  5743 				 MWA LOCFNAME @MOVE.DST\ MVA #32 @MOVESTRING.LEN\ JSR @MOVESTRING
  5743 2AAC AD 13 2C 85 8C AD +  MWA LOCFNAME @MOVE.DST
  5743 2AB6 A9 20 8D 7B 0F	 MVA #32 @MOVESTRING.LEN
  5743 2ABB 20 74 0F		 JSR @MOVESTRING
  5744 2ABE 4C F9 2B			jmp a_0009
  5745 2AC1			l_0C7A
  5746 2AC1 C9 16			cmp #$16
  5747 2AC3 D0 1F			jne l_0C83
  5748
  5749 				; optimize OK (locations.pas), line = 150
  5750
  5751 2AC5 AD 7E 9B			lda LOCAJOBBFNAME
  5752 2AC8 85 88			sta @move.src
  5753 2ACA AD 7F 9B			lda LOCAJOBBFNAME+1
  5754 2ACD 85 89			sta @move.src+1
  5755 					@moveSTRING LOCFNAME #32
  5755 				 MWA LOCFNAME @MOVE.DST\ MVA #32 @MOVESTRING.LEN\ JSR @MOVESTRING
  5755 2ACF AD 13 2C 85 8C AD +  MWA LOCFNAME @MOVE.DST
  5755 2AD9 A9 20 8D 7B 0F	 MVA #32 @MOVESTRING.LEN
  5755 2ADE 20 74 0F		 JSR @MOVESTRING
  5756 2AE1 4C F9 2B			jmp a_0009
  5757 2AE4			l_0C83
  5758 2AE4 C9 18			cmp #$18
  5759 2AE6 D0 1F			jne l_0C8C
  5760
  5761 				; optimize OK (locations.pas), line = 151
  5762
  5763 2AE8 AD 80 9B			lda LOCAMAJOFNAME
  5764 2AEB 85 88			sta @move.src
  5765 2AED AD 81 9B			lda LOCAMAJOFNAME+1
  5766 2AF0 85 89			sta @move.src+1
  5767 					@moveSTRING LOCFNAME #32
  5767 				 MWA LOCFNAME @MOVE.DST\ MVA #32 @MOVESTRING.LEN\ JSR @MOVESTRING
  5767 2AF2 AD 13 2C 85 8C AD +  MWA LOCFNAME @MOVE.DST
  5767 2AFC A9 20 8D 7B 0F	 MVA #32 @MOVESTRING.LEN
  5767 2B01 20 74 0F		 JSR @MOVESTRING
  5768 2B04 4C F9 2B			jmp a_0009
  5769 2B07			l_0C8C
  5770 2B07 C9 17			cmp #$17
  5771 2B09 D0 1F			jne l_0C95
  5772
  5773 				; optimize OK (locations.pas), line = 152
  5774
  5775 2B0B AD 8C 9B			lda LOCACENTFNAME
  5776 2B0E 85 88			sta @move.src
  5777 2B10 AD 8D 9B			lda LOCACENTFNAME+1
  5778 2B13 85 89			sta @move.src+1
  5779 					@moveSTRING LOCFNAME #32
  5779 				 MWA LOCFNAME @MOVE.DST\ MVA #32 @MOVESTRING.LEN\ JSR @MOVESTRING
  5779 2B15 AD 13 2C 85 8C AD +  MWA LOCFNAME @MOVE.DST
  5779 2B1F A9 20 8D 7B 0F	 MVA #32 @MOVESTRING.LEN
  5779 2B24 20 74 0F		 JSR @MOVESTRING
  5780 2B27 4C F9 2B			jmp a_0009
  5781 2B2A			l_0C95
  5782 2B2A C9 19			cmp #$19
  5783 2B2C D0 1F			jne l_0C9E
  5784
  5785 				; optimize OK (locations.pas), line = 153
  5786
  5787 2B2E AD 82 9B			lda LOCACOURFNAME
  5788 2B31 85 88			sta @move.src
  5789 2B33 AD 83 9B			lda LOCACOURFNAME+1
  5790 2B36 85 89			sta @move.src+1
  5791 					@moveSTRING LOCFNAME #32
  5791 				 MWA LOCFNAME @MOVE.DST\ MVA #32 @MOVESTRING.LEN\ JSR @MOVESTRING
  5791 2B38 AD 13 2C 85 8C AD +  MWA LOCFNAME @MOVE.DST
  5791 2B42 A9 20 8D 7B 0F	 MVA #32 @MOVESTRING.LEN
  5791 2B47 20 74 0F		 JSR @MOVESTRING
  5792 2B4A 4C F9 2B			jmp a_0009
  5793 2B4D			l_0C9E
  5794 2B4D C9 1A			cmp #$1A
  5795 2B4F D0 1F			jne l_0CA7
  5796
  5797 				; optimize OK (locations.pas), line = 154
  5798
  5799 2B51 AD 84 9B			lda LOCACAUGFNAME
  5800 2B54 85 88			sta @move.src
  5801 2B56 AD 85 9B			lda LOCACAUGFNAME+1
  5802 2B59 85 89			sta @move.src+1
  5803 					@moveSTRING LOCFNAME #32
  5803 				 MWA LOCFNAME @MOVE.DST\ MVA #32 @MOVESTRING.LEN\ JSR @MOVESTRING
  5803 2B5B AD 13 2C 85 8C AD +  MWA LOCFNAME @MOVE.DST
  5803 2B65 A9 20 8D 7B 0F	 MVA #32 @MOVESTRING.LEN
  5803 2B6A 20 74 0F		 JSR @MOVESTRING
  5804 2B6D 4C F9 2B			jmp a_0009
  5805 2B70			l_0CA7
  5806 2B70 C9 1B			cmp #$1B
  5807 2B72 D0 1F			jne l_0CB0
  5808
  5809 				; optimize OK (locations.pas), line = 155
  5810
  5811 2B74 AD 86 9B			lda LOCAROADFNAME
  5812 2B77 85 88			sta @move.src
  5813 2B79 AD 87 9B			lda LOCAROADFNAME+1
  5814 2B7C 85 89			sta @move.src+1
  5815 					@moveSTRING LOCFNAME #32
  5815 				 MWA LOCFNAME @MOVE.DST\ MVA #32 @MOVESTRING.LEN\ JSR @MOVESTRING
  5815 2B7E AD 13 2C 85 8C AD +  MWA LOCFNAME @MOVE.DST
  5815 2B88 A9 20 8D 7B 0F	 MVA #32 @MOVESTRING.LEN
  5815 2B8D 20 74 0F		 JSR @MOVESTRING
  5816 2B90 4C F9 2B			jmp a_0009
  5817 2B93			l_0CB0
  5818 2B93 C9 15			cmp #$15
  5819 2B95 D0 1F			jne l_0CB9
  5820
  5821 				; optimize OK (locations.pas), line = 156
  5822
  5823 2B97 AD 88 9B			lda LOCAUPDTFNAME
  5824 2B9A 85 88			sta @move.src
  5825 2B9C AD 89 9B			lda LOCAUPDTFNAME+1
  5826 2B9F 85 89			sta @move.src+1
  5827 					@moveSTRING LOCFNAME #32
  5827 				 MWA LOCFNAME @MOVE.DST\ MVA #32 @MOVESTRING.LEN\ JSR @MOVESTRING
  5827 2BA1 AD 13 2C 85 8C AD +  MWA LOCFNAME @MOVE.DST
  5827 2BAB A9 20 8D 7B 0F	 MVA #32 @MOVESTRING.LEN
  5827 2BB0 20 74 0F		 JSR @MOVESTRING
  5828 2BB3 4C F9 2B			jmp a_0009
  5829 2BB6			l_0CB9
  5830 2BB6 C9 1C			cmp #$1C
  5831 2BB8 D0 1F			jne l_0CC2
  5832
  5833 				; optimize OK (locations.pas), line = 157
  5834
  5835 2BBA AD 8A 9B			lda LOCASETUFNAME
  5836 2BBD 85 88			sta @move.src
  5837 2BBF AD 8B 9B			lda LOCASETUFNAME+1
  5838 2BC2 85 89			sta @move.src+1
  5839 					@moveSTRING LOCFNAME #32
  5839 				 MWA LOCFNAME @MOVE.DST\ MVA #32 @MOVESTRING.LEN\ JSR @MOVESTRING
  5839 2BC4 AD 13 2C 85 8C AD +  MWA LOCFNAME @MOVE.DST
  5839 2BCE A9 20 8D 7B 0F	 MVA #32 @MOVESTRING.LEN
  5839 2BD3 20 74 0F		 JSR @MOVESTRING
  5840 2BD6 4C F9 2B			jmp a_0009
  5841 2BD9			l_0CC2
  5842 2BD9 C9 1E			cmp #$1E
  5843 2BDB D0 1C			jne l_0CCB
  5844
  5845 				; optimize OK (locations.pas), line = 158
  5846
  5847 2BDD AD 8E 9B			lda LOCACREDFNAME
  5848 2BE0 85 88			sta @move.src
  5849 2BE2 AD 8F 9B			lda LOCACREDFNAME+1
  5850 2BE5 85 89			sta @move.src+1
  5851 					@moveSTRING LOCFNAME #32
  5851 				 MWA LOCFNAME @MOVE.DST\ MVA #32 @MOVESTRING.LEN\ JSR @MOVESTRING
  5851 2BE7 AD 13 2C 85 8C AD +  MWA LOCFNAME @MOVE.DST
  5851 2BF1 A9 20 8D 7B 0F	 MVA #32 @MOVESTRING.LEN
  5851 2BF6 20 74 0F		 JSR @MOVESTRING
  5852 2BF9			l_0CCB
  5853 2BF9			a_0009
  5854
  5855 				; optimize OK (locations.pas), line = 160
  5856
  5857 2BF9 AD 13 2C			lda LOCFNAME
  5858 2BFC 8D 07 A7			sta LOADXAPL.FNAME
  5859 2BFF AD 14 2C			lda LOCFNAME+1
  5860 2C02 8D 08 A7			sta LOADXAPL.FNAME+1
  5861 2C05 A9 00			lda #$00
  5862 2C07 8D 09 A7			sta LOADXAPL.OUTPUTPOINTER
  5863 2C0A A9 C0			lda #$C0
  5864 2C0C 8D 0A A7			sta LOADXAPL.OUTPUTPOINTER+1
  5865 2C0F 20 20 27			jsr LOADXAPL
  5866
  5867 				; ------------------------------------------------------------
  5868
  5869 = A739			L	= DATAORIGIN+$0B1E
  5870 = A73A			adr.LOCFNAME	= [DATAORIGIN+$0B1F] .array [33]
  5871 2C12			.var LOCFNAME	= adr.LOCFNAME .word
  5872 = A75B			@CASETMP_0009	= DATAORIGIN+$0B40
  5873
  5874 = A739			@VarData	= L
  5875 = 0023			@VarDataSize	= 35
  5876
  5877 2C12			@exit
  5878 					.ifdef @new
  5879 					lda <@VarData
  5880 					sta :ztmp
  5881 					lda >@VarData
  5882 					ldy #@VarDataSize-1
  5883 					jmp @FreeMem
  5884 					els
  5885 2C12 60				rts						; ret
  5886 					eif
  5887 = 2C13 3A A7		LOCFNAME
  5887 				.endl
  5888
  5889 2C15			.local	SHOWLOCATION					; FUNCTION
  5890 2C15 8D 5C A7			sta L
  5891
  5892 				; optimize OK (locations.pas), line = 175
  5893
  5894 2C18 20 BD 28			jsr LOADLOCATION
  5895
  5896 				; optimize OK (locations.pas), line = 176
  5897
  5898 2C1B A9 63			lda #$63
  5899 2C1D 8D 0E A7			sta CURRENTSUBLOCATION
  5900
  5901 				; optimize OK (locations.pas), line = 177
  5902
  5903 2C20 A9 00			lda #$00
  5904 2C22 8D 5E A7			sta I
  5905
  5906 2C25			l_0CFF
  5907 				; --- ForToDoCondition
  5908 2C25 AC 5E A7			ldy I
  5909 2C28 C0 04			cpy #$04
  5910 2C2A B0 13			jcs l_0D0D
  5911
  5912 				; optimize OK (locations.pas), line = 178
  5913
  5914 2C2C B9 AA C2			lda adr.LOC_MAP_PLACES,y
  5915 2C2F CD 90 CD			cmp CURRENTMAP
  5916 2C32 D0 06			jne l_0D24
  5917 2C34 AD 5E A7			lda I
  5918 2C37 8D 0E A7			sta CURRENTSUBLOCATION
  5919 2C3A			l_0D24
  5920
  5921 				; --- ForToDoEpilog
  5922 2C3A EE 5E A7			inc I
  5923 2C3D D0 E6			jne l_0CFF
  5924 2C3F			l_0D0D
  5925
  5926 				; optimize OK (locations.pas), line = 179
  5927
  5928 2C3F AD 0E A7			lda CURRENTSUBLOCATION
  5929 2C42 C9 63			cmp #$63
  5930 2C44 D0 03			jne l_0D44
  5931
  5932 				; --- RepeatUntilProlog
  5933 2C46			l_0D46
  5934 2C46 4C 46 2C			jmp l_0D46
  5935 2C49			l_0D44
  5936
  5937 				; optimize OK (locations.pas), line = 180
  5938
  5939 2C49 AD A9 C2			lda LOC_NOPTIONS
  5940 2C4C D0 08			jne l_0D5F
  5941
  5942 				; optimize OK (locations.pas), line = 182
  5943
  5944 2C4E A9 63			lda #$63
  5945 2C50 8D 5D A7			sta RESULT
  5946 2C53 4C D0 2D			jmp @exit
  5947 2C56			l_0D5F
  5948
  5949 				; optimize FAIL ('SHOWLOCATIONHEADER', locations.pas), line = 186
  5950
  5951 2C56 20 18 28			jsr SHOWLOCATIONHEADER
  5952
  5953 				; optimize OK (locations.pas), line = 189
  5954
  5955 2C59 A9 00			lda #$00
  5956 2C5B 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
  5957 2C5E A9 04			lda #$04
  5958 2C60 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
  5959 2C63 20 F9 17			jsr B_CRT.CRT_GOTOXY
  5960
  5961 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', locations.pas), line = 190
  5962
  5963 2C66 E8				inx
  5964 2C67 AD 7C 9A 95 94		mva LOC_DESCRIPTION_1 :STACKORIGIN,x
  5965 2C6C AD 7D 9A 95 A4		mva LOC_DESCRIPTION_1+1 :STACKORIGIN+STACKWIDTH,x
  5966 2C71 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
  5967
  5968 				; optimize OK (locations.pas), line = 191
  5969
  5970 2C74 A9 00			lda #$00
  5971 2C76 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
  5972 2C79 A9 05			lda #$05
  5973 2C7B 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
  5974 2C7E 20 F9 17			jsr B_CRT.CRT_GOTOXY
  5975
  5976 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', locations.pas), line = 192
  5977
  5978 2C81 E8				inx
  5979 2C82 AD 7E 9A 95 94		mva LOC_DESCRIPTION_2 :STACKORIGIN,x
  5980 2C87 AD 7F 9A 95 A4		mva LOC_DESCRIPTION_2+1 :STACKORIGIN+STACKWIDTH,x
  5981 2C8C 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
  5982
  5983 				; optimize OK (locations.pas), line = 194
  5984
  5985 2C8F A9 00			lda #$00
  5986 2C91 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
  5987 2C94 A9 07			lda #$07
  5988 2C96 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
  5989 2C99 20 F9 17			jsr B_CRT.CRT_GOTOXY
  5990
  5991 				; optimize OK (locations.pas), line = 195
  5992
  5993 2C9C A9 00			lda #$00
  5994 2C9E 8D 91 A7			sta NOPT
  5995
  5996 				; optimize OK (locations.pas), line = 196
  5997
  5998 2CA1 A9 07			lda #$07
  5999 2CA3 8D 90 A7			sta J
  6000
  6001 				; optimize OK (locations.pas), line = 197
  6002
  6003 2CA6 A9 00			lda #$00
  6004 2CA8 8D 5E A7			sta I
  6005
  6006 2CAB			l_0D87
  6007 				; --- ForToDoCondition
  6008 2CAB AD 5E A7			lda I
  6009 2CAE C9 0A			cmp #$0A
  6010 2CB0 B0 67			jcs l_0D95
  6011
  6012 				; optimize OK (locations.pas), line = 199
  6013
  6014 2CB2 0A				asl @
  6015 2CB3 A8				tay
  6016 2CB4 B9 BE A3			lda adr.LOC_OPTIONS,y
  6017 2CB7 85 88			sta @move.src
  6018 2CB9 B9 BF A3			lda adr.LOC_OPTIONS+1,y
  6019 2CBC 85 89			sta @move.src+1
  6020 					@moveSTRING TMPS #40
  6020 				 MWA TMPS @MOVE.DST\ MVA #40 @MOVESTRING.LEN\ JSR @MOVESTRING
  6020 2CBE AD D1 2D 85 8C AD +  MWA TMPS @MOVE.DST
  6020 2CC8 A9 28 8D 7B 0F	 MVA #40 @MOVESTRING.LEN
  6020 2CCD 20 74 0F		 JSR @MOVESTRING
  6021
  6022 				; optimize OK (locations.pas), line = 200
  6023
  6024 2CD0 AD 60 A7			lda adr.TMPS
  6025 2CD3 D0 03			jne l_0DA9
  6026 2CD5 4C 19 2D			jmp b_0D87
  6027 2CD8			l_0DA9
  6028
  6029 				; optimize OK (locations.pas), line = 202
  6030
  6031 2CD8 AD 61 A7			lda adr.TMPS+$01
  6032 2CDB D0 14			jne l_0DBF
  6033
  6034 				; optimize FAIL ('CRT_WRITELN', locations.pas), line = 204
  6035
  6036 2CDD E8				inx
  6037 2CDE AD D1 2D 95 94		mva TMPS :STACKORIGIN,x
  6038 2CE3 AD D2 2D 95 A4		mva TMPS+1 :STACKORIGIN+STACKWIDTH,x
  6039 2CE8 20 E7 1D			jsr CRT_WRITELN
  6040
  6041 				; optimize OK (locations.pas), line = 205
  6042
  6043 2CEB EE 90 A7			inc J
  6044 2CEE 4C 14 2D			jmp l_0DD6
  6045 2CF1			l_0DBF
  6046
  6047 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', locations.pas), line = 209
  6048
  6049 2CF1 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
  6050
  6051 				; optimize OK (locations.pas), line = 210
  6052
  6053 2CF4 EE 90 A7			inc J
  6054
  6055 				; optimize OK (locations.pas), line = 211
  6056
  6057 2CF7 AC 91 A7			ldy NOPT
  6058 2CFA AD 90 A7			lda J
  6059 2CFD 99 89 A7			sta adr.NPOS,y
  6060
  6061 				; optimize FAIL ('CRT_WRITELN', locations.pas), line = 212
  6062
  6063 2D00 E8				inx
  6064 2D01 AD D1 2D 95 94		mva TMPS :STACKORIGIN,x
  6065 2D06 AD D2 2D 95 A4		mva TMPS+1 :STACKORIGIN+STACKWIDTH,x
  6066 2D0B 20 E7 1D			jsr CRT_WRITELN
  6067
  6068 				; optimize OK (locations.pas), line = 213
  6069
  6070 2D0E EE 90 A7			inc J
  6071
  6072 				; optimize OK (locations.pas), line = 214
  6073
  6074 2D11 EE 91 A7			inc NOPT
  6075 2D14			l_0DD6
  6076
  6077 				; --- ForToDoEpilog
  6078 2D14 EE 5E A7			inc I
  6079 2D17 D0 92			jne l_0D87
  6080 2D19			l_0D95
  6081 2D19			b_0D87
  6082
  6083 				; optimize OK (locations.pas), line = 218
  6084
  6085 2D19 A9 00			lda #$00
  6086 2D1B 8D 5F A7			sta CHOICE
  6087
  6088 				; --- RepeatUntilProlog
  6089 2D1E			l_0E0B
  6090
  6091 				; optimize OK (locations.pas), line = 220
  6092
  6093 2D1E A9 00			lda #$00
  6094 2D20 8D 5E A7			sta I
  6095 2D23 AC 91 A7			ldy NOPT
  6096 2D26 88				dey
  6097 2D27 8C 2B 2D			sty @FORTMP_0E17_0
  6098
  6099 2D2A			l_0E1A
  6100 				; --- ForToDoCondition
  6101 2D2A A9 00			lda @FORTMP_0E17_0::#$00
  6102 2D2C CD 5E A7			cmp I
  6103 2D2F 90 1B			jcc l_0E28
  6104
  6105 				; optimize OK (locations.pas), line = 223
  6106
  6107 2D31 AC 5E A7			ldy I
  6108 2D34 A9 00			lda #$00
  6109 2D36 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
  6110 2D39 B9 89 A7			lda adr.NPOS,y
  6111 2D3C 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
  6112 2D3F 20 F9 17			jsr B_CRT.CRT_GOTOXY
  6113
  6114 				; optimize OK (locations.pas), line = 224
  6115
  6116 2D42 A9 00			lda #$00
  6117 2D44 20 B2 18			jsr B_CRT.CRT_WRITE.@010186000
  6118
  6119 				; --- ForToDoEpilog
  6120 2D47 EE 5E A7			inc I
  6121 2D4A D0 DE			jne l_0E1A
  6122 2D4C			l_0E28
  6123
  6124 				; optimize OK (locations.pas), line = 226
  6125
  6126 2D4C AC 5F A7			ldy CHOICE
  6127 2D4F A9 00			lda #$00
  6128 2D51 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
  6129 2D54 B9 89 A7			lda adr.NPOS,y
  6130 2D57 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
  6131 2D5A 20 F9 17			jsr B_CRT.CRT_GOTOXY
  6132
  6133 				; optimize OK (locations.pas), line = 227
  6134
  6135 2D5D A9 1E			lda #$1E
  6136 2D5F 20 B2 18			jsr B_CRT.CRT_WRITE.@010186000
  6137
  6138 				; optimize FAIL ('READKEYANDSTICK', locations.pas), line = 229
  6139
  6140 2D62 20 1B 1B			jsr READKEYANDSTICK
  6141 2D65 AD BC A4			lda READKEYANDSTICK.RESULT
  6142 2D68 8D 92 A7			sta CH
  6143
  6144 				; optimize OK (locations.pas), line = 230
  6145
  6146 2D6B A9 0A			lda #$0A
  6147 2D6D 20 5A 27			jsr WAITFRAMES
  6148
  6149 				; --- RepeatUntilProlog
  6150 2D70			l_0E48
  6151
  6152 				; optimize FAIL ('CHECKKEYANDSTICK', locations.pas), line = 232
  6153
  6154 2D70 20 92 1B			jsr CHECKKEYANDSTICK
  6155 2D73 AD BE A4			lda CHECKKEYANDSTICK.RESULT
  6156 2D76 8D 93 A7			sta TMPCH
  6157
  6158 				; optimize OK (locations.pas), line = 233
  6159
  6160 2D79 CD 92 A7			cmp CH
  6161 2D7C F0 F2			jeq l_0E48
  6162
  6163 				; optimize OK (locations.pas), line = 235
  6164
  6165 2D7E AD 92 A7			lda CH
  6166 2D81 C9 0C			cmp #$0C
  6167 2D83 D0 0A			jne l_0E6D
  6168
  6169 				; optimize OK (locations.pas), line = 236
  6170
  6171 2D85 AC 5F A7			ldy CHOICE
  6172 2D88 C8				iny
  6173 2D89 8C 5D A7			sty RESULT
  6174 2D8C 4C D0 2D			jmp @exit
  6175 2D8F			l_0E6D
  6176
  6177 				; optimize OK (locations.pas), line = 240
  6178
  6179 2D8F AD 92 A7			lda CH
  6180 2D92 C9 0E			cmp #$0E
  6181 2D94 D0 08			jne l_0E8C
  6182
  6183 				; optimize OK (locations.pas), line = 242
  6184
  6185 2D96 AD 5F A7			lda CHOICE
  6186 2D99 F0 03			jeq l_0E9F
  6187 2D9B CE 5F A7			dec CHOICE
  6188 2D9E			l_0E9F
  6189 2D9E			l_0E8C
  6190
  6191 				; optimize OK (locations.pas), line = 245
  6192
  6193 2D9E AD 92 A7			lda CH
  6194 2DA1 C9 0F			cmp #$0F
  6195 2DA3 D0 1A			jne l_0EC0
  6196
  6197 				; optimize OK (locations.pas), line = 247
  6198
  6199 2DA5 AD 5F A7			lda CHOICE
  6200 2DA8 18 69 01			add #$01
  6201 2DAB 85 9D			sta :STACKORIGIN+9
  6202 2DAD A9 00			lda #$00
  6203 2DAF 69 00			adc #$00
  6204 2DB1 C9 00			cmp #$00
  6205 2DB3 D0 05			bne @+
  6206 2DB5 A5 9D			lda :STACKORIGIN+9
  6207 2DB7 CD 91 A7			cmp NOPT
  6208 				@
  6209 2DBA B0 03			jcs l_0ED9
  6210 2DBC EE 5F A7			inc CHOICE
  6211 2DBF			l_0ED9
  6212 2DBF			l_0EC0
  6213
  6214 				; optimize OK (locations.pas), line = 276
  6215
  6216 2DBF AD 92 A7			lda CH
  6217 2DC2 C9 0C			cmp #$0C
  6218 2DC4 F0 03 4C 1E 2D		jne l_0E0B
  6219
  6220 				; optimize OK (locations.pas), line = 278
  6221
  6222 2DC9 AC 5F A7			ldy CHOICE
  6223 2DCC C8				iny
  6224 2DCD 8C 5D A7			sty RESULT
  6225 2DD0			@exit
  6226
  6227 				; ------------------------------------------------------------
  6228
  6229 = A75C			L	= DATAORIGIN+$0B41
  6230 = A75D			RESULT	= DATAORIGIN+$0B42
  6231 = A75E			I	= DATAORIGIN+$0B43
  6232 = A75F			CHOICE	= DATAORIGIN+$0B44
  6233 = A760			adr.TMPS	= [DATAORIGIN+$0B45] .array [41]
  6234 2DD0			.var TMPS	= adr.TMPS .word
  6235 = A789			adr.NPOS	= [DATAORIGIN+$0B6E] .array [7]
  6236 2DD0			.var NPOS	= adr.NPOS .word
  6237 = A790			J	= DATAORIGIN+$0B75
  6238 = A791			NOPT	= DATAORIGIN+$0B76
  6239 = A792			CH	= DATAORIGIN+$0B77
  6240 = A793			TMPCH	= DATAORIGIN+$0B78
  6241
  6242 = A75C			@VarData	= L
  6243 = 0037			@VarDataSize	= 55
  6244
  6245 2DD0 60				rts						; ret
  6246 = 2DD1 60 A7		TMPS
  6246 = 2DD3 89 A7		NPOS
  6246 				.endl
  6247
  6248 2DD5			.local	NEXTPLAYER					; PROCEDURE
  6249
  6250 				; optimize OK (player.pas), line = 5
  6251
  6252 2DD5 EE 8A CD			inc CURRENTPLAYER
  6253
  6254 				; optimize OK (player.pas), line = 6
  6255
  6256 2DD8 AD 8A CD			lda CURRENTPLAYER
  6257 2DDB 18 69 01			add #$01
  6258 2DDE 85 9D			sta :STACKORIGIN+9
  6259 2DE0 A9 00			lda #$00
  6260 2DE2 69 00			adc #$00
  6261 2DE4 C9 00			cmp #$00
  6262 2DE6 D0 05			bne @+
  6263 2DE8 A5 9D			lda :STACKORIGIN+9
  6264 2DEA CD 20 C9			cmp NPLAYERS
  6265 				@
  6266 2DED 90 1E			jcc l_0F25
  6267 2DEF F0 1C			jeq l_0F25
  6268
  6269 				; optimize OK (player.pas), line = 8
  6270
  6271 2DF1 AD 8A CD			lda CURRENTPLAYER
  6272 2DF4 38 ED 20 C9			sub NPLAYERS
  6273 2DF8 8D 8A CD			sta CURRENTPLAYER
  6274
  6275 				; optimize OK (player.pas), line = 9
  6276
  6277 2DFB EE C2 CA			inc CURRENTMONTH
  6278
  6279 				; optimize OK (player.pas), line = 10
  6280
  6281 2DFE AD C2 CA			lda CURRENTMONTH
  6282 2E01 C9 0D			cmp #$0D
  6283 2E03 90 08			jcc l_0F4E
  6284
  6285 				; optimize OK (player.pas), line = 11
  6286
  6287 2E05 EE C3 CA			inc CURRENTYEAR
  6288
  6289 				; optimize OK (player.pas), line = 12
  6290
  6291 2E08 A9 01			lda #$01
  6292 2E0A 8D C2 CA			sta CURRENTMONTH
  6293 2E0D			l_0F4E
  6294 2E0D			l_0F25
  6295
  6296 2E0D			@exit
  6297 					.ifdef @new
  6298 					lda <@VarData
  6299 					sta :ztmp
  6300 					lda >@VarData
  6301 					ldy #@VarDataSize-1
  6302 					jmp @FreeMem
  6303 					els
  6304 2E0D 60				rts						; ret
  6305 					eif
  6306 				.endl
  6307
  6308 2E0E			.local	INITPLAYERS					; PROCEDURE
  6309
  6310 				; optimize OK (player.pas), line = 23
  6311
  6312 2E0E A9 00			lda #$00
  6313 2E10 A8				tay
  6314
  6315 2E11			l_0F6E
  6316 				; --- ForToDoCondition
  6317 2E11 C0 04			cpy #$04
  6318 2E13 B0 12			jcs l_0F7C
  6319
  6320 				; optimize OK (player.pas), line = 25
  6321
  6322 2E15 A9 03			lda #$03
  6323 2E17 99 54 C9			sta adr.PLMAPPOSX,y
  6324
  6325 				; optimize OK (player.pas), line = 26
  6326
  6327 2E1A A9 02			lda #$02
  6328 2E1C 99 58 C9			sta adr.PLMAPPOSY,y
  6329
  6330 				; optimize OK (player.pas), line = 27
  6331
  6332 2E1F A9 00			lda #$00
  6333 2E21 99 5C C9			sta adr.PLCURRENTMAP,y
  6334
  6335 				; --- ForToDoEpilog
  6336 2E24 C8				iny
  6337 2E25 D0 EA			jne l_0F6E
  6338 2E27			l_0F7C
  6339 2E27 8C 95 A7			sty K
  6340
  6341 				; ------------------------------------------------------------
  6342
  6343 = A795			K	= DATAORIGIN+$0B7A
  6344
  6345 = A795			@VarData	= K
  6346 = 0001			@VarDataSize	= 1
  6347
  6348 2E2A			@exit
  6349 					.ifdef @new
  6350 					lda <@VarData
  6351 					sta :ztmp
  6352 					lda >@VarData
  6353 					ldy #@VarDataSize-1
  6354 					jmp @FreeMem
  6355 					els
  6356 2E2A 60				rts						; ret
  6357 					eif
  6358 				.endl
  6359
  6360 2E2B			.local	PLAYERSTURN					; FUNCTION
  6361
  6362 				; optimize FAIL ('B_CRT.CRT_CLEAR.@00', player.pas), line = 46
  6363
  6364 2E2B 20 D1 17			jsr B_CRT.CRT_CLEAR.@00
  6365
  6366 				; optimize OK (player.pas), line = 47
  6367
  6368 2E2E A9 04			lda #$04
  6369 2E30 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
  6370 2E33 A9 01			lda #$01
  6371 2E35 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
  6372 2E38 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
  6373
  6374 				; optimize OK (player.pas), line = 48
  6375
  6376 2E3B AD 8A CD			lda CURRENTPLAYER
  6377 2E3E 0A				asl @
  6378 2E3F 0A				asl @
  6379 2E40 0A				asl @
  6380 2E41 8D 98 A7			sta Z
  6381
  6382 				; optimize FAIL ('B_CRT.CRT_WRITECENTERED.@02018986000001000180000', player.pas), line = 49
  6383
  6384 2E44 E8				inx
  6385 2E45 AD 98 A7			lda Z
  6386 2E48 0A				asl @
  6387 2E49 A8				tay
  6388 2E4A B9 E2 A3			lda adr.GANGSTERNAMES,y
  6389 2E4D 85 82			sta :bp2
  6390 2E4F B9 E3 A3			lda adr.GANGSTERNAMES+1,y
  6391 2E52 85 83			sta :bp2+1
  6392 2E54 A0 00			ldy #$00
  6393 2E56 B1 82 99 6A A1 C8 + 	mva:rne (:bp2),y B_CRT.CRT_WRITECENTERED.@02018986000001000180000.adr.S,y+
  6394 2E5E E8				inx
  6395 2E5F A9 05 95 94			mva #$05 :STACKORIGIN,x
  6396 2E63 20 2C 1A			jsr B_CRT.CRT_WRITECENTERED.@02018986000001000180000
  6397
  6398 				; optimize OK (player.pas), line = 50
  6399
  6400 2E66 A9 06			lda #$06
  6401 2E68 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
  6402 2E6B A9 02			lda #$02
  6403 2E6D 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
  6404 2E70 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
  6405
  6406 				; optimize OK (player.pas), line = 60
  6407
  6408 2E73 A9 00			lda #$00
  6409 2E75 8D E1 9D			sta RMT.TRMT.INIT.A
  6410 2E78 AD E4 99			lda MSX
  6411 2E7B AC E5 99			ldy MSX+1
  6412 2E7E 20 52 15			jsr RMT.TRMT.INIT
  6413
  6414 				; optimize FAIL ('RMT.TRMT.PLAY', player.pas), line = 61
  6415
  6416 2E81 AD E4 99			lda MSX
  6417 2E84 AC E5 99			ldy MSX+1
  6418 2E87 20 8E 15			jsr RMT.TRMT.PLAY
  6419
  6420 				; optimize OK (player.pas), line = 62
  6421
  6422 2E8A A9 01			lda #$01
  6423 2E8C 8D 11 CA			sta PLAYMUSIC
  6424
  6425 				; optimize OK (player.pas), line = 63
  6426
  6427 2E8F A9 78			lda #$78
  6428 2E91 20 5A 27			jsr WAITFRAMES
  6429
  6430 				; optimize FAIL ('RMT.TRMT.STOP', player.pas), line = 64
  6431
  6432 2E94 AD E4 99			lda MSX
  6433 2E97 AC E5 99			ldy MSX+1
  6434 2E9A 20 CE 15			jsr RMT.TRMT.STOP
  6435
  6436 				; optimize OK (player.pas), line = 65
  6437
  6438 2E9D A9 00			lda #$00
  6439 2E9F 8D 11 CA			sta PLAYMUSIC
  6440
  6441 				; optimize OK (player.pas), line = 69
  6442
  6443 2EA2 8D 96 A7			sta RESULT
  6444
  6445 				; optimize OK (player.pas), line = 70
  6446
  6447 2EA5 AD 8A CD			lda CURRENTPLAYER
  6448 2EA8 D0 6C			jne l_0FD6
  6449
  6450 				; optimize OK (player.pas), line = 72
  6451
  6452 2EAA A9 08			lda #$08
  6453 2EAC 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
  6454 2EAF A9 28			lda #$28
  6455 2EB1 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
  6456 2EB4 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
  6457
  6458 				; optimize OK (player.pas), line = 73
  6459
  6460 2EB7 A9 09			lda #$09
  6461 2EB9 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
  6462 2EBC A9 29			lda #$29
  6463 2EBE 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
  6464 2EC1 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
  6465
  6466 				; optimize FAIL ('READKEYANDSTICK', player.pas), line = 74
  6467
  6468 2EC4 20 1B 1B			jsr READKEYANDSTICK
  6469 2EC7 AD BC A4			lda READKEYANDSTICK.RESULT
  6470 2ECA 8D 97 A7			sta CH
  6471
  6472 				; optimize OK (player.pas), line = 75
  6473
  6474 2ECD C9 1E			cmp #$1E
  6475 2ECF D0 15			jne l_0FF3
  6476
  6477 				; optimize OK (player.pas), line = 76
  6478
  6479 2ED1 A9 1C			lda #$1C
  6480 2ED3 20 BD 28			jsr LOADLOCATION
  6481
  6482 				; optimize FAIL ('LOADGAME', player.pas), line = 77
  6483
  6484 2ED6 20 36 24			jsr LOADGAME
  6485
  6486 				; optimize FAIL ('WAITFORKEY', player.pas), line = 78
  6487
  6488 2ED9 20 88 1D			jsr WAITFORKEY
  6489
  6490 				; optimize OK (player.pas), line = 79
  6491
  6492 2EDC A9 13			lda #$13
  6493 2EDE 20 BD 28			jsr LOADLOCATION
  6494
  6495 				; optimize OK (player.pas), line = 80
  6496
  6497 2EE1 A9 1D			lda #$1D
  6498 2EE3 8D 96 A7			sta RESULT
  6499 2EE6			l_0FF3
  6500
  6501 				; optimize OK (player.pas), line = 82
  6502
  6503 2EE6 AD 97 A7			lda CH
  6504 2EE9 C9 1F			cmp #$1F
  6505 2EEB D0 26			jne l_1012
  6506
  6507 				; optimize OK (player.pas), line = 83
  6508
  6509 2EED A9 1C			lda #$1C
  6510 2EEF 20 BD 28			jsr LOADLOCATION
  6511
  6512 				; optimize FAIL ('BLACKCONSOLE', player.pas), line = 84
  6513
  6514 2EF2 20 6C 27			jsr BLACKCONSOLE
  6515
  6516 				; optimize FAIL ('SAVEGAME', player.pas), line = 85
  6517
  6518 2EF5 20 C7 23			jsr SAVEGAME
  6519
  6520 				; optimize FAIL ('ENABLECONSOLE', player.pas), line = 86
  6521
  6522 2EF8 20 8E 27			jsr ENABLECONSOLE
  6523
  6524 				; optimize FAIL ('B_CRT.CRT_CLEAR.@00', player.pas), line = 87
  6525
  6526 2EFB 20 D1 17			jsr B_CRT.CRT_CLEAR.@00
  6527
  6528 				; optimize OK (player.pas), line = 88
  6529
  6530 2EFE A9 01			lda #$01
  6531 2F00 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
  6532 2F03 A9 13			lda #$13
  6533 2F05 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
  6534 2F08 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
  6535
  6536 				; optimize FAIL ('WAITFORKEY', player.pas), line = 89
  6537
  6538 2F0B 20 88 1D			jsr WAITFORKEY
  6539
  6540 				; optimize OK (player.pas), line = 90
  6541
  6542 2F0E A9 13			lda #$13
  6543 2F10 20 BD 28			jsr LOADLOCATION
  6544 2F13			l_1012
  6545 2F13 4C 19 2F			jmp l_102A
  6546 2F16			l_0FD6
  6547
  6548 				; optimize FAIL ('WAITFORKEY', player.pas), line = 95
  6549
  6550 2F16 20 88 1D			jsr WAITFORKEY
  6551 2F19			l_102A
  6552
  6553 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', player.pas), line = 97
  6554
  6555 2F19 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
  6556
  6557 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', player.pas), line = 98
  6558
  6559 2F1C 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
  6560 2F1F			@exit
  6561
  6562 				; ------------------------------------------------------------
  6563
  6564 = A796			RESULT	= DATAORIGIN+$0B7B
  6565 = A797			CH	= DATAORIGIN+$0B7C
  6566 = A798			Z	= DATAORIGIN+$0B7D
  6567
  6568 = A797			@VarData	= CH
  6569 = 0002			@VarDataSize	= 2
  6570
  6571 2F1F 60				rts						; ret
  6572 				.endl
  6573
  6574 2F20			.local	PLACECURRENTPLAYER				; PROCEDURE
  6575
  6576 				; optimize OK (player.pas), line = 105
  6577
  6578 2F20 AC 8A CD			ldy CURRENTPLAYER
  6579 2F23 B9 54 C9			lda adr.PLMAPPOSX,y
  6580 2F26 8D B0 EA			sta MAPPOS_X
  6581
  6582 				; optimize OK (player.pas), line = 106
  6583
  6584 2F29 B9 58 C9			lda adr.PLMAPPOSY,y
  6585 2F2C 8D B1 EA			sta MAPPOS_Y
  6586
  6587 				; optimize OK (player.pas), line = 107
  6588
  6589 2F2F A9 00			lda #$00
  6590 2F31 85 AE			sta :STACKORIGIN+STACKWIDTH+10
  6591 2F33 AD B0 EA			lda MAPPOS_X
  6592 2F36 0A				asl @
  6593 2F37 26 AE			rol :STACKORIGIN+STACKWIDTH+10
  6594 2F39 0A				asl @
  6595 2F3A 0A				asl @
  6596 2F3B 18 69 31			add #$31
  6597 2F3E 8D AE EA			sta PLAYERPOS_X
  6598
  6599 				; optimize OK (player.pas), line = 108
  6600
  6601 2F41 A9 00			lda #$00
  6602 2F43 85 AE			sta :STACKORIGIN+STACKWIDTH+10
  6603 2F45 AD B1 EA			lda MAPPOS_Y
  6604 2F48 0A				asl @
  6605 2F49 26 AE			rol :STACKORIGIN+STACKWIDTH+10
  6606 2F4B 0A				asl @
  6607 2F4C 0A				asl @
  6608 2F4D 18 69 24			add #$24
  6609 2F50 8D AF EA			sta PLAYERPOS_Y
  6610
  6611 				; optimize OK (player.pas), line = 109
  6612
  6613 2F53 A9 01			lda #$01
  6614 2F55 8D F8 EA			sta SPRITEMOVEDIR
  6615
  6616 				; optimize OK (player.pas), line = 110
  6617
  6618 2F58 B9 5C C9			lda adr.PLCURRENTMAP,y
  6619 2F5B 8D 90 CD			sta CURRENTMAP
  6620
  6621 2F5E			@exit
  6622 					.ifdef @new
  6623 					lda <@VarData
  6624 					sta :ztmp
  6625 					lda >@VarData
  6626 					ldy #@VarDataSize-1
  6627 					jmp @FreeMem
  6628 					els
  6629 2F5E 60				rts						; ret
  6630 					eif
  6631 				.endl
  6632
  6633 2F5F			.local	ADDMONEY					; PROCEDURE
  6634
  6635 				; optimize OK (helpers_game.pas), line = 7
  6636
  6637 2F5F AD 8A CD			lda CURRENTPLAYER
  6638 2F62 0A				asl @
  6639 2F63 0A				asl @
  6640 2F64 A8				tay
  6641 2F65 B9 30 C9			lda adr.PLMONEY,y
  6642 2F68 18 6D 99 A7			add AMOUNT
  6643 2F6C 99 30 C9			sta adr.PLMONEY,y
  6644 2F6F B9 31 C9			lda adr.PLMONEY+1,y
  6645 2F72 6D 9A A7			adc AMOUNT+1
  6646 2F75 99 31 C9			sta adr.PLMONEY+1,y
  6647 2F78 B9 32 C9			lda adr.PLMONEY+2,y
  6648 2F7B 69 00			adc #$00
  6649 2F7D 99 32 C9			sta adr.PLMONEY+2,y
  6650 2F80 B9 33 C9			lda adr.PLMONEY+3,y
  6651 2F83 69 00			adc #$00
  6652 2F85 99 33 C9			sta adr.PLMONEY+3,y
  6653
  6654 				; ------------------------------------------------------------
  6655
  6656 = A799			AMOUNT	= DATAORIGIN+$0B7E
  6657
  6658 = A799			@VarData	= AMOUNT
  6659 = 0002			@VarDataSize	= 2
  6660
  6661 2F88			@exit
  6662 					.ifdef @new
  6663 					lda <@VarData
  6664 					sta :ztmp
  6665 					lda >@VarData
  6666 					ldy #@VarDataSize-1
  6667 					jmp @FreeMem
  6668 					els
  6669 2F88 60				rts						; ret
  6670 					eif
  6671 				.endl
  6672
  6673 2F89			.local	SUBMONEY					; PROCEDURE
  6674
  6675 				; optimize OK (helpers_game.pas), line = 13
  6676
  6677 2F89 AD 8A CD			lda CURRENTPLAYER
  6678 2F8C 0A				asl @
  6679 2F8D 0A				asl @
  6680 2F8E A8				tay
  6681 2F8F B9 30 C9			lda adr.PLMONEY,y
  6682 2F92 38 ED 9B A7			sub AMOUNT
  6683 2F96 99 30 C9			sta adr.PLMONEY,y
  6684 2F99 B9 31 C9			lda adr.PLMONEY+1,y
  6685 2F9C ED 9C A7			sbc AMOUNT+1
  6686 2F9F 99 31 C9			sta adr.PLMONEY+1,y
  6687 2FA2 B9 32 C9			lda adr.PLMONEY+2,y
  6688 2FA5 E9 00			sbc #$00
  6689 2FA7 99 32 C9			sta adr.PLMONEY+2,y
  6690 2FAA B9 33 C9			lda adr.PLMONEY+3,y
  6691 2FAD E9 00			sbc #$00
  6692 2FAF 99 33 C9			sta adr.PLMONEY+3,y
  6693
  6694 				; ------------------------------------------------------------
  6695
  6696 = A79B			AMOUNT	= DATAORIGIN+$0B80
  6697
  6698 = A79B			@VarData	= AMOUNT
  6699 = 0002			@VarDataSize	= 2
  6700
  6701 2FB2			@exit
  6702 					.ifdef @new
  6703 					lda <@VarData
  6704 					sta :ztmp
  6705 					lda >@VarData
  6706 					ldy #@VarDataSize-1
  6707 					jmp @FreeMem
  6708 					els
  6709 2FB2 60				rts						; ret
  6710 					eif
  6711 				.endl
  6712
  6713 2FB3			.local	ADDPOINTS					; PROCEDURE
  6714 2FB3 8D 9D A7			sta PT
  6715
  6716 				; optimize OK (helpers_game.pas), line = 19
  6717
  6718 2FB6 AC 8A CD			ldy CURRENTPLAYER
  6719 2FB9 B9 A0 C9			lda adr.PLNEWPOINTS,y
  6720 2FBC 18 6D 9D A7			add PT
  6721 2FC0 99 A0 C9			sta adr.PLNEWPOINTS,y
  6722
  6723 				; ------------------------------------------------------------
  6724
  6725 = A79D			PT	= DATAORIGIN+$0B82
  6726
  6727 = A79D			@VarData	= PT
  6728 = 0001			@VarDataSize	= 1
  6729
  6730 2FC3			@exit
  6731 					.ifdef @new
  6732 					lda <@VarData
  6733 					sta :ztmp
  6734 					lda >@VarData
  6735 					ldy #@VarDataSize-1
  6736 					jmp @FreeMem
  6737 					els
  6738 2FC3 60				rts						; ret
  6739 					eif
  6740 				.endl
  6741
  6742 2FC4			.local	REMOVEPOINTS					; PROCEDURE
  6743 2FC4 8D 9E A7			sta PT
  6744
  6745 				; optimize OK (helpers_game.pas), line = 25
  6746
  6747 2FC7 AC 8A CD			ldy CURRENTPLAYER
  6748 2FCA B9 A0 C9			lda adr.PLNEWPOINTS,y
  6749 2FCD 85 9D			sta :STACKORIGIN+9
  6750 2FCF A0 00			ldy #$00
  6751 2FD1 A5 9D			lda :STACKORIGIN+9
  6752 2FD3 10 01			spl
  6753 2FD5 88				dey
  6754 2FD6 84 AD			sty :STACKORIGIN+STACKWIDTH+9
  6755 2FD8 CD 9E A7			cmp PT
  6756 2FDB A5 AD			lda :STACKORIGIN+STACKWIDTH+9
  6757 2FDD E9 00			sbc #$00
  6758 2FDF 50 02			svc
  6759 2FE1 49 80			eor #$80
  6760 2FE3 10 0B			jpl l_10C3
  6761
  6762 				; optimize OK (helpers_game.pas), line = 26
  6763
  6764 2FE5 AC 8A CD			ldy CURRENTPLAYER
  6765 2FE8 A9 00			lda #$00
  6766 2FEA 99 A0 C9			sta adr.PLNEWPOINTS,y
  6767 2FED 4C FD 2F			jmp @exit
  6768 2FF0			l_10C3
  6769
  6770 				; optimize OK (helpers_game.pas), line = 29
  6771
  6772 2FF0 AC 8A CD			ldy CURRENTPLAYER
  6773 2FF3 B9 A0 C9			lda adr.PLNEWPOINTS,y
  6774 2FF6 38 ED 9E A7			sub PT
  6775 2FFA 99 A0 C9			sta adr.PLNEWPOINTS,y
  6776
  6777 				; ------------------------------------------------------------
  6778
  6779 = A79E			PT	= DATAORIGIN+$0B83
  6780
  6781 = A79E			@VarData	= PT
  6782 = 0001			@VarDataSize	= 1
  6783
  6784 2FFD			@exit
  6785 					.ifdef @new
  6786 					lda <@VarData
  6787 					sta :ztmp
  6788 					lda >@VarData
  6789 					ldy #@VarDataSize-1
  6790 					jmp @FreeMem
  6791 					els
  6792 2FFD 60				rts						; ret
  6793 					eif
  6794 				.endl
  6795
  6796 2FFE			.local	CRACKEDBANK					; PROCEDURE
  6797
  6798 				; optimize OK (helpers_game.pas), line = 37
  6799
  6800 2FFE A9 01			lda #$01
  6801 3000 20 BD 28			jsr LOADLOCATION
  6802
  6803 				; optimize OK (helpers_game.pas), line = 39
  6804
  6805 3003 A9 AF			lda #$AF
  6806 3005 20 8F 13			jsr SYSTEM.RANDOM.@010180000
  6807 3008 E8				inx
  6808 3009 AD 27 9C 95 94		mva SYSTEM.RANDOM.@010180000.RESULT :STACKORIGIN,x
  6809 300E E8				inx
  6810 300F A9 04 95 94			mva #$04 :STACKORIGIN,x
  6811 3013 20 10 0E			jsr @shlEAX_CL.BYTE
  6812 3016 CA				dex
  6813 3017 B5 94			lda :STACKORIGIN,x
  6814 3019 8D A1 A7			sta M
  6815 301C B5 A4			lda :STACKORIGIN+STACKWIDTH,x
  6816 301E 8D A2 A7			sta M+1
  6817 3021 CA				dex
  6818
  6819 				; optimize OK (helpers_game.pas), line = 40
  6820
  6821 3022 AD A1 A7			lda M
  6822 3025 18 69 A0			add #$A0
  6823 3028 85 9D			sta :STACKORIGIN+9
  6824 302A AD A2 A7			lda M+1
  6825 302D 69 0F			adc #$0F
  6826 302F 85 AD			sta :STACKORIGIN+STACKWIDTH+9
  6827 3031 A5 9D			lda :STACKORIGIN+9
  6828 3033 18 6D 9F A7			add P
  6829 3037 8D A1 A7			sta M
  6830 303A A5 AD			lda :STACKORIGIN+STACKWIDTH+9
  6831 303C 6D A0 A7			adc P+1
  6832 303F 8D A2 A7			sta M+1
  6833
  6834 				; optimize FAIL ('ENABLECONSOLE', helpers_game.pas), line = 43
  6835
  6836 3042 20 8E 27			jsr ENABLECONSOLE
  6837
  6838 				; optimize FAIL ('SHOWLOCATIONHEADER', helpers_game.pas), line = 44
  6839
  6840 3045 20 18 28			jsr SHOWLOCATIONHEADER
  6841
  6842 				; optimize OK (helpers_game.pas), line = 45
  6843
  6844 3048 A9 06			lda #$06
  6845 304A 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
  6846 304D A9 0A			lda #$0A
  6847 304F 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
  6848 3052 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
  6849
  6850 				; optimize OK (helpers_game.pas), line = 46
  6851
  6852 3055 A9 07			lda #$07
  6853 3057 8D A3 A7			sta K
  6854
  6855 				; optimize OK (helpers_game.pas), line = 49
  6856
  6857 305A AD A0 A7			lda P+1
  6858 305D D0 05			bne @+
  6859 305F AD 9F A7			lda P
  6860 3062 C9 01			cmp #$01
  6861 				@
  6862 3064 D0 31			jne l_1116
  6863
  6864 				; optimize OK (helpers_game.pas), line = 52
  6865
  6866 3066 AD 0B CA			lda TMPOPPORTUNITY
  6867 3069 F0 2C			jeq l_1135
  6868 306B AD 0E A7			lda CURRENTSUBLOCATION
  6869 306E D0 27			jne l_1135
  6870
  6871 				; optimize OK (helpers_game.pas), line = 54
  6872
  6873 3070 A9 07			lda #$07
  6874 3072 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
  6875 3075 A9 0F			lda #$0F
  6876 3077 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
  6877 307A 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
  6878
  6879 				; optimize OK (helpers_game.pas), line = 55
  6880
  6881 307D AD A3 A7			lda K
  6882 3080 18 69 02			add #$02
  6883 3083 8D A3 A7			sta K
  6884
  6885 				; optimize OK (helpers_game.pas), line = 56
  6886
  6887 3086 AD A1 A7			lda M
  6888 3089 18 69 4C			add #$4C
  6889 308C 8D A1 A7			sta M
  6890 308F AD A2 A7			lda M+1
  6891 3092 69 1D			adc #$1D
  6892 3094 8D A2 A7			sta M+1
  6893 3097			l_1135
  6894 3097			l_1116
  6895
  6896 				; optimize OK (helpers_game.pas), line = 60
  6897
  6898 3097 AD A3 A7			lda K
  6899 309A 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
  6900 309D A9 0E			lda #$0E
  6901 309F 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
  6902 30A2 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
  6903
  6904 				; optimize OK (helpers_game.pas), line = 61
  6905
  6906 30A5 AD A3 A7			lda K
  6907 30A8 18 69 01			add #$01
  6908 30AB 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
  6909 30AE A9 11			lda #$11
  6910 30B0 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
  6911 30B3 20 F9 17			jsr B_CRT.CRT_GOTOXY
  6912
  6913 				; optimize OK (helpers_game.pas), line = 62
  6914
  6915 30B6 AD A1 A7			lda M
  6916 30B9 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
  6917 30BC AD A2 A7			lda M+1
  6918 30BF 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
  6919 30C2 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
  6920
  6921 				; optimize FAIL ('CRT_WRITELN', helpers_game.pas), line = 63
  6922
  6923 30C5 E8				inx
  6924 30C6 A9 73 95 94			mva #$73 :STACKORIGIN,x
  6925 30CA A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
  6926 30CE 20 E7 1D			jsr CRT_WRITELN
  6927
  6928 				; optimize FAIL ('WAITFORKEY', helpers_game.pas), line = 64
  6929
  6930 30D1 20 88 1D			jsr WAITFORKEY
  6931
  6932 				; optimize OK (helpers_game.pas), line = 65
  6933
  6934 30D4 AD A1 A7			lda M
  6935 30D7 8D 99 A7			sta ADDMONEY.AMOUNT
  6936 30DA AD A2 A7			lda M+1
  6937 30DD 8D 9A A7			sta ADDMONEY.AMOUNT+1
  6938 30E0 20 5F 2F			jsr ADDMONEY
  6939
  6940 				; optimize OK (helpers_game.pas), line = 66
  6941
  6942 30E3 A9 04			lda #$04
  6943 30E5 20 B3 2F			jsr ADDPOINTS
  6944
  6945 				; ------------------------------------------------------------
  6946
  6947 = A79F			P	= DATAORIGIN+$0B84
  6948 = A7A1			M	= DATAORIGIN+$0B86
  6949 = A7A3			K	= DATAORIGIN+$0B88
  6950
  6951 = A79F			@VarData	= P
  6952 = 0005			@VarDataSize	= 5
  6953
  6954 30E8			@exit
  6955 					.ifdef @new
  6956 					lda <@VarData
  6957 					sta :ztmp
  6958 					lda >@VarData
  6959 					ldy #@VarDataSize-1
  6960 					jmp @FreeMem
  6961 					els
  6962 30E8 60				rts						; ret
  6963 					eif
  6964 				.endl
  6965
  6966 30E9			.local	PREPAREFIGHTAGAINSTPOLICE			; PROCEDURE
  6967
  6968 				; optimize OK (helpers_game.pas), line = 76
  6969
  6970 30E9 AD 79 A3			lda adr.FP_GANG+$02
  6971 30EC 85 8C			sta @move.dst
  6972 30EE AD 7A A3			lda adr.FP_GANG+1+$02
  6973 30F1 85 8D			sta @move.dst+1
  6974 30F3 AD E6 9B			lda FIGHT_POLICE_STRING_1
  6975 30F6 85 88			sta @move.src
  6976 30F8 AD E7 9B			lda FIGHT_POLICE_STRING_1+1
  6977 30FB 85 89			sta @move.src+1
  6978 30FD A0 00			ldy #$00
  6979 30FF B1 88			lda (@move.src),y
  6980 3101 18 69 01			add #1
  6981 3104 85 84			sta @move.cnt
  6982 3106 90 01			scc
  6983 3108 C8				iny
  6984 3109 84 85			sty @move.cnt+1
  6985 310B 20 D7 0E			jsr @move
  6986
  6987 				; optimize OK (helpers_game.pas), line = 77
  6988
  6989 310E A9 01			lda #$01
  6990 3110 8D 02 E4			sta adr.FP_AI+$01
  6991
  6992 				; optimize OK (helpers_game.pas), line = 78
  6993
  6994 3113 AC 8A CD			ldy CURRENTPLAYER
  6995 3116 B9 98 C9			lda adr.PLRANK,y
  6996 3119 C9 05			cmp #$05
  6997 311B 90 25			jcc l_118D
  6998
  6999 				; optimize FAIL (2, helpers_game.pas), line = 79
  7000
  7001 311D E8				inx
  7002 311E A9 01 95 94			mva #$01 :STACKORIGIN,x
  7003 3122 A9 00 95 A4			mva #$00 :STACKORIGIN+STACKWIDTH,x
  7004 3126 E8				inx
  7005 3127 A9 05 95 94			mva #$05 :STACKORIGIN,x
  7006 312B B9 98 C9			lda adr.PLRANK,y
  7007 312E 4A				lsr @
  7008 312F 20 8F 13			jsr SYSTEM.RANDOM.@010180000
  7009 3132 B5 94			lda :STACKORIGIN,x
  7010 3134 18 6D 27 9C			add SYSTEM.RANDOM.@010180000.RESULT
  7011 3138 B4 93			ldy :STACKORIGIN-1,x
  7012 313A 99 03 E4			sta adr.FP_N,y
  7013 313D CA				dex
  7014 313E CA				dex
  7015 313F 4C 47 31			jmp l_11AA
  7016 3142			l_118D
  7017
  7018 				; optimize OK (helpers_game.pas), line = 81
  7019
  7020 3142 A9 05			lda #$05
  7021 3144 8D 04 E4			sta adr.FP_N+$01
  7022 3147			l_11AA
  7023
  7024 				; optimize OK (helpers_game.pas), line = 82
  7025
  7026 3147 A9 00			lda #$00
  7027 3149 8D A4 A7			sta K
  7028 314C AC 04 E4			ldy adr.FP_N+$01
  7029 314F 88				dey
  7030 3150 8C 54 31			sty @FORTMP_11BC_0
  7031
  7032 3153			l_11BF
  7033 				; --- ForToDoCondition
  7034 3153 A9 00			lda @FORTMP_11BC_0::#$00
  7035 3155 CD A4 A7			cmp K
  7036 3158 B0 03 4C 01 32		jcc l_11CD
  7037
  7038 				; optimize OK (helpers_game.pas), line = 84
  7039
  7040 315D A9 02			lda #$02
  7041 315F 20 8F 13			jsr SYSTEM.RANDOM.@010180000
  7042 3162 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
  7043 3165 8D BD A3			sta TMP
  7044
  7045 				; optimize OK (helpers_game.pas), line = 85
  7046
  7047 3168 AC A4 A7			ldy K
  7048 316B AD BD A3			lda TMP
  7049 316E 99 55 E5			sta adr.FP_SEX+$10,y
  7050
  7051 				; optimize OK (helpers_game.pas), line = 86
  7052
  7053 3171 98				tya
  7054 3172 0A				asl @
  7055 3173 A8				tay
  7056 3174 B9 9B A3			lda adr.FP_NAME+$20,y
  7057 3177 85 8C			sta @move.dst
  7058 3179 B9 9C A3			lda adr.FP_NAME+1+$20,y
  7059 317C 85 8D			sta @move.dst+1
  7060 317E AD E8 9B			lda FIGHT_POLICE_STRING_2
  7061 3181 85 88			sta @move.src
  7062 3183 AD E9 9B			lda FIGHT_POLICE_STRING_2+1
  7063 3186 85 89			sta @move.src+1
  7064 3188 A0 00			ldy #$00
  7065 318A B1 88			lda (@move.src),y
  7066 318C 18 69 01			add #1
  7067 318F 85 84			sta @move.cnt
  7068 3191 90 01			scc
  7069 3193 C8				iny
  7070 3194 84 85			sty @move.cnt+1
  7071 3196 20 D7 0E			jsr @move
  7072
  7073 				; optimize OK (helpers_game.pas), line = 87
  7074
  7075 3199 AC 8A CD			ldy CURRENTPLAYER
  7076 319C B9 98 C9			lda adr.PLRANK,y
  7077 319F A0 01			ldy #1
  7078 31A1 C9 06			cmp #$06
  7079 31A3 B0 01			bcs @+
  7080 31A5 88				dey
  7081 				@
  7082 31A6 84 9F			sty :STACKORIGIN+11
  7083 31A8 06 9F			asl :STACKORIGIN+11
  7084 31AA A9 05			lda #$05
  7085 31AC 18 65 9F			add :STACKORIGIN+11
  7086 31AF AC A4 A7			ldy K
  7087 31B2 99 55 E4			sta adr.FP_WEAPON+$10,y
  7088
  7089 				; optimize FAIL (2, helpers_game.pas), line = 88
  7090
  7091 31B5 E8				inx
  7092 31B6 E8				inx
  7093 31B7 A9 10			lda #$10
  7094 31B9 18 6D A4 A7			add K
  7095 31BD 95 93			sta :STACKORIGIN-1,x
  7096 31BF A9 00			lda #$00
  7097 31C1 69 00			adc #$00
  7098 31C3 95 A3			sta :STACKORIGIN-1+STACKWIDTH,x
  7099 31C5 A9 12 95 94			mva #$12 :STACKORIGIN,x
  7100 31C9 E8				inx
  7101 31CA AC 8A CD			ldy CURRENTPLAYER
  7102 31CD B9 98 C9			lda adr.PLRANK,y
  7103 31D0 95 94			sta :STACKORIGIN,x
  7104 31D2 E8				inx
  7105 31D3 A9 01 95 94			mva #$01 :STACKORIGIN,x
  7106 31D7 20 10 0E			jsr @shlEAX_CL.BYTE
  7107 31DA CA				dex
  7108 31DB A9 00 95 A3			mva #$00 :STACKORIGIN-1+STACKWIDTH,x
  7109 31DF 95 B3			sta :STACKORIGIN-1+STACKWIDTH*2,x
  7110 31E1 95 C3			sta :STACKORIGIN-1+STACKWIDTH*3,x
  7111 31E3 20 E6 0D			jsr addAL_CL
  7112 31E6 CA				dex
  7113 31E7 A9 0A			lda #$0A
  7114 31E9 20 8F 13			jsr SYSTEM.RANDOM.@010180000
  7115 31EC B5 94			lda :STACKORIGIN,x
  7116 31EE 38 ED 27 9C			sub SYSTEM.RANDOM.@010180000.RESULT
  7117 31F2 B4 93			ldy :STACKORIGIN-1,x
  7118 31F4 99 85 E4			sta adr.FP_ENERGY,y
  7119 31F7 CA				dex
  7120 31F8 CA				dex
  7121
  7122 				; --- ForToDoEpilog
  7123 31F9 EE A4 A7			inc K
  7124 31FC F0 03 4C 53 31		jne l_11BF
  7125 3201			l_11CD
  7126
  7127 				; ------------------------------------------------------------
  7128
  7129 = A7A4			K	= DATAORIGIN+$0B89
  7130
  7131 = A7A4			@VarData	= K
  7132 = 0001			@VarDataSize	= 1
  7133
  7134 3201			@exit
  7135 					.ifdef @new
  7136 					lda <@VarData
  7137 					sta :ztmp
  7138 					lda >@VarData
  7139 					ldy #@VarDataSize-1
  7140 					jmp @FreeMem
  7141 					els
  7142 3201 60				rts						; ret
  7143 					eif
  7144 				.endl
  7145
  7146 3202			.local	PAYMONEY					; FUNCTION
  7147
  7148 				; optimize OK (helpers_game.pas), line = 113
  7149
  7150 3202 AD 8A CD			lda CURRENTPLAYER
  7151 3205 0A				asl @
  7152 3206 0A				asl @
  7153 3207 A8				tay
  7154 3208 B9 30 C9			lda adr.PLMONEY,y
  7155 320B 85 9D			sta :STACKORIGIN+9
  7156 320D B9 31 C9			lda adr.PLMONEY+1,y
  7157 3210 85 AD			sta :STACKORIGIN+STACKWIDTH+9
  7158 3212 B9 32 C9			lda adr.PLMONEY+2,y
  7159 3215 85 BD			sta :STACKORIGIN+STACKWIDTH*2+9
  7160 3217 B9 33 C9			lda adr.PLMONEY+3,y
  7161 321A 85 CD			sta :STACKORIGIN+STACKWIDTH*3+9
  7162 321C AD A6 A7			lda PRICE
  7163 321F 85 9E			sta :STACKORIGIN+10
  7164 3221 A0 00			ldy #$00
  7165 3223 AD A7 A7			lda PRICE+1
  7166 3226 10 01			spl
  7167 3228 88				dey
  7168 3229 85 AE			sta :STACKORIGIN+STACKWIDTH+10
  7169 322B 84 BE			sty :STACKORIGIN+STACKWIDTH*2+10
  7170 322D 84 CE			sty :STACKORIGIN+STACKWIDTH*3+10
  7171 322F				.LOCAL
  7172 322F A5 CD			lda :STACKORIGIN+STACKWIDTH*3+9
  7173 3231 38 E5 CE			sub :STACKORIGIN+STACKWIDTH*3+10
  7174 3234 D0 1C			bne L4
  7175 3236 A5 BD			lda :STACKORIGIN+STACKWIDTH*2+9
  7176 3238 C5 BE			cmp :STACKORIGIN+STACKWIDTH*2+10
  7177 323A D0 0A			bne L1
  7178 323C A5 AD			lda :STACKORIGIN+STACKWIDTH+9
  7179 323E C5 AE			cmp :STACKORIGIN+STACKWIDTH+10
  7180 3240 D0 04			bne L1
  7181 3242 A5 9D			lda :STACKORIGIN+9
  7182 3244 C5 9E			cmp :STACKORIGIN+10
  7183 3246 F0 10		L1	beq L5
  7184 3248 B0 04			bcs L3
  7185 324A A9 FF			lda #$FF
  7186 324C D0 0A			bne L5
  7187 324E A9 01		L3	lda #$01
  7188 3250 D0 06			bne L5
  7189 3252 50 04		L4	bvc L5
  7190 3254 49 FF			eor #$FF
  7191 3256 09 01			ora #$01
  7192 3258			L5
  7193 					.ENDL
  7194 3258 10 1C			jpl l_1243
  7195
  7196 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', helpers_game.pas), line = 115
  7197
  7198 325A 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
  7199
  7200 				; optimize FAIL ('CRT_WRITELN', helpers_game.pas), line = 116
  7201
  7202 325D E8				inx
  7203 325E AD EA 9B 95 94		mva NOT_ENOUGH_MONEY_STRING :STACKORIGIN,x
  7204 3263 AD EB 9B 95 A4		mva NOT_ENOUGH_MONEY_STRING+1 :STACKORIGIN+STACKWIDTH,x
  7205 3268 20 E7 1D			jsr CRT_WRITELN
  7206
  7207 				; optimize FAIL ('CRT_READKEYORFIRE', helpers_game.pas), line = 117
  7208
  7209 326B 20 42 1D			jsr CRT_READKEYORFIRE
  7210
  7211 				; optimize OK (helpers_game.pas), line = 118
  7212
  7213 326E A9 00			lda #$00
  7214 3270 8D A8 A7			sta RESULT
  7215 3273 4C 8A 32			jmp @exit
  7216 3276			l_1243
  7217
  7218 				; optimize OK (helpers_game.pas), line = 121
  7219
  7220 3276 AD A6 A7			lda PRICE
  7221 3279 8D 9B A7			sta SUBMONEY.AMOUNT
  7222 327C AD A7 A7			lda PRICE+1
  7223 327F 8D 9C A7			sta SUBMONEY.AMOUNT+1
  7224 3282 20 89 2F			jsr SUBMONEY
  7225
  7226 				; optimize OK (helpers_game.pas), line = 122
  7227
  7228 3285 A9 01			lda #$01
  7229 3287 8D A8 A7			sta RESULT
  7230 328A			@exit
  7231
  7232 				; ------------------------------------------------------------
  7233
  7234 = A7A6			PRICE	= DATAORIGIN+$0B8B
  7235 = A7A8			RESULT	= DATAORIGIN+$0B8D
  7236
  7237 = A7A6			@VarData	= PRICE
  7238 = 0002			@VarDataSize	= 2
  7239
  7240 328A 60				rts						; ret
  7241 				.endl
  7242
  7243 328B			.local	PRINTGANGSTERS					; PROCEDURE
  7244
  7245 				; optimize OK (helpers_game.pas), line = 129
  7246
  7247 328B A9 00			lda #$00
  7248 328D 8D 0A CA			sta GANGSTERCOUNT
  7249
  7250 				; optimize FAIL ('B_CRT.CRT_WHEREY', helpers_game.pas), line = 130
  7251
  7252 3290 20 26 18			jsr B_CRT.CRT_WHEREY
  7253 3293 AD 59 A0			lda B_CRT.CRT_WHEREY.RESULT
  7254 3296 38 E9 01			sub #$01
  7255 3299 8D AB A7			sta Y
  7256
  7257 				; optimize OK (helpers_game.pas), line = 131
  7258
  7259 329C A9 00			lda #$00
  7260 329E 8D A9 A7			sta K
  7261
  7262 32A1			l_126F
  7263 				; --- ForToDoCondition
  7264 32A1 AC A9 A7			ldy K
  7265 32A4 C0 20			cpy #$20
  7266 32A6 90 03 4C D4 33		jcs l_127D
  7267
  7268 				; optimize OK (helpers_game.pas), line = 133
  7269
  7270 32AB B9 91 CD			lda adr.PLGANGSTERS,y
  7271 32AE CD 8A CD			cmp CURRENTPLAYER
  7272 32B1 F0 03 4C CC 33		jne l_1294
  7273
  7274 				; optimize OK (helpers_game.pas), line = 135
  7275
  7276 32B6 A9 00			lda #$00
  7277 32B8 8D AA A7			sta X
  7278
  7279 				; optimize OK (helpers_game.pas), line = 136
  7280
  7281 32BB AD 0A CA			lda GANGSTERCOUNT
  7282 32BE 29 01			and #$01
  7283 32C0 C9 01			cmp #$01
  7284 32C2 D0 08			jne l_12AF
  7285
  7286 				; optimize OK (helpers_game.pas), line = 137
  7287
  7288 32C4 A9 14			lda #$14
  7289 32C6 8D AA A7			sta X
  7290 32C9 4C DF 32			jmp l_12BD
  7291 32CC			l_12AF
  7292
  7293 				; optimize OK (helpers_game.pas), line = 140
  7294
  7295 32CC AD AB A7			lda Y
  7296 32CF 18 69 03			add #$03
  7297 32D2 8D AB A7			sta Y
  7298
  7299 				; optimize OK (helpers_game.pas), line = 141
  7300
  7301 32D5 AD 23 C9			lda SHOWWEAPONS
  7302 32D8 C9 01			cmp #$01
  7303 32DA D0 03			jne l_12D9
  7304 32DC EE AB A7			inc Y
  7305 32DF			l_12BD
  7306 32DF			l_12D9
  7307
  7308 				; optimize OK (helpers_game.pas), line = 144
  7309
  7310 32DF AD AA A7			lda X
  7311 32E2 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
  7312 32E5 AD AB A7			lda Y
  7313 32E8 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
  7314 32EB 20 F9 17			jsr B_CRT.CRT_GOTOXY
  7315
  7316 				; optimize OK (helpers_game.pas), line = 145
  7317
  7318 32EE AD 0A CA			lda GANGSTERCOUNT
  7319 32F1 18 69 01			add #$01
  7320 32F4 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
  7321 32F7 A9 00			lda #$00
  7322 32F9 69 00			adc #$00
  7323 32FB 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
  7324 32FE 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
  7325
  7326 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', helpers_game.pas), line = 146
  7327
  7328 3301 E8				inx
  7329 3302 A9 76 95 94			mva #$76 :STACKORIGIN,x
  7330 3306 A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
  7331 330A 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
  7332
  7333 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', helpers_game.pas), line = 147
  7334
  7335 330D E8				inx
  7336 330E AD A9 A7			lda K
  7337 3311 0A				asl @
  7338 3312 A8				tay
  7339 3313 B9 E2 A3			lda adr.GANGSTERNAMES,y
  7340 3316 95 94			sta :STACKORIGIN,x
  7341 3318 B9 E3 A3			lda adr.GANGSTERNAMES+1,y
  7342 331B 95 A4			sta :STACKORIGIN+STACKWIDTH,x
  7343 331D 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
  7344
  7345 				; optimize OK (helpers_game.pas), line = 148
  7346
  7347 3320 AD AB A7			lda Y
  7348 3323 18 69 01			add #$01
  7349 3326 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
  7350 3329 AD AA A7			lda X
  7351 332C 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
  7352 332F 20 F9 17			jsr B_CRT.CRT_GOTOXY
  7353
  7354 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', helpers_game.pas), line = 149
  7355
  7356 3332 E8				inx
  7357 3333 A9 7A 95 94			mva #$7A :STACKORIGIN,x
  7358 3337 A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
  7359 333B 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
  7360
  7361 				; optimize OK (helpers_game.pas), line = 150
  7362
  7363 333E AC A9 A7			ldy K
  7364 3341 B9 C8 CC			lda adr.GANGSTERSTR,y
  7365 3344 20 CB 18			jsr B_CRT.CRT_WRITE.@010180000
  7366
  7367 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', helpers_game.pas), line = 151
  7368
  7369 3347 E8				inx
  7370 3348 A9 7D 95 94			mva #$7D :STACKORIGIN,x
  7371 334C A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
  7372 3350 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
  7373
  7374 				; optimize OK (helpers_game.pas), line = 152
  7375
  7376 3353 AC A9 A7			ldy K
  7377 3356 B9 E8 CC			lda adr.GANGSTERINT,y
  7378 3359 20 CB 18			jsr B_CRT.CRT_WRITE.@010180000
  7379
  7380 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', helpers_game.pas), line = 153
  7381
  7382 335C E8				inx
  7383 335D A9 81 95 94			mva #$81 :STACKORIGIN,x
  7384 3361 A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
  7385 3365 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
  7386
  7387 				; optimize OK (helpers_game.pas), line = 154
  7388
  7389 3368 AC A9 A7			ldy K
  7390 336B B9 08 CD			lda adr.GANGSTERBRUT,y
  7391 336E 20 CB 18			jsr B_CRT.CRT_WRITE.@010180000
  7392
  7393 				; optimize OK (helpers_game.pas), line = 155
  7394
  7395 3371 A9 00			lda #$00
  7396 3373 20 B2 18			jsr B_CRT.CRT_WRITE.@010186000
  7397
  7398 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', helpers_game.pas), line = 156
  7399
  7400 3376 E8				inx
  7401 3377 A9 65 95 94			mva #$65 :STACKORIGIN,x
  7402 337B A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
  7403 337F 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
  7404
  7405 				; optimize OK (helpers_game.pas), line = 157
  7406
  7407 3382 AC A9 A7			ldy K
  7408 3385 B9 28 CD			lda adr.GANGSTERHEALTH,y
  7409 3388 20 CB 18			jsr B_CRT.CRT_WRITE.@010180000
  7410
  7411 				; optimize OK (helpers_game.pas), line = 158
  7412
  7413 338B AD 23 C9			lda SHOWWEAPONS
  7414 338E C9 01			cmp #$01
  7415 3390 D0 2E			jne l_1340
  7416
  7417 				; optimize OK (helpers_game.pas), line = 159
  7418
  7419 3392 AD AB A7			lda Y
  7420 3395 18 69 02			add #$02
  7421 3398 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
  7422 339B AD AA A7			lda X
  7423 339E 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
  7424 33A1 20 F9 17			jsr B_CRT.CRT_GOTOXY
  7425
  7426 				; optimize OK (helpers_game.pas), line = 160
  7427
  7428 33A4 AC A9 A7			ldy K
  7429 33A7 B9 48 CD			lda adr.GANGSTERWEAPON,y
  7430 33AA 8D AC A7			sta T
  7431
  7432 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', helpers_game.pas), line = 161
  7433
  7434 33AD E8				inx
  7435 33AE AD AC A7			lda T
  7436 33B1 0A				asl @
  7437 33B2 A8				tay
  7438 33B3 B9 38 A4			lda adr.WEAPONNAMES,y
  7439 33B6 95 94			sta :STACKORIGIN,x
  7440 33B8 B9 39 A4			lda adr.WEAPONNAMES+1,y
  7441 33BB 95 A4			sta :STACKORIGIN+STACKWIDTH,x
  7442 33BD 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
  7443 33C0			l_1340
  7444
  7445 				; optimize OK (helpers_game.pas), line = 163
  7446
  7447 33C0 AC 0A CA			ldy GANGSTERCOUNT
  7448 33C3 AD A9 A7			lda K
  7449 33C6 99 00 CA			sta adr.GANGSTERMAP,y
  7450
  7451 				; optimize OK (helpers_game.pas), line = 164
  7452
  7453 33C9 EE 0A CA			inc GANGSTERCOUNT
  7454 33CC			l_1294
  7455
  7456 				; --- ForToDoEpilog
  7457 33CC EE A9 A7			inc K
  7458 33CF F0 03 4C A1 32		jne l_126F
  7459 33D4			l_127D
  7460
  7461 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', helpers_game.pas), line = 167
  7462
  7463 33D4 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
  7464
  7465 				; ------------------------------------------------------------
  7466
  7467 = A7A9			K	= DATAORIGIN+$0B8E
  7468 = A7AA			X	= DATAORIGIN+$0B8F
  7469 = A7AB			Y	= DATAORIGIN+$0B90
  7470 = A7AC			T	= DATAORIGIN+$0B91
  7471
  7472 = A7A9			@VarData	= K
  7473 = 0004			@VarDataSize	= 4
  7474
  7475 33D7			@exit
  7476 					.ifdef @new
  7477 					lda <@VarData
  7478 					sta :ztmp
  7479 					lda >@VarData
  7480 					ldy #@VarDataSize-1
  7481 					jmp @FreeMem
  7482 					els
  7483 33D7 60				rts						; ret
  7484 					eif
  7485 				.endl
  7486
  7487 33D8			.local	SELECTGANGSTER					; PROCEDURE
  7488
  7489 				; optimize OK (helpers_game.pas), line = 174
  7490
  7491 33D8 AC 8A CD			ldy CURRENTPLAYER
  7492 33DB B9 B1 CD			lda adr.PLNGANGSTERS,y
  7493 33DE C9 01			cmp #$01
  7494 33E0 D0 0C			jne l_1391
  7495
  7496 				; optimize OK (helpers_game.pas), line = 175
  7497
  7498 33E2 AD 8A CD			lda CURRENTPLAYER
  7499 33E5 0A				asl @
  7500 33E6 0A				asl @
  7501 33E7 0A				asl @
  7502 33E8 8D 88 CD			sta CURRENTGANGSTER
  7503 33EB 4C 33 34			jmp @exit
  7504 33EE			l_1391
  7505
  7506 				; optimize FAIL ('PRINTGANGSTERS', helpers_game.pas), line = 179
  7507
  7508 33EE 20 8B 32			jsr PRINTGANGSTERS
  7509
  7510 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', helpers_game.pas), line = 180
  7511
  7512 33F1 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
  7513
  7514 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', helpers_game.pas), line = 181
  7515
  7516 33F4 E8				inx
  7517 33F5 AD EC 9B 95 94		mva YOUR_CHOICE_STRING :STACKORIGIN,x
  7518 33FA AD ED 9B 95 A4		mva YOUR_CHOICE_STRING+1 :STACKORIGIN+STACKWIDTH,x
  7519 33FF 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
  7520
  7521 				; optimize OK (helpers_game.pas), line = 182
  7522
  7523 3402 A9 01			lda #$01
  7524 3404 8D E9 A6			sta READVALUE.MINVALUE
  7525 3407 A9 00			lda #$00
  7526 3409 8D EA A6			sta READVALUE.MINVALUE+1
  7527 340C AD 0A CA			lda GANGSTERCOUNT
  7528 340F 8D EB A6			sta READVALUE.MAXVALUE
  7529 3412 A9 00			lda #$00
  7530 3414 8D EC A6			sta READVALUE.MAXVALUE+1
  7531 3417 20 64 1F			jsr READVALUE
  7532 341A AD ED A6			lda READVALUE.RESULT
  7533 341D 8D AD A7			sta X
  7534
  7535 				; optimize OK (helpers_game.pas), line = 183
  7536
  7537 3420 D0 05			jne l_13BD
  7538 3422 A9 63			lda #$63
  7539 3424 4C 2D 34			jmp l_13CB
  7540 3427			l_13BD
  7541
  7542 				; optimize OK (helpers_game.pas), line = 184
  7543
  7544 3427 AC AD A7			ldy X
  7545 342A B9 FF C9			lda adr.GANGSTERMAP-$01,y
  7546 342D			l_13CB
  7547 342D 8D 88 CD			sta CURRENTGANGSTER
  7548
  7549 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', helpers_game.pas), line = 185
  7550
  7551 3430 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
  7552
  7553 				; ------------------------------------------------------------
  7554
  7555 = A7AD			X	= DATAORIGIN+$0B92
  7556
  7557 = A7AD			@VarData	= X
  7558 = 0001			@VarDataSize	= 1
  7559
  7560 3433			@exit
  7561 					.ifdef @new
  7562 					lda <@VarData
  7563 					sta :ztmp
  7564 					lda >@VarData
  7565 					ldy #@VarDataSize-1
  7566 					jmp @FreeMem
  7567 					els
  7568 3433 60				rts						; ret
  7569 					eif
  7570 				.endl
  7571
  7572 3434			.local	GOTOCOURT					; FUNCTION
  7573
  7574 				; optimize OK (sprites.pas), line = 18
  7575
  7576 3434 A9 04			lda #$04
  7577 3436 20 8F 13			jsr SYSTEM.RANDOM.@010180000
  7578 3439 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
  7579 343C 8D B2 A7			sta R
  7580
  7581 				; optimize OK (sprites.pas), line = 19
  7582
  7583 343F 8D B8 A7			sta @CASETMP_000A
  7584 3442 C9 00			cmp #$00
  7585 3444 D0 10			jne l_13ED
  7586 				@
  7587
  7588 				; optimize OK (sprites.pas), line = 21
  7589
  7590 3446 A9 0F			lda #$0F
  7591 3448 8D B3 A7			sta I
  7592 344B A9 02			lda #$02
  7593 344D 8D B4 A7			sta J
  7594 3450 8D B5 A7			sta K
  7595 3453 4C 95 34			jmp a_000A
  7596 3456			l_13ED
  7597 3456 C9 01			cmp #$01
  7598 3458 D0 12			jne l_1400
  7599
  7600 				; optimize OK (sprites.pas), line = 24
  7601
  7602 345A A9 10			lda #$10
  7603 345C 8D B3 A7			sta I
  7604 345F A9 02			lda #$02
  7605 3461 8D B4 A7			sta J
  7606 3464 A9 05			lda #$05
  7607 3466 8D B5 A7			sta K
  7608 3469 4C 95 34			jmp a_000A
  7609 346C			l_1400
  7610 346C C9 02			cmp #$02
  7611 346E D0 12			jne l_1413
  7612
  7613 				; optimize OK (sprites.pas), line = 27
  7614
  7615 3470 A9 02			lda #$02
  7616 3472 8D B3 A7			sta I
  7617 3475 A9 0A			lda #$0A
  7618 3477 8D B4 A7			sta J
  7619 347A A9 09			lda #$09
  7620 347C 8D B5 A7			sta K
  7621 347F 4C 95 34			jmp a_000A
  7622 3482			l_1413
  7623 3482 C9 03			cmp #$03
  7624 3484 D0 0F			jne l_1426
  7625
  7626 				; optimize OK (sprites.pas), line = 30
  7627
  7628 3486 A9 0D			lda #$0D
  7629 3488 8D B3 A7			sta I
  7630 348B A9 0A			lda #$0A
  7631 348D 8D B4 A7			sta J
  7632 3490 A9 04			lda #$04
  7633 3492 8D B5 A7			sta K
  7634 3495			l_1426
  7635 3495			a_000A
  7636
  7637 				; optimize FAIL ('BLACKCONSOLE', sprites.pas), line = 33
  7638
  7639 3495 20 6C 27			jsr BLACKCONSOLE
  7640
  7641 				; optimize OK (sprites.pas), line = 36
  7642
  7643 3498 AC 8A CD			ldy CURRENTPLAYER
  7644 349B A9 00			lda #$00
  7645 349D 99 60 C9			sta adr.PLOPPORTUNITY,y
  7646
  7647 				; optimize OK (sprites.pas), line = 39
  7648
  7649 34A0 AD B3 A7			lda I
  7650 34A3 99 54 C9			sta adr.PLMAPPOSX,y
  7651
  7652 				; optimize OK (sprites.pas), line = 40
  7653
  7654 34A6 AD B4 A7			lda J
  7655 34A9 99 58 C9			sta adr.PLMAPPOSY,y
  7656
  7657 				; optimize OK (sprites.pas), line = 41
  7658
  7659 34AC AD B5 A7			lda K
  7660 34AF 99 5C C9			sta adr.PLCURRENTMAP,y
  7661
  7662 				; optimize FAIL ('PLACECURRENTPLAYER', sprites.pas), line = 42
  7663
  7664 34B2 20 20 2F			jsr PLACECURRENTPLAYER
  7665
  7666 				; optimize OK (sprites.pas), line = 43
  7667
  7668 34B5 AD B0 EA			lda MAPPOS_X
  7669 34B8 8D B2 EA			sta OLDMAPPOS_X
  7670
  7671 				; optimize OK (sprites.pas), line = 44
  7672
  7673 34BB AD B1 EA			lda MAPPOS_Y
  7674 34BE 8D B3 EA			sta OLDMAPPOS_Y
  7675
  7676 				; optimize FAIL ('PRELOADMAP', sprites.pas), line = 45
  7677
  7678 34C1 20 EE 81			jsr PRELOADMAP
  7679
  7680 				; optimize OK (sprites.pas), line = 47
  7681
  7682 34C4 A9 19			lda #$19
  7683 34C6 20 BD 28			jsr LOADLOCATION
  7684
  7685 				; optimize FAIL ('ENABLECONSOLE', sprites.pas), line = 48
  7686
  7687 34C9 20 8E 27			jsr ENABLECONSOLE
  7688
  7689 				; optimize OK (sprites.pas), line = 49
  7690
  7691 34CC AC 8A CD			ldy CURRENTPLAYER
  7692 34CF B9 98 C9			lda adr.PLRANK,y
  7693 34D2 4A				lsr @
  7694 34D3 18 69 01			add #$01
  7695 34D6 8D B1 A7			sta PRISONTIME
  7696
  7697 				; optimize FAIL ('SHOWLOCATIONHEADER', sprites.pas), line = 51
  7698
  7699 34D9 20 18 28			jsr SHOWLOCATIONHEADER
  7700
  7701 				; optimize OK (sprites.pas), line = 53
  7702
  7703 34DC AC 8A CD			ldy CURRENTPLAYER
  7704 34DF B9 98 C9			lda adr.PLRANK,y
  7705 34E2 C9 05			cmp #$05
  7706 34E4 B0 03 4C B9 35		jcc l_1493
  7707
  7708 				; optimize OK (sprites.pas), line = 55
  7709
  7710 34E9 A9 01			lda #$01
  7711 34EB 20 53 1C			jsr CRT_WRITELN2_LOCSTR
  7712
  7713 				; optimize FAIL ('GETYESNO', sprites.pas), line = 56
  7714
  7715 34EE 20 46 1F			jsr GETYESNO
  7716 34F1 AD E8 A6			lda GETYESNO.RESULT
  7717 34F4 8D B2 A7			sta R
  7718
  7719 				; optimize OK (sprites.pas), line = 57
  7720
  7721 34F7 C9 01			cmp #$01
  7722 34F9 F0 03 4C B9 35		jne l_14AC
  7723
  7724 				; optimize OK (sprites.pas), line = 59
  7725
  7726 34FE A9 02			lda #$02
  7727 3500 20 49 1C			jsr CRT_WRITELN_LOCSTR
  7728
  7729 				; optimize OK (sprites.pas), line = 60
  7730
  7731 3503 A9 00			lda #$00
  7732 3505 8D E9 A6			sta READVALUE.MINVALUE
  7733 3508 8D EA A6			sta READVALUE.MINVALUE+1
  7734 350B A9 10			lda #$10
  7735 350D 8D EB A6			sta READVALUE.MAXVALUE
  7736 3510 A9 27			lda #$27
  7737 3512 8D EC A6			sta READVALUE.MAXVALUE+1
  7738 3515 20 64 1F			jsr READVALUE
  7739 3518 AD ED A6			lda READVALUE.RESULT
  7740 351B 8D AF A7			sta LAWYER
  7741 351E AD EE A6			lda READVALUE.RESULT+1
  7742 3521 8D B0 A7			sta LAWYER+1
  7743
  7744 				; optimize FAIL ('CRT_NEWLINE2', sprites.pas), line = 61
  7745
  7746 3524 20 B9 1D			jsr CRT_NEWLINE2
  7747
  7748 				; optimize OK (sprites.pas), line = 62
  7749
  7750 3527 AD AF A7			lda LAWYER
  7751 352A 8D A6 A7			sta PAYMONEY.PRICE
  7752 352D AD B0 A7			lda LAWYER+1
  7753 3530 8D A7 A7			sta PAYMONEY.PRICE+1
  7754 3533 20 02 32			jsr PAYMONEY
  7755 3536 AD A8 A7			lda PAYMONEY.RESULT
  7756 3539 8D B6 A7			sta T
  7757
  7758 				; optimize OK (sprites.pas), line = 63
  7759
  7760 353C C9 01			cmp #$01
  7761 353E D0 79			jne l_14CE
  7762
  7763 				; optimize OK (sprites.pas), line = 66
  7764
  7765 3540 AD B0 A7			lda LAWYER+1
  7766 3543 4A				lsr @
  7767 3544 4A				lsr @
  7768 3545 18 69 01			add #$01
  7769 3548 8D B7 A7			sta CHANGE
  7770
  7771 				; optimize OK (sprites.pas), line = 67
  7772
  7773 354B 20 8F 13			jsr SYSTEM.RANDOM.@010180000
  7774 354E AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
  7775 3551 8D B7 A7			sta CHANGE
  7776
  7777 				; optimize OK (sprites.pas), line = 68
  7778
  7779 3554 AD B1 A7			lda PRISONTIME
  7780 3557 38 ED B7 A7			sub CHANGE
  7781 355B 8D B1 A7			sta PRISONTIME
  7782
  7783 				; optimize OK (sprites.pas), line = 69
  7784
  7785 355E 10 05			jpl l_1501
  7786
  7787 				; optimize OK (sprites.pas), line = 70
  7788
  7789 3560 A9 00			lda #$00
  7790 3562 8D B1 A7			sta PRISONTIME
  7791 3565			l_1501
  7792
  7793 				; optimize OK (sprites.pas), line = 71
  7794
  7795 3565 AC 8A CD			ldy CURRENTPLAYER
  7796 3568 AD B1 A7			lda PRISONTIME
  7797 356B 99 94 C9			sta adr.PLPRISON,y
  7798
  7799 				; optimize OK (sprites.pas), line = 72
  7800
  7801 356E AD B1 A7			lda PRISONTIME
  7802 3571 D0 15			jne l_1523
  7803
  7804 				; optimize OK (sprites.pas), line = 74
  7805
  7806 3573 A9 02			lda #$02
  7807 3575 20 B3 2F			jsr ADDPOINTS
  7808
  7809 				; optimize OK (sprites.pas), line = 75
  7810
  7811 3578 A9 03			lda #$03
  7812 357A 20 49 1C			jsr CRT_WRITELN_LOCSTR
  7813
  7814 				; optimize FAIL ('WAITFORKEY', sprites.pas), line = 76
  7815
  7816 357D 20 88 1D			jsr WAITFORKEY
  7817
  7818 				; optimize OK (sprites.pas), line = 77
  7819
  7820 3580 A9 01			lda #$01
  7821 3582 8D AE A7			sta RESULT
  7822 3585 4C F8 35			jmp @exit
  7823 3588			l_1523
  7824
  7825 				; optimize OK (sprites.pas), line = 80
  7826
  7827 3588 A9 03			lda #$03
  7828 358A 20 C4 2F			jsr REMOVEPOINTS
  7829
  7830 				; optimize OK (sprites.pas), line = 81
  7831
  7832 358D A9 04			lda #$04
  7833 358F 20 49 1C			jsr CRT_WRITELN_LOCSTR
  7834
  7835 				; optimize OK (sprites.pas), line = 82
  7836
  7837 3592 A0 00			ldy #$00
  7838 3594 AD B1 A7			lda PRISONTIME
  7839 3597 10 01			spl
  7840 3599 88				dey
  7841 359A 8D 5F A1			sta B_CRT.CRT_WRITE.@010185000.NUM
  7842 359D 8C 60 A1			sty B_CRT.CRT_WRITE.@010185000.NUM+1
  7843 35A0 8C 61 A1			sty B_CRT.CRT_WRITE.@010185000.NUM+2
  7844 35A3 8C 62 A1			sty B_CRT.CRT_WRITE.@010185000.NUM+3
  7845 35A6 20 17 19			jsr B_CRT.CRT_WRITE.@010185000
  7846
  7847 				; optimize OK (sprites.pas), line = 83
  7848
  7849 35A9 A9 05			lda #$05
  7850 35AB 20 49 1C			jsr CRT_WRITELN_LOCSTR
  7851
  7852 				; optimize FAIL ('WAITFORKEY', sprites.pas), line = 84
  7853
  7854 35AE 20 88 1D			jsr WAITFORKEY
  7855
  7856 				; optimize OK (sprites.pas), line = 85
  7857
  7858 35B1 A9 01			lda #$01
  7859 35B3 8D AE A7			sta RESULT
  7860 35B6 4C F8 35			jmp @exit
  7861 35B9			l_14CE
  7862 35B9			l_14AC
  7863 35B9			l_1493
  7864
  7865 				; optimize OK (sprites.pas), line = 92
  7866
  7867 35B9 AC 8A CD			ldy CURRENTPLAYER
  7868 35BC AD B1 A7			lda PRISONTIME
  7869 35BF 99 94 C9			sta adr.PLPRISON,y
  7870
  7871 				; optimize OK (sprites.pas), line = 93
  7872
  7873 35C2 A9 06			lda #$06
  7874 35C4 20 04 1C			jsr CRT_WRITE_LOCSTR
  7875
  7876 				; optimize OK (sprites.pas), line = 94
  7877
  7878 35C7 A0 00			ldy #$00
  7879 35C9 AD B1 A7			lda PRISONTIME
  7880 35CC 10 01			spl
  7881 35CE 88				dey
  7882 35CF 8D 5F A1			sta B_CRT.CRT_WRITE.@010185000.NUM
  7883 35D2 8C 60 A1			sty B_CRT.CRT_WRITE.@010185000.NUM+1
  7884 35D5 8C 61 A1			sty B_CRT.CRT_WRITE.@010185000.NUM+2
  7885 35D8 8C 62 A1			sty B_CRT.CRT_WRITE.@010185000.NUM+3
  7886 35DB 20 17 19			jsr B_CRT.CRT_WRITE.@010185000
  7887
  7888 				; optimize OK (sprites.pas), line = 95
  7889
  7890 35DE A9 07			lda #$07
  7891 35E0 20 04 1C			jsr CRT_WRITE_LOCSTR
  7892
  7893 				; optimize OK (sprites.pas), line = 96
  7894
  7895 35E3 AC 8A CD			ldy CURRENTPLAYER
  7896 35E6 A9 00			lda #$00
  7897 35E8 99 80 C9			sta adr.PLJOB,y
  7898
  7899 				; optimize OK (sprites.pas), line = 97
  7900
  7901 35EB A9 03			lda #$03
  7902 35ED 20 C4 2F			jsr REMOVEPOINTS
  7903
  7904 				; optimize FAIL ('WAITFORKEY', sprites.pas), line = 98
  7905
  7906 35F0 20 88 1D			jsr WAITFORKEY
  7907
  7908 				; optimize OK (sprites.pas), line = 99
  7909
  7910 35F3 A9 01			lda #$01
  7911 35F5 8D AE A7			sta RESULT
  7912 35F8			@exit
  7913
  7914 				; ------------------------------------------------------------
  7915
  7916 = A7AE			RESULT	= DATAORIGIN+$0B93
  7917 = A7AF			LAWYER	= DATAORIGIN+$0B94
  7918 = A7B1			PRISONTIME	= DATAORIGIN+$0B96
  7919 = A7B2			R	= DATAORIGIN+$0B97
  7920 = A7B3			I	= DATAORIGIN+$0B98
  7921 = A7B4			J	= DATAORIGIN+$0B99
  7922 = A7B5			K	= DATAORIGIN+$0B9A
  7923 = A7B6			T	= DATAORIGIN+$0B9B
  7924 = A7B7			CHANGE	= DATAORIGIN+$0B9C
  7925 = A7B8			@CASETMP_000A	= DATAORIGIN+$0B9D
  7926
  7927 = A7AF			@VarData	= LAWYER
  7928 = 000A			@VarDataSize	= 10
  7929
  7930 35F8 60				rts						; ret
  7931 				.endl
  7932
  7933 35F9			.local	GOTCAUGHT					; FUNCTION
  7934
  7935 				; optimize OK (sprites.pas), line = 112
  7936
  7937 35F9 A9 1A			lda #$1A
  7938 35FB 20 BD 28			jsr LOADLOCATION
  7939
  7940 				; optimize FAIL ('ENABLECONSOLE', sprites.pas), line = 113
  7941
  7942 35FE 20 8E 27			jsr ENABLECONSOLE
  7943
  7944 				; optimize FAIL ('SHOWLOCATIONHEADER', sprites.pas), line = 115
  7945
  7946 3601 20 18 28			jsr SHOWLOCATIONHEADER
  7947
  7948 				; optimize FAIL (1, sprites.pas), line = 118
  7949
  7950 3604 E8				inx
  7951 3605 AC 8A CD			ldy CURRENTPLAYER
  7952 3608 B9 7C C9			lda adr.PLBRIBE,y
  7953 360B 95 94			sta :STACKORIGIN,x
  7954 360D E8				inx
  7955 360E A0 01			ldy #1
  7956 3610 B5 93			lda :STACKORIGIN-1,x
  7957 3612 D0 01			bne @+
  7958 3614 88				dey
  7959 				@
  7960 3615 CA				dex
  7961 3616 94 94			sty :STACKORIGIN,x
  7962 3618 A9 02			lda #$02
  7963 361A 20 8F 13			jsr SYSTEM.RANDOM.@010180000
  7964 361D CA				dex
  7965 361E A0 01			ldy #1
  7966 3620 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
  7967 3623 C9 01			cmp #$01
  7968 3625 F0 01			beq @+
  7969 3627 88				dey
  7970 				@
  7971 3628 98				tya
  7972 3629 35 95			and :STACKORIGIN+1,x
  7973 362B F0 15			jeq l_158B
  7974
  7975 				; optimize OK (sprites.pas), line = 120
  7976
  7977 362D A9 01			lda #$01
  7978 362F 20 49 1C			jsr CRT_WRITELN_LOCSTR
  7979
  7980 				; optimize OK (sprites.pas), line = 121
  7981
  7982 3632 A9 02			lda #$02
  7983 3634 20 49 1C			jsr CRT_WRITELN_LOCSTR
  7984
  7985 				; optimize FAIL ('WAITFORKEY', sprites.pas), line = 122
  7986
  7987 3637 20 88 1D			jsr WAITFORKEY
  7988
  7989 				; optimize OK (sprites.pas), line = 123
  7990
  7991 363A A9 00			lda #$00
  7992 363C 8D B9 A7			sta RESULT
  7993 363F 4C 9D 37			jmp @exit
  7994 3642			l_158B
  7995
  7996 				; optimize OK (sprites.pas), line = 127
  7997
  7998 3642 A9 03			lda #$03
  7999 3644 20 53 1C			jsr CRT_WRITELN2_LOCSTR
  8000
  8001 				; optimize OK (sprites.pas), line = 128
  8002
  8003 3647 A9 04			lda #$04
  8004 3649 20 49 1C			jsr CRT_WRITELN_LOCSTR
  8005
  8006 				; optimize OK (sprites.pas), line = 129
  8007
  8008 364C A9 05			lda #$05
  8009 364E 20 49 1C			jsr CRT_WRITELN_LOCSTR
  8010
  8011 				; optimize OK (sprites.pas), line = 130
  8012
  8013 3651 A9 06			lda #$06
  8014 3653 20 53 1C			jsr CRT_WRITELN2_LOCSTR
  8015
  8016 				; optimize OK (sprites.pas), line = 132
  8017
  8018 3656 A9 07			lda #$07
  8019 3658 20 04 1C			jsr CRT_WRITE_LOCSTR
  8020
  8021 				; optimize OK (sprites.pas), line = 133
  8022
  8023 365B A9 01			lda #$01
  8024 365D 8D E9 A6			sta READVALUE.MINVALUE
  8025 3660 A9 00			lda #$00
  8026 3662 8D EA A6			sta READVALUE.MINVALUE+1
  8027 3665 A9 03			lda #$03
  8028 3667 8D EB A6			sta READVALUE.MAXVALUE
  8029 366A A9 00			lda #$00
  8030 366C 8D EC A6			sta READVALUE.MAXVALUE+1
  8031 366F 20 64 1F			jsr READVALUE
  8032 3672 AD ED A6			lda READVALUE.RESULT
  8033 3675 8D BA A7			sta A
  8034
  8035 				; optimize FAIL ('CRT_NEWLINE2', sprites.pas), line = 135
  8036
  8037 3678 20 B9 1D			jsr CRT_NEWLINE2
  8038
  8039 				; optimize OK (sprites.pas), line = 136
  8040
  8041 367B AD BA A7			lda A
  8042 367E C9 01			cmp #$01
  8043 3680 F0 03 4C 31 37		jne l_15BA
  8044
  8045 				; optimize OK (sprites.pas), line = 138
  8046
  8047 3685 AC 8A CD			ldy CURRENTPLAYER
  8048 3688 B9 98 C9			lda adr.PLRANK,y
  8049 368B 85 84			sta :eax
  8050 368D A9 00			lda #$00
  8051 368F 85 85			sta :eax+1
  8052 3691 A9 F4			lda #$F4
  8053 3693 85 8C			sta :ecx
  8054 3695 A9 01			lda #$01
  8055 3697 85 8D			sta :ecx+1
  8056 					.ifdef fmulinit
  8057 					fmulu_16
  8058 					els
  8059 3699 20 D3 10			imulCX_AL
  8060 					eif
  8061 369C A5 84			lda :eax
  8062 369E 18 69 F4			add #$F4
  8063 36A1 8D BC A7			sta PRICE
  8064 36A4 A5 85			lda :eax+1
  8065 36A6 69 01			adc #$01
  8066 36A8 8D BD A7			sta PRICE+1
  8067
  8068 				; optimize OK (sprites.pas), line = 139
  8069
  8070 36AB A9 08			lda #$08
  8071 36AD 20 04 1C			jsr CRT_WRITE_LOCSTR
  8072
  8073 				; optimize OK (sprites.pas), line = 140
  8074
  8075 36B0 AD BC A7			lda PRICE
  8076 36B3 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
  8077 36B6 AD BD A7			lda PRICE+1
  8078 36B9 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
  8079 36BC 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
  8080
  8081 				; optimize OK (sprites.pas), line = 141
  8082
  8083 36BF A9 09			lda #$09
  8084 36C1 20 04 1C			jsr CRT_WRITE_LOCSTR
  8085
  8086 				; optimize FAIL ('GETYESNO', sprites.pas), line = 142
  8087
  8088 36C4 20 46 1F			jsr GETYESNO
  8089 36C7 AD E8 A6			lda GETYESNO.RESULT
  8090 36CA 8D BB A7			sta R
  8091
  8092 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', sprites.pas), line = 143
  8093
  8094 36CD 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
  8095
  8096 				; optimize OK (sprites.pas), line = 144
  8097
  8098 36D0 AD BB A7			lda R
  8099 36D3 C9 01			cmp #$01
  8100 36D5 D0 51			jne l_15EA
  8101
  8102 				; optimize OK (sprites.pas), line = 146
  8103
  8104 36D7 AD BC A7			lda PRICE
  8105 36DA 8D A6 A7			sta PAYMONEY.PRICE
  8106 36DD AD BD A7			lda PRICE+1
  8107 36E0 8D A7 A7			sta PAYMONEY.PRICE+1
  8108 36E3 20 02 32			jsr PAYMONEY
  8109 36E6 AD A8 A7			lda PAYMONEY.RESULT
  8110 36E9 D0 0C			jne l_15FD
  8111
  8112 				; optimize FAIL ('GOTOCOURT', sprites.pas), line = 149
  8113
  8114 36EB 20 34 34			jsr GOTOCOURT
  8115 36EE AD AE A7			lda GOTOCOURT.RESULT
  8116 36F1 8D B9 A7			sta RESULT
  8117 36F4 4C 9D 37			jmp @exit
  8118 36F7			l_15FD
  8119
  8120 				; optimize OK (sprites.pas), line = 154
  8121
  8122 36F7 A9 05			lda #$05
  8123 36F9 20 8F 13			jsr SYSTEM.RANDOM.@010180000
  8124 36FC AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
  8125 36FF D0 14			jne l_161C
  8126
  8127 				; optimize OK (sprites.pas), line = 156
  8128
  8129 3701 A9 0A			lda #$0A
  8130 3703 20 49 1C			jsr CRT_WRITELN_LOCSTR
  8131
  8132 				; optimize FAIL ('WAITFORKEY', sprites.pas), line = 157
  8133
  8134 3706 20 88 1D			jsr WAITFORKEY
  8135
  8136 				; optimize FAIL ('GOTOCOURT', sprites.pas), line = 158
  8137
  8138 3709 20 34 34			jsr GOTOCOURT
  8139 370C AD AE A7			lda GOTOCOURT.RESULT
  8140 370F 8D B9 A7			sta RESULT
  8141 3712 4C 9D 37			jmp @exit
  8142 3715			l_161C
  8143
  8144 				; optimize OK (sprites.pas), line = 163
  8145
  8146 3715 A9 0B			lda #$0B
  8147 3717 20 49 1C			jsr CRT_WRITELN_LOCSTR
  8148
  8149 				; optimize FAIL ('WAITFORKEY', sprites.pas), line = 164
  8150
  8151 371A 20 88 1D			jsr WAITFORKEY
  8152
  8153 				; optimize OK (sprites.pas), line = 165
  8154
  8155 371D A9 00			lda #$00
  8156 371F 8D B9 A7			sta RESULT
  8157 3722 4C 9D 37			jmp @exit
  8158 3725			l_160B
  8159 3725 4C 31 37			jmp l_1636
  8160 3728			l_15EA
  8161
  8162 				; optimize FAIL ('GOTOCOURT', sprites.pas), line = 174
  8163
  8164 3728 20 34 34			jsr GOTOCOURT
  8165 372B AD AE A7			lda GOTOCOURT.RESULT
  8166 372E 8D B9 A7			sta RESULT
  8167 3731			l_1636
  8168 3731			l_15BA
  8169
  8170 				; optimize OK (sprites.pas), line = 178
  8171
  8172 3731 AD BA A7			lda A
  8173 3734 C9 02			cmp #$02
  8174 3736 D0 55			jne l_164E
  8175
  8176 				; optimize OK (sprites.pas), line = 181
  8177
  8178 3738 A9 50			lda #$50
  8179 373A 20 8F 13			jsr SYSTEM.RANDOM.@010180000
  8180 373D E8				inx
  8181 373E AD 27 9C 95 94		mva SYSTEM.RANDOM.@010180000.RESULT :STACKORIGIN,x
  8182 3743 E8				inx
  8183 3744 AC 8A CD			ldy CURRENTPLAYER
  8184 3747 B9 4C C9			lda adr.PLCAR,y
  8185 374A A8				tay
  8186 374B B9 12 E7			lda adr.CARRANGE,y
  8187 374E A0 01			ldy #1
  8188 3750 D5 93			cmp :STACKORIGIN-1,x
  8189 3752 90 01			bcc @+
  8190 3754 88				dey
  8191 				@
  8192 3755 CA				dex
  8193 3756 CA				dex
  8194 3757 98				tya
  8195 3758 F0 1E			jeq l_1668
  8196
  8197 				; optimize OK (sprites.pas), line = 183
  8198
  8199 375A A9 04			lda #$04
  8200 375C 20 C4 2F			jsr REMOVEPOINTS
  8201
  8202 				; optimize OK (sprites.pas), line = 184
  8203
  8204 375F A9 0C			lda #$0C
  8205 3761 20 49 1C			jsr CRT_WRITELN_LOCSTR
  8206
  8207 				; optimize OK (sprites.pas), line = 185
  8208
  8209 3764 A9 0D			lda #$0D
  8210 3766 20 49 1C			jsr CRT_WRITELN_LOCSTR
  8211
  8212 				; optimize FAIL ('WAITFORKEY', sprites.pas), line = 186
  8213
  8214 3769 20 88 1D			jsr WAITFORKEY
  8215
  8216 				; optimize FAIL ('GOTOCOURT', sprites.pas), line = 187
  8217
  8218 376C 20 34 34			jsr GOTOCOURT
  8219 376F AD AE A7			lda GOTOCOURT.RESULT
  8220 3772 8D B9 A7			sta RESULT
  8221 3775 4C 9D 37			jmp @exit
  8222 3778			l_1668
  8223
  8224 				; optimize OK (sprites.pas), line = 190
  8225
  8226 3778 A9 0E			lda #$0E
  8227 377A 20 49 1C			jsr CRT_WRITELN_LOCSTR
  8228
  8229 				; optimize OK (sprites.pas), line = 191
  8230
  8231 377D A9 02			lda #$02
  8232 377F 20 B3 2F			jsr ADDPOINTS
  8233
  8234 				; optimize FAIL ('WAITFORKEY', sprites.pas), line = 192
  8235
  8236 3782 20 88 1D			jsr WAITFORKEY
  8237
  8238 				; optimize OK (sprites.pas), line = 193
  8239
  8240 3785 A9 00			lda #$00
  8241 3787 8D B9 A7			sta RESULT
  8242 378A 4C 9D 37			jmp @exit
  8243 378D			l_164E
  8244
  8245 				; optimize OK (sprites.pas), line = 197
  8246
  8247 378D AD BA A7			lda A
  8248 3790 C9 03			cmp #$03
  8249 3792 D0 09			jne l_1693
  8250
  8251 				; optimize FAIL ('GOTOCOURT', sprites.pas), line = 198
  8252
  8253 3794 20 34 34			jsr GOTOCOURT
  8254 3797 AD AE A7			lda GOTOCOURT.RESULT
  8255 379A 8D B9 A7			sta RESULT
  8256 379D			l_1693
  8257 379D			@exit
  8258
  8259 				; ------------------------------------------------------------
  8260
  8261 = A7B9			RESULT	= DATAORIGIN+$0B9E
  8262 = A7BA			A	= DATAORIGIN+$0B9F
  8263 = A7BB			R	= DATAORIGIN+$0BA0
  8264 = A7BC			PRICE	= DATAORIGIN+$0BA1
  8265
  8266 = A7BA			@VarData	= A
  8267 = 0004			@VarDataSize	= 4
  8268
  8269 379D 60				rts						; ret
  8270 				.endl
  8271
  8272 379E			.local	ROADBLOCK					; FUNCTION
  8273
  8274 				; optimize OK (sprites.pas), line = 205
  8275
  8276 379E A9 01			lda #$01
  8277 37A0 8D B9 A4			sta MAPRELOADED
  8278
  8279 				; optimize OK (sprites.pas), line = 206
  8280
  8281 37A3 A9 00			lda #$00
  8282 37A5 8D BE A7			sta RESULT
  8283
  8284 				; optimize OK (sprites.pas), line = 208
  8285
  8286 37A8 AC 8A CD			ldy CURRENTPLAYER
  8287 37AB B9 98 C9			lda adr.PLRANK,y
  8288 37AE C9 04			cmp #$04
  8289 37B0 B0 03			jcs l_16BB
  8290 37B2 4C 4A 38			jmp @exit
  8291 37B5			l_16BB
  8292
  8293 				; optimize OK (sprites.pas), line = 209
  8294
  8295 37B5 A9 E0			lda #$E0
  8296 37B7 20 8F 13			jsr SYSTEM.RANDOM.@010180000
  8297 37BA AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
  8298 37BD F0 03			jeq l_16CF
  8299 37BF 4C 4A 38			jmp @exit
  8300 37C2			l_16CF
  8301
  8302 				; optimize OK (sprites.pas), line = 211
  8303
  8304 37C2 A9 1B			lda #$1B
  8305 37C4 20 BD 28			jsr LOADLOCATION
  8306
  8307 				; optimize FAIL ('ENABLECONSOLE', sprites.pas), line = 212
  8308
  8309 37C7 20 8E 27			jsr ENABLECONSOLE
  8310
  8311 				; optimize FAIL ('SHOWLOCATIONHEADER', sprites.pas), line = 213
  8312
  8313 37CA 20 18 28			jsr SHOWLOCATIONHEADER
  8314
  8315 				; optimize OK (sprites.pas), line = 215
  8316
  8317 37CD A9 01			lda #$01
  8318 37CF 20 49 1C			jsr CRT_WRITELN_LOCSTR
  8319
  8320 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', sprites.pas), line = 216
  8321
  8322 37D2 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
  8323
  8324 				; optimize OK (sprites.pas), line = 217
  8325
  8326 37D5 A9 78			lda #$78
  8327 37D7 20 5A 27			jsr WAITFRAMES
  8328
  8329 				; optimize OK (sprites.pas), line = 219
  8330
  8331 37DA A9 02			lda #$02
  8332 37DC 20 8F 13			jsr SYSTEM.RANDOM.@010180000
  8333 37DF AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
  8334 37E2 D0 59			jne l_16EC
  8335
  8336 				; optimize OK (sprites.pas), line = 221
  8337
  8338 37E4 A9 01			lda #$01
  8339 37E6 8D BE A7			sta RESULT
  8340
  8341 				; optimize OK (sprites.pas), line = 222
  8342
  8343 37E9 AC 8A CD			ldy CURRENTPLAYER
  8344 37EC B9 40 C9			lda adr.PLFAKEMONEY,y
  8345 37EF F0 11			jeq l_1706
  8346
  8347 				; optimize FAIL ('CRT_WRITELN', sprites.pas), line = 223
  8348
  8349 37F1 E8				inx
  8350 37F2 AD 84 9A 95 94		mva LOC_STRING_2 :STACKORIGIN,x
  8351 37F7 AD 85 9A 95 A4		mva LOC_STRING_2+1 :STACKORIGIN+STACKWIDTH,x
  8352 37FC 20 E7 1D			jsr CRT_WRITELN
  8353 37FF 4C 3D 38			jmp l_1713
  8354 3802			l_1706
  8355
  8356 				; optimize OK (sprites.pas), line = 224
  8357
  8358 3802 AC 8A CD			ldy CURRENTPLAYER
  8359 3805 B9 44 C9			lda adr.PLALCOHOL,y
  8360 3808 F0 15			jeq l_1728
  8361
  8362 				; optimize OK (sprites.pas), line = 226
  8363
  8364 380A A9 03			lda #$03
  8365 380C 20 49 1C			jsr CRT_WRITELN_LOCSTR
  8366
  8367 				; optimize OK (sprites.pas), line = 227
  8368
  8369 380F A9 04			lda #$04
  8370 3811 20 49 1C			jsr CRT_WRITELN_LOCSTR
  8371
  8372 				; optimize OK (sprites.pas), line = 228
  8373
  8374 3814 AC 8A CD			ldy CURRENTPLAYER
  8375 3817 A9 00			lda #$00
  8376 3819 99 44 C9			sta adr.PLALCOHOL,y
  8377 381C 4C 3D 38			jmp l_173D
  8378 381F			l_1728
  8379
  8380 				; optimize OK (sprites.pas), line = 230
  8381
  8382 381F AC 8A CD			ldy CURRENTPLAYER
  8383 3822 B9 48 C9			lda adr.PLFORGEDID,y
  8384 3825 D0 11			jne l_1752
  8385
  8386 				; optimize FAIL ('CRT_WRITELN', sprites.pas), line = 231
  8387
  8388 3827 E8				inx
  8389 3828 AD 8A 9A 95 94		mva LOC_STRING_5 :STACKORIGIN,x
  8390 382D AD 8B 9A 95 A4		mva LOC_STRING_5+1 :STACKORIGIN+STACKWIDTH,x
  8391 3832 20 E7 1D			jsr CRT_WRITELN
  8392 3835 4C 3D 38			jmp l_175F
  8393 3838			l_1752
  8394
  8395 				; optimize OK (sprites.pas), line = 233
  8396
  8397 3838 A9 00			lda #$00
  8398 383A 8D BE A7			sta RESULT
  8399 383D			l_175F
  8400 383D			l_173D
  8401 383D			l_1713
  8402 383D			l_16EC
  8403
  8404 				; optimize OK (sprites.pas), line = 236
  8405
  8406 383D AD BE A7			lda RESULT
  8407 3840 D0 05			jne l_1777
  8408
  8409 				; optimize OK (sprites.pas), line = 237
  8410
  8411 3842 A9 06			lda #$06
  8412 3844 20 49 1C			jsr CRT_WRITELN_LOCSTR
  8413 3847			l_1777
  8414
  8415 				; optimize FAIL ('WAITFORKEY', sprites.pas), line = 238
  8416
  8417 3847 20 88 1D			jsr WAITFORKEY
  8418 384A			@exit
  8419
  8420 				; ------------------------------------------------------------
  8421
  8422 = A7BE			RESULT	= DATAORIGIN+$0BA3
  8423
  8424 384A 60				rts						; ret
  8425 				.endl
  8426
  8427 384B			.local	PAINTPLAYER					; PROCEDURE
  8428 384B 8D BF A7			sta CLEAR
  8429
  8430 				; optimize OK (sprites.pas), line = 252
  8431
  8432 384E AD 8A CD			lda CURRENTPLAYER
  8433 3851 0A				asl @
  8434 3852 0A				asl @
  8435 3853 0A				asl @
  8436 3854 8D C3 A7			sta Z
  8437
  8438 				; optimize OK (sprites.pas), line = 254
  8439
  8440 3857 A9 00			lda #$00
  8441 3859 8D C1 A7			sta PLAYEROFS
  8442 385C 8D C2 A7			sta PLAYEROFS+1
  8443
  8444 				; optimize OK (sprites.pas), line = 255
  8445
  8446 385F AD F8 EA			lda SPRITEMOVEDIR
  8447 3862 C9 FF			cmp #$FF
  8448 3864 D0 0A			jne l_17A1
  8449
  8450 				; optimize OK (sprites.pas), line = 256
  8451
  8452 3866 A9 C0			lda #$C0
  8453 3868 8D C1 A7			sta PLAYEROFS
  8454 386B A9 00			lda #$00
  8455 386D 8D C2 A7			sta PLAYEROFS+1
  8456 3870			l_17A1
  8457
  8458 				; optimize OK (sprites.pas), line = 258
  8459
  8460 3870 AC C3 A7			ldy Z
  8461 3873 B9 68 CD			lda adr.GANGSTERSEX,y
  8462 3876 C9 01			cmp #$01
  8463 3878 D0 0E			jne l_17BD
  8464 387A AD C1 A7			lda PLAYEROFS
  8465 387D 18 69 60			add #$60
  8466 3880 8D C1 A7			sta PLAYEROFS
  8467 3883 90 03			scc
  8468 3885 EE C2 A7			inc PLAYEROFS+1
  8469 3888			l_17BD
  8470
  8471 				; optimize OK (sprites.pas), line = 266
  8472
  8473 3888 A9 00			lda #$00
  8474 388A CD BA A4			cmp SPRITEOFFSET
  8475 388D B0 14			jcs l_17E7
  8476 388F AD BA A4			lda SPRITEOFFSET
  8477 3892 C9 07			cmp #$07
  8478 3894 B0 0D			jcs l_17E7
  8479
  8480 				; optimize OK (sprites.pas), line = 267
  8481
  8482 3896 AD C1 A7			lda PLAYEROFS
  8483 3899 69 30			adc #$30
  8484 389B 8D C1 A7			sta PLAYEROFS
  8485 389E 90 03			scc
  8486 38A0 EE C2 A7			inc PLAYEROFS+1
  8487 38A3			l_17E7
  8488
  8489 				; optimize OK (sprites.pas), line = 270
  8490
  8491 38A3 A9 0C			lda #$0C
  8492 38A5 8D C0 A7			sta PLAYERHEIGHT
  8493
  8494 				; optimize OK (sprites.pas), line = 273
  8495
  8496 38A8 AD AF EA			lda PLAYERPOS_Y
  8497 38AB 85 8C			sta SYSTEM.MOVE.@03018100001880000188000.DEST
  8498 38AD A9 BC			lda #$BC
  8499 38AF 85 8D			sta SYSTEM.MOVE.@03018100001880000188000.DEST+1
  8500 38B1 AD C1 A7			lda PLAYEROFS
  8501 38B4 85 88			sta SYSTEM.MOVE.@03018100001880000188000.SOURCE
  8502 38B6 A9 B8			lda #$B8
  8503 38B8 18 6D C2 A7			add PLAYEROFS+1
  8504 38BC 85 89			sta SYSTEM.MOVE.@03018100001880000188000.SOURCE+1
  8505 38BE AD C0 A7			lda PLAYERHEIGHT
  8506 38C1 85 84			sta SYSTEM.MOVE.@03018100001880000188000.COUNT
  8507 38C3 A9 00			lda #$00
  8508 38C5 85 85			sta SYSTEM.MOVE.@03018100001880000188000.COUNT+1
  8509 38C7				.LOCAL +MAIN.SYSTEM.MOVE.@03018100001880000188000
  8510 38C7				m@INLINE
Macro: MAIN.SYSTEM.MOVE.@03018100001880000188000.M@INLINE [Source: main.a65]
     4 38C7 20 D7 0E			jsr @move
Source: main.a65
  8511 					.ENDL
  8512
  8513 				; optimize OK (sprites.pas), line = 274
  8514
  8515 38CA AD AF EA			lda PLAYERPOS_Y
  8516 38CD 85 8C			sta SYSTEM.MOVE.@03018100001880000188000.DEST
  8517 38CF A9 BD			lda #$BD
  8518 38D1 85 8D			sta SYSTEM.MOVE.@03018100001880000188000.DEST+1
  8519 38D3 AD C1 A7			lda PLAYEROFS
  8520 38D6 18 6D C0 A7			add PLAYERHEIGHT
  8521 38DA 85 88			sta SYSTEM.MOVE.@03018100001880000188000.SOURCE
  8522 38DC AD C2 A7			lda PLAYEROFS+1
  8523 38DF 69 B8			adc #$B8
  8524 38E1 85 89			sta SYSTEM.MOVE.@03018100001880000188000.SOURCE+1
  8525 38E3 AD C0 A7			lda PLAYERHEIGHT
  8526 38E6 85 84			sta SYSTEM.MOVE.@03018100001880000188000.COUNT
  8527 38E8 A9 00			lda #$00
  8528 38EA 85 85			sta SYSTEM.MOVE.@03018100001880000188000.COUNT+1
  8529 38EC				.LOCAL +MAIN.SYSTEM.MOVE.@03018100001880000188000
  8530 38EC				m@INLINE
Macro: MAIN.SYSTEM.MOVE.@03018100001880000188000.M@INLINE [Source: main.a65]
     4 38EC 20 D7 0E			jsr @move
Source: main.a65
  8531 					.ENDL
  8532
  8533 				; optimize OK (sprites.pas), line = 275
  8534
  8535 38EF AD AF EA			lda PLAYERPOS_Y
  8536 38F2 85 8C			sta SYSTEM.MOVE.@03018100001880000188000.DEST
  8537 38F4 A9 BE			lda #$BE
  8538 38F6 85 8D			sta SYSTEM.MOVE.@03018100001880000188000.DEST+1
  8539 38F8 AD C1 A7			lda PLAYEROFS
  8540 38FB 85 9F			sta :STACKORIGIN+11
  8541 38FD A9 B8			lda #$B8
  8542 38FF 18 6D C2 A7			add PLAYEROFS+1
  8543 3903 85 AF			sta :STACKORIGIN+STACKWIDTH+11
  8544 3905 A9 00			lda #$00
  8545 3907 85 B0			sta :STACKORIGIN+STACKWIDTH+12
  8546 3909 AD C0 A7			lda PLAYERHEIGHT
  8547 390C 0A				asl @
  8548 390D 26 B0			rol :STACKORIGIN+STACKWIDTH+12
  8549 390F 18 65 9F			add :STACKORIGIN+11
  8550 3912 85 88			sta SYSTEM.MOVE.@03018100001880000188000.SOURCE
  8551 3914 A5 AF			lda :STACKORIGIN+STACKWIDTH+11
  8552 3916 65 B0			adc :STACKORIGIN+STACKWIDTH+12
  8553 3918 85 89			sta SYSTEM.MOVE.@03018100001880000188000.SOURCE+1
  8554 391A AD C0 A7			lda PLAYERHEIGHT
  8555 391D 85 84			sta SYSTEM.MOVE.@03018100001880000188000.COUNT
  8556 391F A9 00			lda #$00
  8557 3921 85 85			sta SYSTEM.MOVE.@03018100001880000188000.COUNT+1
  8558 3923				.LOCAL +MAIN.SYSTEM.MOVE.@03018100001880000188000
  8559 3923				m@INLINE
Macro: MAIN.SYSTEM.MOVE.@03018100001880000188000.M@INLINE [Source: main.a65]
     4 3923 20 D7 0E			jsr @move
Source: main.a65
  8560 					.ENDL
  8561
  8562 				; optimize OK (sprites.pas), line = 276
  8563
  8564 3926 AD AF EA			lda PLAYERPOS_Y
  8565 3929 85 8C			sta SYSTEM.MOVE.@03018100001880000188000.DEST
  8566 392B A9 BF			lda #$BF
  8567 392D 85 8D			sta SYSTEM.MOVE.@03018100001880000188000.DEST+1
  8568 392F AD C1 A7			lda PLAYEROFS
  8569 3932 85 9F			sta :STACKORIGIN+11
  8570 3934 A9 B8			lda #$B8
  8571 3936 18 6D C2 A7			add PLAYEROFS+1
  8572 393A 85 AF			sta :STACKORIGIN+STACKWIDTH+11
  8573 393C A9 00			lda #$00
  8574 393E 85 B0			sta :STACKORIGIN+STACKWIDTH+12
  8575 3940 AD C0 A7			lda PLAYERHEIGHT
  8576 3943 0A				asl @
  8577 3944 26 B0			rol :STACKORIGIN+STACKWIDTH+12
  8578 3946 18 6D C0 A7			add PLAYERHEIGHT
  8579 394A 85 A0			sta :STACKORIGIN+12
  8580 394C A5 B0			lda :STACKORIGIN+STACKWIDTH+12
  8581 394E 69 00			adc #$00
  8582 3950 85 B0			sta :STACKORIGIN+STACKWIDTH+12
  8583 3952 A5 9F			lda :STACKORIGIN+11
  8584 3954 18 65 A0			add :STACKORIGIN+12
  8585 3957 85 88			sta SYSTEM.MOVE.@03018100001880000188000.SOURCE
  8586 3959 A5 AF			lda :STACKORIGIN+STACKWIDTH+11
  8587 395B 65 B0			adc :STACKORIGIN+STACKWIDTH+12
  8588 395D 85 89			sta SYSTEM.MOVE.@03018100001880000188000.SOURCE+1
  8589 395F AD C0 A7			lda PLAYERHEIGHT
  8590 3962 85 84			sta SYSTEM.MOVE.@03018100001880000188000.COUNT
  8591 3964 A9 00			lda #$00
  8592 3966 85 85			sta SYSTEM.MOVE.@03018100001880000188000.COUNT+1
  8593 3968				.LOCAL +MAIN.SYSTEM.MOVE.@03018100001880000188000
  8594 3968				m@INLINE
Macro: MAIN.SYSTEM.MOVE.@03018100001880000188000.M@INLINE [Source: main.a65]
     4 3968 20 D7 0E			jsr @move
Source: main.a65
  8595 					.ENDL
  8596
  8597 				; optimize OK (sprites.pas), line = 279
  8598
  8599 396B AD BF A7			lda CLEAR
  8600 396E C9 01			cmp #$01
  8601 3970 F0 03 4C 46 3A		jne l_1877
  8602
  8603 				; optimize OK (sprites.pas), line = 281
  8604
  8605 3975 AD AF EA			lda PLAYERPOS_Y
  8606 3978 38 E9 01			sub #$01
  8607 397B 8D C1 A7			sta PLAYEROFS
  8608 397E A9 00			lda #$00
  8609 3980 E9 00			sbc #$00
  8610 3982 8D C2 A7			sta PLAYEROFS+1
  8611
  8612 				; optimize OK (sprites.pas), line = 282
  8613
  8614 3985 AD C1 A7			lda PLAYEROFS
  8615 3988 85 82			sta :bp2
  8616 398A A9 BC			lda #$BC
  8617 398C 18 6D C2 A7			add PLAYEROFS+1
  8618 3990 85 83			sta :bp2+1
  8619 3992 A9 00			lda #$00
  8620 3994 A0 00			ldy #$00
  8621 3996 91 82 88 10 FB		sta:rpl (:bp2),y-
  8622
  8623 				; optimize OK (sprites.pas), line = 283
  8624
  8625 399B AD C1 A7			lda PLAYEROFS
  8626 399E 85 82			sta :bp2
  8627 39A0 A9 BD			lda #$BD
  8628 39A2 18 6D C2 A7			add PLAYEROFS+1
  8629 39A6 85 83			sta :bp2+1
  8630 39A8 A9 00			lda #$00
  8631 39AA A0 00			ldy #$00
  8632 39AC 91 82 88 10 FB		sta:rpl (:bp2),y-
  8633
  8634 				; optimize OK (sprites.pas), line = 284
  8635
  8636 39B1 AD C1 A7			lda PLAYEROFS
  8637 39B4 85 82			sta :bp2
  8638 39B6 A9 BE			lda #$BE
  8639 39B8 18 6D C2 A7			add PLAYEROFS+1
  8640 39BC 85 83			sta :bp2+1
  8641 39BE A9 00			lda #$00
  8642 39C0 A0 00			ldy #$00
  8643 39C2 91 82 88 10 FB		sta:rpl (:bp2),y-
  8644
  8645 				; optimize OK (sprites.pas), line = 285
  8646
  8647 39C7 AD C1 A7			lda PLAYEROFS
  8648 39CA 85 82			sta :bp2
  8649 39CC A9 BF			lda #$BF
  8650 39CE 18 6D C2 A7			add PLAYEROFS+1
  8651 39D2 85 83			sta :bp2+1
  8652 39D4 A9 00			lda #$00
  8653 39D6 A0 00			ldy #$00
  8654 39D8 91 82 88 10 FB		sta:rpl (:bp2),y-
  8655
  8656 				; optimize OK (sprites.pas), line = 287
  8657
  8658 39DD AD AF EA			lda PLAYERPOS_Y
  8659 39E0 18 6D C0 A7			add PLAYERHEIGHT
  8660 39E4 8D C1 A7			sta PLAYEROFS
  8661 39E7 A9 00			lda #$00
  8662 39E9 69 00			adc #$00
  8663 39EB 8D C2 A7			sta PLAYEROFS+1
  8664
  8665 				; optimize OK (sprites.pas), line = 288
  8666
  8667 39EE AD C1 A7			lda PLAYEROFS
  8668 39F1 85 82			sta :bp2
  8669 39F3 A9 BC			lda #$BC
  8670 39F5 18 6D C2 A7			add PLAYEROFS+1
  8671 39F9 85 83			sta :bp2+1
  8672 39FB A9 00			lda #$00
  8673 39FD A0 00			ldy #$00
  8674 39FF 91 82 88 10 FB		sta:rpl (:bp2),y-
  8675
  8676 				; optimize OK (sprites.pas), line = 289
  8677
  8678 3A04 AD C1 A7			lda PLAYEROFS
  8679 3A07 85 82			sta :bp2
  8680 3A09 A9 BD			lda #$BD
  8681 3A0B 18 6D C2 A7			add PLAYEROFS+1
  8682 3A0F 85 83			sta :bp2+1
  8683 3A11 A9 00			lda #$00
  8684 3A13 A0 00			ldy #$00
  8685 3A15 91 82 88 10 FB		sta:rpl (:bp2),y-
  8686
  8687 				; optimize OK (sprites.pas), line = 290
  8688
  8689 3A1A AD C1 A7			lda PLAYEROFS
  8690 3A1D 85 82			sta :bp2
  8691 3A1F A9 BE			lda #$BE
  8692 3A21 18 6D C2 A7			add PLAYEROFS+1
  8693 3A25 85 83			sta :bp2+1
  8694 3A27 A9 00			lda #$00
  8695 3A29 A0 00			ldy #$00
  8696 3A2B 91 82 88 10 FB		sta:rpl (:bp2),y-
  8697
  8698 				; optimize OK (sprites.pas), line = 291
  8699
  8700 3A30 AD C1 A7			lda PLAYEROFS
  8701 3A33 85 82			sta :bp2
  8702 3A35 A9 BF			lda #$BF
  8703 3A37 18 6D C2 A7			add PLAYEROFS+1
  8704 3A3B 85 83			sta :bp2+1
  8705 3A3D A9 00			lda #$00
  8706 3A3F A0 00			ldy #$00
  8707 3A41 91 82 88 10 FB		sta:rpl (:bp2),y-
  8708 3A46			l_1877
  8709
  8710 				; ------------------------------------------------------------
  8711
  8712 = A7BF			CLEAR	= DATAORIGIN+$0BA4
  8713 = A7C0			PLAYERHEIGHT	= DATAORIGIN+$0BA5
  8714 = A7C1			PLAYEROFS	= DATAORIGIN+$0BA6
  8715 = A7C3			Z	= DATAORIGIN+$0BA8
  8716
  8717 = A7BF			@VarData	= CLEAR
  8718 = 0005			@VarDataSize	= 5
  8719
  8720 3A46			@exit
  8721 					.ifdef @new
  8722 					lda <@VarData
  8723 					sta :ztmp
  8724 					lda >@VarData
  8725 					ldy #@VarDataSize-1
  8726 					jmp @FreeMem
  8727 					els
  8728 3A46 60				rts						; ret
  8729 					eif
  8730 				.endl
  8731
  8732 3A47			.local	MOVECURRENTPLAYER				; FUNCTION
  8733 3A47 8D C4 A7			sta CH
  8734
  8735 				; optimize OK (sprites.pas), line = 307
  8736
  8737 3A4A A9 10			lda #$10
  8738 3A4C 8D CB A7			sta CURLOC
  8739
  8740 				; optimize OK (sprites.pas), line = 308
  8741
  8742 3A4F 8D C5 A7			sta RESULT
  8743
  8744 				; optimize OK (sprites.pas), line = 310
  8745
  8746 3A52 A9 00			lda #$00
  8747 3A54 8D C7 A7			sta DIR_X
  8748
  8749 				; optimize OK (sprites.pas), line = 311
  8750
  8751 3A57 8D C8 A7			sta DIR_Y
  8752
  8753 				; optimize OK (sprites.pas), line = 313
  8754
  8755 3A5A AD C4 A7			lda CH
  8756 3A5D 8D CD A7			sta @CASETMP_000B
  8757 3A60 C9 06			cmp #$06
  8758 3A62 D0 05			jne l_1917
  8759 				@
  8760
  8761 				; optimize OK (sprites.pas), line = 315
  8762
  8763 3A64 A9 FF			lda #$FF
  8764 				; optimize OK (sprites.pas), line = 316
  8765 3A66 4C 6F 3A			jmp s_192E
  8766 3A69			l_1917
  8767 3A69 C9 07			cmp #$07
  8768 3A6B D0 0B			jne l_1926
  8769
  8770 				; optimize OK (sprites.pas), line = 319
  8771
  8772 3A6D A9 01			lda #$01
  8773 3A6F			s_192E
  8774 3A6F 8D C7 A7			sta DIR_X
  8775
  8776 				; optimize OK (sprites.pas), line = 320
  8777
  8778 3A72 8D F8 EA			sta SPRITEMOVEDIR
  8779 3A75 4C 98 3A			jmp a_000B
  8780 3A78			l_1926
  8781 3A78 C9 0E			cmp #$0E
  8782 3A7A D0 08			jne l_1935
  8783
  8784 				; optimize OK (sprites.pas), line = 322
  8785
  8786 3A7C A9 FF			lda #$FF
  8787 3A7E 8D C8 A7			sta DIR_Y
  8788 3A81 4C 98 3A			jmp a_000B
  8789 3A84			l_1935
  8790 3A84 C9 0F			cmp #$0F
  8791 3A86 D0 08			jne l_1940
  8792
  8793 				; optimize OK (sprites.pas), line = 323
  8794
  8795 3A88 A9 01			lda #$01
  8796 3A8A 8D C8 A7			sta DIR_Y
  8797 3A8D 4C 98 3A			jmp a_000B
  8798 3A90			l_1940
  8799
  8800 				; optimize OK (sprites.pas), line = 326
  8801
  8802 3A90 A9 01			lda #$01
  8803 3A92 20 5A 27			jsr WAITFRAMES
  8804 3A95 4C 25 3D			jmp @exit
  8805 3A98			a_000B
  8806
  8807 				; optimize OK (sprites.pas), line = 333
  8808
  8809 3A98 A9 00			lda #$00
  8810 3A9A 8D CA A7			sta LEAVEMAP
  8811
  8812 				; optimize OK (sprites.pas), line = 334
  8813
  8814 3A9D AD B0 EA			lda MAPPOS_X
  8815 3AA0 C9 13			cmp #$13
  8816 3AA2 D0 0C			jne l_196E
  8817 3AA4 AD C7 A7			lda DIR_X
  8818 3AA7 C9 01			cmp #$01
  8819 3AA9 D0 05			jne l_196E
  8820 3AAB A9 01			lda #$01
  8821 3AAD 8D CA A7			sta LEAVEMAP
  8822 3AB0			l_196E
  8823
  8824 				; optimize OK (sprites.pas), line = 335
  8825
  8826 3AB0 AD B0 EA			lda MAPPOS_X
  8827 3AB3 D0 0C			jne l_1993
  8828 3AB5 AD C7 A7			lda DIR_X
  8829 3AB8 C9 FF			cmp #$FF
  8830 3ABA D0 05			jne l_1993
  8831 3ABC A9 01			lda #$01
  8832 3ABE 8D CA A7			sta LEAVEMAP
  8833 3AC1			l_1993
  8834
  8835 				; optimize OK (sprites.pas), line = 336
  8836
  8837 3AC1 AD B1 EA			lda MAPPOS_Y
  8838 3AC4 C9 11			cmp #$11
  8839 3AC6 D0 0C			jne l_19B8
  8840 3AC8 AD C8 A7			lda DIR_Y
  8841 3ACB C9 01			cmp #$01
  8842 3ACD D0 05			jne l_19B8
  8843 3ACF A9 01			lda #$01
  8844 3AD1 8D CA A7			sta LEAVEMAP
  8845 3AD4			l_19B8
  8846
  8847 				; optimize OK (sprites.pas), line = 337
  8848
  8849 3AD4 AD B1 EA			lda MAPPOS_Y
  8850 3AD7 D0 0C			jne l_19DD
  8851 3AD9 AD C8 A7			lda DIR_Y
  8852 3ADC C9 FF			cmp #$FF
  8853 3ADE D0 05			jne l_19DD
  8854 3AE0 A9 01			lda #$01
  8855 3AE2 8D CA A7			sta LEAVEMAP
  8856 3AE5			l_19DD
  8857
  8858 				; optimize OK (sprites.pas), line = 338
  8859
  8860 3AE5 AD CA A7			lda LEAVEMAP
  8861 3AE8 F0 03 4C 14 3C		jne l_19F6
  8862
  8863 				; optimize OK (sprites.pas), line = 340
  8864
  8865 3AED AD B1 EA			lda MAPPOS_Y
  8866 3AF0 18 69 01			add #$01
  8867 3AF3 85 9E			sta :STACKORIGIN+10
  8868 3AF5 A9 00			lda #$00
  8869 3AF7 69 00			adc #$00
  8870 3AF9 85 AE			sta :STACKORIGIN+STACKWIDTH+10
  8871 3AFB A0 00			ldy #$00
  8872 3AFD AD C8 A7			lda DIR_Y
  8873 3B00 10 01			spl
  8874 3B02 88				dey
  8875 3B03 18 65 9E			add :STACKORIGIN+10
  8876 3B06 85 84			sta :eax
  8877 3B08 98				tya
  8878 3B09 65 AE			adc :STACKORIGIN+STACKWIDTH+10
  8879 3B0B 85 85			sta :eax+1
  8880 3B0D A9 28			lda #$28
  8881 3B0F 85 8C			sta :ecx
  8882 3B11 A9 00			lda #$00
  8883 3B13 85 8D			sta :ecx+1
  8884 					.ifdef fmulinit
  8885 					fmulu_16
  8886 					els
  8887 3B15 20 8F 10			imulCX
  8888 					eif
  8889 3B18 A5 84			lda :eax
  8890 3B1A 85 9D			sta :STACKORIGIN+9
  8891 3B1C A9 E0			lda #$E0
  8892 3B1E 18 65 85			add :eax+1
  8893 3B21 85 AD			sta :STACKORIGIN+STACKWIDTH+9
  8894 3B23 AD B0 EA			lda MAPPOS_X
  8895 3B26 85 9E			sta :STACKORIGIN+10
  8896 3B28 A9 00			lda #$00
  8897 3B2A 06 9E			asl :STACKORIGIN+10
  8898 3B2C 2A				rol @
  8899 3B2D 85 AE			sta :STACKORIGIN+STACKWIDTH+10
  8900 3B2F A5 9D			lda :STACKORIGIN+9
  8901 3B31 18 65 9E			add :STACKORIGIN+10
  8902 3B34 85 9D			sta :STACKORIGIN+9
  8903 3B36 A5 AD			lda :STACKORIGIN+STACKWIDTH+9
  8904 3B38 65 AE			adc :STACKORIGIN+STACKWIDTH+10
  8905 3B3A 85 AD			sta :STACKORIGIN+STACKWIDTH+9
  8906 3B3C A0 00			ldy #$00
  8907 3B3E AD C7 A7			lda DIR_X
  8908 3B41 10 01			spl
  8909 3B43 88				dey
  8910 3B44 84 AE			sty :STACKORIGIN+STACKWIDTH+10
  8911 3B46 0A				asl @
  8912 3B47 26 AE			rol :STACKORIGIN+STACKWIDTH+10
  8913 3B49 18 65 9D			add :STACKORIGIN+9
  8914 3B4C A8				tay
  8915 3B4D A5 AD			lda :STACKORIGIN+STACKWIDTH+9
  8916 3B4F 65 AE			adc :STACKORIGIN+STACKWIDTH+10
  8917 3B51 85 81			sta :bp+1
  8918 3B53 B1 80			lda (:bp),y
  8919 3B55 8D C9 A7			sta LENCID
  8920
  8921 				; optimize OK (sprites.pas), line = 343
  8922
  8923 3B58 8D CE A7			sta @CASETMP_000C
  8924 3B5B C9 41			cmp #$41
  8925 3B5D D0 08			jne l_1A2F
  8926 				@
  8927
  8928 				; optimize OK (sprites.pas), line = 344
  8929
  8930 3B5F A9 0D			lda #$0D
  8931 3B61 8D CB A7			sta CURLOC
  8932 3B64 4C 14 3C			jmp a_000C
  8933 3B67			l_1A2F
  8934 3B67 C9 42			cmp #$42
  8935 3B69 D0 08			jne l_1A3A
  8936
  8937 				; optimize OK (sprites.pas), line = 345
  8938
  8939 3B6B A9 06			lda #$06
  8940 3B6D 8D CB A7			sta CURLOC
  8941 3B70 4C 14 3C			jmp a_000C
  8942 3B73			l_1A3A
  8943 3B73 C9 43			cmp #$43
  8944 3B75 D0 08			jne l_1A45
  8945
  8946 				; optimize OK (sprites.pas), line = 346
  8947
  8948 3B77 A9 02			lda #$02
  8949 3B79 8D CB A7			sta CURLOC
  8950 3B7C 4C 14 3C			jmp a_000C
  8951 3B7F			l_1A45
  8952 3B7F C9 44			cmp #$44
  8953 3B81 D0 08			jne l_1A50
  8954
  8955 				; optimize OK (sprites.pas), line = 347
  8956
  8957 3B83 A9 04			lda #$04
  8958 3B85 8D CB A7			sta CURLOC
  8959 3B88 4C 14 3C			jmp a_000C
  8960 3B8B			l_1A50
  8961 3B8B C9 45			cmp #$45
  8962 3B8D D0 08			jne l_1A5B
  8963
  8964 				; optimize OK (sprites.pas), line = 348
  8965
  8966 3B8F A9 07			lda #$07
  8967 3B91 8D CB A7			sta CURLOC
  8968 3B94 4C 14 3C			jmp a_000C
  8969 3B97			l_1A5B
  8970 3B97 C9 46			cmp #$46
  8971 3B99 D0 08			jne l_1A66
  8972
  8973 				; optimize OK (sprites.pas), line = 349
  8974
  8975 3B9B A9 0C			lda #$0C
  8976 3B9D 8D CB A7			sta CURLOC
  8977 3BA0 4C 14 3C			jmp a_000C
  8978 3BA3			l_1A66
  8979 3BA3 C9 47			cmp #$47
  8980 3BA5 D0 08			jne l_1A71
  8981
  8982 				; optimize OK (sprites.pas), line = 350
  8983
  8984 3BA7 A9 01			lda #$01
  8985 3BA9 8D CB A7			sta CURLOC
  8986 3BAC 4C 14 3C			jmp a_000C
  8987 3BAF			l_1A71
  8988 3BAF C9 48			cmp #$48
  8989 3BB1 D0 08			jne l_1A7C
  8990
  8991 				; optimize OK (sprites.pas), line = 351
  8992
  8993 3BB3 A9 0B			lda #$0B
  8994 3BB5 8D CB A7			sta CURLOC
  8995 3BB8 4C 14 3C			jmp a_000C
  8996 3BBB			l_1A7C
  8997 3BBB C9 49			cmp #$49
  8998 3BBD D0 08			jne l_1A87
  8999
  9000 				; optimize OK (sprites.pas), line = 352
  9001
  9002 3BBF A9 0A			lda #$0A
  9003 3BC1 8D CB A7			sta CURLOC
  9004 3BC4 4C 14 3C			jmp a_000C
  9005 3BC7			l_1A87
  9006 3BC7 C9 4A			cmp #$4A
  9007 3BC9 D0 08			jne l_1A92
  9008
  9009 				; optimize OK (sprites.pas), line = 353
  9010
  9011 3BCB A9 05			lda #$05
  9012 3BCD 8D CB A7			sta CURLOC
  9013 3BD0 4C 14 3C			jmp a_000C
  9014 3BD3			l_1A92
  9015 3BD3 C9 4B			cmp #$4B
  9016 3BD5 D0 08			jne l_1A9D
  9017
  9018 				; optimize OK (sprites.pas), line = 354
  9019
  9020 3BD7 A9 09			lda #$09
  9021 3BD9 8D CB A7			sta CURLOC
  9022 3BDC 4C 14 3C			jmp a_000C
  9023 3BDF			l_1A9D
  9024 3BDF C9 4C			cmp #$4C
  9025 3BE1 D0 08			jne l_1AA8
  9026
  9027 				; optimize OK (sprites.pas), line = 355
  9028
  9029 3BE3 A9 17			lda #$17
  9030 3BE5 8D CB A7			sta CURLOC
  9031 3BE8 4C 14 3C			jmp a_000C
  9032 3BEB			l_1AA8
  9033 3BEB C9 4D			cmp #$4D
  9034 3BED D0 08			jne l_1AB3
  9035
  9036 				; optimize OK (sprites.pas), line = 356
  9037
  9038 3BEF A9 03			lda #$03
  9039 3BF1 8D CB A7			sta CURLOC
  9040 3BF4 4C 14 3C			jmp a_000C
  9041 3BF7			l_1AB3
  9042 3BF7 C9 4E			cmp #$4E
  9043 3BF9 D0 08			jne l_1ABE
  9044
  9045 				; optimize OK (sprites.pas), line = 357
  9046
  9047 3BFB A9 18			lda #$18
  9048 3BFD 8D CB A7			sta CURLOC
  9049 3C00 4C 14 3C			jmp a_000C
  9050 3C03			l_1ABE
  9051 3C03 C9 2E			cmp #$2E
  9052 3C05 D0 08			jne l_1AC9
  9053
  9054 				; optimize OK (sprites.pas), line = 358
  9055
  9056 3C07 A9 10			lda #$10
  9057 3C09 8D CB A7			sta CURLOC
  9058 3C0C 4C 14 3C			jmp a_000C
  9059 3C0F			l_1AC9
  9060
  9061 				; optimize OK (sprites.pas), line = 360
  9062
  9063 3C0F A9 0F			lda #$0F
  9064 3C11 8D CB A7			sta CURLOC
  9065 3C14			a_000C
  9066 3C14			l_19F6
  9067
  9068 				; optimize OK (sprites.pas), line = 364
  9069
  9070 3C14 AD CB A7			lda CURLOC
  9071 3C17 C9 0F			cmp #$0F
  9072 3C19 D0 12			jne l_1AF6
  9073
  9074 				; optimize OK (sprites.pas), line = 366
  9075
  9076 3C1B A9 10			lda #$10
  9077 3C1D 8D C5 A7			sta RESULT
  9078
  9079 				; optimize OK (sprites.pas), line = 367
  9080
  9081 3C20 A9 00			lda #$00
  9082 3C22 8D BA A4			sta SPRITEOFFSET
  9083
  9084 				; optimize OK (sprites.pas), line = 368
  9085
  9086 3C25 A9 01			lda #$01
  9087 3C27 20 4B 38			jsr PAINTPLAYER
  9088 3C2A 4C 25 3D			jmp @exit
  9089 3C2D			l_1AF6
  9090
  9091 				; optimize OK (sprites.pas), line = 372
  9092
  9093 3C2D AC 8A CD			ldy CURRENTPLAYER
  9094 3C30 B9 50 C9			lda adr.PLSTEPS,y
  9095 3C33 38 E9 01			sub #$01
  9096 3C36 99 50 C9			sta adr.PLSTEPS,y
  9097
  9098 				; optimize OK (sprites.pas), line = 373
  9099
  9100 3C39 AD B0 EA			lda MAPPOS_X
  9101 3C3C 8D B2 EA			sta OLDMAPPOS_X
  9102
  9103 				; optimize OK (sprites.pas), line = 374
  9104
  9105 3C3F AD B1 EA			lda MAPPOS_Y
  9106 3C42 8D B3 EA			sta OLDMAPPOS_Y
  9107
  9108 				; optimize OK (sprites.pas), line = 375
  9109
  9110 3C45 AD AE EA			lda PLAYERPOS_X
  9111 3C48 8D B4 EA			sta OLDPLAYERPOS_X
  9112
  9113 				; optimize OK (sprites.pas), line = 376
  9114
  9115 3C4B AD AF EA			lda PLAYERPOS_Y
  9116 3C4E 8D B5 EA			sta OLDPLAYERPOS_Y
  9117
  9118 				; optimize OK (sprites.pas), line = 377
  9119
  9120 3C51 AD B0 EA			lda MAPPOS_X
  9121 3C54 18 6D C7 A7			add DIR_X
  9122 3C58 8D B0 EA			sta MAPPOS_X
  9123
  9124 				; optimize OK (sprites.pas), line = 378
  9125
  9126 3C5B AD B1 EA			lda MAPPOS_Y
  9127 3C5E 18 6D C8 A7			add DIR_Y
  9128 3C62 8D B1 EA			sta MAPPOS_Y
  9129
  9130 				; optimize OK (sprites.pas), line = 387
  9131
  9132 3C65 A9 0E			lda #$0E
  9133 3C67 8D E1 9D			sta RMT.TRMT.INIT.A
  9134 3C6A AD E4 99			lda MSX
  9135 3C6D AC E5 99			ldy MSX+1
  9136 3C70 20 52 15			jsr RMT.TRMT.INIT
  9137
  9138 				; optimize FAIL ('RMT.TRMT.PLAY', sprites.pas), line = 388
  9139
  9140 3C73 AD E4 99			lda MSX
  9141 3C76 AC E5 99			ldy MSX+1
  9142 3C79 20 8E 15			jsr RMT.TRMT.PLAY
  9143
  9144 				; optimize OK (sprites.pas), line = 389
  9145
  9146 3C7C A9 01			lda #$01
  9147 3C7E 8D 11 CA			sta PLAYMUSIC
  9148
  9149 				; optimize OK (sprites.pas), line = 392
  9150
  9151 3C81 AD C8 A7			lda DIR_Y
  9152 3C84 F0 28			jeq l_1B5C
  9153
  9154 				; optimize OK (sprites.pas), line = 394
  9155
  9156 3C86 A9 00			lda #$00
  9157 3C88 8D C6 A7			sta J
  9158
  9159 3C8B			l_1B66
  9160 				; --- ForToDoCondition
  9161 3C8B AD C6 A7			lda J
  9162 3C8E C9 08			cmp #$08
  9163 3C90 B0 1C			jcs l_1B74
  9164
  9165 				; optimize OK (sprites.pas), line = 397
  9166
  9167 3C92 8D BA A4			sta SPRITEOFFSET
  9168
  9169 				; optimize OK (sprites.pas), line = 398
  9170
  9171 3C95 AD AF EA			lda PLAYERPOS_Y
  9172 3C98 18 6D C8 A7			add DIR_Y
  9173 3C9C 8D AF EA			sta PLAYERPOS_Y
  9174
  9175 				; optimize OK (sprites.pas), line = 399
  9176
  9177 3C9F A9 01			lda #$01
  9178 3CA1 20 4B 38			jsr PAINTPLAYER
  9179
  9180 				; optimize OK (sprites.pas), line = 400
  9181
  9182 3CA4 A9 01			lda #$01
  9183 3CA6 20 5A 27			jsr WAITFRAMES
  9184
  9185 				; --- ForToDoEpilog
  9186 3CA9 EE C6 A7			inc J
  9187 3CAC D0 DD			jne l_1B66
  9188 3CAE			l_1B74
  9189 3CAE			l_1B5C
  9190
  9191 				; optimize OK (sprites.pas), line = 404
  9192
  9193 3CAE AD C7 A7			lda DIR_X
  9194 3CB1 F0 28			jeq l_1BA3
  9195
  9196 				; optimize OK (sprites.pas), line = 406
  9197
  9198 3CB3 A9 00			lda #$00
  9199 3CB5 8D C6 A7			sta J
  9200
  9201 3CB8			l_1BAD
  9202 				; --- ForToDoCondition
  9203 3CB8 AD C6 A7			lda J
  9204 3CBB C9 08			cmp #$08
  9205 3CBD B0 1C			jcs l_1BBB
  9206
  9207 				; optimize OK (sprites.pas), line = 408
  9208
  9209 3CBF 8D BA A4			sta SPRITEOFFSET
  9210
  9211 				; optimize OK (sprites.pas), line = 409
  9212
  9213 3CC2 AD AE EA			lda PLAYERPOS_X
  9214 3CC5 18 6D C7 A7			add DIR_X
  9215 3CC9 8D AE EA			sta PLAYERPOS_X
  9216
  9217 				; optimize OK (sprites.pas), line = 410
  9218
  9219 3CCC A9 00			lda #$00
  9220 3CCE 20 4B 38			jsr PAINTPLAYER
  9221
  9222 				; optimize OK (sprites.pas), line = 411
  9223
  9224 3CD1 A9 01			lda #$01
  9225 3CD3 20 5A 27			jsr WAITFRAMES
  9226
  9227 				; --- ForToDoEpilog
  9228 3CD6 EE C6 A7			inc J
  9229 3CD9 D0 DD			jne l_1BAD
  9230 3CDB			l_1BBB
  9231 3CDB			l_1BA3
  9232
  9233 				; optimize FAIL ('RMT.TRMT.STOP', sprites.pas), line = 419
  9234
  9235 3CDB AD E4 99			lda MSX
  9236 3CDE AC E5 99			ldy MSX+1
  9237 3CE1 20 CE 15			jsr RMT.TRMT.STOP
  9238
  9239 				; optimize OK (sprites.pas), line = 420
  9240
  9241 3CE4 A9 00			lda #$00
  9242 3CE6 8D 11 CA			sta PLAYMUSIC
  9243
  9244 				; optimize OK (sprites.pas), line = 425
  9245
  9246 3CE9 AD CB A7			lda CURLOC
  9247 3CEC C9 10			cmp #$10
  9248 3CEE D0 2F			jne l_1BEF
  9249
  9250 				; optimize FAIL ('ROADBLOCK', sprites.pas), line = 428
  9251
  9252 3CF0 20 9E 37			jsr ROADBLOCK
  9253 3CF3 AD BE A7			lda ROADBLOCK.RESULT
  9254 3CF6 8D C6 A7			sta J
  9255
  9256 				; optimize OK (sprites.pas), line = 429
  9257
  9258 3CF9 F0 21			jeq l_1C06
  9259
  9260 				; optimize FAIL ('GOTCAUGHT', sprites.pas), line = 432
  9261
  9262 3CFB 20 F9 35			jsr GOTCAUGHT
  9263 3CFE AD B9 A7			lda GOTCAUGHT.RESULT
  9264 3D01 8D CC A7			sta R
  9265
  9266 				; optimize OK (sprites.pas), line = 433
  9267
  9268 3D04 D0 0B			jne l_1C1D
  9269
  9270 				; optimize OK (sprites.pas), line = 435
  9271
  9272 3D06 A9 10			lda #$10
  9273 3D08 8D C5 A7			sta RESULT
  9274
  9275 				; optimize FAIL ('ENABLEMAPCONSOLE', sprites.pas), line = 436
  9276
  9277 3D0B 20 CE 27			jsr ENABLEMAPCONSOLE
  9278 3D0E 4C 19 3D			jmp l_1C2C
  9279 3D11			l_1C1D
  9280
  9281 				; optimize OK (sprites.pas), line = 441
  9282
  9283 3D11 A9 11			lda #$11
  9284 3D13 8D C5 A7			sta RESULT
  9285 3D16 4C 25 3D			jmp @exit
  9286 3D19			l_1C2C
  9287 3D19 4C 1F 3D			jmp l_1C39
  9288 3D1C			l_1C06
  9289
  9290 				; optimize FAIL ('ENABLEMAPCONSOLE', sprites.pas), line = 447
  9291
  9292 3D1C 20 CE 27			jsr ENABLEMAPCONSOLE
  9293 3D1F			l_1C39
  9294 3D1F			l_1BEF
  9295
  9296 				; optimize OK (sprites.pas), line = 450
  9297
  9298 3D1F AD CB A7			lda CURLOC
  9299 3D22 8D C5 A7			sta RESULT
  9300 3D25			@exit
  9301
  9302 				; ------------------------------------------------------------
  9303
  9304 = A7C4			CH	= DATAORIGIN+$0BA9
  9305 = A7C5			RESULT	= DATAORIGIN+$0BAA
  9306 = A7C6			J	= DATAORIGIN+$0BAB
  9307 = A7C7			DIR_X	= DATAORIGIN+$0BAC
  9308 = A7C8			DIR_Y	= DATAORIGIN+$0BAD
  9309 = A7C9			LENCID	= DATAORIGIN+$0BAE
  9310 = A7CA			LEAVEMAP	= DATAORIGIN+$0BAF
  9311 = A7CB			CURLOC	= DATAORIGIN+$0BB0
  9312 = A7CC			R	= DATAORIGIN+$0BB1
  9313 = A7CD			@CASETMP_000B	= DATAORIGIN+$0BB2
  9314 = A7CE			@CASETMP_000C	= DATAORIGIN+$0BB3
  9315
  9316 = A7C4			@VarData	= CH
  9317 = 000A			@VarDataSize	= 10
  9318
  9319 3D25 60				rts						; ret
  9320 				.endl
  9321
  9322 3D26			.local	CLEARSPRITES					; PROCEDURE
  9323
  9324 				; optimize OK (sprites.pas), line = 457
  9325
  9326 3D26 A9 00			lda #$00
  9327 3D28 85 88			sta SYSTEM.FILLCHAR.@03018000001810000188000.A
  9328 3D2A A9 BB			lda #$BB
  9329 3D2C 85 89			sta SYSTEM.FILLCHAR.@03018000001810000188000.A+1
  9330 3D2E A9 D0			lda #$D0
  9331 3D30 85 8C			sta SYSTEM.FILLCHAR.@03018000001810000188000.COUNT
  9332 3D32 A9 04			lda #$04
  9333 3D34 85 8D			sta SYSTEM.FILLCHAR.@03018000001810000188000.COUNT+1
  9334 3D36 A9 00			lda #$00
  9335 3D38 85 84			sta SYSTEM.FILLCHAR.@03018000001810000188000.VALUE
  9336 3D3A				.LOCAL +MAIN.SYSTEM.FILLCHAR.@03018000001810000188000
  9337 3D3A				m@INLINE
Macro: MAIN.SYSTEM.FILLCHAR.@03018000001810000188000.M@INLINE [Source: main.a65]
     4 3D3A 20 2C 0F			jsr @fill
Source: main.a65
  9338 					.ENDL
  9339
  9340 3D3D			@exit
  9341 					.ifdef @new
  9342 					lda <@VarData
  9343 					sta :ztmp
  9344 					lda >@VarData
  9345 					ldy #@VarDataSize-1
  9346 					jmp @FreeMem
  9347 					els
  9348 3D3D 60				rts						; ret
  9349 					eif
  9350 				.endl
  9351
  9352 3D3E			.local	ENABLESPRITES					; PROCEDURE
  9353
  9354 				; optimize FAIL ('CLEARSPRITES', sprites.pas), line = 464
  9355
  9356 3D3E 20 26 3D			jsr CLEARSPRITES
  9357
  9358 				; optimize OK (sprites.pas), line = 465
  9359
  9360 3D41 A9 01			lda #$01
  9361 3D43 8D F8 EA			sta SPRITEMOVEDIR
  9362
  9363 				; -------------------  ASM Block 00000152  -------------------
  9364
  9365
  9366 				        // we need to put it into registers directly,  because we do not have
  9367 				        // the OS activated, so we have no routine that copies shadow to registers.
  9368 3D46 A9 3E		        lda #$3e        // single line, both players & missiles
  9369 3D48 8D 2F 02		        sta SDMCTL      // shadow of DMACTL
  9370 3D4B 8D 00 D4		        sta DMACTL
  9371 3D4E A9 01		        lda #1          // players in front of playfields
  9372 3D50 8D 6F 02		        sta $26f        // shadow of PRIOR WHY GPRIOR DOES NOT EXIST?
  9373 3D53 8D 1B D0		        sta $D01B
  9374 3D56 A9 03		        lda #3          // turn on missiles & players
  9375 3D58 8D 1D D0		        sta GRACTL      // no shadow for this one
  9376 3D5B A9 B8		        lda #>PMG_BASE_ADR      // high byte of player storage
  9377 3D5D 8D 07 D4		        sta PMBASE      // missiles = $7b00, player0 = $7c00
  9378
  9379 3D60 A9 00		        lda #$00     // eyes and tie
  9380 3D62 8D 12 D0		        sta PCOLR0
  9381 3D65 A9 F4		        lda #$f4   // face/beard
  9382 3D67 8D 13 D0		        sta PCOLR1
  9383 3D6A A9 74		        lda #$74        // main player color
  9384 3D6C 8D 14 D0		        sta PCOLR2
  9385 3D6F A9 0E		        lda #$0e   //face and shirt
  9386 3D71 8D 15 D0		        sta PCOLR3
  9387 				    
  9388 3D74			@exit
  9389 					.ifdef @new
  9390 					lda <@VarData
  9391 					sta :ztmp
  9392 					lda >@VarData
  9393 					ldy #@VarDataSize-1
  9394 					jmp @FreeMem
  9395 					els
  9396 3D74 60				rts						; ret
  9397 					eif
  9398 				.endl
  9399
  9400 3D75			.local	FIGHT_DISPLAYSTATS				; PROCEDURE
  9401
  9402 				; optimize OK (fight_utils.pas), line = 4
  9403
  9404 3D75 AD E6 E6			lda FP_CURRENTSITE
  9405 3D78 F0 03 4C 0F 3E		jne l_1C69
  9406
  9407 				; optimize OK (fight_utils.pas), line = 6
  9408
  9409 3D7D A9 00			lda #$00
  9410 3D7F A0 13			ldy #$13
  9411 3D81 99 48 DF 88 10 FA		sta:rpl $DF48,y-
  9412
  9413 				; optimize OK (fight_utils.pas), line = 7
  9414
  9415 3D87 A9 00			lda #$00
  9416 3D89 A0 13			ldy #$13
  9417 3D8B 99 70 DF 88 10 FA		sta:rpl $DF70,y-
  9418
  9419 				; optimize OK (fight_utils.pas), line = 8
  9420
  9421 3D91 A9 00			lda #$00
  9422 3D93 A0 13			ldy #$13
  9423 3D95 99 98 DF 88 10 FA		sta:rpl $DF98,y-
  9424
  9425 				; optimize OK (fight_utils.pas), line = 9
  9426
  9427 3D9B A9 00			lda #$00
  9428 3D9D 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
  9429 3DA0 A9 15			lda #$15
  9430 3DA2 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
  9431 3DA5 20 F9 17			jsr B_CRT.CRT_GOTOXY
  9432
  9433 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', fight_utils.pas), line = 10
  9434
  9435 3DA8 E8				inx
  9436 3DA9 AD E5 E6			lda FP_CURRENTPLAYER
  9437 3DAC 0A				asl @
  9438 3DAD A8				tay
  9439 3DAE B9 7B A3			lda adr.FP_NAME,y
  9440 3DB1 95 94			sta :STACKORIGIN,x
  9441 3DB3 B9 7C A3			lda adr.FP_NAME+1,y
  9442 3DB6 95 A4			sta :STACKORIGIN+STACKWIDTH,x
  9443 3DB8 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
  9444
  9445 				; optimize OK (fight_utils.pas), line = 11
  9446
  9447 3DBB A9 00			lda #$00
  9448 3DBD 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
  9449 3DC0 A9 16			lda #$16
  9450 3DC2 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
  9451 3DC5 20 F9 17			jsr B_CRT.CRT_GOTOXY
  9452
  9453 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', fight_utils.pas), line = 12
  9454
  9455 3DC8 E8				inx
  9456 3DC9 A9 65 95 94			mva #$65 :STACKORIGIN,x
  9457 3DCD A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
  9458 3DD1 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
  9459
  9460 				; optimize OK (fight_utils.pas), line = 13
  9461
  9462 3DD4 AC E5 E6			ldy FP_CURRENTPLAYER
  9463 3DD7 B9 85 E4			lda adr.FP_ENERGY,y
  9464 3DDA 20 CB 18			jsr B_CRT.CRT_WRITE.@010180000
  9465
  9466 				; optimize OK (fight_utils.pas), line = 14
  9467
  9468 3DDD A9 00			lda #$00
  9469 3DDF 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
  9470 3DE2 A9 17			lda #$17
  9471 3DE4 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
  9472 3DE7 20 F9 17			jsr B_CRT.CRT_GOTOXY
  9473
  9474 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', fight_utils.pas), line = 15
  9475
  9476 3DEA E8				inx
  9477 3DEB A9 68 95 94			mva #$68 :STACKORIGIN,x
  9478 3DEF A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
  9479 3DF3 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
  9480
  9481 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', fight_utils.pas), line = 16
  9482
  9483 3DF6 E8				inx
  9484 3DF7 AC E5 E6			ldy FP_CURRENTPLAYER
  9485 3DFA B9 45 E4			lda adr.FP_WEAPON,y
  9486 3DFD 0A				asl @
  9487 3DFE A8				tay
  9488 3DFF B9 38 A4			lda adr.WEAPONNAMES,y
  9489 3E02 95 94			sta :STACKORIGIN,x
  9490 3E04 B9 39 A4			lda adr.WEAPONNAMES+1,y
  9491 3E07 95 A4			sta :STACKORIGIN+STACKWIDTH,x
  9492 3E09 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
  9493 3E0C 4C DA 3E			jmp l_1CA2
  9494 3E0F			l_1C69
  9495
  9496 				; optimize OK (fight_utils.pas), line = 20
  9497
  9498 3E0F A9 00			lda #$00
  9499 3E11 A0 13			ldy #$13
  9500 3E13 99 5C DF 88 10 FA		sta:rpl $DF5C,y-
  9501
  9502 				; optimize OK (fight_utils.pas), line = 21
  9503
  9504 3E19 A9 00			lda #$00
  9505 3E1B A0 13			ldy #$13
  9506 3E1D 99 84 DF 88 10 FA		sta:rpl $DF84,y-
  9507
  9508 				; optimize OK (fight_utils.pas), line = 22
  9509
  9510 3E23 A9 00			lda #$00
  9511 3E25 A0 13			ldy #$13
  9512 3E27 99 AC DF 88 10 FA		sta:rpl $DFAC,y-
  9513
  9514 				; optimize FAIL ('B_CRT.CRT_WRITERIGHTALIGNED.@02018986000001000180000', fight_utils.pas), line = 23
  9515
  9516 3E2D E8				inx
  9517 3E2E AD E5 E6			lda FP_CURRENTPLAYER
  9518 3E31 0A				asl @
  9519 3E32 A8				tay
  9520 3E33 B9 7B A3			lda adr.FP_NAME,y
  9521 3E36 85 82			sta :bp2
  9522 3E38 B9 7C A3			lda adr.FP_NAME+1,y
  9523 3E3B 85 83			sta :bp2+1
  9524 3E3D A0 00			ldy #$00
  9525 3E3F B1 82 99 6C A2 C8 + 	mva:rne (:bp2),y B_CRT.CRT_WRITERIGHTALIGNED.@02018986000001000180000.adr.S,y+
  9526 3E47 E8				inx
  9527 3E48 A9 15 95 94			mva #$15 :STACKORIGIN,x
  9528 3E4C 20 7B 1A			jsr B_CRT.CRT_WRITERIGHTALIGNED.@02018986000001000180000
  9529
  9530 				; optimize FAIL ('SYSUTILS.INTTOSTR.@010182000', fight_utils.pas), line = 24
  9531
  9532 3E4F E8				inx
  9533 3E50 AC E5 E6			ldy FP_CURRENTPLAYER
  9534 3E53 B9 85 E4			lda adr.FP_ENERGY,y
  9535 3E56 95 94			sta :STACKORIGIN,x
  9536 3E58 A9 00 95 A4			mva #$00 :STACKORIGIN+STACKWIDTH,x
  9537 3E5C 95 B4			sta :STACKORIGIN+STACKWIDTH*2,x
  9538 3E5E 95 C4			sta :STACKORIGIN+STACKWIDTH*3,x
  9539 3E60 20 4C 16			jsr SYSUTILS.INTTOSTR.@010182000
  9540 3E63 20 44 17			jsr B_CRT.ATASCII2ANTIC.@0101898600000100
  9541 3E66 A9 65			lda #$65
  9542 3E68 8D 2C 9C			sta SYSTEM.CONCAT.@0201898600189860.A
  9543 3E6B A9 0C			lda #$0C
  9544 3E6D 8D 2D 9C			sta SYSTEM.CONCAT.@0201898600189860.A+1
  9545 3E70 AD 93 17			lda B_CRT.ATASCII2ANTIC.@0101898600000100.RESULT
  9546 3E73 8D 2E 9C			sta SYSTEM.CONCAT.@0201898600189860.B
  9547 3E76 AD 94 17			lda B_CRT.ATASCII2ANTIC.@0101898600000100.RESULT+1
  9548 3E79 8D 2F 9C			sta SYSTEM.CONCAT.@0201898600189860.B+1
  9549 3E7C 20 1C 14			jsr SYSTEM.CONCAT.@0201898600189860
  9550 3E7F E8				inx
  9551 3E80 AC 4D 14 84 82 AC + 	mwy SYSTEM.CONCAT.@0201898600189860.RESULT :bp2
  9552 3E8A A0 00			ldy #$00
  9553 3E8C B1 82 99 6C A2 C8 + 	mva:rne (:bp2),y B_CRT.CRT_WRITERIGHTALIGNED.@02018986000001000180000.adr.S,y+
  9554 3E94 E8				inx
  9555 3E95 A9 16 95 94			mva #$16 :STACKORIGIN,x
  9556 3E99 20 7B 1A			jsr B_CRT.CRT_WRITERIGHTALIGNED.@02018986000001000180000
  9557
  9558 				; optimize OK (fight_utils.pas), line = 25
  9559
  9560 3E9C AC E5 E6			ldy FP_CURRENTPLAYER
  9561 3E9F B9 45 E4			lda adr.FP_WEAPON,y
  9562 3EA2 0A				asl @
  9563 3EA3 A8				tay
  9564 3EA4 B9 38 A4			lda adr.WEAPONNAMES,y
  9565 3EA7 8D 2E 9C			sta SYSTEM.CONCAT.@0201898600189860.B
  9566 3EAA B9 39 A4			lda adr.WEAPONNAMES+1,y
  9567 3EAD 8D 2F 9C			sta SYSTEM.CONCAT.@0201898600189860.B+1
  9568 3EB0 A9 68			lda #$68
  9569 3EB2 8D 2C 9C			sta SYSTEM.CONCAT.@0201898600189860.A
  9570 3EB5 A9 0C			lda #$0C
  9571 3EB7 8D 2D 9C			sta SYSTEM.CONCAT.@0201898600189860.A+1
  9572 3EBA 20 1C 14			jsr SYSTEM.CONCAT.@0201898600189860
  9573 3EBD E8				inx
  9574 3EBE AC 4D 14 84 82 AC + 	mwy SYSTEM.CONCAT.@0201898600189860.RESULT :bp2
  9575 3EC8 A0 00			ldy #$00
  9576 3ECA B1 82 99 6C A2 C8 + 	mva:rne (:bp2),y B_CRT.CRT_WRITERIGHTALIGNED.@02018986000001000180000.adr.S,y+
  9577 3ED2 E8				inx
  9578 3ED3 A9 17 95 94			mva #$17 :STACKORIGIN,x
  9579 3ED7 20 7B 1A			jsr B_CRT.CRT_WRITERIGHTALIGNED.@02018986000001000180000
  9580 3EDA			l_1CA2
  9581
  9582 3EDA			@exit
  9583 					.ifdef @new
  9584 					lda <@VarData
  9585 					sta :ztmp
  9586 					lda >@VarData
  9587 					ldy #@VarDataSize-1
  9588 					jmp @FreeMem
  9589 					els
  9590 3EDA 60				rts						; ret
  9591 					eif
  9592 				.endl
  9593
  9594 3EDB			.local	FIGHT_PUTPLAYER					; PROCEDURE
  9595
  9596 				; optimize OK (fight_utils.pas), line = 37
  9597
  9598 3EDB AD D1 A7			lda S
  9599 3EDE 0A				asl @
  9600 3EDF 0A				asl @
  9601 3EE0 0A				asl @
  9602 3EE1 0A				asl @
  9603 3EE2 0A				asl @
  9604 3EE3 0A				asl @
  9605 3EE4 0A				asl @
  9606 3EE5 85 9D			sta :STACKORIGIN+9
  9607 3EE7 AD D2 A7			lda D
  9608 3EEA 0A				asl @
  9609 3EEB 18 65 9D			add :STACKORIGIN+9
  9610 3EEE 8D D1 A7			sta S
  9611
  9612 				; optimize OK (fight_utils.pas), line = 38
  9613
  9614 3EF1 AD D3 A7			lda X
  9615 3EF4 C9 01			cmp #$01
  9616 3EF6 D0 09			jne l_1CF7
  9617
  9618 				; optimize OK (fight_utils.pas), line = 39
  9619
  9620 3EF8 AD D1 A7			lda S
  9621 3EFB 18 69 04			add #$04
  9622 3EFE 8D D1 A7			sta S
  9623 3F01			l_1CF7
  9624
  9625 				; optimize OK (fight_utils.pas), line = 40
  9626
  9627 3F01 AD D1 A7			lda S
  9628 3F04 18 69 02			add #$02
  9629 3F07 85 9D			sta :STACKORIGIN+9
  9630 3F09 A9 DC			lda #$DC
  9631 3F0B 18 6D D0 A7			add P+1
  9632 3F0F 85 81			sta :bp+1
  9633 3F11 AC CF A7			ldy P
  9634 3F14 A5 9D			lda :STACKORIGIN+9
  9635 3F16 91 80			sta (:bp),y
  9636
  9637 				; optimize OK (fight_utils.pas), line = 41
  9638
  9639 3F18 AD D1 A7			lda S
  9640 3F1B 18 69 03			add #$03
  9641 3F1E 85 9D			sta :STACKORIGIN+9
  9642 3F20 A9 01			lda #$01
  9643 3F22 18 6D CF A7			add P
  9644 3F26 A8				tay
  9645 3F27 A9 DC			lda #$DC
  9646 3F29 6D D0 A7			adc P+1
  9647 3F2C 85 81			sta :bp+1
  9648 3F2E A5 9D			lda :STACKORIGIN+9
  9649 3F30 91 80			sta (:bp),y
  9650
  9651 				; optimize OK (fight_utils.pas), line = 42
  9652
  9653 3F32 AD D1 A7			lda S
  9654 3F35 18 69 0A			add #$0A
  9655 3F38 85 9D			sta :STACKORIGIN+9
  9656 3F3A A9 28			lda #$28
  9657 3F3C 18 6D CF A7			add P
  9658 3F40 A8				tay
  9659 3F41 A9 DC			lda #$DC
  9660 3F43 6D D0 A7			adc P+1
  9661 3F46 85 81			sta :bp+1
  9662 3F48 A5 9D			lda :STACKORIGIN+9
  9663 3F4A 91 80			sta (:bp),y
  9664
  9665 				; optimize OK (fight_utils.pas), line = 43
  9666
  9667 3F4C AD D1 A7			lda S
  9668 3F4F 18 69 0B			add #$0B
  9669 3F52 85 9D			sta :STACKORIGIN+9
  9670 3F54 A9 29			lda #$29
  9671 3F56 18 6D CF A7			add P
  9672 3F5A A8				tay
  9673 3F5B A9 DC			lda #$DC
  9674 3F5D 6D D0 A7			adc P+1
  9675 3F60 85 81			sta :bp+1
  9676 3F62 A5 9D			lda :STACKORIGIN+9
  9677 3F64 91 80			sta (:bp),y
  9678
  9679 				; ------------------------------------------------------------
  9680
  9681 = A7CF			P	= DATAORIGIN+$0BB4
  9682 = A7D1			S	= DATAORIGIN+$0BB6
  9683 = A7D2			D	= DATAORIGIN+$0BB7
  9684 = A7D3			X	= DATAORIGIN+$0BB8
  9685
  9686 = A7CF			@VarData	= P
  9687 = 0005			@VarDataSize	= 5
  9688
  9689 3F66			@exit
  9690 					.ifdef @new
  9691 					lda <@VarData
  9692 					sta :ztmp
  9693 					lda >@VarData
  9694 					ldy #@VarDataSize-1
  9695 					jmp @FreeMem
  9696 					els
  9697 3F66 60				rts						; ret
  9698 					eif
  9699 				.endl
  9700
  9701 3F67			.local	FIGHT_DRAWCURRENTPLAYER				; PROCEDURE
  9702
  9703 				; optimize OK (fight_utils.pas), line = 52
  9704
  9705 3F67 AD E6 E6			lda FP_CURRENTSITE
  9706 3F6A 0A				asl @
  9707 3F6B 0A				asl @
  9708 3F6C 0A				asl @
  9709 3F6D 0A				asl @
  9710 3F6E 0A				asl @
  9711 3F6F 0A				asl @
  9712 3F70 0A				asl @
  9713 3F71 85 9D			sta :STACKORIGIN+9
  9714 3F73 AD E6 E6			lda FP_CURRENTSITE
  9715 3F76 0A				asl @
  9716 3F77 18 65 9D			add :STACKORIGIN+9
  9717 3F7A 8D D6 A7			sta S
  9718
  9719 				; optimize OK (fight_utils.pas), line = 53
  9720
  9721 3F7D AC E5 E6			ldy FP_CURRENTPLAYER
  9722 3F80 B9 45 E5			lda adr.FP_SEX,y
  9723 3F83 C9 01			cmp #$01
  9724 3F85 D0 09			jne l_1D75
  9725
  9726 				; optimize OK (fight_utils.pas), line = 54
  9727
  9728 3F87 AD D6 A7			lda S
  9729 3F8A 18 69 04			add #$04
  9730 3F8D 8D D6 A7			sta S
  9731 3F90			l_1D75
  9732
  9733 				; optimize OK (fight_utils.pas), line = 55
  9734
  9735 3F90 AD E5 E6			lda FP_CURRENTPLAYER
  9736 3F93 0A				asl @
  9737 3F94 A8				tay
  9738 3F95 B9 05 E4			lda adr.FP_POSW,y
  9739 3F98 8D D4 A7			sta P
  9740 3F9B B9 06 E4			lda adr.FP_POSW+1,y
  9741 3F9E 8D D5 A7			sta P+1
  9742
  9743 				; optimize OK (fight_utils.pas), line = 56
  9744
  9745 3FA1 AD D6 A7			lda S
  9746 3FA4 18 69 02			add #$02
  9747 3FA7 85 9D			sta :STACKORIGIN+9
  9748 3FA9 A9 DC			lda #$DC
  9749 3FAB 18 6D D5 A7			add P+1
  9750 3FAF 85 81			sta :bp+1
  9751 3FB1 AC D4 A7			ldy P
  9752 3FB4 A5 9D			lda :STACKORIGIN+9
  9753 3FB6 91 80			sta (:bp),y
  9754
  9755 				; optimize OK (fight_utils.pas), line = 57
  9756
  9757 3FB8 AD D6 A7			lda S
  9758 3FBB 18 69 03			add #$03
  9759 3FBE 85 9D			sta :STACKORIGIN+9
  9760 3FC0 A9 01			lda #$01
  9761 3FC2 18 6D D4 A7			add P
  9762 3FC6 A8				tay
  9763 3FC7 A9 DC			lda #$DC
  9764 3FC9 6D D5 A7			adc P+1
  9765 3FCC 85 81			sta :bp+1
  9766 3FCE A5 9D			lda :STACKORIGIN+9
  9767 3FD0 91 80			sta (:bp),y
  9768
  9769 				; optimize OK (fight_utils.pas), line = 58
  9770
  9771 3FD2 AD D6 A7			lda S
  9772 3FD5 18 69 0A			add #$0A
  9773 3FD8 85 9D			sta :STACKORIGIN+9
  9774 3FDA A9 28			lda #$28
  9775 3FDC 18 6D D4 A7			add P
  9776 3FE0 A8				tay
  9777 3FE1 A9 DC			lda #$DC
  9778 3FE3 6D D5 A7			adc P+1
  9779 3FE6 85 81			sta :bp+1
  9780 3FE8 A5 9D			lda :STACKORIGIN+9
  9781 3FEA 91 80			sta (:bp),y
  9782
  9783 				; optimize OK (fight_utils.pas), line = 59
  9784
  9785 3FEC AD D6 A7			lda S
  9786 3FEF 18 69 0B			add #$0B
  9787 3FF2 85 9D			sta :STACKORIGIN+9
  9788 3FF4 A9 29			lda #$29
  9789 3FF6 18 6D D4 A7			add P
  9790 3FFA A8				tay
  9791 3FFB A9 DC			lda #$DC
  9792 3FFD 6D D5 A7			adc P+1
  9793 4000 85 81			sta :bp+1
  9794 4002 A5 9D			lda :STACKORIGIN+9
  9795 4004 91 80			sta (:bp),y
  9796
  9797 				; ------------------------------------------------------------
  9798
  9799 = A7D4			P	= DATAORIGIN+$0BB9
  9800 = A7D6			S	= DATAORIGIN+$0BBB
  9801
  9802 = A7D4			@VarData	= P
  9803 = 0003			@VarDataSize	= 3
  9804
  9805 4006			@exit
  9806 					.ifdef @new
  9807 					lda <@VarData
  9808 					sta :ztmp
  9809 					lda >@VarData
  9810 					ldy #@VarDataSize-1
  9811 					jmp @FreeMem
  9812 					els
  9813 4006 60				rts						; ret
  9814 					eif
  9815 				.endl
  9816
  9817 4007			.local	FIGHT_CLEARPLAYER				; PROCEDURE
  9818
  9819 				; optimize OK (fight_utils.pas), line = 65
  9820
  9821 4007 A9 DC			lda #$DC
  9822 4009 18 6D D8 A7			add P+1
  9823 400D 85 81			sta :bp+1
  9824 400F AC D7 A7			ldy P
  9825 4012 A9 00			lda #$00
  9826 4014 91 80			sta (:bp),y
  9827
  9828 				; optimize OK (fight_utils.pas), line = 66
  9829
  9830 4016 A9 01			lda #$01
  9831 4018 18 6D D7 A7			add P
  9832 401C A8				tay
  9833 401D A9 DC			lda #$DC
  9834 401F 6D D8 A7			adc P+1
  9835 4022 85 81			sta :bp+1
  9836 4024 A9 00			lda #$00
  9837 4026 91 80			sta (:bp),y
  9838
  9839 				; optimize OK (fight_utils.pas), line = 67
  9840
  9841 4028 A9 28			lda #$28
  9842 402A 18 6D D7 A7			add P
  9843 402E A8				tay
  9844 402F A9 DC			lda #$DC
  9845 4031 6D D8 A7			adc P+1
  9846 4034 85 81			sta :bp+1
  9847 4036 A9 00			lda #$00
  9848 4038 91 80			sta (:bp),y
  9849
  9850 				; optimize OK (fight_utils.pas), line = 68
  9851
  9852 403A A9 29			lda #$29
  9853 403C 18 6D D7 A7			add P
  9854 4040 A8				tay
  9855 4041 A9 DC			lda #$DC
  9856 4043 6D D8 A7			adc P+1
  9857 4046 85 81			sta :bp+1
  9858 4048 A9 00			lda #$00
  9859 404A 91 80			sta (:bp),y
  9860
  9861 				; ------------------------------------------------------------
  9862
  9863 = A7D7			P	= DATAORIGIN+$0BBC
  9864
  9865 = A7D7			@VarData	= P
  9866 = 0002			@VarDataSize	= 2
  9867
  9868 404C			@exit
  9869 					.ifdef @new
  9870 					lda <@VarData
  9871 					sta :ztmp
  9872 					lda >@VarData
  9873 					ldy #@VarDataSize-1
  9874 					jmp @FreeMem
  9875 					els
  9876 404C 60				rts						; ret
  9877 					eif
  9878 				.endl
  9879
  9880 404D			.local	FIGHT_CLEARCURRENTPLAYER			; PROCEDURE
  9881
  9882 				; optimize OK (fight_utils.pas), line = 75
  9883
  9884 404D AD E5 E6			lda FP_CURRENTPLAYER
  9885 4050 0A				asl @
  9886 4051 A8				tay
  9887 4052 B9 05 E4			lda adr.FP_POSW,y
  9888 4055 8D D9 A7			sta P
  9889 4058 B9 06 E4			lda adr.FP_POSW+1,y
  9890 405B 8D DA A7			sta P+1
  9891
  9892 				; optimize OK (fight_utils.pas), line = 76
  9893
  9894 405E A9 DC			lda #$DC
  9895 4060 18 6D DA A7			add P+1
  9896 4064 85 81			sta :bp+1
  9897 4066 AC D9 A7			ldy P
  9898 4069 A9 00			lda #$00
  9899 406B 91 80			sta (:bp),y
  9900
  9901 				; optimize OK (fight_utils.pas), line = 77
  9902
  9903 406D A9 01			lda #$01
  9904 406F 18 6D D9 A7			add P
  9905 4073 A8				tay
  9906 4074 A9 DC			lda #$DC
  9907 4076 6D DA A7			adc P+1
  9908 4079 85 81			sta :bp+1
  9909 407B A9 00			lda #$00
  9910 407D 91 80			sta (:bp),y
  9911
  9912 				; optimize OK (fight_utils.pas), line = 78
  9913
  9914 407F A9 28			lda #$28
  9915 4081 18 6D D9 A7			add P
  9916 4085 A8				tay
  9917 4086 A9 DC			lda #$DC
  9918 4088 6D DA A7			adc P+1
  9919 408B 85 81			sta :bp+1
  9920 408D A9 00			lda #$00
  9921 408F 91 80			sta (:bp),y
  9922
  9923 				; optimize OK (fight_utils.pas), line = 79
  9924
  9925 4091 A9 29			lda #$29
  9926 4093 18 6D D9 A7			add P
  9927 4097 A8				tay
  9928 4098 A9 DC			lda #$DC
  9929 409A 6D DA A7			adc P+1
  9930 409D 85 81			sta :bp+1
  9931 409F A9 00			lda #$00
  9932 40A1 91 80			sta (:bp),y
  9933
  9934 				; ------------------------------------------------------------
  9935
  9936 = A7D9			P	= DATAORIGIN+$0BBE
  9937
  9938 = A7D9			@VarData	= P
  9939 = 0002			@VarDataSize	= 2
  9940
  9941 40A3			@exit
  9942 					.ifdef @new
  9943 					lda <@VarData
  9944 					sta :ztmp
  9945 					lda >@VarData
  9946 					ldy #@VarDataSize-1
  9947 					jmp @FreeMem
  9948 					els
  9949 40A3 60				rts						; ret
  9950 					eif
  9951 				.endl
  9952
  9953 40A4			.local	FIGHT_DRAWPLAYERS				; PROCEDURE
  9954
  9955 				; optimize OK (fight_utils.pas), line = 88
  9956
  9957 40A4 A9 00			lda #$00
  9958 40A6 8D DC A7			sta S
  9959
  9960 40A9			l_1E43
  9961 				; --- ForToDoCondition
  9962 40A9 AD DC A7			lda S
  9963 40AC C9 02			cmp #$02
  9964 40AE B0 59			jcs l_1E51
  9965
  9966 				; optimize OK (fight_utils.pas), line = 89
  9967
  9968 40B0 A9 00			lda #$00
  9969 40B2 8D DB A7			sta I
  9970 40B5 AC DC A7			ldy S
  9971 40B8 B9 03 E4			lda adr.FP_N,y
  9972 40BB 38 E9 01			sub #$01
  9973 40BE 8D C2 40			sta @FORTMP_1E60_0
  9974
  9975 40C1			l_1E63
  9976 				; --- ForToDoCondition
  9977 40C1 A9 00			lda @FORTMP_1E60_0::#$00
  9978 40C3 CD DB A7			cmp I
  9979 40C6 90 3C			jcc l_1E71
  9980
  9981 				; optimize OK (fight_utils.pas), line = 91
  9982
  9983 40C8 AD DC A7			lda S
  9984 40CB 0A				asl @
  9985 40CC 0A				asl @
  9986 40CD 0A				asl @
  9987 40CE 0A				asl @
  9988 40CF 18 6D DB A7			add I
  9989 40D3 8D DD A7			sta Q
  9990
  9991 				; optimize OK (fight_utils.pas), line = 92
  9992
  9993 40D6 A8				tay
  9994 40D7 B9 85 E4			lda adr.FP_ENERGY,y
  9995 40DA F0 23			jeq l_1E96
  9996
  9997 				; optimize OK (fight_utils.pas), line = 94
  9998
  9999 40DC B9 45 E5			lda adr.FP_SEX,y
 10000 40DF 8D D3 A7			sta FIGHT_PUTPLAYER.X
 10001 40E2 AD DD A7			lda Q
 10002 40E5 0A				asl @
 10003 40E6 A8				tay
 10004 40E7 B9 05 E4			lda adr.FP_POSW,y
 10005 40EA 8D CF A7			sta FIGHT_PUTPLAYER.P
 10006 40ED B9 06 E4			lda adr.FP_POSW+1,y
 10007 40F0 8D D0 A7			sta FIGHT_PUTPLAYER.P+1
 10008 40F3 AD DC A7			lda S
 10009 40F6 8D D1 A7			sta FIGHT_PUTPLAYER.S
 10010 40F9 8D D2 A7			sta FIGHT_PUTPLAYER.D
 10011 40FC 20 DB 3E			jsr FIGHT_PUTPLAYER
 10012 40FF			l_1E96
 10013
 10014 				; --- ForToDoEpilog
 10015 40FF EE DB A7			inc I
 10016 4102 D0 BD			jne l_1E63
 10017 4104			l_1E71
 10018
 10019 				; --- ForToDoEpilog
 10020 4104 EE DC A7			inc S
 10021 4107 D0 A0			jne l_1E43
 10022 4109			l_1E51
 10023
 10024 				; ------------------------------------------------------------
 10025
 10026 = A7DB			I	= DATAORIGIN+$0BC0
 10027 = A7DC			S	= DATAORIGIN+$0BC1
 10028 = A7DD			Q	= DATAORIGIN+$0BC2
 10029
 10030 = A7DB			@VarData	= I
 10031 = 0003			@VarDataSize	= 3
 10032
 10033 4109			@exit
 10034 					.ifdef @new
 10035 					lda <@VarData
 10036 					sta :ztmp
 10037 					lda >@VarData
 10038 					ldy #@VarDataSize-1
 10039 					jmp @FreeMem
 10040 					els
 10041 4109 60				rts						; ret
 10042 					eif
 10043 				.endl
 10044
 10045 410A			.local	CHECKHIT					; FUNCTION
 10046
 10047 				; optimize OK (fight_utils.pas), line = 106
 10048
 10049 410A A9 00			lda #$00
 10050 410C 8D E4 A7			sta S
 10051
 10052 410F			l_1EC2
 10053 				; --- ForToDoCondition
 10054 410F AD E4 A7			lda S
 10055 4112 C9 02			cmp #$02
 10056 4114 90 03 4C E0 41		jcs l_1ED0
 10057
 10058 				; optimize OK (fight_utils.pas), line = 107
 10059
 10060 4119 A9 00			lda #$00
 10061 411B 8D E5 A7			sta I
 10062 411E AC E4 A7			ldy S
 10063 4121 B9 03 E4			lda adr.FP_N,y
 10064 4124 38 E9 01			sub #$01
 10065 4127 8D 2B 41			sta @FORTMP_1EDF_0
 10066
 10067 412A			l_1EE2
 10068 				; --- ForToDoCondition
 10069 412A A9 00			lda @FORTMP_1EDF_0::#$00
 10070 412C CD E5 A7			cmp I
 10071 412F B0 03 4C D8 41		jcc l_1EF0
 10072
 10073 				; optimize OK (fight_utils.pas), line = 110
 10074
 10075 4134 AD E4 A7			lda S
 10076 4137 0A				asl @
 10077 4138 0A				asl @
 10078 4139 0A				asl @
 10079 413A 0A				asl @
 10080 413B 18 6D E5 A7			add I
 10081 413F A8				tay
 10082 4140 B9 85 E4			lda adr.FP_ENERGY,y
 10083 4143 D0 03			jne l_1F0F
 10084 4145 4C D0 41			jmp c_1EE2
 10085 4148			l_1F0F
 10086
 10087 				; optimize OK (fight_utils.pas), line = 112
 10088
 10089 4148 AD E4 A7			lda S
 10090 414B 0A				asl @
 10091 414C 0A				asl @
 10092 414D 0A				asl @
 10093 414E 0A				asl @
 10094 414F 18 6D E5 A7			add I
 10095 4153 0A				asl @
 10096 4154 A8				tay
 10097 4155 B9 05 E4			lda adr.FP_POSW,y
 10098 4158 8D E2 A7			sta Z
 10099 415B A9 DC			lda #$DC
 10100 415D 18 79 06 E4			add adr.FP_POSW+1,y
 10101 4161 8D E3 A7			sta Z+1
 10102
 10103 				; optimize OK (fight_utils.pas), line = 113
 10104
 10105 4164 AD E4 A7			lda S
 10106 4167 0A				asl @
 10107 4168 0A				asl @
 10108 4169 0A				asl @
 10109 416A 0A				asl @
 10110 416B 18 6D E5 A7			add I
 10111 416F 8D E1 A7			sta RESULT
 10112
 10113 				; optimize OK (fight_utils.pas), line = 114
 10114
 10115 4172 AD E0 A7			lda K+1
 10116 4175 CD E3 A7			cmp Z+1
 10117 4178 D0 06			bne @+
 10118 417A AD DF A7			lda K
 10119 417D CD E2 A7			cmp Z
 10120 				@
 10121 4180 F0 63			jeq @exit
 10122 4182			l_1F4A
 10123
 10124 				; optimize OK (fight_utils.pas), line = 115
 10125
 10126 4182 EE E2 A7			inc Z
 10127 4185 D0 03			sne
 10128 4187 EE E3 A7			inc Z+1
 10129
 10130 				; optimize OK (fight_utils.pas), line = 116
 10131
 10132 418A AD E0 A7			lda K+1
 10133 418D CD E3 A7			cmp Z+1
 10134 4190 D0 06			bne @+
 10135 4192 AD DF A7			lda K
 10136 4195 CD E2 A7			cmp Z
 10137 				@
 10138 4198 F0 4B			jeq @exit
 10139 419A			l_1F68
 10140
 10141 				; optimize OK (fight_utils.pas), line = 117
 10142
 10143 419A AD E2 A7			lda Z
 10144 419D 18 69 27			add #$27
 10145 41A0 8D E2 A7			sta Z
 10146 41A3 90 03			scc
 10147 41A5 EE E3 A7			inc Z+1
 10148
 10149 				; optimize OK (fight_utils.pas), line = 118
 10150
 10151 41A8 AD E0 A7			lda K+1
 10152 41AB CD E3 A7			cmp Z+1
 10153 41AE D0 06			bne @+
 10154 41B0 AD DF A7			lda K
 10155 41B3 CD E2 A7			cmp Z
 10156 				@
 10157 41B6 F0 2D			jeq @exit
 10158 41B8			l_1F86
 10159
 10160 				; optimize OK (fight_utils.pas), line = 119
 10161
 10162 41B8 EE E2 A7			inc Z
 10163 41BB D0 03			sne
 10164 41BD EE E3 A7			inc Z+1
 10165
 10166 				; optimize OK (fight_utils.pas), line = 120
 10167
 10168 41C0 AD E0 A7			lda K+1
 10169 41C3 CD E3 A7			cmp Z+1
 10170 41C6 D0 06			bne @+
 10171 41C8 AD DF A7			lda K
 10172 41CB CD E2 A7			cmp Z
 10173 				@
 10174 41CE F0 15			jeq @exit
 10175 41D0			l_1FA4
 10176
 10177 				; --- ForToDoEpilog
 10178 41D0			c_1EE2
 10179 41D0 EE E5 A7			inc I
 10180 41D3 F0 03 4C 2A 41		jne l_1EE2
 10181 41D8			l_1EF0
 10182
 10183 				; --- ForToDoEpilog
 10184 41D8 EE E4 A7			inc S
 10185 41DB F0 03 4C 0F 41		jne l_1EC2
 10186 41E0			l_1ED0
 10187
 10188 				; optimize OK (fight_utils.pas), line = 122
 10189
 10190 41E0 A9 80			lda #$80
 10191 41E2 8D E1 A7			sta RESULT
 10192 41E5			@exit
 10193
 10194 				; ------------------------------------------------------------
 10195
 10196 = A7DF			K	= DATAORIGIN+$0BC4
 10197 = A7E1			RESULT	= DATAORIGIN+$0BC6
 10198 = A7E2			Z	= DATAORIGIN+$0BC7
 10199 = A7E4			S	= DATAORIGIN+$0BC9
 10200 = A7E5			I	= DATAORIGIN+$0BCA
 10201
 10202 = A7DF			@VarData	= K
 10203 = 0006			@VarDataSize	= 6
 10204
 10205 41E5 60				rts						; ret
 10206 				.endl
 10207
 10208 41E6			.local	FIGHT_SETSHOOTSTART				; PROCEDURE
 10209
 10210 				; optimize OK (fight_utils.pas), line = 129
 10211
 10212 41E6 AD E9 E6			lda SHOOT_DIFF
 10213 41E9 8D E7 A7			sta @CASETMP_000D
 10214 41EC C9 FF			cmp #$FF
 10215 41EE D0 05			jne l_1FC4
 10216 				@
 10217
 10218 				; optimize OK (fight_utils.pas), line = 130
 10219
 10220 41F0 A9 28			lda #$28
 10221 41F2 4C FB 41			jmp s_1FD3
 10222 41F5			l_1FC4
 10223 41F5 C9 01			cmp #$01
 10224 41F7 D0 0D			jne l_1FCF
 10225
 10226 				; optimize OK (fight_utils.pas), line = 131
 10227
 10228 41F9 A9 29			lda #$29
 10229 41FB			s_1FD3
 10230 41FB 8D EA E6			sta SHOOT_START
 10231 41FE A9 00			lda #$00
 10232 4200 8D EB E6			sta SHOOT_START+1
 10233 4203 4C 23 42			jmp a_000D
 10234 4206			l_1FCF
 10235 4206 C9 D8			cmp #$D8
 10236 4208 D0 0B			jne l_1FDA
 10237
 10238 				; optimize OK (fight_utils.pas), line = 132
 10239
 10240 420A A9 00			lda #$00
 10241 420C 8D EA E6			sta SHOOT_START
 10242 420F 8D EB E6			sta SHOOT_START+1
 10243 4212 4C 23 42			jmp a_000D
 10244 4215			l_1FDA
 10245 4215 C9 28			cmp #$28
 10246 4217 D0 0A			jne l_1FE5
 10247
 10248 				; optimize OK (fight_utils.pas), line = 133
 10249
 10250 4219 A9 28			lda #$28
 10251 421B 8D EA E6			sta SHOOT_START
 10252 421E A9 00			lda #$00
 10253 4220 8D EB E6			sta SHOOT_START+1
 10254 4223			l_1FE5
 10255 4223			a_000D
 10256
 10257 				; ------------------------------------------------------------
 10258
 10259 = A7E7			@CASETMP_000D	= DATAORIGIN+$0BCC
 10260
 10261 = A7E7			@VarData	= @CASETMP_000D
 10262 = 0001			@VarDataSize	= 1
 10263
 10264 4223			@exit
 10265 					.ifdef @new
 10266 					lda <@VarData
 10267 					sta :ztmp
 10268 					lda >@VarData
 10269 					ldy #@VarDataSize-1
 10270 					jmp @FreeMem
 10271 					els
 10272 4223 60				rts						; ret
 10273 					eif
 10274 				.endl
 10275
 10276 4224			.local	FIGHT_SHOOT					; FUNCTION
 10277
 10278 				; optimize FAIL ('FIGHT_SETSHOOTSTART', fight_utils.pas), line = 147
 10279
 10280 4224 20 E6 41			jsr FIGHT_SETSHOOTSTART
 10281
 10282 				; optimize OK (fight_utils.pas), line = 148
 10283
 10284 4227 AD E5 E6			lda FP_CURRENTPLAYER
 10285 422A 0A				asl @
 10286 422B A8				tay
 10287 422C B9 05 E4			lda adr.FP_POSW,y
 10288 422F 8D EF E6			sta F_CURPOS
 10289 4232 A9 DC			lda #$DC
 10290 4234 18 79 06 E4			add adr.FP_POSW+1,y
 10291 4238 8D F0 E6			sta F_CURPOS+1
 10292
 10293 				; optimize OK (fight_utils.pas), line = 149
 10294
 10295 423B AC E5 E6			ldy FP_CURRENTPLAYER
 10296 423E B9 45 E4			lda adr.FP_WEAPON,y
 10297 4241 8D EB A7			sta E
 10298
 10299 				; optimize OK (fight_utils.pas), line = 150
 10300
 10301 4244 A8				tay
 10302 4245 B9 2A E7			lda adr.WEAPONREACH,y
 10303 4248 8D EC A7			sta R
 10304
 10305 				; optimize OK (fight_utils.pas), line = 151
 10306
 10307 424B A9 00			lda #$00
 10308 424D 8D F1 A7			sta HITPLAYER
 10309
 10310 				; optimize OK (fight_utils.pas), line = 152
 10311
 10312 4250 8D ED A7			sta V
 10313
 10314 4253			l_201F
 10315 				; --- ForToDoCondition
 10316 4253 AD ED A7			lda V
 10317 4256 C9 29			cmp #$29
 10318 4258 90 03 4C DB 44		jcs l_202D
 10319
 10320 				; optimize OK (fight_utils.pas), line = 155
 10321
 10322 425D CD EC A7			cmp R
 10323 4260 D0 03 4C 01 45		jeq @exit
 10324 4265			l_2041
 10325
 10326 				; optimize OK (fight_utils.pas), line = 158
 10327
 10328 4265 AD EF E6			lda F_CURPOS
 10329 4268 18 6D EA E6			add SHOOT_START
 10330 426C 85 9D			sta :STACKORIGIN+9
 10331 426E AD F0 E6			lda F_CURPOS+1
 10332 4271 6D EB E6			adc SHOOT_START+1
 10333 4274 85 AD			sta :STACKORIGIN+STACKWIDTH+9
 10334 4276 A0 00			ldy #$00
 10335 4278 AD E9 E6			lda SHOOT_DIFF
 10336 427B 10 01			spl
 10337 427D 88				dey
 10338 427E 18 65 9D			add :STACKORIGIN+9
 10339 4281 8D E9 A7			sta K
 10340 4284 98				tya
 10341 4285 65 AD			adc :STACKORIGIN+STACKWIDTH+9
 10342 4287 8D EA A7			sta K+1
 10343
 10344 				; optimize OK (fight_utils.pas), line = 159
 10345
 10346 428A 85 81			sta :bp+1
 10347 428C AC E9 A7			ldy K
 10348 428F B1 80			lda (:bp),y
 10349 4291 8D EE A7			sta W
 10350
 10351 				; optimize OK (fight_utils.pas), line = 160
 10352
 10353 4294 AD E9 E6			lda SHOOT_DIFF
 10354 4297 C9 01			cmp #$01
 10355 4299 F0 04			jeq l_2078x
 10356 429B C9 FF			cmp #$FF
 10357 429D D0 0D			jne l_2078
 10358 429F			l_2078x
 10359
 10360 				; optimize OK (fight_utils.pas), line = 161
 10361
 10362 429F AC EA A7			ldy K+1
 10363 42A2 84 81			sty :bp+1
 10364 42A4 AC E9 A7			ldy K
 10365 42A7 A9 12			lda #$12
 10366 42A9 4C B6 42			jmp l_2086
 10367 42AC			l_2078
 10368
 10369 				; optimize OK (fight_utils.pas), line = 163
 10370
 10371 42AC AC EA A7			ldy K+1
 10372 42AF 84 81			sty :bp+1
 10373 42B1 AC E9 A7			ldy K
 10374 42B4 A9 13			lda #$13
 10375 42B6			l_2086
 10376 42B6 91 80			sta (:bp),y
 10377
 10378 				; optimize OK (fight_utils.pas), line = 164
 10379
 10380 42B8 A9 03			lda #$03
 10381 42BA 20 5A 27			jsr WAITFRAMES
 10382
 10383 				; optimize OK (fight_utils.pas), line = 165
 10384
 10385 42BD AD EF E6			lda F_CURPOS
 10386 42C0 18 6D EA E6			add SHOOT_START
 10387 42C4 85 9E			sta :STACKORIGIN+10
 10388 42C6 AD F0 E6			lda F_CURPOS+1
 10389 42C9 6D EB E6			adc SHOOT_START+1
 10390 42CC 85 AE			sta :STACKORIGIN+STACKWIDTH+10
 10391 42CE A0 00			ldy #$00
 10392 42D0 AD E9 E6			lda SHOOT_DIFF
 10393 42D3 10 01			spl
 10394 42D5 88				dey
 10395 42D6 84 AF			sty :STACKORIGIN+STACKWIDTH+11
 10396 42D8 18 65 9E			add :STACKORIGIN+10
 10397 42DB A8				tay
 10398 42DC A5 AE			lda :STACKORIGIN+STACKWIDTH+10
 10399 42DE 65 AF			adc :STACKORIGIN+STACKWIDTH+11
 10400 42E0 85 81			sta :bp+1
 10401 42E2 AD EE A7			lda W
 10402 42E5 91 80			sta (:bp),y
 10403
 10404 				; optimize OK (fight_utils.pas), line = 167
 10405
 10406 42E7 AD EE A7			lda W
 10407 42EA D0 19			jne l_20AF
 10408
 10409 				; optimize OK (fight_utils.pas), line = 169
 10410
 10411 42EC A0 00			ldy #$00
 10412 42EE AD E9 E6			lda SHOOT_DIFF
 10413 42F1 10 01			spl
 10414 42F3 88				dey
 10415 42F4 18 6D EA E6			add SHOOT_START
 10416 42F8 8D EA E6			sta SHOOT_START
 10417 42FB 98				tya
 10418 42FC 6D EB E6			adc SHOOT_START+1
 10419 42FF 8D EB E6			sta SHOOT_START+1
 10420 4302 4C D3 44			jmp c_201F
 10421 4305			l_20AF
 10422
 10423 				; optimize OK (fight_utils.pas), line = 172
 10424
 10425 4305 AD EE A7			lda W
 10426 4308 C9 01			cmp #$01
 10427 430A D0 03			jne l_20CF
 10428 430C 4C DB 44			jmp b_201F
 10429 430F			l_20CF
 10430
 10431 				; optimize OK (fight_utils.pas), line = 175
 10432
 10433 430F AD E9 A7			lda K
 10434 4312 8D DF A7			sta CHECKHIT.K
 10435 4315 AD EA A7			lda K+1
 10436 4318 8D E0 A7			sta CHECKHIT.K+1
 10437 431B 20 0A 41			jsr CHECKHIT
 10438 431E AD E1 A7			lda CHECKHIT.RESULT
 10439 4321 8D EF A7			sta T
 10440
 10441 				; optimize OK (fight_utils.pas), line = 176
 10442
 10443 4324 10 03 4C D3 44		jmi l_20EA
 10444
 10445 				; optimize OK (fight_utils.pas), line = 183
 10446
 10447 4329 AC EB A7			ldy E
 10448 432C B9 45 E7			lda adr.WEAPONSOUND,y
 10449 432F 8D E1 9D			sta RMT.TRMT.INIT.A
 10450 4332 AD E4 99			lda MSX
 10451 4335 AC E5 99			ldy MSX+1
 10452 4338 20 52 15			jsr RMT.TRMT.INIT
 10453
 10454 				; optimize FAIL ('RMT.TRMT.PLAY', fight_utils.pas), line = 184
 10455
 10456 433B AD E4 99			lda MSX
 10457 433E AC E5 99			ldy MSX+1
 10458 4341 20 8E 15			jsr RMT.TRMT.PLAY
 10459
 10460 				; optimize OK (fight_utils.pas), line = 185
 10461
 10462 4344 A9 01			lda #$01
 10463 4346 8D 11 CA			sta PLAYMUSIC
 10464
 10465 				; optimize OK (fight_utils.pas), line = 187
 10466
 10467 4349 A9 14			lda #$14
 10468 434B 20 5A 27			jsr WAITFRAMES
 10469
 10470 				; optimize OK (fight_utils.pas), line = 192
 10471
 10472 434E A9 08			lda #$08
 10473 4350 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 10474 4353 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 10475 4356 8D F2 A7			sta T1
 10476
 10477 				; optimize OK (fight_utils.pas), line = 193
 10478
 10479 4359 AC EB A7			ldy E
 10480 435C B9 33 E7			lda adr.WEAPONPRECISION,y
 10481 435F 0A				asl @
 10482 4360 8D F3 A7			sta T2
 10483
 10484 				; optimize OK (fight_utils.pas), line = 194
 10485
 10486 4363 A9 0C			lda #$0C
 10487 4365 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 10488 4368 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 10489 436B 8D F4 A7			sta T3
 10490
 10491 				; optimize OK (fight_utils.pas), line = 195
 10492
 10493 436E AC E5 E6			ldy FP_CURRENTPLAYER
 10494 4371 B9 C5 E4			lda adr.FP_STRENGTH,y
 10495 4374 4A				lsr @
 10496 4375 4A				lsr @
 10497 4376 4A				lsr @
 10498 4377 18 69 01			add #$01
 10499 437A 8D F5 A7			sta T4
 10500
 10501 				; optimize OK (fight_utils.pas), line = 196
 10502
 10503 437D AD F3 A7			lda T2
 10504 4380 CD F2 A7			cmp T1
 10505 4383 B0 0B			jcs l_2143
 10506 4385 AD F5 A7			lda T4
 10507 4388 CD F4 A7			cmp T3
 10508 438B B0 03			jcs l_2143
 10509 438D 4C DB 44			jmp b_201F
 10510 4390			l_2143
 10511
 10512 				; optimize OK (fight_utils.pas), line = 198
 10513
 10514 4390 AC EB A7			ldy E
 10515 4393 B9 3C E7			lda adr.WEAPONEFFECT,y
 10516 4396 85 9D			sta :STACKORIGIN+9
 10517 4398 AC E5 E6			ldy FP_CURRENTPLAYER
 10518 439B B9 05 E5			lda adr.FP_BRUTALITY,y
 10519 439E 4A				lsr @
 10520 439F 4A				lsr @
 10521 43A0 4A				lsr @
 10522 43A1 18 65 9D			add :STACKORIGIN+9
 10523 43A4 8D F0 A7			sta HIT
 10524
 10525 				; optimize FAIL ('RMT.TRMT.STOP', fight_utils.pas), line = 204
 10526
 10527 43A7 AD E4 99			lda MSX
 10528 43AA AC E5 99			ldy MSX+1
 10529 43AD 20 CE 15			jsr RMT.TRMT.STOP
 10530
 10531 				; optimize OK (fight_utils.pas), line = 205
 10532
 10533 43B0 A9 00			lda #$00
 10534 43B2 8D 11 CA			sta PLAYMUSIC
 10535
 10536 				; optimize OK (fight_utils.pas), line = 210
 10537
 10538 43B5 AD F0 A7			lda HIT
 10539 43B8 D0 03			jne l_2173
 10540 43BA 4C DB 44			jmp b_201F
 10541 43BD			l_2173
 10542
 10543 				; optimize OK (fight_utils.pas), line = 212
 10544
 10545 43BD A9 00			lda #$00
 10546 43BF 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
 10547 43C2 A9 14			lda #$14
 10548 43C4 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
 10549 43C7 20 F9 17			jsr B_CRT.CRT_GOTOXY
 10550
 10551 				; optimize OK (fight_utils.pas), line = 213
 10552
 10553 43CA AD E6 E6			lda FP_CURRENTSITE
 10554 43CD D0 0E			jne l_218B
 10555
 10556 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', fight_utils.pas), line = 214
 10557
 10558 43CF E8				inx
 10559 43D0 AD C6 9B 95 94		mva FIGHT_STRING_1 :STACKORIGIN,x
 10560 43D5 AD C7 9B 95 A4		mva FIGHT_STRING_1+1 :STACKORIGIN+STACKWIDTH,x
 10561 43DA 4C E8 43			jmp l_2198
 10562 43DD			l_218B
 10563
 10564 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', fight_utils.pas), line = 216
 10565
 10566 43DD E8				inx
 10567 43DE AD F0 9B 95 94		mva FIGHT_STRING_7 :STACKORIGIN,x
 10568 43E3 AD F1 9B 95 A4		mva FIGHT_STRING_7+1 :STACKORIGIN+STACKWIDTH,x
 10569 43E8			l_2198
 10570 43E8 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 10571
 10572 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', fight_utils.pas), line = 217
 10573
 10574 43EB E8				inx
 10575 43EC AD EF A7			lda T
 10576 43EF 0A				asl @
 10577 43F0 A8				tay
 10578 43F1 B9 7B A3			lda adr.FP_NAME,y
 10579 43F4 95 94			sta :STACKORIGIN,x
 10580 43F6 B9 7C A3			lda adr.FP_NAME+1,y
 10581 43F9 95 A4			sta :STACKORIGIN+STACKWIDTH,x
 10582 43FB 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 10583
 10584 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', fight_utils.pas), line = 219
 10585
 10586 43FE E8				inx
 10587 43FF AD C8 9B 95 94		mva FIGHT_STRING_2 :STACKORIGIN,x
 10588 4404 AD C9 9B 95 A4		mva FIGHT_STRING_2+1 :STACKORIGIN+STACKWIDTH,x
 10589 4409 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 10590
 10591 				; optimize OK (fight_utils.pas), line = 224
 10592
 10593 440C A9 32			lda #$32
 10594 440E 20 5A 27			jsr WAITFRAMES
 10595
 10596 				; optimize OK (fight_utils.pas), line = 225
 10597
 10598 4411 AC EF A7			ldy T
 10599 4414 AD F0 A7			lda HIT
 10600 4417 D9 85 E4			cmp adr.FP_ENERGY,y
 10601 441A B0 03 4C B3 44		jcc l_21BD
 10602
 10603 				; optimize OK (fight_utils.pas), line = 227
 10604
 10605 441F A9 00			lda #$00
 10606 4421 99 85 E4			sta adr.FP_ENERGY,y
 10607
 10608 				; optimize OK (fight_utils.pas), line = 229
 10609
 10610 4424 A9 00			lda #$00
 10611 4426 A0 60			ldy #256-160
 10612 4428 99 C0 DE C8 D0 FA		sta:rne $DF20+160-256,y+
 10613
 10614 				; optimize FAIL ('B_CRT.CRT_WRITECENTERED.@02018986000001000180000', fight_utils.pas), line = 230
 10615
 10616 442E E8				inx
 10617 442F AC CA 9B 84 82 AC + 	mwy FIGHT_STRING_3 :bp2
 10618 4439 A0 00			ldy #$00
 10619 443B B1 82 99 6A A1 C8 + 	mva:rne (:bp2),y B_CRT.CRT_WRITECENTERED.@02018986000001000180000.adr.S,y+
 10620 4443 E8				inx
 10621 4444 A9 15 95 94			mva #$15 :STACKORIGIN,x
 10622 4448 20 2C 1A			jsr B_CRT.CRT_WRITECENTERED.@02018986000001000180000
 10623
 10624 				; optimize FAIL ('B_CRT.CRT_WRITECENTERED.@02018986000001000180000', fight_utils.pas), line = 231
 10625
 10626 444B E8				inx
 10627 444C AD EF A7			lda T
 10628 444F 0A				asl @
 10629 4450 A8				tay
 10630 4451 B9 7B A3			lda adr.FP_NAME,y
 10631 4454 85 82			sta :bp2
 10632 4456 B9 7C A3			lda adr.FP_NAME+1,y
 10633 4459 85 83			sta :bp2+1
 10634 445B A0 00			ldy #$00
 10635 445D B1 82 99 6A A1 C8 + 	mva:rne (:bp2),y B_CRT.CRT_WRITECENTERED.@02018986000001000180000.adr.S,y+
 10636 4465 E8				inx
 10637 4466 A9 16 95 94			mva #$16 :STACKORIGIN,x
 10638 446A 20 2C 1A			jsr B_CRT.CRT_WRITECENTERED.@02018986000001000180000
 10639
 10640 				; optimize FAIL ('B_CRT.CRT_WRITECENTERED.@02018986000001000180000', fight_utils.pas), line = 232
 10641
 10642 446D E8				inx
 10643 446E AC CC 9B 84 82 AC + 	mwy FIGHT_STRING_4 :bp2
 10644 4478 A0 00			ldy #$00
 10645 447A B1 82 99 6A A1 C8 + 	mva:rne (:bp2),y B_CRT.CRT_WRITECENTERED.@02018986000001000180000.adr.S,y+
 10646 4482 E8				inx
 10647 4483 A9 17 95 94			mva #$17 :STACKORIGIN,x
 10648 4487 20 2C 1A			jsr B_CRT.CRT_WRITECENTERED.@02018986000001000180000
 10649
 10650 				; optimize OK (fight_utils.pas), line = 233
 10651
 10652 448A A9 46			lda #$46
 10653 448C 20 5A 27			jsr WAITFRAMES
 10654
 10655 				; optimize OK (fight_utils.pas), line = 234
 10656
 10657 448F A9 00			lda #$00
 10658 4491 A0 60			ldy #256-160
 10659 4493 99 C0 DE C8 D0 FA		sta:rne $DF20+160-256,y+
 10660
 10661 				; optimize OK (fight_utils.pas), line = 235
 10662
 10663 4499 AD EF A7			lda T
 10664 449C 0A				asl @
 10665 449D A8				tay
 10666 449E B9 05 E4			lda adr.FP_POSW,y
 10667 44A1 8D D7 A7			sta FIGHT_CLEARPLAYER.P
 10668 44A4 B9 06 E4			lda adr.FP_POSW+1,y
 10669 44A7 8D D8 A7			sta FIGHT_CLEARPLAYER.P+1
 10670 44AA 20 07 40			jsr FIGHT_CLEARPLAYER
 10671
 10672 				; optimize FAIL ('FIGHT_DISPLAYSTATS', fight_utils.pas), line = 236
 10673
 10674 44AD 20 75 3D			jsr FIGHT_DISPLAYSTATS
 10675 44B0 4C C0 44			jmp l_21EE
 10676 44B3			l_21BD
 10677
 10678 				; optimize OK (fight_utils.pas), line = 239
 10679
 10680 44B3 AC EF A7			ldy T
 10681 44B6 B9 85 E4			lda adr.FP_ENERGY,y
 10682 44B9 38 ED F0 A7			sub HIT
 10683 44BD 99 85 E4			sta adr.FP_ENERGY,y
 10684 44C0			l_21EE
 10685
 10686 				; optimize OK (fight_utils.pas), line = 240
 10687
 10688 44C0 AD EF A7			lda T
 10689 44C3 8D E8 A7			sta RESULT
 10690
 10691 				; optimize OK (fight_utils.pas), line = 242
 10692
 10693 44C6 A9 00			lda #$00
 10694 44C8 A0 27			ldy #$27
 10695 44CA 99 20 DF 88 10 FA		sta:rpl $DF20,y-
 10696 44D0 4C 01 45			jmp @exit
 10697 44D3			l_20EA
 10698
 10699 				; --- ForToDoEpilog
 10700 44D3			c_201F
 10701 44D3 EE ED A7			inc V
 10702 44D6 F0 03 4C 53 42		jne l_201F
 10703 44DB			l_202D
 10704 44DB			b_201F
 10705
 10706 				; optimize OK (fight_utils.pas), line = 247
 10707
 10708 44DB A9 00			lda #$00
 10709 44DD 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
 10710 44E0 A9 14			lda #$14
 10711 44E2 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
 10712 44E5 20 F9 17			jsr B_CRT.CRT_GOTOXY
 10713
 10714 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', fight_utils.pas), line = 248
 10715
 10716 44E8 E8				inx
 10717 44E9 AD CE 9B 95 94		mva FIGHT_STRING_5 :STACKORIGIN,x
 10718 44EE AD CF 9B 95 A4		mva FIGHT_STRING_5+1 :STACKORIGIN+STACKWIDTH,x
 10719 44F3 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 10720
 10721 				; optimize OK (fight_utils.pas), line = 249
 10722
 10723 44F6 A9 32			lda #$32
 10724 44F8 20 5A 27			jsr WAITFRAMES
 10725
 10726 				; optimize OK (fight_utils.pas), line = 250
 10727
 10728 44FB AD F1 A7			lda HITPLAYER
 10729 44FE 8D E8 A7			sta RESULT
 10730 4501			@exit
 10731
 10732 				; ------------------------------------------------------------
 10733
 10734 = A7E8			RESULT	= DATAORIGIN+$0BCD
 10735 = A7E9			K	= DATAORIGIN+$0BCE
 10736 = A7EB			E	= DATAORIGIN+$0BD0
 10737 = A7EC			R	= DATAORIGIN+$0BD1
 10738 = A7ED			V	= DATAORIGIN+$0BD2
 10739 = A7EE			W	= DATAORIGIN+$0BD3
 10740 = A7EF			T	= DATAORIGIN+$0BD4
 10741 = A7F0			HIT	= DATAORIGIN+$0BD5
 10742 = A7F1			HITPLAYER	= DATAORIGIN+$0BD6
 10743 = A7F2			T1	= DATAORIGIN+$0BD7
 10744 = A7F3			T2	= DATAORIGIN+$0BD8
 10745 = A7F4			T3	= DATAORIGIN+$0BD9
 10746 = A7F5			T4	= DATAORIGIN+$0BDA
 10747
 10748 = A7E9			@VarData	= K
 10749 = 000D			@VarDataSize	= 13
 10750
 10751 4501 60				rts						; ret
 10752 				.endl
 10753
 10754 4502			.local	FIGHT_CHECKWINNER				; PROCEDURE
 10755
 10756 				; optimize OK (fight_utils.pas), line = 260
 10757
 10758 4502 A9 00			lda #$00
 10759 4504 8D F6 A7			sta S
 10760
 10761 4507			l_222C
 10762 				; --- ForToDoCondition
 10763 4507 AD F6 A7			lda S
 10764 450A C9 02			cmp #$02
 10765 450C B0 51			jcs l_223A
 10766
 10767 				; optimize OK (fight_utils.pas), line = 262
 10768
 10769 450E A9 01			lda #$01
 10770 4510 8D F8 A7			sta PARTYDEAD
 10771
 10772 				; optimize OK (fight_utils.pas), line = 263
 10773
 10774 4513 A9 00			lda #$00
 10775 4515 8D F7 A7			sta I
 10776 4518 AC F6 A7			ldy S
 10777 451B B9 03 E4			lda adr.FP_N,y
 10778 451E 38 E9 01			sub #$01
 10779 4521 8D 25 45			sta @FORTMP_224D_0
 10780
 10781 4524			l_2250
 10782 				; --- ForToDoCondition
 10783 4524 A9 00			lda @FORTMP_224D_0::#$00
 10784 4526 CD F7 A7			cmp I
 10785 4529 90 1E			jcc l_225E
 10786
 10787 				; optimize OK (fight_utils.pas), line = 265
 10788
 10789 452B AD F6 A7			lda S
 10790 452E 0A				asl @
 10791 452F 0A				asl @
 10792 4530 0A				asl @
 10793 4531 0A				asl @
 10794 4532 18 6D F7 A7			add I
 10795 4536 A8				tay
 10796 4537 B9 85 E4			lda adr.FP_ENERGY,y
 10797 453A D0 03			jne l_227D
 10798 453C 4C 44 45			jmp c_2250
 10799 453F			l_227D
 10800
 10801 				; optimize OK (fight_utils.pas), line = 267
 10802
 10803 453F A9 00			lda #$00
 10804 4541 8D F8 A7			sta PARTYDEAD
 10805
 10806 				; --- ForToDoEpilog
 10807 4544			c_2250
 10808 4544 EE F7 A7			inc I
 10809 4547 D0 DB			jne l_2250
 10810 4549			l_225E
 10811
 10812 				; optimize OK (fight_utils.pas), line = 269
 10813
 10814 4549 AD F8 A7			lda PARTYDEAD
 10815 454C F0 0C			jeq l_229B
 10816
 10817 				; optimize OK (fight_utils.pas), line = 271
 10818
 10819 454E A9 01			lda #$01
 10820 4550 38 ED F6 A7			sub S
 10821 4554 8D 00 E4			sta FP_WINNER
 10822 4557 4C 5F 45			jmp @exit
 10823 455A			l_229B
 10824
 10825 				; --- ForToDoEpilog
 10826 455A EE F6 A7			inc S
 10827 455D D0 A8			jne l_222C
 10828 455F			l_223A
 10829
 10830 				; ------------------------------------------------------------
 10831
 10832 = A7F6			S	= DATAORIGIN+$0BDB
 10833 = A7F7			I	= DATAORIGIN+$0BDC
 10834 = A7F8			PARTYDEAD	= DATAORIGIN+$0BDD
 10835
 10836 = A7F6			@VarData	= S
 10837 = 0003			@VarDataSize	= 3
 10838
 10839 455F			@exit
 10840 					.ifdef @new
 10841 					lda <@VarData
 10842 					sta :ztmp
 10843 					lda >@VarData
 10844 					ldy #@VarDataSize-1
 10845 					jmp @FreeMem
 10846 					els
 10847 455F 60				rts						; ret
 10848 					eif
 10849 				.endl
 10850
 10851 4560			.local	FIGHT_MOVECURRENTPLAYER				; PROCEDURE
 10852
 10853 				; optimize OK (fight_utils.pas), line = 282
 10854
 10855 4560 A9 00			lda #$00
 10856 4562 8D E8 E6			sta FP_VALIDCMD
 10857
 10858 				; optimize OK (fight_utils.pas), line = 283
 10859
 10860 4565 AD E5 E6			lda FP_CURRENTPLAYER
 10861 4568 0A				asl @
 10862 4569 A8				tay
 10863 456A B9 05 E4			lda adr.FP_POSW,y
 10864 456D 8D EF E6			sta F_CURPOS
 10865 4570 A9 DC			lda #$DC
 10866 4572 18 79 06 E4			add adr.FP_POSW+1,y
 10867 4576 8D F0 E6			sta F_CURPOS+1
 10868
 10869 				; optimize OK (fight_utils.pas), line = 284
 10870
 10871 4579 A9 06			lda #$06
 10872 457B CD E7 E6			cmp FP_CURRENTCOMMAND
 10873 457E D0 2A			jne l_22D3
 10874
 10875 				; optimize OK (fight_utils.pas), line = 285
 10876
 10877 4580 AD EF E6			lda F_CURPOS
 10878 4583 38 E9 01			sub #$01
 10879 4586 85 9D			sta :STACKORIGIN+9
 10880 4588 AD F0 E6			lda F_CURPOS+1
 10881 458B E9 00			sbc #$00
 10882 458D 85 81			sta :bp+1
 10883 458F A4 9D			ldy :STACKORIGIN+9
 10884 4591 B1 80			lda (:bp),y
 10885 4593 D0 15			jne l_22EA
 10886
 10887 				; optimize OK (fight_utils.pas), line = 286
 10888
 10889 4595 AC EF E6 84 82 AC + 	mwy F_CURPOS :bp2
 10890 459F A0 27			ldy #$27
 10891 45A1 B1 82			lda (:bp2),y
 10892 45A3 D0 05			jne l_2305
 10893
 10894 				; optimize OK (fight_utils.pas), line = 287
 10895
 10896 45A5 A9 FF			lda #$FF
 10897 45A7 8D E8 E6			sta FP_VALIDCMD
 10898 45AA			l_2305
 10899 45AA			l_22EA
 10900 45AA			l_22D3
 10901
 10902 				; optimize OK (fight_utils.pas), line = 289
 10903
 10904 45AA A9 07			lda #$07
 10905 45AC CD E7 E6			cmp FP_CURRENTCOMMAND
 10906 45AF D0 1B			jne l_2322
 10907
 10908 				; optimize OK (fight_utils.pas), line = 290
 10909
 10910 45B1 AC EF E6 84 82 AC + 	mwy F_CURPOS :bp2
 10911 45BB A0 02			ldy #$02
 10912 45BD B1 82			lda (:bp2),y
 10913 45BF D0 0B			jne l_2339
 10914
 10915 				; optimize OK (fight_utils.pas), line = 291
 10916
 10917 45C1 A0 2A			ldy #$2A
 10918 45C3 B1 82			lda (:bp2),y
 10919 45C5 D0 05			jne l_2354
 10920
 10921 				; optimize OK (fight_utils.pas), line = 292
 10922
 10923 45C7 A9 01			lda #$01
 10924 45C9 8D E8 E6			sta FP_VALIDCMD
 10925 45CC			l_2354
 10926 45CC			l_2339
 10927 45CC			l_2322
 10928
 10929 				; optimize OK (fight_utils.pas), line = 294
 10930
 10931 45CC A9 0E			lda #$0E
 10932 45CE CD E7 E6			cmp FP_CURRENTCOMMAND
 10933 45D1 D0 2F			jne l_2371
 10934
 10935 				; optimize OK (fight_utils.pas), line = 295
 10936
 10937 45D3 AD EF E6			lda F_CURPOS
 10938 45D6 38 E9 28			sub #$28
 10939 45D9 85 9D			sta :STACKORIGIN+9
 10940 45DB AD F0 E6			lda F_CURPOS+1
 10941 45DE E9 00			sbc #$00
 10942 45E0 85 81			sta :bp+1
 10943 45E2 A4 9D			ldy :STACKORIGIN+9
 10944 45E4 B1 80			lda (:bp),y
 10945 45E6 D0 1A			jne l_2388
 10946
 10947 				; optimize OK (fight_utils.pas), line = 296
 10948
 10949 45E8 AD EF E6			lda F_CURPOS
 10950 45EB 18 69 D9			add #$D9
 10951 45EE 85 9D			sta :STACKORIGIN+9
 10952 45F0 AD F0 E6			lda F_CURPOS+1
 10953 45F3 69 FF			adc #$FF
 10954 45F5 85 81			sta :bp+1
 10955 45F7 A4 9D			ldy :STACKORIGIN+9
 10956 45F9 B1 80			lda (:bp),y
 10957 45FB D0 05			jne l_23A3
 10958
 10959 				; optimize OK (fight_utils.pas), line = 297
 10960
 10961 45FD A9 D8			lda #$D8
 10962 45FF 8D E8 E6			sta FP_VALIDCMD
 10963 4602			l_23A3
 10964 4602			l_2388
 10965 4602			l_2371
 10966
 10967 				; optimize OK (fight_utils.pas), line = 299
 10968
 10969 4602 A9 0F			lda #$0F
 10970 4604 CD E7 E6			cmp FP_CURRENTCOMMAND
 10971 4607 D0 1A			jne l_23C0
 10972
 10973 				; optimize OK (fight_utils.pas), line = 300
 10974
 10975 4609 AC EF E6 84 82 AC + 	mwy F_CURPOS :bp2
 10976 4613 A0 50			ldy #$50
 10977 4615 B1 82			lda (:bp2),y
 10978 4617 D0 0A			jne l_23D7
 10979
 10980 				; optimize OK (fight_utils.pas), line = 301
 10981
 10982 4619 C8				iny
 10983 461A B1 82			lda (:bp2),y
 10984 461C D0 05			jne l_23F2
 10985
 10986 				; optimize OK (fight_utils.pas), line = 302
 10987
 10988 461E A9 28			lda #$28
 10989 4620 8D E8 E6			sta FP_VALIDCMD
 10990 4623			l_23F2
 10991 4623			l_23D7
 10992 4623			l_23C0
 10993
 10994 				; optimize OK (fight_utils.pas), line = 304
 10995
 10996 4623 AD E8 E6			lda FP_VALIDCMD
 10997 4626 F0 36			jeq l_240F
 10998
 10999 				; optimize FAIL ('FIGHT_CLEARCURRENTPLAYER', fight_utils.pas), line = 306
 11000
 11001 4628 20 4D 40			jsr FIGHT_CLEARCURRENTPLAYER
 11002
 11003 				; optimize OK (fight_utils.pas), line = 307
 11004
 11005 462B AD E5 E6			lda FP_CURRENTPLAYER
 11006 462E 0A				asl @
 11007 462F A8				tay
 11008 4630 B9 05 E4			lda adr.FP_POSW,y
 11009 4633 85 9E			sta :STACKORIGIN+10
 11010 4635 B9 06 E4			lda adr.FP_POSW+1,y
 11011 4638 85 AE			sta :STACKORIGIN+STACKWIDTH+10
 11012 463A A0 00			ldy #$00
 11013 463C AD E8 E6			lda FP_VALIDCMD
 11014 463F 10 01			spl
 11015 4641 88				dey
 11016 4642 84 AF			sty :STACKORIGIN+STACKWIDTH+11
 11017 4644 18 65 9E			add :STACKORIGIN+10
 11018 4647 85 9E			sta :STACKORIGIN+10
 11019 4649 A5 AE			lda :STACKORIGIN+STACKWIDTH+10
 11020 464B 65 AF			adc :STACKORIGIN+STACKWIDTH+11
 11021 464D 85 AE			sta :STACKORIGIN+STACKWIDTH+10
 11022 464F AD E5 E6			lda FP_CURRENTPLAYER
 11023 4652 0A				asl @
 11024 4653 A8				tay
 11025 4654 A5 9E			lda :STACKORIGIN+10
 11026 4656 99 05 E4			sta adr.FP_POSW,y
 11027 4659 A5 AE			lda :STACKORIGIN+STACKWIDTH+10
 11028 465B 99 06 E4			sta adr.FP_POSW+1,y
 11029 465E			l_240F
 11030
 11031 465E			@exit
 11032 					.ifdef @new
 11033 					lda <@VarData
 11034 					sta :ztmp
 11035 					lda >@VarData
 11036 					ldy #@VarDataSize-1
 11037 					jmp @FreeMem
 11038 					els
 11039 465E 60				rts						; ret
 11040 					eif
 11041 				.endl
 11042
 11043 465F			.local	FIGHT_ATTACKCURRENTPLAYER			; PROCEDURE
 11044
 11045 				; optimize OK (fight_utils.pas), line = 318
 11046
 11047 465F AD E7 E6			lda FP_CURRENTCOMMAND
 11048 4662 C9 0C			cmp #$0C
 11049 4664 F0 03 4C 00 47		jne l_243A
 11050
 11051 				; optimize FAIL ('FIGHT_DRAWCURRENTPLAYER', fight_utils.pas), line = 321
 11052
 11053 4669 20 67 3F			jsr FIGHT_DRAWCURRENTPLAYER
 11054
 11055 				; optimize OK (fight_utils.pas), line = 324
 11056
 11057 466C A9 00			lda #$00
 11058 466E 8D FB A7			sta CURRENTBLINK
 11059
 11060 				; --- RepeatUntilProlog
 11061 4671			l_2441
 11062
 11063 				; optimize FAIL ('B_SYSTEM.WAITFRAME', fight_utils.pas), line = 326
 11064
 11065 4671 20 0C 17			jsr B_SYSTEM.WAITFRAME
 11066
 11067 				; optimize OK (fight_utils.pas), line = 327
 11068
 11069 4674 AD FB A7			lda CURRENTBLINK
 11070 4677 C9 05			cmp #$05
 11071 4679 D0 03			jne l_2454
 11072
 11073 				; optimize FAIL ('FIGHT_CLEARCURRENTPLAYER', fight_utils.pas), line = 328
 11074
 11075 467B 20 4D 40			jsr FIGHT_CLEARCURRENTPLAYER
 11076 467E			l_2454
 11077
 11078 				; optimize OK (fight_utils.pas), line = 329
 11079
 11080 467E AD FB A7			lda CURRENTBLINK
 11081 4681 C9 0A			cmp #$0A
 11082 4683 D0 08			jne l_246A
 11083
 11084 				; optimize OK (fight_utils.pas), line = 331
 11085
 11086 4685 A9 00			lda #$00
 11087 4687 8D FB A7			sta CURRENTBLINK
 11088
 11089 				; optimize FAIL ('FIGHT_DRAWCURRENTPLAYER', fight_utils.pas), line = 332
 11090
 11091 468A 20 67 3F			jsr FIGHT_DRAWCURRENTPLAYER
 11092 468D			l_246A
 11093
 11094 				; optimize OK (fight_utils.pas), line = 334
 11095
 11096 468D EE FB A7			inc CURRENTBLINK
 11097
 11098 				; optimize FAIL ('CHECKKEYANDSTICK', fight_utils.pas), line = 335
 11099
 11100 4690 20 92 1B			jsr CHECKKEYANDSTICK
 11101 4693 AD BE A4			lda CHECKKEYANDSTICK.RESULT
 11102 4696 8D FA A7			sta CH
 11103
 11104 				; optimize OK (fight_utils.pas), line = 336
 11105
 11106 4699 C9 0F			cmp #$0F
 11107 469B F0 10			jeq l_2441x
 11108 469D C9 0E			cmp #$0E
 11109 469F F0 0C			jeq l_2441x
 11110 46A1 C9 07			cmp #$07
 11111 46A3 F0 08			jeq l_2441x
 11112 46A5 C9 06			cmp #$06
 11113 46A7 F0 04			jeq l_2441x
 11114 46A9 C9 0C			cmp #$0C
 11115 46AB D0 C4			jne l_2441
 11116 46AD			l_2441x
 11117
 11118 				; optimize FAIL ('FIGHT_DRAWPLAYERS', fight_utils.pas), line = 338
 11119
 11120 46AD 20 A4 40			jsr FIGHT_DRAWPLAYERS
 11121
 11122 				; optimize OK (fight_utils.pas), line = 339
 11123
 11124 46B0 AD FA A7			lda CH
 11125 46B3 8D FC A7			sta @CASETMP_000E
 11126 46B6 C9 06			cmp #$06
 11127 46B8 D0 08			jne l_24C9
 11128 				@
 11129
 11130 				; optimize OK (fight_utils.pas), line = 340
 11131
 11132 46BA A9 FF			lda #$FF
 11133 46BC 8D E9 E6			sta SHOOT_DIFF
 11134 46BF 4C F5 46			jmp a_000E
 11135 46C2			l_24C9
 11136 46C2 C9 07			cmp #$07
 11137 46C4 D0 08			jne l_24D4
 11138
 11139 				; optimize OK (fight_utils.pas), line = 341
 11140
 11141 46C6 A9 01			lda #$01
 11142 46C8 8D E9 E6			sta SHOOT_DIFF
 11143 46CB 4C F5 46			jmp a_000E
 11144 46CE			l_24D4
 11145 46CE C9 0E			cmp #$0E
 11146 46D0 D0 08			jne l_24DF
 11147
 11148 				; optimize OK (fight_utils.pas), line = 342
 11149
 11150 46D2 A9 D8			lda #$D8
 11151 46D4 8D E9 E6			sta SHOOT_DIFF
 11152 46D7 4C F5 46			jmp a_000E
 11153 46DA			l_24DF
 11154 46DA C9 0F			cmp #$0F
 11155 46DC D0 08			jne l_24EA
 11156
 11157 				; optimize OK (fight_utils.pas), line = 343
 11158
 11159 46DE A9 28			lda #$28
 11160 46E0 8D E9 E6			sta SHOOT_DIFF
 11161 46E3 4C F5 46			jmp a_000E
 11162 46E6			l_24EA
 11163 46E6 C9 0C			cmp #$0C
 11164 46E8 D0 0B			jne l_24F5
 11165
 11166 				; optimize FAIL ('WAITFORKEYRELEASE', fight_utils.pas), line = 346
 11167
 11168 46EA 20 EC 1B			jsr WAITFORKEYRELEASE
 11169
 11170 				; optimize OK (fight_utils.pas), line = 347
 11171
 11172 46ED A9 00			lda #$00
 11173 46EF 8D E8 E6			sta FP_VALIDCMD
 11174 46F2 4C 05 47			jmp @exit
 11175 46F5			l_24F5
 11176 46F5			a_000E
 11177
 11178 				; optimize FAIL ('FIGHT_SHOOT', fight_utils.pas), line = 351
 11179
 11180 46F5 20 24 42			jsr FIGHT_SHOOT
 11181
 11182 				; optimize OK (fight_utils.pas), line = 352
 11183
 11184 46F8 A9 01			lda #$01
 11185 46FA 8D E8 E6			sta FP_VALIDCMD
 11186 46FD 4C 05 47			jmp @exit
 11187 4700			l_243A
 11188
 11189 				; optimize OK (fight_utils.pas), line = 355
 11190
 11191 4700 A9 00			lda #$00
 11192 4702 8D E8 E6			sta FP_VALIDCMD
 11193
 11194 				; ------------------------------------------------------------
 11195
 11196 = A7FA			CH	= DATAORIGIN+$0BDF
 11197 = A7FB			CURRENTBLINK	= DATAORIGIN+$0BE0
 11198 = A7FC			@CASETMP_000E	= DATAORIGIN+$0BE1
 11199
 11200 = A7FA			@VarData	= CH
 11201 = 0003			@VarDataSize	= 3
 11202
 11203 4705			@exit
 11204 					.ifdef @new
 11205 					lda <@VarData
 11206 					sta :ztmp
 11207 					lda >@VarData
 11208 					ldy #@VarDataSize-1
 11209 					jmp @FreeMem
 11210 					els
 11211 4705 60				rts						; ret
 11212 					eif
 11213 				.endl
 11214
 11215 4706			.local	FIGHT_WAITFORCOMMAND				; PROCEDURE
 11216
 11217 				; optimize OK (fight_utils.pas), line = 365
 11218
 11219 4706 A9 00			lda #$00
 11220 4708 8D FE A7			sta CURRENTBLINK
 11221
 11222 				; --- RepeatUntilProlog
 11223 470B			l_2515
 11224
 11225 				; optimize FAIL ('B_SYSTEM.WAITFRAME', fight_utils.pas), line = 367
 11226
 11227 470B 20 0C 17			jsr B_SYSTEM.WAITFRAME
 11228
 11229 				; optimize OK (fight_utils.pas), line = 368
 11230
 11231 470E AD FE A7			lda CURRENTBLINK
 11232 4711 C9 1E			cmp #$1E
 11233 4713 D0 03			jne l_2528
 11234
 11235 				; optimize FAIL ('FIGHT_CLEARCURRENTPLAYER', fight_utils.pas), line = 369
 11236
 11237 4715 20 4D 40			jsr FIGHT_CLEARCURRENTPLAYER
 11238 4718			l_2528
 11239
 11240 				; optimize OK (fight_utils.pas), line = 370
 11241
 11242 4718 AD FE A7			lda CURRENTBLINK
 11243 471B C9 3C			cmp #$3C
 11244 471D D0 08			jne l_253E
 11245
 11246 				; optimize OK (fight_utils.pas), line = 372
 11247
 11248 471F A9 00			lda #$00
 11249 4721 8D FE A7			sta CURRENTBLINK
 11250
 11251 				; optimize FAIL ('FIGHT_DRAWCURRENTPLAYER', fight_utils.pas), line = 373
 11252
 11253 4724 20 67 3F			jsr FIGHT_DRAWCURRENTPLAYER
 11254 4727			l_253E
 11255
 11256 				; optimize OK (fight_utils.pas), line = 375
 11257
 11258 4727 EE FE A7			inc CURRENTBLINK
 11259
 11260 				; optimize FAIL ('CHECKKEYANDSTICK', fight_utils.pas), line = 376
 11261
 11262 472A 20 92 1B			jsr CHECKKEYANDSTICK
 11263 472D AD BE A4			lda CHECKKEYANDSTICK.RESULT
 11264 4730 8D FD A7			sta CH
 11265
 11266 				; optimize OK (fight_utils.pas), line = 377
 11267
 11268 4733 F0 D6			jeq l_2515
 11269
 11270 				; optimize OK (fight_utils.pas), line = 378
 11271
 11272 4735 8D E7 E6			sta FP_CURRENTCOMMAND
 11273
 11274 				; ------------------------------------------------------------
 11275
 11276 = A7FD			CH	= DATAORIGIN+$0BE2
 11277 = A7FE			CURRENTBLINK	= DATAORIGIN+$0BE3
 11278
 11279 = A7FD			@VarData	= CH
 11280 = 0002			@VarDataSize	= 2
 11281
 11282 4738			@exit
 11283 					.ifdef @new
 11284 					lda <@VarData
 11285 					sta :ztmp
 11286 					lda >@VarData
 11287 					ldy #@VarDataSize-1
 11288 					jmp @FreeMem
 11289 					els
 11290 4738 60				rts						; ret
 11291 					eif
 11292 				.endl
 11293
 11294 4739			.local	FIGHT_PLAYERMOVE				; PROCEDURE
 11295
 11296 				; --- RepeatUntilProlog
 11297 4739			l_256C
 11298
 11299 				; optimize FAIL ('FIGHT_WAITFORCOMMAND', fight_utils.pas), line = 387
 11300
 11301 4739 20 06 47			jsr FIGHT_WAITFORCOMMAND
 11302
 11303 				; optimize OK (fight_utils.pas), line = 389
 11304
 11305 473C A9 0A			lda #$0A
 11306 473E 20 5A 27			jsr WAITFRAMES
 11307
 11308 				; --- RepeatUntilProlog
 11309 4741			l_2570
 11310
 11311 				; optimize FAIL ('CHECKKEYANDSTICK', fight_utils.pas), line = 391
 11312
 11313 4741 20 92 1B			jsr CHECKKEYANDSTICK
 11314 4744 AD BE A4			lda CHECKKEYANDSTICK.RESULT
 11315 4747 8D FF A7			sta TMPCH
 11316
 11317 				; optimize OK (fight_utils.pas), line = 392
 11318
 11319 474A CD E7 E6			cmp FP_CURRENTCOMMAND
 11320 474D F0 F2			jeq l_2570
 11321
 11322 				; optimize OK (fight_utils.pas), line = 395
 11323
 11324 474F AD E7 E6			lda FP_CURRENTCOMMAND
 11325 4752 C9 21			cmp #$21
 11326 4754 F0 42			jeq @exit
 11327 4756			l_2595
 11328
 11329 				; optimize OK (fight_utils.pas), line = 398
 11330
 11331 4756 AD E7 E6			lda FP_CURRENTCOMMAND
 11332 4759 C9 2F			cmp #$2F
 11333 475B D0 0C			jne l_25AA
 11334
 11335 				; optimize OK (fight_utils.pas), line = 400
 11336
 11337 475D A9 01			lda #$01
 11338 475F 38 ED E6 E6			sub FP_CURRENTSITE
 11339 4763 8D 00 E4			sta FP_WINNER
 11340 4766 4C 98 47			jmp @exit
 11341 4769			l_25AA
 11342
 11343 				; optimize OK (fight_utils.pas), line = 405
 11344
 11345 4769 AD E7 E6			lda FP_CURRENTCOMMAND
 11346 476C C9 0D			cmp #$0D
 11347 476E D0 08			jne l_25C9
 11348
 11349 				; optimize OK (fight_utils.pas), line = 406
 11350
 11351 4770 AC E6 E6			ldy FP_CURRENTSITE
 11352 4773 A9 01			lda #$01
 11353 4775 99 01 E4			sta adr.FP_AI,y
 11354 4778			l_25C9
 11355
 11356 				; optimize OK (fight_utils.pas), line = 409
 11357
 11358 4778 AD E7 E6			lda FP_CURRENTCOMMAND
 11359 477B C9 05			cmp #$05
 11360 477D D0 09			jne l_25E5
 11361
 11362 				; optimize OK (fight_utils.pas), line = 410
 11363
 11364 477F AD E6 E6			lda FP_CURRENTSITE
 11365 4782 8D 00 E4			sta FP_WINNER
 11366 4785 4C 98 47			jmp @exit
 11367 4788			l_25E5
 11368
 11369 				; optimize FAIL ('FIGHT_MOVECURRENTPLAYER', fight_utils.pas), line = 415
 11370
 11371 4788 20 60 45			jsr FIGHT_MOVECURRENTPLAYER
 11372
 11373 				; optimize OK (fight_utils.pas), line = 417
 11374
 11375 478B AD E8 E6			lda FP_VALIDCMD
 11376 478E D0 03			jne l_2601
 11377
 11378 				; optimize FAIL ('FIGHT_ATTACKCURRENTPLAYER', fight_utils.pas), line = 418
 11379
 11380 4790 20 5F 46			jsr FIGHT_ATTACKCURRENTPLAYER
 11381 4793			l_2601
 11382
 11383 				; optimize OK (fight_utils.pas), line = 419
 11384
 11385 4793 AD E8 E6			lda FP_VALIDCMD
 11386 4796 F0 A1			jeq l_256C
 11387
 11388 				; ------------------------------------------------------------
 11389
 11390 = A7FF			TMPCH	= DATAORIGIN+$0BE4
 11391
 11392 = A7FF			@VarData	= TMPCH
 11393 = 0001			@VarDataSize	= 1
 11394
 11395 4798			@exit
 11396 					.ifdef @new
 11397 					lda <@VarData
 11398 					sta :ztmp
 11399 					lda >@VarData
 11400 					ldy #@VarDataSize-1
 11401 					jmp @FreeMem
 11402 					els
 11403 4798 60				rts						; ret
 11404 					eif
 11405 				.endl
 11406
 11407 4799			.local	FIGHT_CHECKSHOOT				; FUNCTION
 11408
 11409 				; optimize OK (fight_ai.pas), line = 8
 11410
 11411 4799 A9 00			lda #$00
 11412 479B 8D 00 A8			sta RESULT
 11413
 11414 				; optimize FAIL ('FIGHT_SETSHOOTSTART', fight_ai.pas), line = 9
 11415
 11416 479E 20 E6 41			jsr FIGHT_SETSHOOTSTART
 11417
 11418 				; optimize OK (fight_ai.pas), line = 10
 11419
 11420 47A1 AD E5 E6			lda FP_CURRENTPLAYER
 11421 47A4 0A				asl @
 11422 47A5 A8				tay
 11423 47A6 B9 05 E4			lda adr.FP_POSW,y
 11424 47A9 8D EF E6			sta F_CURPOS
 11425 47AC A9 DC			lda #$DC
 11426 47AE 18 79 06 E4			add adr.FP_POSW+1,y
 11427 47B2 8D F0 E6			sta F_CURPOS+1
 11428
 11429 				; optimize OK (fight_ai.pas), line = 11
 11430
 11431 47B5 AC E5 E6			ldy FP_CURRENTPLAYER
 11432 47B8 B9 45 E4			lda adr.FP_WEAPON,y
 11433 47BB A8				tay
 11434 47BC B9 2A E7			lda adr.WEAPONREACH,y
 11435 47BF 8D 03 A8			sta R
 11436
 11437 				; optimize OK (fight_ai.pas), line = 14
 11438
 11439 47C2 A9 00			lda #$00
 11440 47C4 8D 04 A8			sta V
 11441
 11442 47C7			l_263C
 11443 				; --- ForToDoCondition
 11444 47C7 AD 04 A8			lda V
 11445 47CA C9 29			cmp #$29
 11446 47CC 90 03 4C 94 48		jcs l_264A
 11447
 11448 				; optimize OK (fight_ai.pas), line = 17
 11449
 11450 47D1 CD 03 A8			cmp R
 11451 47D4 D0 03 4C 99 48		jeq @exit
 11452 47D9			l_265E
 11453
 11454 				; optimize OK (fight_ai.pas), line = 19
 11455
 11456 47D9 AD EF E6			lda F_CURPOS
 11457 47DC 18 6D EA E6			add SHOOT_START
 11458 47E0 85 9D			sta :STACKORIGIN+9
 11459 47E2 AD F0 E6			lda F_CURPOS+1
 11460 47E5 6D EB E6			adc SHOOT_START+1
 11461 47E8 85 AD			sta :STACKORIGIN+STACKWIDTH+9
 11462 47EA A0 00			ldy #$00
 11463 47EC AD E9 E6			lda SHOOT_DIFF
 11464 47EF 10 01			spl
 11465 47F1 88				dey
 11466 47F2 18 65 9D			add :STACKORIGIN+9
 11467 47F5 8D 01 A8			sta K
 11468 47F8 98				tya
 11469 47F9 65 AD			adc :STACKORIGIN+STACKWIDTH+9
 11470 47FB 8D 02 A8			sta K+1
 11471
 11472 				; optimize OK (fight_ai.pas), line = 20
 11473
 11474 47FE 85 81			sta :bp+1
 11475 4800 AC 01 A8			ldy K
 11476 4803 B1 80			lda (:bp),y
 11477 4805 8D 05 A8			sta W
 11478
 11479 				; optimize OK (fight_ai.pas), line = 21
 11480
 11481 4808 D0 19			jne l_2689
 11482
 11483 				; optimize OK (fight_ai.pas), line = 23
 11484
 11485 480A A0 00			ldy #$00
 11486 480C AD E9 E6			lda SHOOT_DIFF
 11487 480F 10 01			spl
 11488 4811 88				dey
 11489 4812 18 6D EA E6			add SHOOT_START
 11490 4816 8D EA E6			sta SHOOT_START
 11491 4819 98				tya
 11492 481A 6D EB E6			adc SHOOT_START+1
 11493 481D 8D EB E6			sta SHOOT_START+1
 11494 4820 4C 8C 48			jmp c_263C
 11495 4823			l_2689
 11496
 11497 				; optimize OK (fight_ai.pas), line = 26
 11498
 11499 4823 AD 05 A8			lda W
 11500 4826 C9 01			cmp #$01
 11501 4828 D0 03			jne l_26A9
 11502 482A 4C 94 48			jmp b_263C
 11503 482D			l_26A9
 11504
 11505 				; optimize OK (fight_ai.pas), line = 29
 11506
 11507 482D AD 01 A8			lda K
 11508 4830 8D DF A7			sta CHECKHIT.K
 11509 4833 AD 02 A8			lda K+1
 11510 4836 8D E0 A7			sta CHECKHIT.K+1
 11511 4839 20 0A 41			jsr CHECKHIT
 11512 483C AD E1 A7			lda CHECKHIT.RESULT
 11513 483F 8D 06 A8			sta T
 11514
 11515 				; optimize OK (fight_ai.pas), line = 30
 11516
 11517 4842 C9 80			cmp #$80
 11518 4844 D0 03			jne l_26C4
 11519 4846 4C 8C 48			jmp c_263C
 11520 4849			l_26C4
 11521
 11522 				; optimize OK (fight_ai.pas), line = 33
 11523
 11524 4849 A0 01			ldy #1
 11525 484B AD E6 E6			lda FP_CURRENTSITE
 11526 484E F0 01			beq @+
 11527 4850 88				dey
 11528 				@
 11529 4851 84 9D			sty :STACKORIGIN+9
 11530 4853 A0 01			ldy #1
 11531 4855 AD 06 A8			lda T
 11532 4858 C9 10			cmp #$10
 11533 485A 90 01			bcc @+
 11534 485C 88				dey
 11535 				@
 11536 485D 98				tya
 11537 485E 25 9D			and :STACKORIGIN+9
 11538 4860 85 9D			sta :STACKORIGIN+9
 11539 4862 A0 01			ldy #1
 11540 4864 AD E6 E6			lda FP_CURRENTSITE
 11541 4867 C9 01			cmp #$01
 11542 4869 F0 01			beq @+
 11543 486B 88				dey
 11544 				@
 11545 486C 84 9E			sty :STACKORIGIN+10
 11546
 11547 486E AD 06 A8			lda T
 11548 4871 C9 10			cmp #$10
 11549 4873 A9 00			lda #$00
 11550 4875 2A				rol @
 11551 4876 25 9E			and :STACKORIGIN+10
 11552 4878 05 9D			ora :STACKORIGIN+9
 11553 487A F0 08			jeq l_26FD
 11554
 11555 				; optimize OK (fight_ai.pas), line = 35
 11556
 11557 487C A9 00			lda #$00
 11558 487E 8D 00 A8			sta RESULT
 11559 4881 4C 99 48			jmp @exit
 11560 4884			l_26FD
 11561
 11562 				; optimize OK (fight_ai.pas), line = 40
 11563
 11564 4884 A9 01			lda #$01
 11565 4886 8D 00 A8			sta RESULT
 11566 4889 4C 99 48			jmp @exit
 11567
 11568 				; --- ForToDoEpilog
 11569 488C			c_263C
 11570 488C EE 04 A8			inc V
 11571 488F F0 03 4C C7 47		jne l_263C
 11572 4894			l_264A
 11573 4894			b_263C
 11574
 11575 				; optimize OK (fight_ai.pas), line = 44
 11576
 11577 4894 A9 00			lda #$00
 11578 4896 8D 00 A8			sta RESULT
 11579 4899			@exit
 11580
 11581 				; ------------------------------------------------------------
 11582
 11583 = A800			RESULT	= DATAORIGIN+$0BE5
 11584 = A801			K	= DATAORIGIN+$0BE6
 11585 = A803			R	= DATAORIGIN+$0BE8
 11586 = A804			V	= DATAORIGIN+$0BE9
 11587 = A805			W	= DATAORIGIN+$0BEA
 11588 = A806			T	= DATAORIGIN+$0BEB
 11589
 11590 = A801			@VarData	= K
 11591 = 0006			@VarDataSize	= 6
 11592
 11593 4899 60				rts						; ret
 11594 				.endl
 11595
 11596 489A			.local	FIGHT_AIMOVE					; PROCEDURE
 11597
 11598 				; optimize OK (fight_ai.pas), line = 54
 11599
 11600 489A A9 00			lda #$00
 11601 489C 8D 07 A8			sta S
 11602
 11603 489F			l_271E
 11604 				; --- ForToDoCondition
 11605 489F AD 07 A8			lda S
 11606 48A2 C9 04			cmp #$04
 11607 48A4 B0 43			jcs l_272C
 11608
 11609 				; optimize OK (fight_ai.pas), line = 56
 11610
 11611 48A6 8D 15 A8			sta @CASETMP_000F
 11612 48A9 C9 00			cmp #$00
 11613 48AB D0 08			jne l_2737
 11614 				@
 11615
 11616 				; optimize OK (fight_ai.pas), line = 57
 11617
 11618 48AD A9 FF			lda #$FF
 11619 48AF 8D E9 E6			sta SHOOT_DIFF
 11620 48B2 4C D6 48			jmp a_000F
 11621 48B5			l_2737
 11622 48B5 C9 01			cmp #$01
 11623 48B7 D0 08			jne l_2742
 11624
 11625 				; optimize OK (fight_ai.pas), line = 58
 11626
 11627 48B9 A9 01			lda #$01
 11628 48BB 8D E9 E6			sta SHOOT_DIFF
 11629 48BE 4C D6 48			jmp a_000F
 11630 48C1			l_2742
 11631 48C1 C9 02			cmp #$02
 11632 48C3 D0 08			jne l_274D
 11633
 11634 				; optimize OK (fight_ai.pas), line = 59
 11635
 11636 48C5 A9 D8			lda #$D8
 11637 48C7 8D E9 E6			sta SHOOT_DIFF
 11638 48CA 4C D6 48			jmp a_000F
 11639 48CD			l_274D
 11640 48CD C9 03			cmp #$03
 11641 48CF D0 05			jne l_2758
 11642
 11643 				; optimize OK (fight_ai.pas), line = 60
 11644
 11645 48D1 A9 28			lda #$28
 11646 48D3 8D E9 E6			sta SHOOT_DIFF
 11647 48D6			l_2758
 11648 48D6			a_000F
 11649
 11650 				; optimize FAIL ('FIGHT_CHECKSHOOT', fight_ai.pas), line = 62
 11651
 11652 48D6 20 99 47			jsr FIGHT_CHECKSHOOT
 11653 48D9 AD 00 A8			lda FIGHT_CHECKSHOOT.RESULT
 11654 48DC F0 06			jeq l_2772
 11655
 11656 				; optimize FAIL ('FIGHT_SHOOT', fight_ai.pas), line = 64
 11657
 11658 48DE 20 24 42			jsr FIGHT_SHOOT
 11659 48E1 4C C8 4B			jmp @exit
 11660 48E4			l_2772
 11661
 11662 				; --- ForToDoEpilog
 11663 48E4 EE 07 A8			inc S
 11664 48E7 D0 B6			jne l_271E
 11665 48E9			l_272C
 11666
 11667 				; optimize OK (fight_ai.pas), line = 71
 11668
 11669 48E9 A9 00			lda #$00
 11670 48EB 8D 11 A8			sta NE
 11671 48EE 8D 12 A8			sta NE+1
 11672
 11673 				; optimize OK (fight_ai.pas), line = 72
 11674
 11675 48F1 A9 E7			lda #$E7
 11676 48F3 8D 13 A8			sta ND
 11677 48F6 A9 03			lda #$03
 11678 48F8 8D 14 A8			sta ND+1
 11679
 11680 				; optimize OK (fight_ai.pas), line = 73
 11681
 11682 48FB AD E5 E6			lda FP_CURRENTPLAYER
 11683 48FE 0A				asl @
 11684 48FF A8				tay
 11685 4900 B9 05 E4			lda adr.FP_POSW,y
 11686 4903 8D 0B A8			sta CP
 11687 4906 B9 06 E4			lda adr.FP_POSW+1,y
 11688 4909 8D 0C A8			sta CP+1
 11689
 11690 				; optimize OK (fight_ai.pas), line = 74
 11691
 11692 490C A9 00			lda #$00
 11693 490E 8D 0A A8			sta II
 11694 4911 A9 01			lda #$01
 11695 4913 38 ED E6 E6			sub FP_CURRENTSITE
 11696 4917 A8				tay
 11697 4918 B9 03 E4			lda adr.FP_N,y
 11698 491B 38 E9 01			sub #$01
 11699 491E 8D 22 49			sta @FORTMP_279E_0
 11700
 11701 4921			l_27A1
 11702 				; --- ForToDoCondition
 11703 4921 A9 00			lda @FORTMP_279E_0::#$00
 11704 4923 CD 0A A8			cmp II
 11705 4926 B0 03 4C 8B 4A		jcc l_27AF
 11706
 11707 				; optimize OK (fight_ai.pas), line = 77
 11708
 11709 492B A9 01			lda #$01
 11710 492D ED E6 E6			sbc FP_CURRENTSITE
 11711 4930 0A				asl @
 11712 4931 0A				asl @
 11713 4932 0A				asl @
 11714 4933 0A				asl @
 11715 4934 8D 08 A8			sta DX
 11716
 11717 				; optimize OK (fight_ai.pas), line = 78
 11718
 11719 4937 18 6D 0A A8			add II
 11720 493B A8				tay
 11721 493C B9 85 E4			lda adr.FP_ENERGY,y
 11722 493F D0 03			jne l_27D8
 11723 4941 4C 83 4A			jmp c_27A1
 11724 4944			l_27D8
 11725
 11726 				; optimize OK (fight_ai.pas), line = 79
 11727
 11728 4944 A0 00			ldy #$00
 11729 4946 AD 08 A8			lda DX
 11730 4949 10 01			spl
 11731 494B 88				dey
 11732 494C 84 AD			sty :STACKORIGIN+STACKWIDTH+9
 11733 494E 18 6D 0A A8			add II
 11734 4952 85 9D			sta :STACKORIGIN+9
 11735 4954 A5 AD			lda :STACKORIGIN+STACKWIDTH+9
 11736 4956 69 00			adc #$00
 11737 4958 06 9D			asl :STACKORIGIN+9
 11738 495A 2A				rol @
 11739 495B 85 AD			sta :STACKORIGIN+STACKWIDTH+9
 11740 495D A5 9D			lda :STACKORIGIN+9
 11741 495F 18 69 00			add #$00
 11742 4962 A8				tay
 11743 4963 A5 AD			lda :STACKORIGIN+STACKWIDTH+9
 11744 4965 69 00			adc #$00
 11745 4967 85 AD			sta :STACKORIGIN+STACKWIDTH+9
 11746 4969 B9 05 E4			lda adr.FP_POSW,y
 11747 496C 8D 0D A8			sta EP
 11748 496F B9 06 E4			lda adr.FP_POSW+1,y
 11749 4972 8D 0E A8			sta EP+1
 11750
 11751 				; optimize OK (fight_ai.pas), line = 81
 11752
 11753 4975 A9 28			lda #$28
 11754 4977 85 8C			sta @SMALLINT.MOD.B
 11755 4979 A9 00			lda #$00
 11756 497B 85 8D			sta @SMALLINT.MOD.B+1
 11757 497D AD 0B A8			lda CP
 11758 4980 85 84			sta @SMALLINT.MOD.A
 11759 4982 AD 0C A8			lda CP+1
 11760 4985 85 85			sta @SMALLINT.MOD.A+1
 11761 4987 20 E0 0F			jsr @SMALLINT.MOD
 11762 498A A5 90			lda @SMALLINT.MOD.RESULT
 11763 498C 85 9D			sta :STACKORIGIN+9
 11764 498E A9 28			lda #$28
 11765 4990 85 8C			sta @SMALLINT.MOD.B
 11766 4992 A9 00			lda #$00
 11767 4994 85 8D			sta @SMALLINT.MOD.B+1
 11768 4996 AD 0D A8			lda EP
 11769 4999 85 84			sta @SMALLINT.MOD.A
 11770 499B AD 0E A8			lda EP+1
 11771 499E 85 85			sta @SMALLINT.MOD.A+1
 11772 49A0 20 E0 0F			jsr @SMALLINT.MOD
 11773 49A3 A5 9D			lda :STACKORIGIN+9
 11774 49A5 38 E5 90			sub @SMALLINT.MOD.RESULT
 11775 49A8 8D 08 A8			sta DX
 11776
 11777 				; optimize OK (fight_ai.pas), line = 82
 11778
 11779 49AB A9 28			lda #$28
 11780 49AD 85 8C			sta @SMALLINT.DIV.B
 11781 49AF A9 00			lda #$00
 11782 49B1 85 8D			sta @SMALLINT.DIV.B+1
 11783 49B3 AD 0B A8			lda CP
 11784 49B6 85 84			sta @SMALLINT.DIV.A
 11785 49B8 AD 0C A8			lda CP+1
 11786 49BB 85 85			sta @SMALLINT.DIV.A+1
 11787 49BD 20 C3 0F			jsr @SMALLINT.DIV
 11788 49C0 A5 84			lda :eax
 11789 49C2 85 9D			sta :STACKORIGIN+9
 11790 49C4 A9 28			lda #$28
 11791 49C6 85 8C			sta @SMALLINT.DIV.B
 11792 49C8 A9 00			lda #$00
 11793 49CA 85 8D			sta @SMALLINT.DIV.B+1
 11794 49CC AD 0D A8			lda EP
 11795 49CF 85 84			sta @SMALLINT.DIV.A
 11796 49D1 AD 0E A8			lda EP+1
 11797 49D4 85 85			sta @SMALLINT.DIV.A+1
 11798 49D6 20 C3 0F			jsr @SMALLINT.DIV
 11799 49D9 A5 9D			lda :STACKORIGIN+9
 11800 49DB 38 E5 84			sub :eax
 11801 49DE 8D 09 A8			sta DY
 11802
 11803 				; optimize OK (fight_ai.pas), line = 83
 11804
 11805 49E1 AD 08 A8			lda DX
 11806 49E4 C9 80			cmp #$80
 11807 49E6 A9 00			lda #$00
 11808 49E8 2A				rol @
 11809 49E9 85 9F			sta :STACKORIGIN+11
 11810 49EB A9 00			lda #$00
 11811 49ED 85 AF			sta :STACKORIGIN+STACKWIDTH+11
 11812 49EF A5 9F			lda :STACKORIGIN+11
 11813 49F1 0A				asl @
 11814 49F2 26 AF			rol :STACKORIGIN+STACKWIDTH+11
 11815 49F4 85 9F			sta :STACKORIGIN+11
 11816 49F6 A9 01			lda #$01
 11817 49F8 38 E5 9F			sub :STACKORIGIN+11
 11818 49FB 85 8C			sta :ecx
 11819 49FD A9 00			lda #$00
 11820 49FF E5 AF			sbc :STACKORIGIN+STACKWIDTH+11
 11821 4A01 85 8D			sta :ecx+1
 11822 4A03 A0 00			ldy #$00
 11823 4A05 AD 08 A8			lda DX
 11824 4A08 10 01			spl
 11825 4A0A 88				dey
 11826 4A0B 84 85			sty :eax+1
 11827 4A0D 85 84			sta :eax
 11828 					.ifdef fmulinit
 11829 					fmulu_16
 11830 					els
 11831 4A0F 20 8F 10			imulCX
 11832 					eif
 11833 4A12 A5 84			lda :eax
 11834 4A14 85 9D			sta :STACKORIGIN+9
 11835 4A16 A5 85			lda :eax+1
 11836 4A18 85 AD			sta :STACKORIGIN+STACKWIDTH+9
 11837 4A1A AD 09 A8			lda DY
 11838 4A1D C9 80			cmp #$80
 11839 4A1F A9 00			lda #$00
 11840 4A21 2A				rol @
 11841 4A22 85 A0			sta :STACKORIGIN+12
 11842 4A24 A9 00			lda #$00
 11843 4A26 85 B0			sta :STACKORIGIN+STACKWIDTH+12
 11844 4A28 A5 A0			lda :STACKORIGIN+12
 11845 4A2A 0A				asl @
 11846 4A2B 26 B0			rol :STACKORIGIN+STACKWIDTH+12
 11847 4A2D 85 A0			sta :STACKORIGIN+12
 11848 4A2F A9 01			lda #$01
 11849 4A31 38 E5 A0			sub :STACKORIGIN+12
 11850 4A34 85 8C			sta :ecx
 11851 4A36 A9 00			lda #$00
 11852 4A38 E5 B0			sbc :STACKORIGIN+STACKWIDTH+12
 11853 4A3A 85 8D			sta :ecx+1
 11854 4A3C A0 00			ldy #$00
 11855 4A3E AD 09 A8			lda DY
 11856 4A41 10 01			spl
 11857 4A43 88				dey
 11858 4A44 84 85			sty :eax+1
 11859 4A46 85 84			sta :eax
 11860 					.ifdef fmulinit
 11861 					fmulu_16
 11862 					els
 11863 4A48 20 8F 10			imulCX
 11864 					eif
 11865 4A4B A5 84			lda :eax
 11866 4A4D 18 65 9D			add :STACKORIGIN+9
 11867 4A50 8D 0F A8			sta DIST
 11868 4A53 A5 85			lda :eax+1
 11869 4A55 65 AD			adc :STACKORIGIN+STACKWIDTH+9
 11870 4A57 8D 10 A8			sta DIST+1
 11871
 11872 				; optimize OK (fight_ai.pas), line = 84
 11873
 11874 4A5A AD 0F A8			lda DIST
 11875 4A5D CD 13 A8			cmp ND
 11876 4A60 AD 10 A8			lda DIST+1
 11877 4A63 ED 14 A8			sbc ND+1
 11878 4A66 50 02			svc
 11879 4A68 49 80			eor #$80
 11880 4A6A 10 17			jpl l_2853
 11881
 11882 				; optimize OK (fight_ai.pas), line = 86
 11883
 11884 4A6C AD 0A A8			lda II
 11885 4A6F 8D 11 A8			sta NE
 11886 4A72 A9 00			lda #$00
 11887 4A74 8D 12 A8			sta NE+1
 11888
 11889 				; optimize OK (fight_ai.pas), line = 87
 11890
 11891 4A77 AD 0F A8			lda DIST
 11892 4A7A 8D 13 A8			sta ND
 11893 4A7D AD 10 A8			lda DIST+1
 11894 4A80 8D 14 A8			sta ND+1
 11895 4A83			l_2853
 11896
 11897 				; --- ForToDoEpilog
 11898 4A83			c_27A1
 11899 4A83 EE 0A A8			inc II
 11900 4A86 F0 03 4C 21 49		jne l_27A1
 11901 4A8B			l_27AF
 11902
 11903 				; optimize OK (fight_ai.pas), line = 96
 11904
 11905 4A8B A9 01			lda #$01
 11906 4A8D 38 ED E6 E6			sub FP_CURRENTSITE
 11907 4A91 0A				asl @
 11908 4A92 0A				asl @
 11909 4A93 0A				asl @
 11910 4A94 0A				asl @
 11911 4A95 8D 08 A8			sta DX
 11912
 11913 				; optimize OK (fight_ai.pas), line = 97
 11914
 11915 4A98 18 6D 11 A8			add NE
 11916 4A9C 8D 08 A8			sta DX
 11917
 11918 				; optimize OK (fight_ai.pas), line = 98
 11919
 11920 4A9F 0A				asl @
 11921 4AA0 A8				tay
 11922 4AA1 B9 05 E4			lda adr.FP_POSW,y
 11923 4AA4 8D 0D A8			sta EP
 11924 4AA7 B9 06 E4			lda adr.FP_POSW+1,y
 11925 4AAA 8D 0E A8			sta EP+1
 11926
 11927 				; optimize OK (fight_ai.pas), line = 99
 11928
 11929 4AAD A9 28			lda #$28
 11930 4AAF 85 8C			sta @SMALLINT.MOD.B
 11931 4AB1 A9 00			lda #$00
 11932 4AB3 85 8D			sta @SMALLINT.MOD.B+1
 11933 4AB5 AD 0B A8			lda CP
 11934 4AB8 85 84			sta @SMALLINT.MOD.A
 11935 4ABA AD 0C A8			lda CP+1
 11936 4ABD 85 85			sta @SMALLINT.MOD.A+1
 11937 4ABF 20 E0 0F			jsr @SMALLINT.MOD
 11938 4AC2 A5 90			lda @SMALLINT.MOD.RESULT
 11939 4AC4 85 9D			sta :STACKORIGIN+9
 11940 4AC6 A9 28			lda #$28
 11941 4AC8 85 8C			sta @SMALLINT.MOD.B
 11942 4ACA A9 00			lda #$00
 11943 4ACC 85 8D			sta @SMALLINT.MOD.B+1
 11944 4ACE AD 0D A8			lda EP
 11945 4AD1 85 84			sta @SMALLINT.MOD.A
 11946 4AD3 AD 0E A8			lda EP+1
 11947 4AD6 85 85			sta @SMALLINT.MOD.A+1
 11948 4AD8 20 E0 0F			jsr @SMALLINT.MOD
 11949 4ADB A5 9D			lda :STACKORIGIN+9
 11950 4ADD 38 E5 90			sub @SMALLINT.MOD.RESULT
 11951 4AE0 8D 08 A8			sta DX
 11952
 11953 				; optimize OK (fight_ai.pas), line = 100
 11954
 11955 4AE3 A9 28			lda #$28
 11956 4AE5 85 8C			sta @SMALLINT.DIV.B
 11957 4AE7 A9 00			lda #$00
 11958 4AE9 85 8D			sta @SMALLINT.DIV.B+1
 11959 4AEB AD 0B A8			lda CP
 11960 4AEE 85 84			sta @SMALLINT.DIV.A
 11961 4AF0 AD 0C A8			lda CP+1
 11962 4AF3 85 85			sta @SMALLINT.DIV.A+1
 11963 4AF5 20 C3 0F			jsr @SMALLINT.DIV
 11964 4AF8 A5 84			lda :eax
 11965 4AFA 85 9D			sta :STACKORIGIN+9
 11966 4AFC A9 28			lda #$28
 11967 4AFE 85 8C			sta @SMALLINT.DIV.B
 11968 4B00 A9 00			lda #$00
 11969 4B02 85 8D			sta @SMALLINT.DIV.B+1
 11970 4B04 AD 0D A8			lda EP
 11971 4B07 85 84			sta @SMALLINT.DIV.A
 11972 4B09 AD 0E A8			lda EP+1
 11973 4B0C 85 85			sta @SMALLINT.DIV.A+1
 11974 4B0E 20 C3 0F			jsr @SMALLINT.DIV
 11975 4B11 A5 9D			lda :STACKORIGIN+9
 11976 4B13 38 E5 84			sub :eax
 11977 4B16 8D 09 A8			sta DY
 11978
 11979 				; optimize OK (fight_ai.pas), line = 103
 11980
 11981 4B19 A9 02			lda #$02
 11982 4B1B 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 11983 4B1E AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 11984 4B21 C9 01			cmp #$01
 11985 4B23 D0 0F			jne l_28BC
 11986
 11987 				; optimize OK (fight_ai.pas), line = 105
 11988
 11989 4B25 AD 08 A8			lda DX
 11990 4B28 10 05			jpl l_28CF
 11991 4B2A A9 07			lda #$07
 11992 4B2C 4C 31 4B			jmp l_28DD
 11993 4B2F			l_28CF
 11994 4B2F A9 06			lda #$06
 11995 4B31			l_28DD
 11996 4B31 4C 40 4B			jmp l_28EA
 11997 4B34			l_28BC
 11998
 11999 				; optimize OK (fight_ai.pas), line = 109
 12000
 12001 4B34 AD 09 A8			lda DY
 12002 4B37 10 05			jpl l_28FC
 12003 4B39 A9 0F			lda #$0F
 12004 4B3B 4C 40 4B			jmp l_290A
 12005 4B3E			l_28FC
 12006 4B3E A9 0E			lda #$0E
 12007 4B40			l_28EA
 12008 4B40			l_290A
 12009 4B40 8D E7 E6			sta FP_CURRENTCOMMAND
 12010
 12011 				; optimize FAIL ('FIGHT_CLEARCURRENTPLAYER', fight_ai.pas), line = 113
 12012
 12013 4B43 20 4D 40			jsr FIGHT_CLEARCURRENTPLAYER
 12014
 12015 				; optimize FAIL ('FIGHT_MOVECURRENTPLAYER', fight_ai.pas), line = 114
 12016
 12017 4B46 20 60 45			jsr FIGHT_MOVECURRENTPLAYER
 12018
 12019 				; optimize OK (fight_ai.pas), line = 116
 12020
 12021 4B49 AD E8 E6			lda FP_VALIDCMD
 12022 4B4C D0 7A			jne l_2922
 12023
 12024 				; optimize OK (fight_ai.pas), line = 118
 12025
 12026 4B4E AD E7 E6			lda FP_CURRENTCOMMAND
 12027 4B51 8D 17 A8			sta @CASETMP_0010
 12028 4B54 C9 0F			cmp #$0F
 12029 4B56 D0 19			jne l_292E
 12030 				@
 12031
 12032 				; optimize OK (fight_ai.pas), line = 119
 12033
 12034 4B58 A9 02			lda #$02
 12035 4B5A 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 12036 4B5D AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 12037 4B60 C9 01			cmp #$01
 12038 4B62 D0 05			jne l_293F
 12039 4B64 A9 06			lda #$06
 12040 4B66 4C 6B 4B			jmp l_294D
 12041 4B69			l_293F
 12042 4B69 A9 07			lda #$07
 12043 4B6B			l_294D
 12044 4B6B 8D E7 E6			sta FP_CURRENTCOMMAND
 12045 4B6E 4C C5 4B			jmp a_0010
 12046 4B71			l_292E
 12047 4B71 C9 0E			cmp #$0E
 12048 4B73 D0 19			jne l_2958
 12049
 12050 				; optimize OK (fight_ai.pas), line = 120
 12051
 12052 4B75 A9 02			lda #$02
 12053 4B77 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 12054 4B7A AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 12055 4B7D C9 01			cmp #$01
 12056 4B7F D0 05			jne l_2969
 12057 4B81 A9 06			lda #$06
 12058 4B83 4C 88 4B			jmp l_2977
 12059 4B86			l_2969
 12060 4B86 A9 07			lda #$07
 12061 4B88			l_2977
 12062 4B88 8D E7 E6			sta FP_CURRENTCOMMAND
 12063 4B8B 4C C5 4B			jmp a_0010
 12064 4B8E			l_2958
 12065 4B8E C9 06			cmp #$06
 12066 4B90 D0 19			jne l_2982
 12067
 12068 				; optimize OK (fight_ai.pas), line = 121
 12069
 12070 4B92 A9 02			lda #$02
 12071 4B94 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 12072 4B97 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 12073 4B9A C9 01			cmp #$01
 12074 4B9C D0 05			jne l_2993
 12075 4B9E A9 0F			lda #$0F
 12076 4BA0 4C A5 4B			jmp l_29A1
 12077 4BA3			l_2993
 12078 4BA3 A9 0E			lda #$0E
 12079 4BA5			l_29A1
 12080 4BA5 8D E7 E6			sta FP_CURRENTCOMMAND
 12081 4BA8 4C C5 4B			jmp a_0010
 12082 4BAB			l_2982
 12083 4BAB C9 07			cmp #$07
 12084 4BAD D0 16			jne l_29AC
 12085
 12086 				; optimize OK (fight_ai.pas), line = 122
 12087
 12088 4BAF A9 02			lda #$02
 12089 4BB1 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 12090 4BB4 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 12091 4BB7 C9 01			cmp #$01
 12092 4BB9 D0 05			jne l_29BD
 12093 4BBB A9 0F			lda #$0F
 12094 4BBD 4C C2 4B			jmp l_29CB
 12095 4BC0			l_29BD
 12096 4BC0 A9 0E			lda #$0E
 12097 4BC2			l_29CB
 12098 4BC2 8D E7 E6			sta FP_CURRENTCOMMAND
 12099 4BC5			l_29AC
 12100 4BC5			a_0010
 12101
 12102 				; optimize FAIL ('FIGHT_MOVECURRENTPLAYER', fight_ai.pas), line = 124
 12103
 12104 4BC5 20 60 45			jsr FIGHT_MOVECURRENTPLAYER
 12105 4BC8			l_2922
 12106
 12107 				; ------------------------------------------------------------
 12108
 12109 = A807			S	= DATAORIGIN+$0BEC
 12110 = A808			DX	= DATAORIGIN+$0BED
 12111 = A809			DY	= DATAORIGIN+$0BEE
 12112 = A80A			II	= DATAORIGIN+$0BEF
 12113 = A80B			CP	= DATAORIGIN+$0BF0
 12114 = A80D			EP	= DATAORIGIN+$0BF2
 12115 = A80F			DIST	= DATAORIGIN+$0BF4
 12116 = A811			NE	= DATAORIGIN+$0BF6
 12117 = A813			ND	= DATAORIGIN+$0BF8
 12118 = A815			@CASETMP_000F	= DATAORIGIN+$0BFA
 12119 = A817			@CASETMP_0010	= DATAORIGIN+$0BFC
 12120
 12121 = A807			@VarData	= S
 12122 = 0010			@VarDataSize	= 16
 12123
 12124 4BC8			@exit
 12125 					.ifdef @new
 12126 					lda <@VarData
 12127 					sta :ztmp
 12128 					lda >@VarData
 12129 					ldy #@VarDataSize-1
 12130 					jmp @FreeMem
 12131 					els
 12132 4BC8 60				rts						; ret
 12133 					eif
 12134 				.endl
 12135
 12136 4BC9			.local	SETUPFIGHTARENA					; FUNCTION
 12137
 12138 				; optimize OK (fight.pas), line = 7
 12139
 12140 4BC9 A9 00			lda #$00
 12141 4BCB 8D AE EA			sta PLAYERPOS_X
 12142
 12143 				; optimize OK (fight.pas), line = 8
 12144
 12145 4BCE 8D AF EA			sta PLAYERPOS_Y
 12146
 12147 				; optimize FAIL ('BLACKCONSOLE', fight.pas), line = 10
 12148
 12149 4BD1 20 6C 27			jsr BLACKCONSOLE
 12150
 12151 				; optimize OK (fight.pas), line = 11
 12152
 12153 4BD4 A9 00			lda #$00
 12154 4BD6 85 88			sta SYSTEM.FILLCHAR.@03018000001810000188000.A
 12155 4BD8 A9 DC			lda #$DC
 12156 4BDA 85 89			sta SYSTEM.FILLCHAR.@03018000001810000188000.A+1
 12157 4BDC A9 C0			lda #$C0
 12158 4BDE 85 8C			sta SYSTEM.FILLCHAR.@03018000001810000188000.COUNT
 12159 4BE0 A9 03			lda #$03
 12160 4BE2 85 8D			sta SYSTEM.FILLCHAR.@03018000001810000188000.COUNT+1
 12161 4BE4 A9 00			lda #$00
 12162 4BE6 85 84			sta SYSTEM.FILLCHAR.@03018000001810000188000.VALUE
 12163 4BE8				.LOCAL +MAIN.SYSTEM.FILLCHAR.@03018000001810000188000
 12164 4BE8				m@INLINE
Macro: MAIN.SYSTEM.FILLCHAR.@03018000001810000188000.M@INLINE [Source: main.a65]
     4 4BE8 20 2C 0F			jsr @fill
Source: main.a65
 12165 					.ENDL
 12166
 12167 				; optimize OK (fight.pas), line = 12
 12168
 12169 4BEB AD 5E 9B			lda FIGHT_MAP_FNAME
 12170 4BEE 8D 07 A7			sta LOADXAPL.FNAME
 12171 4BF1 AD 5F 9B			lda FIGHT_MAP_FNAME+1
 12172 4BF4 8D 08 A7			sta LOADXAPL.FNAME+1
 12173 4BF7 A9 00			lda #$00
 12174 4BF9 8D 09 A7			sta LOADXAPL.OUTPUTPOINTER
 12175 4BFC A9 D8			lda #$D8
 12176 4BFE 8D 0A A7			sta LOADXAPL.OUTPUTPOINTER+1
 12177 4C01 20 20 27			jsr LOADXAPL
 12178
 12179 				; optimize OK (fight.pas), line = 14
 12180
 12181 4C04 A9 00			lda #$00
 12182 4C06 A0 38			ldy #256-200
 12183 4C08 99 C0 DE C8 D0 FA		sta:rne $DEF8+200-256,y+
 12184
 12185 				; optimize FAIL ('ENABLEMAPCONSOLE', fight.pas), line = 15
 12186
 12187 4C0E 20 CE 27			jsr ENABLEMAPCONSOLE
 12188
 12189 				; optimize OK (fight.pas), line = 16
 12190
 12191 4C11 A9 F4			lda #$F4
 12192 4C13 8D F7 EA			sta MAPCOLORB
 12193
 12194 				; optimize OK (fight.pas), line = 18
 12195
 12196 4C16 A9 01			lda #$01
 12197 4C18 8D B5 CD			sta DIDFIGHT
 12198
 12199 				; optimize OK (fight.pas), line = 27
 12200
 12201 4C1B A9 00			lda #$00
 12202 4C1D 8D 19 A8			sta I
 12203
 12204 4C20			l_2A03
 12205 				; --- ForToDoCondition
 12206 4C20 AD 19 A8			lda I
 12207 4C23 C9 20			cmp #$20
 12208 4C25 B0 13			jcs l_2A11
 12209
 12210 				; optimize OK (fight.pas), line = 28
 12211
 12212 4C27 0A				asl @
 12213 4C28 A8				tay
 12214 4C29 B9 B6 EA			lda adr.FPPOSSTART,y
 12215 4C2C 99 05 E4			sta adr.FP_POSW,y
 12216 4C2F B9 B7 EA			lda adr.FPPOSSTART+1,y
 12217 4C32 99 06 E4			sta adr.FP_POSW+1,y
 12218
 12219 				; --- ForToDoEpilog
 12220 4C35 EE 19 A8			inc I
 12221 4C38 D0 E6			jne l_2A03
 12222 4C3A			l_2A11
 12223
 12224 				; optimize OK (fight.pas), line = 30
 12225
 12226 4C3A A9 00			lda #$00
 12227 4C3C 8D 1A A8			sta C
 12228
 12229 				; optimize FAIL ('B_CRT.CRT_WRITERIGHTALIGNED.@02018986000001000180000', fight.pas), line = 31
 12230
 12231 4C3F E8				inx
 12232 4C40 AD 79 A3			lda adr.FP_GANG+$02
 12233 4C43 85 82			sta :bp2
 12234 4C45 AD 7A A3			lda adr.FP_GANG+1+$02
 12235 4C48 85 83			sta :bp2+1
 12236 4C4A A0 00			ldy #$00
 12237 4C4C B1 82 99 6C A2 C8 + 	mva:rne (:bp2),y B_CRT.CRT_WRITERIGHTALIGNED.@02018986000001000180000.adr.S,y+
 12238 4C54 E8				inx
 12239 4C55 A9 13 95 94			mva #$13 :STACKORIGIN,x
 12240 4C59 20 7B 1A			jsr B_CRT.CRT_WRITERIGHTALIGNED.@02018986000001000180000
 12241
 12242 				; optimize OK (fight.pas), line = 32
 12243
 12244 4C5C A9 00			lda #$00
 12245 4C5E 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
 12246 4C61 A9 13			lda #$13
 12247 4C63 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
 12248 4C66 20 F9 17			jsr B_CRT.CRT_GOTOXY
 12249
 12250 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', fight.pas), line = 33
 12251
 12252 4C69 E8				inx
 12253 4C6A AD 77 A3			lda adr.FP_GANG+$00
 12254 4C6D 95 94			sta :STACKORIGIN,x
 12255 4C6F AD 78 A3			lda adr.FP_GANG+1+$00
 12256 4C72 95 A4			sta :STACKORIGIN+STACKWIDTH,x
 12257 4C74 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 12258
 12259 				; optimize OK (fight.pas), line = 34
 12260
 12261 4C77 A9 00			lda #$00
 12262 4C79 8D 6D A3			sta B_CRT.CRT_INVERT.X
 12263 4C7C A9 13			lda #$13
 12264 4C7E 8D 6E A3			sta B_CRT.CRT_INVERT.Y
 12265 4C81 AD 4A 9E			lda B_CRT.CRT_SCREENWIDTH
 12266 4C84 8D 6F A3			sta B_CRT.CRT_INVERT.WIDTH
 12267 4C87 20 BD 1A			jsr B_CRT.CRT_INVERT
 12268
 12269 				; optimize OK (fight.pas), line = 36
 12270
 12271 4C8A A9 63			lda #$63
 12272 4C8C 8D 00 E4			sta FP_WINNER
 12273
 12274 				; --- RepeatUntilProlog
 12275 4C8F			l_2A3C
 12276
 12277 				; optimize OK (fight.pas), line = 38
 12278
 12279 4C8F A9 00			lda #$00
 12280 4C91 8D E6 E6			sta FP_CURRENTSITE
 12281
 12282 4C94			l_2A45
 12283 				; --- ForToDoCondition
 12284 4C94 AD E6 E6			lda FP_CURRENTSITE
 12285 4C97 C9 02			cmp #$02
 12286 4C99 B0 6E			jcs l_2A53
 12287
 12288 				; optimize OK (fight.pas), line = 40
 12289
 12290 4C9B A9 00			lda #$00
 12291 4C9D 8D 19 A8			sta I
 12292 4CA0 AC E6 E6			ldy FP_CURRENTSITE
 12293 4CA3 B9 03 E4			lda adr.FP_N,y
 12294 4CA6 38 E9 01			sub #$01
 12295 4CA9 8D AD 4C			sta @FORTMP_2A62_0
 12296
 12297 4CAC			l_2A65
 12298 				; --- ForToDoCondition
 12299 4CAC A9 00			lda @FORTMP_2A62_0::#$00
 12300 4CAE CD 19 A8			cmp I
 12301 4CB1 90 47			jcc l_2A73
 12302
 12303 				; optimize OK (fight.pas), line = 42
 12304
 12305 4CB3 AD E6 E6			lda FP_CURRENTSITE
 12306 4CB6 0A				asl @
 12307 4CB7 0A				asl @
 12308 4CB8 0A				asl @
 12309 4CB9 0A				asl @
 12310 4CBA 18 6D 19 A8			add I
 12311 4CBE 8D E5 E6			sta FP_CURRENTPLAYER
 12312
 12313 				; optimize OK (fight.pas), line = 43
 12314
 12315 4CC1 A8				tay
 12316 4CC2 B9 85 E4			lda adr.FP_ENERGY,y
 12317 4CC5 D0 03			jne l_2A98
 12318 4CC7 4C F5 4C			jmp c_2A65
 12319 4CCA			l_2A98
 12320
 12321 				; optimize FAIL ('FIGHT_DISPLAYSTATS', fight.pas), line = 44
 12322
 12323 4CCA 20 75 3D			jsr FIGHT_DISPLAYSTATS
 12324
 12325 				; optimize FAIL ('FIGHT_DRAWPLAYERS', fight.pas), line = 45
 12326
 12327 4CCD 20 A4 40			jsr FIGHT_DRAWPLAYERS
 12328
 12329 				; optimize OK (fight.pas), line = 46
 12330
 12331 4CD0 A9 05			lda #$05
 12332 4CD2 20 5A 27			jsr WAITFRAMES
 12333
 12334 				; optimize OK (fight.pas), line = 48
 12335
 12336 4CD5 AC E6 E6			ldy FP_CURRENTSITE
 12337 4CD8 B9 01 E4			lda adr.FP_AI,y
 12338 4CDB C9 01			cmp #$01
 12339 4CDD D0 06			jne l_2AB4
 12340 4CDF 20 9A 48			jsr FIGHT_AIMOVE
 12341 4CE2 4C E8 4C			jmp l_2ABF
 12342 4CE5			l_2AB4
 12343
 12344 				; optimize FAIL ('FIGHT_PLAYERMOVE', fight.pas), line = 49
 12345
 12346 4CE5 20 39 47			jsr FIGHT_PLAYERMOVE
 12347 4CE8			l_2ABF
 12348
 12349 				; optimize FAIL ('FIGHT_CHECKWINNER', fight.pas), line = 51
 12350
 12351 4CE8 20 02 45			jsr FIGHT_CHECKWINNER
 12352
 12353 				; optimize OK (fight.pas), line = 52
 12354
 12355 4CEB AD 00 E4			lda FP_WINNER
 12356 4CEE C9 63			cmp #$63
 12357 4CF0 F0 03			jeq l_2AD3
 12358 4CF2 4C FA 4C			jmp b_2A65
 12359 4CF5			l_2AD3
 12360
 12361 				; --- ForToDoEpilog
 12362 4CF5			c_2A65
 12363 4CF5 EE 19 A8			inc I
 12364 4CF8 D0 B2			jne l_2A65
 12365 4CFA			l_2A73
 12366 4CFA			b_2A65
 12367
 12368 				; optimize OK (fight.pas), line = 54
 12369
 12370 4CFA AD 00 E4			lda FP_WINNER
 12371 4CFD C9 63			cmp #$63
 12372 4CFF F0 03			jeq l_2AED
 12373 4D01 4C 09 4D			jmp b_2A45
 12374 4D04			l_2AED
 12375
 12376 				; --- ForToDoEpilog
 12377 4D04 EE E6 E6			inc FP_CURRENTSITE
 12378 4D07 D0 8B			jne l_2A45
 12379 4D09			l_2A53
 12380 4D09			b_2A45
 12381
 12382 				; optimize OK (fight.pas), line = 56
 12383
 12384 4D09 AD 00 E4			lda FP_WINNER
 12385 4D0C C9 63			cmp #$63
 12386 4D0E D0 03 4C 8F 4C		jeq l_2A3C
 12387
 12388 				; optimize OK (fight.pas), line = 59
 12389
 12390 4D13 A9 00			lda #$00
 12391 4D15 A0 38			ldy #256-200
 12392 4D17 99 C0 DE C8 D0 FA		sta:rne $DEF8+200-256,y+
 12393
 12394 				; optimize FAIL ('B_CRT.CRT_WRITECENTERED.@02018986000001000180000', fight.pas), line = 60
 12395
 12396 4D1D E8				inx
 12397 4D1E AC D0 9B 84 82 AC + 	mwy FIGHT_STRING_6 :bp2
 12398 4D28 A0 00			ldy #$00
 12399 4D2A B1 82 99 6A A1 C8 + 	mva:rne (:bp2),y B_CRT.CRT_WRITECENTERED.@02018986000001000180000.adr.S,y+
 12400 4D32 E8				inx
 12401 4D33 A9 15 95 94			mva #$15 :STACKORIGIN,x
 12402 4D37 20 2C 1A			jsr B_CRT.CRT_WRITECENTERED.@02018986000001000180000
 12403
 12404 				; optimize FAIL ('B_CRT.CRT_WRITECENTERED.@02018986000001000180000', fight.pas), line = 61
 12405
 12406 4D3A E8				inx
 12407 4D3B AD 00 E4			lda FP_WINNER
 12408 4D3E 0A				asl @
 12409 4D3F A8				tay
 12410 4D40 B9 77 A3			lda adr.FP_GANG,y
 12411 4D43 85 82			sta :bp2
 12412 4D45 B9 78 A3			lda adr.FP_GANG+1,y
 12413 4D48 85 83			sta :bp2+1
 12414 4D4A A0 00			ldy #$00
 12415 4D4C B1 82 99 6A A1 C8 + 	mva:rne (:bp2),y B_CRT.CRT_WRITECENTERED.@02018986000001000180000.adr.S,y+
 12416 4D54 E8				inx
 12417 4D55 A9 16 95 94			mva #$16 :STACKORIGIN,x
 12418 4D59 20 2C 1A			jsr B_CRT.CRT_WRITECENTERED.@02018986000001000180000
 12419
 12420 				; optimize FAIL ('CRT_READKEYORFIRE', fight.pas), line = 62
 12421
 12422 4D5C 20 42 1D			jsr CRT_READKEYORFIRE
 12423
 12424 				; optimize OK (fight.pas), line = 63
 12425
 12426 4D5F AD 00 E4			lda FP_WINNER
 12427 4D62 8D 18 A8			sta RESULT
 12428 4D65			@exit
 12429
 12430 				; ------------------------------------------------------------
 12431
 12432 = A818			RESULT	= DATAORIGIN+$0BFD
 12433 = A819			I	= DATAORIGIN+$0BFE
 12434 = A81A			C	= DATAORIGIN+$0BFF
 12435
 12436 = A819			@VarData	= I
 12437 = 0002			@VarDataSize	= 2
 12438
 12439 4D65 60				rts						; ret
 12440 				.endl
 12441
 12442 4D66			.local	DOFIGHT						; FUNCTION
 12443
 12444 				; optimize OK (fight.pas), line = 71
 12445
 12446 4D66 A9 01			lda #$01
 12447 4D68 8D 1C A8			sta RESULT
 12448
 12449 				; optimize OK (fight.pas), line = 74
 12450
 12451 4D6B A9 00			lda #$00
 12452 4D6D 8D 1D A8			sta J
 12453
 12454 4D70			l_2B29
 12455 				; --- ForToDoCondition
 12456 4D70 AC 1D A8			ldy J
 12457 4D73 C0 02			cpy #$02
 12458 4D75 B0 48			jcs l_2B37
 12459
 12460 				; optimize OK (fight.pas), line = 75
 12461
 12462 4D77 B9 01 E4			lda adr.FP_AI,y
 12463 4D7A C9 01			cmp #$01
 12464 4D7C D0 3C			jne l_2B4C
 12465
 12466 				; optimize OK (fight.pas), line = 77
 12467
 12468 4D7E A9 00			lda #$00
 12469 4D80 8D 1E A8			sta K
 12470 4D83 B9 03 E4			lda adr.FP_N,y
 12471 4D86 38 E9 01			sub #$01
 12472 4D89 8D 8D 4D			sta @FORTMP_2B5C_0
 12473
 12474 4D8C			l_2B5F
 12475 				; --- ForToDoCondition
 12476 4D8C A9 00			lda @FORTMP_2B5C_0::#$00
 12477 4D8E CD 1E A8			cmp K
 12478 4D91 90 27			jcc l_2B6D
 12479
 12480 				; optimize OK (fight.pas), line = 78
 12481
 12482 4D93 AD 1D A8			lda J
 12483 4D96 0A				asl @
 12484 4D97 0A				asl @
 12485 4D98 0A				asl @
 12486 4D99 0A				asl @
 12487 4D9A 18 6D 1E A8			add K
 12488 4D9E A8				tay
 12489 4D9F A9 1E			lda #$1E
 12490 4DA1 99 C5 E4			sta adr.FP_STRENGTH,y
 12491
 12492 				; optimize OK (fight.pas), line = 79
 12493
 12494 4DA4 AD 1D A8			lda J
 12495 4DA7 0A				asl @
 12496 4DA8 0A				asl @
 12497 4DA9 0A				asl @
 12498 4DAA 0A				asl @
 12499 4DAB 18 6D 1E A8			add K
 12500 4DAF A8				tay
 12501 4DB0 A9 1E			lda #$1E
 12502 4DB2 99 05 E5			sta adr.FP_BRUTALITY,y
 12503
 12504 				; --- ForToDoEpilog
 12505 4DB5 EE 1E A8			inc K
 12506 4DB8 D0 D2			jne l_2B5F
 12507 4DBA			l_2B6D
 12508 4DBA			l_2B4C
 12509
 12510 				; --- ForToDoEpilog
 12511 4DBA EE 1D A8			inc J
 12512 4DBD D0 B1			jne l_2B29
 12513 4DBF			l_2B37
 12514
 12515 				; optimize OK (fight.pas), line = 84
 12516
 12517 4DBF AC 8A CD			ldy CURRENTPLAYER
 12518 4DC2 B9 B1 CD			lda adr.PLNGANGSTERS,y
 12519 4DC5 8D 03 E4			sta adr.FP_N
 12520
 12521 				; optimize OK (fight.pas), line = 85
 12522
 12523 4DC8 98				tya
 12524 4DC9 0A				asl @
 12525 4DCA A8				tay
 12526 4DCB B9 DA A3			lda adr.PLGANG,y
 12527 4DCE 85 88			sta @move.src
 12528 4DD0 B9 DB A3			lda adr.PLGANG+1,y
 12529 4DD3 85 89			sta @move.src+1
 12530 4DD5 AD 77 A3			lda adr.FP_GANG
 12531 4DD8 85 8C			sta @move.dst
 12532 4DDA AD 78 A3			lda adr.FP_GANG+1
 12533 4DDD 85 8D			sta @move.dst+1
 12534 4DDF A0 00			ldy #$00
 12535 4DE1 B1 88			lda (@move.src),y
 12536 4DE3 18 69 01			add #1
 12537 4DE6 85 84			sta @move.cnt
 12538 4DE8 90 01			scc
 12539 4DEA C8				iny
 12540 4DEB 84 85			sty @move.cnt+1
 12541 4DED 20 D7 0E			jsr @move
 12542
 12543 				; optimize OK (fight.pas), line = 86
 12544
 12545 4DF0 A9 00			lda #$00
 12546 4DF2 8D 01 E4			sta adr.FP_AI
 12547
 12548 				; optimize OK (fight.pas), line = 88
 12549
 12550 4DF5 8D 1E A8			sta K
 12551
 12552 				; optimize OK (fight.pas), line = 89
 12553
 12554 4DF8 8D 1D A8			sta J
 12555
 12556 4DFB			l_2BC0
 12557 				; --- ForToDoCondition
 12558 4DFB AC 1D A8			ldy J
 12559 4DFE C0 20			cpy #$20
 12560 4E00 90 03 4C 83 4E		jcs l_2BCE
 12561
 12562 				; optimize OK (fight.pas), line = 91
 12563
 12564 4E05 B9 91 CD			lda adr.PLGANGSTERS,y
 12565 4E08 CD 8A CD			cmp CURRENTPLAYER
 12566 4E0B D0 6E			jne l_2BE5
 12567
 12568 				; optimize OK (fight.pas), line = 93
 12569
 12570 4E0D AD 1D A8			lda J
 12571 4E10 0A				asl @
 12572 4E11 A8				tay
 12573 4E12 B9 E2 A3			lda adr.GANGSTERNAMES,y
 12574 4E15 85 88			sta @move.src
 12575 4E17 B9 E3 A3			lda adr.GANGSTERNAMES+1,y
 12576 4E1A 85 89			sta @move.src+1
 12577 4E1C AD 1E A8			lda K
 12578 4E1F 0A				asl @
 12579 4E20 A8				tay
 12580 4E21 B9 7B A3			lda adr.FP_NAME,y
 12581 4E24 85 8C			sta @move.dst
 12582 4E26 B9 7C A3			lda adr.FP_NAME+1,y
 12583 4E29 85 8D			sta @move.dst+1
 12584 4E2B A0 00			ldy #$00
 12585 4E2D B1 88			lda (@move.src),y
 12586 4E2F 18 69 01			add #1
 12587 4E32 85 84			sta @move.cnt
 12588 4E34 90 01			scc
 12589 4E36 C8				iny
 12590 4E37 84 85			sty @move.cnt+1
 12591 4E39 20 D7 0E			jsr @move
 12592
 12593 				; optimize OK (fight.pas), line = 94
 12594
 12595 4E3C AC 1D A8			ldy J
 12596 4E3F B9 28 CD			lda adr.GANGSTERHEALTH,y
 12597 4E42 AC 1E A8			ldy K
 12598 4E45 99 85 E4			sta adr.FP_ENERGY,y
 12599
 12600 				; optimize OK (fight.pas), line = 95
 12601
 12602 4E48 AC 1D A8			ldy J
 12603 4E4B B9 48 CD			lda adr.GANGSTERWEAPON,y
 12604 4E4E AC 1E A8			ldy K
 12605 4E51 99 45 E4			sta adr.FP_WEAPON,y
 12606
 12607 				; optimize OK (fight.pas), line = 96
 12608
 12609 4E54 AC 1D A8			ldy J
 12610 4E57 B9 C8 CC			lda adr.GANGSTERSTR,y
 12611 4E5A AC 1E A8			ldy K
 12612 4E5D 99 C5 E4			sta adr.FP_STRENGTH,y
 12613
 12614 				; optimize OK (fight.pas), line = 97
 12615
 12616 4E60 AC 1D A8			ldy J
 12617 4E63 B9 08 CD			lda adr.GANGSTERBRUT,y
 12618 4E66 AC 1E A8			ldy K
 12619 4E69 99 05 E5			sta adr.FP_BRUTALITY,y
 12620
 12621 				; optimize OK (fight.pas), line = 98
 12622
 12623 4E6C AC 1D A8			ldy J
 12624 4E6F B9 68 CD			lda adr.GANGSTERSEX,y
 12625 4E72 AC 1E A8			ldy K
 12626 4E75 99 45 E5			sta adr.FP_SEX,y
 12627
 12628 				; optimize OK (fight.pas), line = 99
 12629
 12630 4E78 EE 1E A8			inc K
 12631 4E7B			l_2BE5
 12632
 12633 				; --- ForToDoEpilog
 12634 4E7B EE 1D A8			inc J
 12635 4E7E F0 03 4C FB 4D		jne l_2BC0
 12636 4E83			l_2BCE
 12637
 12638 				; optimize FAIL ('SETUPFIGHTARENA', fight.pas), line = 104
 12639
 12640 4E83 20 C9 4B			jsr SETUPFIGHTARENA
 12641 4E86 AD 18 A8			lda SETUPFIGHTARENA.RESULT
 12642 4E89 8D 1F A8			sta W
 12643
 12644 				; optimize OK (fight.pas), line = 107
 12645
 12646 4E8C A9 00			lda #$00
 12647 4E8E 8D 1E A8			sta K
 12648
 12649 				; optimize OK (fight.pas), line = 108
 12650
 12651 4E91 8D 1D A8			sta J
 12652
 12653 4E94			l_2C4F
 12654 				; --- ForToDoCondition
 12655 4E94 AC 1D A8			ldy J
 12656 4E97 C0 20			cpy #$20
 12657 4E99 B0 25			jcs l_2C5D
 12658
 12659 				; optimize OK (fight.pas), line = 110
 12660
 12661 4E9B B9 91 CD			lda adr.PLGANGSTERS,y
 12662 4E9E CD 8A CD			cmp CURRENTPLAYER
 12663 4EA1 D0 18			jne l_2C74
 12664
 12665 				; optimize OK (fight.pas), line = 112
 12666
 12667 4EA3 AC 1E A8			ldy K
 12668 4EA6 B9 85 E4			lda adr.FP_ENERGY,y
 12669 4EA9 AC 1D A8			ldy J
 12670 4EAC 99 28 CD			sta adr.GANGSTERHEALTH,y
 12671
 12672 				; optimize OK (fight.pas), line = 114
 12673
 12674 4EAF C9 05			cmp #$05
 12675 4EB1 B0 05			jcs l_2C96
 12676 4EB3 A9 05			lda #$05
 12677 4EB5 99 28 CD			sta adr.GANGSTERHEALTH,y
 12678 4EB8			l_2C96
 12679
 12680 				; optimize OK (fight.pas), line = 115
 12681
 12682 4EB8 EE 1E A8			inc K
 12683 4EBB			l_2C74
 12684
 12685 				; --- ForToDoEpilog
 12686 4EBB EE 1D A8			inc J
 12687 4EBE D0 D4			jne l_2C4F
 12688 4EC0			l_2C5D
 12689
 12690 				; optimize OK (fight.pas), line = 119
 12691
 12692 4EC0 AD 1F A8			lda W
 12693 4EC3 8D 1C A8			sta RESULT
 12694
 12695 				; optimize FAIL ('ENABLEMAPCONSOLE', fight.pas), line = 121
 12696
 12697 4EC6 20 CE 27			jsr ENABLEMAPCONSOLE
 12698 4EC9			@exit
 12699
 12700 				; ------------------------------------------------------------
 12701
 12702 = A81C			RESULT	= DATAORIGIN+$0C01
 12703 = A81D			J	= DATAORIGIN+$0C02
 12704 = A81E			K	= DATAORIGIN+$0C03
 12705 = A81F			W	= DATAORIGIN+$0C04
 12706
 12707 = A81D			@VarData	= J
 12708 = 0003			@VarDataSize	= 3
 12709
 12710 4EC9 60				rts						; ret
 12711 				.endl
 12712
 12713 4ECA			.local	FIGHTPOLICE					; FUNCTION
 12714
 12715 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', helpers_fight.pas), line = 4
 12716
 12717 4ECA 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 12718
 12719 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', helpers_fight.pas), line = 5
 12720
 12721 4ECD E8				inx
 12722 4ECE AD EE 9B 95 94		mva POLICE_STRING_1 :STACKORIGIN,x
 12723 4ED3 AD EF 9B 95 A4		mva POLICE_STRING_1+1 :STACKORIGIN+STACKWIDTH,x
 12724 4ED8 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 12725
 12726 				; optimize FAIL ('WAITFORKEY', helpers_fight.pas), line = 6
 12727
 12728 4EDB 20 88 1D			jsr WAITFORKEY
 12729
 12730 				; optimize FAIL ('PREPAREFIGHTAGAINSTPOLICE', helpers_fight.pas), line = 7
 12731
 12732 4EDE 20 E9 30			jsr PREPAREFIGHTAGAINSTPOLICE
 12733
 12734 				; optimize FAIL ('DOFIGHT', helpers_fight.pas), line = 8
 12735
 12736 4EE1 20 66 4D			jsr DOFIGHT
 12737 4EE4 AD 1C A8			lda DOFIGHT.RESULT
 12738 4EE7 C9 01			cmp #$01
 12739 4EE9 D0 0B			jne l_2CD2
 12740
 12741 				; optimize FAIL ('GOTCAUGHT', helpers_fight.pas), line = 10
 12742
 12743 4EEB 20 F9 35			jsr GOTCAUGHT
 12744
 12745 				; optimize OK (helpers_fight.pas), line = 11
 12746
 12747 4EEE A9 11			lda #$11
 12748 4EF0 8D 21 A8			sta RESULT
 12749 4EF3 4C FB 4E			jmp @exit
 12750 4EF6			l_2CD2
 12751
 12752 				; optimize OK (helpers_fight.pas), line = 14
 12753
 12754 4EF6 A9 01			lda #$01
 12755 4EF8 20 B3 2F			jsr ADDPOINTS
 12756 4EFB			@exit
 12757
 12758 				; ------------------------------------------------------------
 12759
 12760 = A821			RESULT	= DATAORIGIN+$0C06
 12761
 12762 4EFB 60				rts						; ret
 12763 				.endl
 12764
 12765 4EFC			.local	INCREASECURRENTGANGSTER				; PROCEDURE
 12766
 12767 				; optimize OK (armsdealer.pas), line = 4
 12768
 12769 4EFC AC 88 CD			ldy CURRENTGANGSTER
 12770 4EFF B9 C8 CC			lda adr.GANGSTERSTR,y
 12771 4F02 18 6D 22 A8			add INC_ST
 12772 4F06 99 C8 CC			sta adr.GANGSTERSTR,y
 12773
 12774 				; optimize OK (armsdealer.pas), line = 5
 12775
 12776 4F09 C9 64			cmp #$64
 12777 4F0B 90 05			jcc l_2D07
 12778
 12779 				; optimize OK (armsdealer.pas), line = 6
 12780
 12781 4F0D A9 63			lda #$63
 12782 4F0F 99 C8 CC			sta adr.GANGSTERSTR,y
 12783 4F12			l_2D07
 12784
 12785 				; optimize OK (armsdealer.pas), line = 8
 12786
 12787 4F12 AC 88 CD			ldy CURRENTGANGSTER
 12788 4F15 B9 E8 CC			lda adr.GANGSTERINT,y
 12789 4F18 18 6D 23 A8			add INC_IN
 12790 4F1C 99 E8 CC			sta adr.GANGSTERINT,y
 12791
 12792 				; optimize OK (armsdealer.pas), line = 9
 12793
 12794 4F1F C9 64			cmp #$64
 12795 4F21 90 05			jcc l_2D38
 12796
 12797 				; optimize OK (armsdealer.pas), line = 10
 12798
 12799 4F23 A9 63			lda #$63
 12800 4F25 99 E8 CC			sta adr.GANGSTERINT,y
 12801 4F28			l_2D38
 12802
 12803 				; optimize OK (armsdealer.pas), line = 12
 12804
 12805 4F28 AC 88 CD			ldy CURRENTGANGSTER
 12806 4F2B B9 08 CD			lda adr.GANGSTERBRUT,y
 12807 4F2E 18 6D 24 A8			add INC_BT
 12808 4F32 99 08 CD			sta adr.GANGSTERBRUT,y
 12809
 12810 				; optimize OK (armsdealer.pas), line = 13
 12811
 12812 4F35 C9 64			cmp #$64
 12813 4F37 90 05			jcc l_2D69
 12814
 12815 				; optimize OK (armsdealer.pas), line = 14
 12816
 12817 4F39 A9 63			lda #$63
 12818 4F3B 99 08 CD			sta adr.GANGSTERBRUT,y
 12819 4F3E			l_2D69
 12820
 12821 				; optimize OK (armsdealer.pas), line = 17
 12822
 12823 4F3E A9 13			lda #$13
 12824 4F40 20 49 1C			jsr CRT_WRITELN_LOCSTR
 12825
 12826 				; optimize OK (armsdealer.pas), line = 18
 12827
 12828 4F43 A9 14			lda #$14
 12829 4F45 20 49 1C			jsr CRT_WRITELN_LOCSTR
 12830
 12831 				; ------------------------------------------------------------
 12832
 12833 = A822			INC_ST	= DATAORIGIN+$0C07
 12834 = A823			INC_IN	= DATAORIGIN+$0C08
 12835 = A824			INC_BT	= DATAORIGIN+$0C09
 12836
 12837 = A822			@VarData	= INC_ST
 12838 = 0003			@VarDataSize	= 3
 12839
 12840 4F48			@exit
 12841 					.ifdef @new
 12842 					lda <@VarData
 12843 					sta :ztmp
 12844 					lda >@VarData
 12845 					ldy #@VarDataSize-1
 12846 					jmp @FreeMem
 12847 					els
 12848 4F48 60				rts						; ret
 12849 					eif
 12850 				.endl
 12851
 12852 4F49			.local	ARMSDEALERCHOICES				; FUNCTION
 12853
 12854 				; optimize OK (armsdealer.pas), line = 35
 12855
 12856 4F49 AD 22 C9			lda CURRENTCHOICE
 12857 4F4C C9 01			cmp #$01
 12858 4F4E F0 03 4C 09 52		jne l_2D8D
 12859
 12860 				; optimize FAIL ('SHOWLOCATIONHEADER', armsdealer.pas), line = 37
 12861
 12862 4F53 20 18 28			jsr SHOWLOCATIONHEADER
 12863
 12864 				; optimize OK (armsdealer.pas), line = 39
 12865
 12866 4F56 A9 01			lda #$01
 12867 4F58 20 53 1C			jsr CRT_WRITELN2_LOCSTR
 12868
 12869 				; optimize OK (armsdealer.pas), line = 40
 12870
 12871 4F5B A9 01			lda #$01
 12872 4F5D 8D 28 A8			sta MINWEAPON
 12873
 12874 				; optimize OK (armsdealer.pas), line = 41
 12875
 12876 4F60 A9 05			lda #$05
 12877 4F62 8D 27 A8			sta MAXWEAPON
 12878
 12879 				; optimize OK (armsdealer.pas), line = 42
 12880
 12881 4F65 AD 0E A7			lda CURRENTSUBLOCATION
 12882 4F68 C9 02			cmp #$02
 12883 4F6A D0 3F			jne l_2DAB
 12884
 12885 				; optimize OK (armsdealer.pas), line = 45
 12886
 12887 4F6C A9 07			lda #$07
 12888 4F6E 8D 27 A8			sta MAXWEAPON
 12889
 12890 				; optimize FAIL (1, armsdealer.pas), line = 46
 12891
 12892 4F71 E8				inx
 12893 4F72 AC 8A CD			ldy CURRENTPLAYER
 12894 4F75 B9 98 C9			lda adr.PLRANK,y
 12895 4F78 A0 01			ldy #1
 12896 4F7A C9 06			cmp #$06
 12897 4F7C B0 01			bcs @+
 12898 4F7E 88				dey
 12899 				@
 12900 4F7F 94 94			sty :STACKORIGIN,x
 12901 4F81 A9 04			lda #$04
 12902 4F83 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 12903 4F86 CA				dex
 12904 4F87 A0 01			ldy #1
 12905 4F89 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 12906 4F8C F0 01			beq @+
 12907 4F8E 88				dey
 12908 				@
 12909 4F8F 98				tya
 12910 4F90 35 95			and :STACKORIGIN+1,x
 12911 4F92 F0 12			jeq l_2DD0
 12912
 12913 				; optimize OK (armsdealer.pas), line = 48
 12914
 12915 4F94 A9 02			lda #$02
 12916 4F96 20 49 1C			jsr CRT_WRITELN_LOCSTR
 12917
 12918 				; optimize OK (armsdealer.pas), line = 49
 12919
 12920 4F99 A9 03			lda #$03
 12921 4F9B 20 49 1C			jsr CRT_WRITELN_LOCSTR
 12922
 12923 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', armsdealer.pas), line = 50
 12924
 12925 4F9E 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 12926
 12927 				; optimize OK (armsdealer.pas), line = 51
 12928
 12929 4FA1 A9 08			lda #$08
 12930 4FA3 8D 27 A8			sta MAXWEAPON
 12931 4FA6			l_2DD0
 12932
 12933 				; optimize OK (armsdealer.pas), line = 53
 12934
 12935 4FA6 A9 03			lda #$03
 12936 4FA8 8D 28 A8			sta MINWEAPON
 12937 4FAB			l_2DAB
 12938
 12939 				; optimize OK (armsdealer.pas), line = 56
 12940
 12941 4FAB AD 0E A7			lda CURRENTSUBLOCATION
 12942 4FAE C9 01			cmp #$01
 12943 4FB0 D0 05			jne l_2DF4
 12944 4FB2 A9 05			lda #$05
 12945 4FB4 8D 27 A8			sta MAXWEAPON
 12946 4FB7			l_2DF4
 12947
 12948 				; optimize OK (armsdealer.pas), line = 57
 12949
 12950 4FB7 AD 0E A7			lda CURRENTSUBLOCATION
 12951 4FBA C9 04			cmp #$04
 12952 4FBC D0 0A			jne l_2E0D
 12953
 12954 				; optimize OK (armsdealer.pas), line = 59
 12955
 12956 4FBE A9 02			lda #$02
 12957 4FC0 8D 28 A8			sta MINWEAPON
 12958
 12959 				; optimize OK (armsdealer.pas), line = 60
 12960
 12961 4FC3 A9 06			lda #$06
 12962 4FC5 8D 27 A8			sta MAXWEAPON
 12963 4FC8			l_2E0D
 12964
 12965 				; optimize OK (armsdealer.pas), line = 64
 12966
 12967 4FC8 AD 28 A8			lda MINWEAPON
 12968 4FCB 8D 26 A8			sta R
 12969
 12970 4FCE			l_2E25
 12971 				; --- ForToDoCondition
 12972 4FCE AD 26 A8			lda R
 12973 4FD1 CD 27 A8			cmp MAXWEAPON
 12974 4FD4 90 02			scc
 12975 4FD6 D0 59			jne l_2E33
 12976
 12977 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', armsdealer.pas), line = 66
 12978
 12979 4FD8 E8				inx
 12980 4FD9 A9 6B 95 94			mva #$6B :STACKORIGIN,x
 12981 4FDD A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 12982 4FE1 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 12983
 12984 				; optimize OK (armsdealer.pas), line = 67
 12985
 12986 4FE4 AD 26 A8			lda R
 12987 4FE7 20 CB 18			jsr B_CRT.CRT_WRITE.@010180000
 12988
 12989 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', armsdealer.pas), line = 68
 12990
 12991 4FEA E8				inx
 12992 4FEB A9 76 95 94			mva #$76 :STACKORIGIN,x
 12993 4FEF A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 12994 4FF3 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 12995
 12996 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', armsdealer.pas), line = 69
 12997
 12998 4FF6 E8				inx
 12999 4FF7 AD 26 A8			lda R
 13000 4FFA 0A				asl @
 13001 4FFB A8				tay
 13002 4FFC B9 38 A4			lda adr.WEAPONNAMES,y
 13003 4FFF 95 94			sta :STACKORIGIN,x
 13004 5001 B9 39 A4			lda adr.WEAPONNAMES+1,y
 13005 5004 95 A4			sta :STACKORIGIN+STACKWIDTH,x
 13006 5006 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 13007
 13008 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', armsdealer.pas), line = 70
 13009
 13010 5009 E8				inx
 13011 500A A9 85 95 94			mva #$85 :STACKORIGIN,x
 13012 500E A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 13013 5012 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 13014
 13015 				; optimize OK (armsdealer.pas), line = 71
 13016
 13017 5015 AD 26 A8			lda R
 13018 5018 0A				asl @
 13019 5019 A8				tay
 13020 501A B9 18 E7			lda adr.WEAPONPRICES,y
 13021 501D 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 13022 5020 B9 19 E7			lda adr.WEAPONPRICES+1,y
 13023 5023 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 13024 5026 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 13025
 13026 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', armsdealer.pas), line = 72
 13027
 13028 5029 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 13029
 13030 				; --- ForToDoEpilog
 13031 502C EE 26 A8			inc R
 13032 502F D0 9D			jne l_2E25
 13033 5031			l_2E33
 13034
 13035 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', armsdealer.pas), line = 74
 13036
 13037 5031 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 13038
 13039 				; optimize OK (armsdealer.pas), line = 75
 13040
 13041 5034 A9 04			lda #$04
 13042 5036 20 04 1C			jsr CRT_WRITE_LOCSTR
 13043
 13044 				; optimize OK (armsdealer.pas), line = 76
 13045
 13046 5039 AD 28 A8			lda MINWEAPON
 13047 503C 8D E9 A6			sta READVALUE.MINVALUE
 13048 503F A9 00			lda #$00
 13049 5041 8D EA A6			sta READVALUE.MINVALUE+1
 13050 5044 AD 27 A8			lda MAXWEAPON
 13051 5047 8D EB A6			sta READVALUE.MAXVALUE
 13052 504A A9 00			lda #$00
 13053 504C 8D EC A6			sta READVALUE.MAXVALUE+1
 13054 504F 20 64 1F			jsr READVALUE
 13055 5052 AD ED A6			lda READVALUE.RESULT
 13056 5055 8D 29 A8			sta SELECTEDWEAPON
 13057
 13058 				; optimize OK (armsdealer.pas), line = 77
 13059
 13060 5058 D0 03 4C E8 53		jeq @exit
 13061 505D			l_2E6E
 13062
 13063 				; optimize FAIL ('SHOWLOCATIONHEADER', armsdealer.pas), line = 81
 13064
 13065 505D 20 18 28			jsr SHOWLOCATIONHEADER
 13066
 13067 				; optimize OK (armsdealer.pas), line = 82
 13068
 13069 5060 A9 17			lda #$17
 13070 5062 20 04 1C			jsr CRT_WRITE_LOCSTR
 13071
 13072 				; optimize OK (armsdealer.pas), line = 83
 13073
 13074 5065 A9 00			lda #$00
 13075 5067 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
 13076 506A A9 03			lda #$03
 13077 506C 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
 13078 506F 20 F9 17			jsr B_CRT.CRT_GOTOXY
 13079
 13080 				; optimize OK (armsdealer.pas), line = 85
 13081
 13082 5072 A9 01			lda #$01
 13083 5074 8D 23 C9			sta SHOWWEAPONS
 13084
 13085 				; optimize FAIL ('SELECTGANGSTER', armsdealer.pas), line = 86
 13086
 13087 5077 20 D8 33			jsr SELECTGANGSTER
 13088
 13089 				; optimize OK (armsdealer.pas), line = 87
 13090
 13091 507A AD 88 CD			lda CURRENTGANGSTER
 13092 507D C9 63			cmp #$63
 13093 507F D0 03 4C E8 53		jeq @exit
 13094 5084			l_2E8E
 13095
 13096 				; optimize FAIL ('SHOWLOCATIONHEADER', armsdealer.pas), line = 88
 13097
 13098 5084 20 18 28			jsr SHOWLOCATIONHEADER
 13099
 13100 				; optimize OK (armsdealer.pas), line = 90
 13101
 13102 5087 A9 00			lda #$00
 13103 5089 8D 2A A8			sta GA
 13104
 13105 				; optimize OK (armsdealer.pas), line = 93
 13106
 13107 508C AC 29 A8			ldy SELECTEDWEAPON
 13108 508F B9 2A E7			lda adr.WEAPONREACH,y
 13109 5092 C9 0C			cmp #$0C
 13110 5094 90 14			jcc l_2EAB
 13111
 13112 				; optimize OK (armsdealer.pas), line = 94
 13113
 13114 5096 AC 88 CD			ldy CURRENTGANGSTER
 13115 5099 B9 C8 CC			lda adr.GANGSTERSTR,y
 13116 509C C9 28			cmp #$28
 13117 509E B0 0A			jcs l_2EC1
 13118
 13119 				; optimize OK (armsdealer.pas), line = 95
 13120
 13121 50A0 A9 06			lda #$06
 13122 50A2 20 04 1C			jsr CRT_WRITE_LOCSTR
 13123
 13124 				; optimize OK (armsdealer.pas), line = 96
 13125
 13126 50A5 A9 FF			lda #$FF
 13127 50A7 8D 2A A8			sta GA
 13128 50AA			l_2EC1
 13129 50AA			l_2EAB
 13130
 13131 				; optimize OK (armsdealer.pas), line = 101
 13132
 13133 50AA AC 29 A8			ldy SELECTEDWEAPON
 13134 50AD B9 33 E7			lda adr.WEAPONPRECISION,y
 13135 50B0 C9 05			cmp #$05
 13136 50B2 90 14			jcc l_2EE1
 13137
 13138 				; optimize OK (armsdealer.pas), line = 102
 13139
 13140 50B4 AC 88 CD			ldy CURRENTGANGSTER
 13141 50B7 B9 E8 CC			lda adr.GANGSTERINT,y
 13142 50BA C9 28			cmp #$28
 13143 50BC B0 0A			jcs l_2EF7
 13144
 13145 				; optimize OK (armsdealer.pas), line = 103
 13146
 13147 50BE A9 05			lda #$05
 13148 50C0 20 04 1C			jsr CRT_WRITE_LOCSTR
 13149
 13150 				; optimize OK (armsdealer.pas), line = 104
 13151
 13152 50C3 A9 FF			lda #$FF
 13153 50C5 8D 2A A8			sta GA
 13154 50C8			l_2EF7
 13155 50C8			l_2EE1
 13156
 13157 				; optimize OK (armsdealer.pas), line = 109
 13158
 13159 50C8 AC 29 A8			ldy SELECTEDWEAPON
 13160 50CB B9 3C E7			lda adr.WEAPONEFFECT,y
 13161 50CE C9 0A			cmp #$0A
 13162 50D0 90 14			jcc l_2F17
 13163
 13164 				; optimize OK (armsdealer.pas), line = 110
 13165
 13166 50D2 AC 88 CD			ldy CURRENTGANGSTER
 13167 50D5 B9 08 CD			lda adr.GANGSTERBRUT,y
 13168 50D8 C9 28			cmp #$28
 13169 50DA B0 0A			jcs l_2F2D
 13170
 13171 				; optimize OK (armsdealer.pas), line = 111
 13172
 13173 50DC A9 07			lda #$07
 13174 50DE 20 04 1C			jsr CRT_WRITE_LOCSTR
 13175
 13176 				; optimize OK (armsdealer.pas), line = 112
 13177
 13178 50E1 A9 FF			lda #$FF
 13179 50E3 8D 2A A8			sta GA
 13180 50E6			l_2F2D
 13181 50E6			l_2F17
 13182
 13183 				; optimize OK (armsdealer.pas), line = 117
 13184
 13185 50E6 AD 2A A8			lda GA
 13186 50E9 10 06			jpl l_2F4A
 13187
 13188 				; optimize FAIL ('WAITFORKEY', armsdealer.pas), line = 119
 13189
 13190 50EB 20 88 1D			jsr WAITFORKEY
 13191 50EE 4C E8 53			jmp @exit
 13192 50F1			l_2F4A
 13193
 13194 				; optimize OK (armsdealer.pas), line = 149
 13195
 13196 50F1 AD 29 A8			lda SELECTEDWEAPON
 13197 50F4 0A				asl @
 13198 50F5 A8				tay
 13199 50F6 B9 18 E7			lda adr.WEAPONPRICES,y
 13200 50F9 8D A6 A7			sta PAYMONEY.PRICE
 13201 50FC B9 19 E7			lda adr.WEAPONPRICES+1,y
 13202 50FF 8D A7 A7			sta PAYMONEY.PRICE+1
 13203 5102 20 02 32			jsr PAYMONEY
 13204 5105 AD A8 A7			lda PAYMONEY.RESULT
 13205 5108 D0 03 4C E8 53		jeq @exit
 13206 510D			l_2F63
 13207
 13208 				; optimize OK (armsdealer.pas), line = 151
 13209
 13210 510D AC 88 CD			ldy CURRENTGANGSTER
 13211 5110 B9 48 CD			lda adr.GANGSTERWEAPON,y
 13212 5113 8D 2A A8			sta GA
 13213
 13214 				; optimize OK (armsdealer.pas), line = 152
 13215
 13216 5116 D0 03 4C CE 51		jeq l_2F81
 13217
 13218 				; optimize FAIL (1, armsdealer.pas), line = 154
 13219
 13220 511B E8				inx
 13221 511C AD 2A A8			lda GA
 13222 511F 0A				asl @
 13223 5120 A8				tay
 13224 5121 B9 18 E7			lda adr.WEAPONPRICES,y
 13225 5124 95 94			sta :STACKORIGIN,x
 13226 5126 B9 19 E7			lda adr.WEAPONPRICES+1,y
 13227 5129 95 A4			sta :STACKORIGIN+STACKWIDTH,x
 13228 512B E8				inx
 13229 512C A9 02 95 94			mva #$02 :STACKORIGIN,x
 13230 5130 20 2D 0E			jsr @shrAX_CL
 13231 5133 CA				dex
 13232 5134 A9 F4			lda #$F4
 13233 5136 8D 28 9C			sta SYSTEM.RANDOM.@010184000.RANGE
 13234 5139 A9 01			lda #$01
 13235 513B 8D 29 9C			sta SYSTEM.RANDOM.@010184000.RANGE+1
 13236 513E 20 A6 13			jsr SYSTEM.RANDOM.@010184000
 13237 5141 B5 94			lda :STACKORIGIN,x
 13238 5143 18 6D 2A 9C			add SYSTEM.RANDOM.@010184000.RESULT
 13239 5147 8D 30 A8			sta OLDWEAPONPRICE
 13240 514A B5 A4			lda :STACKORIGIN+STACKWIDTH,x
 13241 514C 6D 2B 9C			adc SYSTEM.RANDOM.@010184000.RESULT+1
 13242 514F 8D 31 A8			sta OLDWEAPONPRICE+1
 13243 5152 CA				dex
 13244
 13245 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', armsdealer.pas), line = 155
 13246
 13247 5153 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 13248
 13249 				; optimize OK (armsdealer.pas), line = 156
 13250
 13251 5156 A9 08			lda #$08
 13252 5158 20 04 1C			jsr CRT_WRITE_LOCSTR
 13253
 13254 				; optimize OK (armsdealer.pas), line = 157
 13255
 13256 515B AD 30 A8			lda OLDWEAPONPRICE
 13257 515E 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 13258 5161 AD 31 A8			lda OLDWEAPONPRICE+1
 13259 5164 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 13260 5167 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 13261
 13262 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', armsdealer.pas), line = 158
 13263
 13264 516A E8				inx
 13265 516B A9 88 95 94			mva #$88 :STACKORIGIN,x
 13266 516F A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 13267 5173 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 13268
 13269 				; optimize OK (armsdealer.pas), line = 159
 13270
 13271 5176 A9 09			lda #$09
 13272 5178 20 49 1C			jsr CRT_WRITELN_LOCSTR
 13273
 13274 				; optimize OK (armsdealer.pas), line = 160
 13275
 13276 517B A9 0A			lda #$0A
 13277 517D 20 04 1C			jsr CRT_WRITE_LOCSTR
 13278
 13279 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', armsdealer.pas), line = 161
 13280
 13281 5180 E8				inx
 13282 5181 AD 2A A8			lda GA
 13283 5184 0A				asl @
 13284 5185 A8				tay
 13285 5186 B9 38 A4			lda adr.WEAPONNAMES,y
 13286 5189 95 94			sta :STACKORIGIN,x
 13287 518B B9 39 A4			lda adr.WEAPONNAMES+1,y
 13288 518E 95 A4			sta :STACKORIGIN+STACKWIDTH,x
 13289 5190 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 13290
 13291 				; optimize FAIL ('CRT_WRITELN', armsdealer.pas), line = 162
 13292
 13293 5193 E8				inx
 13294 5194 A9 8B 95 94			mva #$8B :STACKORIGIN,x
 13295 5198 A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 13296 519C 20 E7 1D			jsr CRT_WRITELN
 13297
 13298 				; optimize OK (armsdealer.pas), line = 163
 13299
 13300 519F A9 0B			lda #$0B
 13301 51A1 20 49 1C			jsr CRT_WRITELN_LOCSTR
 13302
 13303 				; optimize FAIL ('GETYESNO', armsdealer.pas), line = 165
 13304
 13305 51A4 20 46 1F			jsr GETYESNO
 13306 51A7 AD E8 A6			lda GETYESNO.RESULT
 13307 51AA 8D 26 A8			sta R
 13308
 13309 				; optimize OK (armsdealer.pas), line = 166
 13310
 13311 51AD D0 1F			jne l_2FBF
 13312
 13313 				; optimize OK (armsdealer.pas), line = 169
 13314
 13315 51AF AD 29 A8			lda SELECTEDWEAPON
 13316 51B2 0A				asl @
 13317 51B3 A8				tay
 13318 51B4 B9 18 E7			lda adr.WEAPONPRICES,y
 13319 51B7 8D 99 A7			sta ADDMONEY.AMOUNT
 13320 51BA B9 19 E7			lda adr.WEAPONPRICES+1,y
 13321 51BD 8D 9A A7			sta ADDMONEY.AMOUNT+1
 13322 51C0 20 5F 2F			jsr ADDMONEY
 13323
 13324 				; optimize OK (armsdealer.pas), line = 170
 13325
 13326 51C3 A9 16			lda #$16
 13327 51C5 20 04 1C			jsr CRT_WRITE_LOCSTR
 13328
 13329 				; optimize FAIL ('WAITFORKEY', armsdealer.pas), line = 171
 13330
 13331 51C8 20 88 1D			jsr WAITFORKEY
 13332 51CB 4C E8 53			jmp @exit
 13333 51CE			l_2FBF
 13334 51CE			l_2F81
 13335
 13336 				; optimize OK (armsdealer.pas), line = 178
 13337
 13338 51CE AC 88 CD			ldy CURRENTGANGSTER
 13339 51D1 B9 48 CD			lda adr.GANGSTERWEAPON,y
 13340 51D4 CD 29 A8			cmp SELECTEDWEAPON
 13341 51D7 B0 08			jcs l_2FE4
 13342
 13343 				; optimize OK (armsdealer.pas), line = 179
 13344
 13345 51D9 A9 01			lda #$01
 13346 51DB 20 B3 2F			jsr ADDPOINTS
 13347 51DE 4C E6 51			jmp l_2FF0
 13348 51E1			l_2FE4
 13349
 13350 				; optimize OK (armsdealer.pas), line = 181
 13351
 13352 51E1 A9 01			lda #$01
 13353 51E3 20 C4 2F			jsr REMOVEPOINTS
 13354 51E6			l_2FF0
 13355
 13356 				; optimize OK (armsdealer.pas), line = 183
 13357
 13358 51E6 AD 30 A8			lda OLDWEAPONPRICE
 13359 51E9 8D 99 A7			sta ADDMONEY.AMOUNT
 13360 51EC AD 31 A8			lda OLDWEAPONPRICE+1
 13361 51EF 8D 9A A7			sta ADDMONEY.AMOUNT+1
 13362 51F2 20 5F 2F			jsr ADDMONEY
 13363
 13364 				; optimize OK (armsdealer.pas), line = 184
 13365
 13366 51F5 AC 88 CD			ldy CURRENTGANGSTER
 13367 51F8 AD 29 A8			lda SELECTEDWEAPON
 13368 51FB 99 48 CD			sta adr.GANGSTERWEAPON,y
 13369
 13370 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', armsdealer.pas), line = 185
 13371
 13372 51FE 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 13373
 13374 				; optimize OK (armsdealer.pas), line = 186
 13375
 13376 5201 A9 0C			lda #$0C
 13377 5203 20 04 1C			jsr CRT_WRITE_LOCSTR
 13378
 13379 				; optimize FAIL ('WAITFORKEY', armsdealer.pas), line = 187
 13380
 13381 5206 20 88 1D			jsr WAITFORKEY
 13382 5209			l_2D8D
 13383
 13384 				; optimize OK (armsdealer.pas), line = 191
 13385
 13386 5209 AD 22 C9			lda CURRENTCHOICE
 13387 520C C9 02			cmp #$02
 13388 520E F0 03 4C E8 53		jne l_3016
 13389
 13390 				; optimize FAIL ('SHOWLOCATIONHEADER', armsdealer.pas), line = 193
 13391
 13392 5213 20 18 28			jsr SHOWLOCATIONHEADER
 13393
 13394 				; optimize OK (armsdealer.pas), line = 195
 13395
 13396 5216 AD C7 CA			lda LASTACTION
 13397 5219 C9 02			cmp #$02
 13398 521B D0 0B			jne l_302A
 13399
 13400 				; optimize OK (armsdealer.pas), line = 197
 13401
 13402 521D A9 18			lda #$18
 13403 521F 20 49 1C			jsr CRT_WRITELN_LOCSTR
 13404
 13405 				; optimize FAIL ('WAITFORKEY', armsdealer.pas), line = 198
 13406
 13407 5222 20 88 1D			jsr WAITFORKEY
 13408 5225 4C E8 53			jmp @exit
 13409 5228			l_302A
 13410
 13411 				; optimize OK (armsdealer.pas), line = 202
 13412
 13413 5228 AC 8A CD			ldy CURRENTPLAYER
 13414 522B B9 B1 CD			lda adr.PLNGANGSTERS,y
 13415 522E C9 02			cmp #$02
 13416 5230 90 05			jcc l_3045
 13417
 13418 				; optimize OK (armsdealer.pas), line = 203
 13419
 13420 5232 A9 0D			lda #$0D
 13421 5234 20 49 1C			jsr CRT_WRITELN_LOCSTR
 13422 5237			l_3045
 13423
 13424 				; optimize OK (armsdealer.pas), line = 205
 13425
 13426 5237 A9 00			lda #$00
 13427 5239 8D 23 C9			sta SHOWWEAPONS
 13428
 13429 				; optimize FAIL ('SELECTGANGSTER', armsdealer.pas), line = 206
 13430
 13431 523C 20 D8 33			jsr SELECTGANGSTER
 13432
 13433 				; optimize OK (armsdealer.pas), line = 207
 13434
 13435 523F AD 88 CD			lda CURRENTGANGSTER
 13436 5242 C9 63			cmp #$63
 13437 5244 D0 03 4C E8 53		jeq @exit
 13438 5249			l_3061
 13439
 13440 				; optimize FAIL ('SHOWLOCATIONHEADER', armsdealer.pas), line = 209
 13441
 13442 5249 20 18 28			jsr SHOWLOCATIONHEADER
 13443
 13444 				; optimize OK (armsdealer.pas), line = 210
 13445
 13446 524C A9 00			lda #$00
 13447 524E 8D 32 A8			sta CAMP
 13448
 13449 				; optimize OK (armsdealer.pas), line = 212
 13450
 13451 5251 AC 8A CD			ldy CURRENTPLAYER
 13452 5254 B9 98 C9			lda adr.PLRANK,y
 13453 5257 C9 05			cmp #$05
 13454 5259 90 30			jcc l_307E
 13455
 13456 				; optimize OK (armsdealer.pas), line = 214
 13457
 13458 525B A9 0E			lda #$0E
 13459 525D 20 49 1C			jsr CRT_WRITELN_LOCSTR
 13460
 13461 				; optimize OK (armsdealer.pas), line = 215
 13462
 13463 5260 A9 15			lda #$15
 13464 5262 20 04 1C			jsr CRT_WRITE_LOCSTR
 13465
 13466 				; optimize OK (armsdealer.pas), line = 216
 13467
 13468 5265 A9 3E			lda #$3E
 13469 5267 8D DF A6			sta GETANSWERCHAR.AKEY
 13470 526A A9 2D			lda #$2D
 13471 526C 8D E0 A6			sta GETANSWERCHAR.BKEY
 13472 526F A9 33			lda #$33
 13473 5271 8D E1 A6			sta GETANSWERCHAR.A
 13474 5274 A9 34			lda #$34
 13475 5276 8D E2 A6			sta GETANSWERCHAR.B
 13476 5279 20 CA 1E			jsr GETANSWERCHAR
 13477 527C AD E3 A6			lda GETANSWERCHAR.RESULT
 13478 527F 8D 26 A8			sta R
 13479
 13480 				; optimize OK (armsdealer.pas), line = 217
 13481
 13482 5282 C9 01			cmp #$01
 13483 5284 D0 05			jne l_309D
 13484 5286 A9 01			lda #$01
 13485 5288 8D 32 A8			sta CAMP
 13486 528B			l_309D
 13487 528B			l_307E
 13488
 13489 				; optimize OK (armsdealer.pas), line = 221
 13490
 13491 528B AD 32 A8			lda CAMP
 13492 528E D0 1E			jne l_30B8
 13493
 13494 				; optimize OK (armsdealer.pas), line = 222
 13495
 13496 5290 AC 8A CD			ldy CURRENTPLAYER
 13497 5293 B9 98 C9			lda adr.PLRANK,y
 13498 5296 85 8C			sta :ecx
 13499 5298 A9 C8			lda #$C8
 13500 529A 85 84			sta :eax
 13501 					.ifdef fmulinit
 13502 					fmulu_8
 13503 					els
 13504 529C 20 43 10			imulCL
 13505 					eif
 13506 529F A5 84			lda :eax
 13507 52A1 18 69 20			add #$20
 13508 52A4 8D 2B A8			sta PRICE
 13509 52A7 A5 85			lda :eax+1
 13510 52A9 69 03			adc #$03
 13511 52AB 4C D1 52			jmp l_30D3
 13512 52AE			l_30B8
 13513
 13514 				; optimize OK (armsdealer.pas), line = 224
 13515
 13516 52AE AC 8A CD			ldy CURRENTPLAYER
 13517 52B1 B9 98 C9			lda adr.PLRANK,y
 13518 52B4 85 84			sta :eax
 13519 52B6 A9 00			lda #$00
 13520 52B8 85 85			sta :eax+1
 13521 52BA A9 F4			lda #$F4
 13522 52BC 85 8C			sta :ecx
 13523 52BE A9 01			lda #$01
 13524 52C0 85 8D			sta :ecx+1
 13525 					.ifdef fmulinit
 13526 					fmulu_16
 13527 					els
 13528 52C2 20 D3 10			imulCX_AL
 13529 					eif
 13530 52C5 A5 84			lda :eax
 13531 52C7 18 69 C4			add #$C4
 13532 52CA 8D 2B A8			sta PRICE
 13533 52CD A5 85			lda :eax+1
 13534 52CF 69 09			adc #$09
 13535 52D1			l_30D3
 13536 52D1 8D 2C A8			sta PRICE+1
 13537
 13538 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', armsdealer.pas), line = 226
 13539
 13540 52D4 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 13541
 13542 				; optimize OK (armsdealer.pas), line = 227
 13543
 13544 52D7 A9 0F			lda #$0F
 13545 52D9 20 04 1C			jsr CRT_WRITE_LOCSTR
 13546
 13547 				; optimize OK (armsdealer.pas), line = 228
 13548
 13549 52DC AD 2B A8			lda PRICE
 13550 52DF 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 13551 52E2 AD 2C A8			lda PRICE+1
 13552 52E5 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 13553 52E8 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 13554
 13555 				; optimize OK (armsdealer.pas), line = 229
 13556
 13557 52EB A9 10			lda #$10
 13558 52ED 20 04 1C			jsr CRT_WRITE_LOCSTR
 13559
 13560 				; optimize FAIL ('GETYESNO', armsdealer.pas), line = 230
 13561
 13562 52F0 20 46 1F			jsr GETYESNO
 13563 52F3 AD E8 A6			lda GETYESNO.RESULT
 13564 52F6 8D 2A A8			sta GA
 13565
 13566 				; optimize OK (armsdealer.pas), line = 231
 13567
 13568 52F9 D0 03 4C E8 53		jeq @exit
 13569 52FE			l_3102
 13570
 13571 				; optimize OK (armsdealer.pas), line = 232
 13572
 13573 52FE AD 2B A8			lda PRICE
 13574 5301 8D A6 A7			sta PAYMONEY.PRICE
 13575 5304 AD 2C A8			lda PRICE+1
 13576 5307 8D A7 A7			sta PAYMONEY.PRICE+1
 13577 530A 20 02 32			jsr PAYMONEY
 13578 530D AD A8 A7			lda PAYMONEY.RESULT
 13579 5310 D0 03 4C E8 53		jeq @exit
 13580 5315			l_3117
 13581
 13582 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', armsdealer.pas), line = 234
 13583
 13584 5315 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 13585
 13586 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', armsdealer.pas), line = 235
 13587
 13588 5318 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 13589
 13590 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', armsdealer.pas), line = 236
 13591
 13592 531B E8				inx
 13593 531C AD 88 CD			lda CURRENTGANGSTER
 13594 531F 0A				asl @
 13595 5320 A8				tay
 13596 5321 B9 E2 A3			lda adr.GANGSTERNAMES,y
 13597 5324 95 94			sta :STACKORIGIN,x
 13598 5326 B9 E3 A3			lda adr.GANGSTERNAMES+1,y
 13599 5329 95 A4			sta :STACKORIGIN+STACKWIDTH,x
 13600 532B 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 13601
 13602 				; optimize OK (armsdealer.pas), line = 237
 13603
 13604 532E AD 32 A8			lda CAMP
 13605 5331 D0 3B			jne l_3134
 13606
 13607 				; optimize OK (armsdealer.pas), line = 239
 13608
 13609 5333 A9 11			lda #$11
 13610 5335 20 04 1C			jsr CRT_WRITE_LOCSTR
 13611
 13612 				; optimize OK (armsdealer.pas), line = 240
 13613
 13614 5338 A9 05			lda #$05
 13615 533A 8D 2F A8			sta INC_ST
 13616
 13617 				; optimize OK (armsdealer.pas), line = 241
 13618
 13619 533D A0 01			ldy #1
 13620 533F AD 0E A7			lda CURRENTSUBLOCATION
 13621 5342 C9 01			cmp #$01
 13622 5344 F0 01			beq @+
 13623 5346 88				dey
 13624 				@
 13625 5347 98				tya
 13626 5348 0A				asl @
 13627 5349 18 69 03			add #$03
 13628 534C 8D 2D A8			sta INC_IN
 13629
 13630 				; optimize OK (armsdealer.pas), line = 242
 13631
 13632 534F A0 01			ldy #1
 13633 5351 AD 0E A7			lda CURRENTSUBLOCATION
 13634 5354 C9 03			cmp #$03
 13635 5356 F0 01			beq @+
 13636 5358 88				dey
 13637 				@
 13638 5359 98				tya
 13639 535A 85 9E			sta :STACKORIGIN+10
 13640 535C 0A				asl @
 13641 535D 18 65 9E			add :STACKORIGIN+10
 13642 5360 18 69 02			add #$02
 13643 5363 8D 2E A8			sta INC_BT
 13644
 13645 				; optimize OK (armsdealer.pas), line = 243
 13646
 13647 5366 A9 01			lda #$01
 13648 5368 20 B3 2F			jsr ADDPOINTS
 13649 536B 4C 9D 53			jmp l_316E
 13650 536E			l_3134
 13651
 13652 				; optimize OK (armsdealer.pas), line = 248
 13653
 13654 536E A9 12			lda #$12
 13655 5370 20 04 1C			jsr CRT_WRITE_LOCSTR
 13656
 13657 				; optimize OK (armsdealer.pas), line = 249
 13658
 13659 5373 A9 08			lda #$08
 13660 5375 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 13661 5378 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 13662 537B 18 69 08			add #$08
 13663 537E 8D 2F A8			sta INC_ST
 13664
 13665 				; optimize OK (armsdealer.pas), line = 250
 13666
 13667 5381 A9 08			lda #$08
 13668 5383 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 13669 5386 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 13670 5389 18 69 08			add #$08
 13671 538C 8D 2D A8			sta INC_IN
 13672
 13673 				; optimize OK (armsdealer.pas), line = 251
 13674
 13675 538F A9 08			lda #$08
 13676 5391 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 13677 5394 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 13678 5397 18 69 08			add #$08
 13679 539A 8D 2E A8			sta INC_BT
 13680 539D			l_316E
 13681
 13682 				; optimize FAIL ('EFFECTWAIT', armsdealer.pas), line = 254
 13683
 13684 539D 20 B2 1C			jsr EFFECTWAIT
 13685
 13686 				; optimize OK (armsdealer.pas), line = 255
 13687
 13688 53A0 A9 02			lda #$02
 13689 53A2 8D C7 CA			sta LASTACTION
 13690
 13691 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', armsdealer.pas), line = 257
 13692
 13693 53A5 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 13694
 13695 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', armsdealer.pas), line = 258
 13696
 13697 53A8 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 13698
 13699 				; optimize OK (armsdealer.pas), line = 259
 13700
 13701 53AB AC 88 CD			ldy CURRENTGANGSTER
 13702 53AE B9 C8 CC			lda adr.GANGSTERSTR,y
 13703 53B1 C9 63			cmp #$63
 13704 53B3 D0 16			jne l_31C5
 13705 53B5 B9 E8 CC			lda adr.GANGSTERINT,y
 13706 53B8 C9 63			cmp #$63
 13707 53BA D0 0F			jne l_31C5
 13708 53BC B9 08 CD			lda adr.GANGSTERBRUT,y
 13709 53BF C9 63			cmp #$63
 13710 53C1 D0 08			jne l_31C5
 13711
 13712 				; optimize OK (armsdealer.pas), line = 261
 13713
 13714 53C3 A9 19			lda #$19
 13715 53C5 20 49 1C			jsr CRT_WRITELN_LOCSTR
 13716 53C8 4C E5 53			jmp l_31D1
 13717 53CB			l_31C5
 13718
 13719 				; optimize OK (armsdealer.pas), line = 265
 13720
 13721 53CB AD 2F A8			lda INC_ST
 13722 53CE 8D 22 A8			sta INCREASECURRENTGANGSTER.INC_ST
 13723 53D1 AD 2D A8			lda INC_IN
 13724 53D4 8D 23 A8			sta INCREASECURRENTGANGSTER.INC_IN
 13725 53D7 AD 2E A8			lda INC_BT
 13726 53DA 8D 24 A8			sta INCREASECURRENTGANGSTER.INC_BT
 13727 53DD 20 FC 4E			jsr INCREASECURRENTGANGSTER
 13728
 13729 				; optimize OK (armsdealer.pas), line = 266
 13730
 13731 53E0 A9 01			lda #$01
 13732 53E2 20 B3 2F			jsr ADDPOINTS
 13733 53E5			l_31D1
 13734
 13735 				; optimize FAIL ('WAITFORKEY', armsdealer.pas), line = 268
 13736
 13737 53E5 20 88 1D			jsr WAITFORKEY
 13738 53E8			l_3016
 13739 53E8			@exit
 13740
 13741 				; ------------------------------------------------------------
 13742
 13743 = A825			RESULT	= DATAORIGIN+$0C0A
 13744 = A826			R	= DATAORIGIN+$0C0B
 13745 = A827			MAXWEAPON	= DATAORIGIN+$0C0C
 13746 = A828			MINWEAPON	= DATAORIGIN+$0C0D
 13747 = A829			SELECTEDWEAPON	= DATAORIGIN+$0C0E
 13748 = A82A			GA	= DATAORIGIN+$0C0F
 13749 = A82B			PRICE	= DATAORIGIN+$0C10
 13750 = A82D			INC_IN	= DATAORIGIN+$0C12
 13751 = A82E			INC_BT	= DATAORIGIN+$0C13
 13752 = A82F			INC_ST	= DATAORIGIN+$0C14
 13753 = A830			OLDWEAPONPRICE	= DATAORIGIN+$0C15
 13754 = A832			CAMP	= DATAORIGIN+$0C17
 13755
 13756 = A826			@VarData	= R
 13757 = 000D			@VarDataSize	= 13
 13758
 13759 53E8 60				rts						; ret
 13760 				.endl
 13761
 13762 53E9			.local	BANKCHOICES					; FUNCTION
 13763
 13764 				; optimize OK (bank.pas), line = 18
 13765
 13766 53E9 AC 8A CD			ldy CURRENTPLAYER
 13767 53EC B9 60 C9			lda adr.PLOPPORTUNITY,y
 13768 53EF 29 02			and #$02
 13769 53F1 8D 0B CA			sta TMPOPPORTUNITY
 13770
 13771 				; optimize OK (bank.pas), line = 20
 13772
 13773 53F4 B9 60 C9			lda adr.PLOPPORTUNITY,y
 13774 53F7 29 FD			and #$FD
 13775 53F9 99 60 C9			sta adr.PLOPPORTUNITY,y
 13776
 13777 				; optimize OK (bank.pas), line = 22
 13778
 13779 53FC A9 01			lda #$01
 13780 53FE 8D 54 A8			sta RESULT
 13781
 13782 				; optimize OK (bank.pas), line = 23
 13783
 13784 5401 20 BD 28			jsr LOADLOCATION
 13785
 13786 				; optimize FAIL ('SHOWLOCATIONHEADER', bank.pas), line = 24
 13787
 13788 5404 20 18 28			jsr SHOWLOCATIONHEADER
 13789
 13790 				; optimize OK (bank.pas), line = 26
 13791
 13792 5407 AC 8A CD			ldy CURRENTPLAYER
 13793 540A B9 98 C9			lda adr.PLRANK,y
 13794 540D C9 01			cmp #$01
 13795 540F B0 0B			jcs l_321D
 13796
 13797 				; optimize OK (bank.pas), line = 28
 13798
 13799 5411 A9 0D			lda #$0D
 13800 5413 20 04 1C			jsr CRT_WRITE_LOCSTR
 13801
 13802 				; optimize FAIL ('WAITFORKEY', bank.pas), line = 29
 13803
 13804 5416 20 88 1D			jsr WAITFORKEY
 13805 5419 4C 7C 59			jmp @exit
 13806 541C			l_321D
 13807
 13808 				; optimize OK (bank.pas), line = 36
 13809
 13810 541C AD 72 A3			lda LASTLOCATION
 13811 541F C9 01			cmp #$01
 13812 5421 D0 1B			jne l_3235
 13813
 13814 				; optimize FAIL ('PREPAREFIGHTAGAINSTPOLICE', bank.pas), line = 38
 13815
 13816 5423 20 E9 30			jsr PREPAREFIGHTAGAINSTPOLICE
 13817
 13818 				; optimize FAIL ('DOFIGHT', bank.pas), line = 39
 13819
 13820 5426 20 66 4D			jsr DOFIGHT
 13821 5429 AD 1C A8			lda DOFIGHT.RESULT
 13822 542C C9 01			cmp #$01
 13823 542E D0 0B			jne l_3247
 13824
 13825 				; optimize FAIL ('GOTCAUGHT', bank.pas), line = 41
 13826
 13827 5430 20 F9 35			jsr GOTCAUGHT
 13828
 13829 				; optimize OK (bank.pas), line = 42
 13830
 13831 5433 A9 11			lda #$11
 13832 5435 8D 54 A8			sta RESULT
 13833 5438 4C 7C 59			jmp @exit
 13834 543B			l_3247
 13835 543B 4C 7C 59			jmp @exit
 13836 543E			l_3235
 13837
 13838 				; optimize OK (bank.pas), line = 48
 13839
 13840 543E AC 8A CD			ldy CURRENTPLAYER
 13841 5441 B9 B1 CD			lda adr.PLNGANGSTERS,y
 13842 5444 C9 02			cmp #$02
 13843 5446 B0 18			jcs l_3266
 13844
 13845 				; optimize OK (bank.pas), line = 50
 13846
 13847 5448 A9 06			lda #$06
 13848 544A 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 13849 544D A9 01			lda #$01
 13850 544F 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 13851 5452 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 13852
 13853 				; optimize FAIL ('WAITFORKEY', bank.pas), line = 51
 13854
 13855 5455 20 88 1D			jsr WAITFORKEY
 13856
 13857 				; optimize OK (bank.pas), line = 52
 13858
 13859 5458 A9 0F			lda #$0F
 13860 545A 8D 72 A3			sta LASTLOCATION
 13861 545D 4C 7C 59			jmp @exit
 13862 5460			l_3266
 13863
 13864 				; optimize OK (bank.pas), line = 57
 13865
 13866 5460 AD 22 C9			lda CURRENTCHOICE
 13867 5463 C9 01			cmp #$01
 13868 5465 F0 03 4C E7 54		jne l_3283
 13869
 13870 				; optimize OK (bank.pas), line = 59
 13871
 13872 546A A9 03			lda #$03
 13873 546C 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 13874 546F AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 13875 5472 D0 66			jne l_3295
 13876
 13877 				; optimize OK (bank.pas), line = 61
 13878
 13879 5474 A9 02			lda #$02
 13880 5476 20 49 1C			jsr CRT_WRITELN_LOCSTR
 13881
 13882 				; optimize OK (bank.pas), line = 62
 13883
 13884 5479 A9 03			lda #$03
 13885 547B 20 49 1C			jsr CRT_WRITELN_LOCSTR
 13886
 13887 				; optimize FAIL ('WAITFORKEY', bank.pas), line = 63
 13888
 13889 547E 20 88 1D			jsr WAITFORKEY
 13890
 13891 				; -------------------  ASM Block 00000153  -------------------
 13892
 13893 				 
 13894 5481 AD 88 9A		                lda loc_string_4
 13895 5484 8D 79 A3		                sta adr.FP_GANG+$02
 13896 5487 AD 89 9A		                lda loc_string_4+1
 13897 548A 8D 7A A3		                sta adr.FP_GANG+1+$02
 13898 				            
 13899 				; optimize OK (bank.pas), line = 73
 13900
 13901 548D A9 01			lda #$01
 13902 548F 8D 02 E4			sta adr.FP_AI+$01
 13903
 13904 				; optimize OK (bank.pas), line = 74
 13905
 13906 5492 A9 03			lda #$03
 13907 5494 8D 04 E4			sta adr.FP_N+$01
 13908
 13909 				; optimize OK (bank.pas), line = 75
 13910
 13911 5497 AD 90 CD			lda CURRENTMAP
 13912 549A C9 01			cmp #$01
 13913 549C D0 03			jne l_32B7
 13914
 13915 				; optimize OK (bank.pas), line = 76
 13916
 13917 549E EE 04 E4			inc adr.FP_N+$01
 13918 54A1			l_32B7
 13919
 13920 				; -------------------  ASM Block 00000154  -------------------
 13921
 13922 54A1 A0 00		                ldy #$00
 13923 				            @:
 13924 54A3 98			                tya 
 13925 54A4 0A			                asl 
 13926 54A5 A8			                tay
 13927
 13928 54A6 AD 88 9A		                lda loc_string_4
 13929 54A9 99 9B A3		                sta adr.FP_NAME+$20,y
 13930 54AC AD 89 9A		                lda loc_string_4+1
 13931 54AF 99 9C A3		                sta adr.FP_NAME+1+$20,y
 13932
 13933 54B2 98			                tya
 13934 54B3 4A			                lsr 
 13935 54B4 A8			                tay
 13936
 13937 54B5 A9 1E		                lda #$1E
 13938 54B7 99 95 E4		                sta adr.FP_ENERGY+$10,y
 13939 54BA A9 06		                lda #$06
 13940 54BC 99 55 E4		                sta adr.FP_WEAPON+$10,y
 13941 54BF C8			                iny
 13942 54C0 CC 04 E4		                cpy adr.FP_N+$01
 13943 54C3 D0 DE		                bne @- 
 13944 				            
 13945 				; optimize FAIL ('DOFIGHT', bank.pas), line = 108
 13946
 13947 54C5 20 66 4D			jsr DOFIGHT
 13948 54C8 AD 1C A8			lda DOFIGHT.RESULT
 13949 54CB C9 01			cmp #$01
 13950 54CD D0 0B			jne l_32D6
 13951
 13952 				; optimize FAIL ('GOTCAUGHT', bank.pas), line = 110
 13953
 13954 54CF 20 F9 35			jsr GOTCAUGHT
 13955
 13956 				; optimize OK (bank.pas), line = 111
 13957
 13958 54D2 A9 11			lda #$11
 13959 54D4 8D 54 A8			sta RESULT
 13960 54D7 4C 7C 59			jmp @exit
 13961 54DA			l_32D6
 13962 54DA			l_3295
 13963
 13964 				; optimize OK (bank.pas), line = 115
 13965
 13966 54DA A9 01			lda #$01
 13967 54DC 8D 9F A7			sta CRACKEDBANK.P
 13968 54DF A9 00			lda #$00
 13969 54E1 8D A0 A7			sta CRACKEDBANK.P+1
 13970 54E4 20 FE 2F			jsr CRACKEDBANK
 13971 54E7			l_3283
 13972
 13973 				; optimize OK (bank.pas), line = 119
 13974
 13975 54E7 AD 22 C9			lda CURRENTCHOICE
 13976 54EA C9 02			cmp #$02
 13977 54EC F0 03 4C 7C 59		jne l_32F6
 13978
 13979 				; optimize FAIL ('SHOWLOCATIONHEADER', bank.pas), line = 121
 13980
 13981 54F1 20 18 28			jsr SHOWLOCATIONHEADER
 13982
 13983 				; optimize OK (bank.pas), line = 122
 13984
 13985 54F4 AD 8A CD			lda CURRENTPLAYER
 13986 54F7 0A				asl @
 13987 54F8 0A				asl @
 13988 54F9 0A				asl @
 13989 54FA 8D 55 A8			sta K
 13990
 13991 				; optimize OK (bank.pas), line = 123
 13992
 13993 54FD A8				tay
 13994 54FE B9 08 CD			lda adr.GANGSTERBRUT,y
 13995 5501 C9 19			cmp #$19
 13996 5503 90 0E			jcc l_3335x
 13997 5505 B9 C8 CC			lda adr.GANGSTERSTR,y
 13998 5508 C9 19			cmp #$19
 13999 550A 90 07			jcc l_3335x
 14000 550C B9 E8 CC			lda adr.GANGSTERINT,y
 14001 550F C9 28			cmp #$28
 14002 5511 B0 13			jcs l_3335
 14003 5513			l_3335x
 14004
 14005 				; optimize OK (bank.pas), line = 125
 14006
 14007 5513 A9 06			lda #$06
 14008 5515 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 14009 5518 A9 05			lda #$05
 14010 551A 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 14011 551D 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 14012
 14013 				; optimize FAIL ('WAITFORKEY', bank.pas), line = 126
 14014
 14015 5520 20 88 1D			jsr WAITFORKEY
 14016 5523 4C 7C 59			jmp @exit
 14017 5526			l_3335
 14018
 14019 				; optimize OK (bank.pas), line = 130
 14020
 14021 5526 A9 06			lda #$06
 14022 5528 20 49 1C			jsr CRT_WRITELN_LOCSTR
 14023
 14024 				; optimize OK (bank.pas), line = 131
 14025
 14026 552B A9 00			lda #$00
 14027 552D 8D 23 C9			sta SHOWWEAPONS
 14028
 14029 				; optimize FAIL ('SELECTGANGSTER', bank.pas), line = 132
 14030
 14031 5530 20 D8 33			jsr SELECTGANGSTER
 14032
 14033 				; optimize OK (bank.pas), line = 133
 14034
 14035 5533 AD 88 CD			lda CURRENTGANGSTER
 14036 5536 C9 63			cmp #$63
 14037 5538 D0 03 4C 7C 59		jeq @exit
 14038 553D			l_3355
 14039
 14040 				; optimize FAIL ('SHOWLOCATIONHEADER', bank.pas), line = 135
 14041
 14042 553D 20 18 28			jsr SHOWLOCATIONHEADER
 14043
 14044 				; optimize OK (bank.pas), line = 136
 14045
 14046 5540 A9 07			lda #$07
 14047 5542 20 49 1C			jsr CRT_WRITELN_LOCSTR
 14048
 14049 				; optimize OK (bank.pas), line = 137
 14050
 14051 5545 A9 08			lda #$08
 14052 5547 20 49 1C			jsr CRT_WRITELN_LOCSTR
 14053
 14054 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', bank.pas), line = 138
 14055
 14056 554A 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 14057
 14058 				; optimize OK (bank.pas), line = 141
 14059
 14060 554D AD 8A CD			lda CURRENTPLAYER
 14061 5550 85 9E			sta :STACKORIGIN+10
 14062 5552 A9 00			lda #$00
 14063 5554 06 9E			asl :STACKORIGIN+10
 14064 5556 2A				rol @
 14065 5557 06 9E			asl :STACKORIGIN+10
 14066 5559 2A				rol @
 14067 555A 06 9E			asl :STACKORIGIN+10
 14068 555C 2A				rol @
 14069 555D 85 AE			sta :STACKORIGIN+STACKWIDTH+10
 14070 555F A5 9E			lda :STACKORIGIN+10
 14071 5561 18 69 00			add #$00
 14072 5564 A8				tay
 14073 5565 A5 AE			lda :STACKORIGIN+STACKWIDTH+10
 14074 5567 69 00			adc #$00
 14075 5569 85 AE			sta :STACKORIGIN+STACKWIDTH+10
 14076 556B B9 E8 CC			lda adr.GANGSTERINT,y
 14077 556E 4A				lsr @
 14078 556F 4A				lsr @
 14079 5570 4A				lsr @
 14080 5571 4A				lsr @
 14081 5572 18 69 0D			add #$0D
 14082 5575 85 9D			sta :STACKORIGIN+9
 14083 5577 AD 0E A7			lda CURRENTSUBLOCATION
 14084 557A 0A				asl @
 14085 557B 18 65 9D			add :STACKORIGIN+9
 14086 557E 8D 56 A8			sta NATTEMPTS
 14087
 14088 				; optimize OK (bank.pas), line = 142
 14089
 14090 5581 AC 8A CD			ldy CURRENTPLAYER
 14091 5584 B9 24 C9			lda adr.PLSTUFF,y
 14092 5587 29 20			and #$20
 14093 5589 F0 11			jeq l_3396
 14094
 14095 				; optimize OK (bank.pas), line = 144
 14096
 14097 558B AD 56 A8			lda NATTEMPTS
 14098 558E 18 69 09			add #$09
 14099 5591 8D 56 A8			sta NATTEMPTS
 14100
 14101 				; optimize OK (bank.pas), line = 145
 14102
 14103 5594 B9 24 C9			lda adr.PLSTUFF,y
 14104 5597 29 DF			and #$DF
 14105 5599 99 24 C9			sta adr.PLSTUFF,y
 14106 559C			l_3396
 14107
 14108 				; optimize FAIL ('WAITFORKEY', bank.pas), line = 148
 14109
 14110 559C 20 88 1D			jsr WAITFORKEY
 14111
 14112 				; optimize FAIL ('BLACKCONSOLE', bank.pas), line = 151
 14113
 14114 559F 20 6C 27			jsr BLACKCONSOLE
 14115
 14116 				; optimize OK (bank.pas), line = 152
 14117
 14118 55A2 A9 00			lda #$00
 14119 55A4 85 88			sta SYSTEM.FILLCHAR.@03018000001810000188000.A
 14120 55A6 A9 DC			lda #$DC
 14121 55A8 85 89			sta SYSTEM.FILLCHAR.@03018000001810000188000.A+1
 14122 55AA A9 C0			lda #$C0
 14123 55AC 85 8C			sta SYSTEM.FILLCHAR.@03018000001810000188000.COUNT
 14124 55AE A9 03			lda #$03
 14125 55B0 85 8D			sta SYSTEM.FILLCHAR.@03018000001810000188000.COUNT+1
 14126 55B2 A9 00			lda #$00
 14127 55B4 85 84			sta SYSTEM.FILLCHAR.@03018000001810000188000.VALUE
 14128 55B6				.LOCAL +MAIN.SYSTEM.FILLCHAR.@03018000001810000188000
 14129 55B6				m@INLINE
Macro: MAIN.SYSTEM.FILLCHAR.@03018000001810000188000.M@INLINE [Source: main.a65]
     4 55B6 20 2C 0F			jsr @fill
Source: main.a65
 14130 					.ENDL
 14131
 14132 				; optimize OK (bank.pas), line = 153
 14133
 14134 55B9 AD 04 9C			lda SAFECLMFNAME
 14135 55BC 8D 07 A7			sta LOADXAPL.FNAME
 14136 55BF AD 05 9C			lda SAFECLMFNAME+1
 14137 55C2 8D 08 A7			sta LOADXAPL.FNAME+1
 14138 55C5 A9 00			lda #$00
 14139 55C7 8D 09 A7			sta LOADXAPL.OUTPUTPOINTER
 14140 55CA A9 D8			lda #$D8
 14141 55CC 8D 0A A7			sta LOADXAPL.OUTPUTPOINTER+1
 14142 55CF 20 20 27			jsr LOADXAPL
 14143
 14144 				; optimize OK (bank.pas), line = 154
 14145
 14146 55D2 A9 00			lda #$00
 14147 55D4 A0 4F			ldy #$4F
 14148 55D6 99 A8 DE 88 10 FA		sta:rpl $DEA8,y-
 14149
 14150 				; optimize FAIL ('ENABLEMAPCONSOLE', bank.pas), line = 155
 14151
 14152 55DC 20 CE 27			jsr ENABLEMAPCONSOLE
 14153
 14154 				; optimize OK (bank.pas), line = 156
 14155
 14156 55DF A9 04			lda #$04
 14157 55E1 8D F6 EA			sta MAPCOLORA
 14158
 14159 				; optimize OK (bank.pas), line = 157
 14160
 14161 55E4 A9 0A			lda #$0A
 14162 55E6 8D F7 EA			sta MAPCOLORB
 14163
 14164 				; optimize OK (bank.pas), line = 158
 14165
 14166 55E9 A9 01			lda #$01
 14167 55EB 8D B5 CD			sta DIDFIGHT
 14168
 14169 				; optimize FAIL (1, bank.pas), line = 159
 14170
 14171 55EE E8				inx
 14172 55EF A9 00 95 94			mva #$00 :STACKORIGIN,x
 14173 55F3 95 A4			sta :STACKORIGIN+STACKWIDTH,x
 14174 55F5 A9 0A			lda #$0A
 14175 55F7 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 14176 55FA B4 94			ldy :STACKORIGIN,x
 14177 55FC AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 14178 55FF 99 57 A8			sta adr.T,y
 14179
 14180 				; optimize FAIL (1, bank.pas), line = 160
 14181
 14182 5602 A9 01 95 94			mva #$01 :STACKORIGIN,x
 14183 5606 A9 00 95 A4			mva #$00 :STACKORIGIN+STACKWIDTH,x
 14184 560A A9 0A			lda #$0A
 14185 560C 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 14186 560F B4 94			ldy :STACKORIGIN,x
 14187 5611 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 14188 5614 99 57 A8			sta adr.T,y
 14189
 14190 				; optimize FAIL (1, bank.pas), line = 161
 14191
 14192 5617 A9 02 95 94			mva #$02 :STACKORIGIN,x
 14193 561B A9 00 95 A4			mva #$00 :STACKORIGIN+STACKWIDTH,x
 14194 561F A9 0A			lda #$0A
 14195 5621 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 14196 5624 B4 94			ldy :STACKORIGIN,x
 14197 5626 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 14198 5629 99 57 A8			sta adr.T,y
 14199
 14200 				; optimize FAIL (1, bank.pas), line = 162
 14201
 14202 562C A9 00 95 94			mva #$00 :STACKORIGIN,x
 14203 5630 95 A4			sta :STACKORIGIN+STACKWIDTH,x
 14204 5632 A9 0A			lda #$0A
 14205 5634 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 14206 5637 B4 94			ldy :STACKORIGIN,x
 14207 5639 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 14208 563C 99 5A A8			sta adr.C,y
 14209
 14210 				; optimize FAIL (1, bank.pas), line = 163
 14211
 14212 563F A9 01 95 94			mva #$01 :STACKORIGIN,x
 14213 5643 A9 00 95 A4			mva #$00 :STACKORIGIN+STACKWIDTH,x
 14214 5647 A9 0A			lda #$0A
 14215 5649 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 14216 564C B4 94			ldy :STACKORIGIN,x
 14217 564E AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 14218 5651 99 5A A8			sta adr.C,y
 14219
 14220 				; optimize FAIL (1, bank.pas), line = 164
 14221
 14222 5654 A9 02 95 94			mva #$02 :STACKORIGIN,x
 14223 5658 A9 00 95 A4			mva #$00 :STACKORIGIN+STACKWIDTH,x
 14224 565C A9 0A			lda #$0A
 14225 565E 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 14226 5661 B4 94			ldy :STACKORIGIN,x
 14227 5663 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 14228 5666 99 5A A8			sta adr.C,y
 14229 5669 CA				dex
 14230
 14231 				; optimize OK (bank.pas), line = 166
 14232
 14233 566A A9 00			lda #$00
 14234 566C 8D 5E A8			sta SAFEOPEN
 14235
 14236 				; optimize OK (bank.pas), line = 167
 14237
 14238 566F 8D 61 A8			sta WHPOS
 14239
 14240 				; optimize OK (bank.pas), line = 168
 14241
 14242 5672 8D 5F A8			sta BASE
 14243 5675 A9 DD			lda #$DD
 14244 5677 8D 60 A8			sta BASE+1
 14245
 14246 				; --- RepeatUntilProlog
 14247 567A			l_33FF
 14248
 14249 				; optimize OK (bank.pas), line = 171
 14250
 14251 567A A9 00			lda #$00
 14252 567C 85 AF			sta :STACKORIGIN+STACKWIDTH+11
 14253 567E AD 61 A8			lda WHPOS
 14254 5681 0A				asl @
 14255 5682 26 AF			rol :STACKORIGIN+STACKWIDTH+11
 14256 5684 18 6D 5F A8			add BASE
 14257 5688 A8				tay
 14258 5689 AD 60 A8			lda BASE+1
 14259 568C 65 AF			adc :STACKORIGIN+STACKWIDTH+11
 14260 568E 85 81			sta :bp+1
 14261 5690 A9 6E			lda #$6E
 14262 5692 91 80			sta (:bp),y
 14263
 14264 				; optimize OK (bank.pas), line = 172
 14265
 14266 5694 A9 00			lda #$00
 14267 5696 85 AF			sta :STACKORIGIN+STACKWIDTH+11
 14268 5698 AD 61 A8			lda WHPOS
 14269 569B 0A				asl @
 14270 569C 26 AF			rol :STACKORIGIN+STACKWIDTH+11
 14271 569E 18 6D 5F A8			add BASE
 14272 56A2 85 9E			sta :STACKORIGIN+10
 14273 56A4 AD 60 A8			lda BASE+1
 14274 56A7 65 AF			adc :STACKORIGIN+STACKWIDTH+11
 14275 56A9 85 AE			sta :STACKORIGIN+STACKWIDTH+10
 14276 56AB A9 02			lda #$02
 14277 56AD 18 65 9E			add :STACKORIGIN+10
 14278 56B0 A8				tay
 14279 56B1 A9 00			lda #$00
 14280 56B3 65 AE			adc :STACKORIGIN+STACKWIDTH+10
 14281 56B5 85 81			sta :bp+1
 14282 56B7 A9 6F			lda #$6F
 14283 56B9 91 80			sta (:bp),y
 14284
 14285 				; optimize OK (bank.pas), line = 173
 14286
 14287 56BB A9 00			lda #$00
 14288 56BD 8D 55 A8			sta K
 14289
 14290 56C0			l_3428
 14291 				; --- ForToDoCondition
 14292 56C0 AC 55 A8			ldy K
 14293 56C3 C0 03			cpy #$03
 14294 56C5 B0 2D			jcs l_3436
 14295
 14296 				; optimize OK (bank.pas), line = 174
 14297
 14298 56C7 A9 70			lda #$70
 14299 56C9 79 5A A8			adc adr.C,y
 14300 56CC 85 9D			sta :STACKORIGIN+9
 14301 56CE AD 5F A8			lda BASE
 14302 56D1 18 69 01			add #$01
 14303 56D4 85 9E			sta :STACKORIGIN+10
 14304 56D6 AD 60 A8			lda BASE+1
 14305 56D9 69 00			adc #$00
 14306 56DB 85 AE			sta :STACKORIGIN+STACKWIDTH+10
 14307 56DD AD 55 A8			lda K
 14308 56E0 18 65 9E			add :STACKORIGIN+10
 14309 56E3 85 82			sta :bp2
 14310 56E5 A9 00			lda #$00
 14311 56E7 65 AE			adc :STACKORIGIN+STACKWIDTH+10
 14312 56E9 85 83			sta :bp2+1
 14313 56EB A5 9D			lda :STACKORIGIN+9
 14314 56ED 91 82			sta (:bp2),y
 14315 56EF EE 55 A8			inc K
 14316 56F2 D0 CC			jne l_3428
 14317 56F4			l_3436
 14318
 14319 				; --- RepeatUntilProlog
 14320 56F4			l_3459
 14321
 14322 				; optimize FAIL ('CHECKKEYANDSTICK', bank.pas), line = 176
 14323
 14324 56F4 20 92 1B			jsr CHECKKEYANDSTICK
 14325 56F7 AD BE A4			lda CHECKKEYANDSTICK.RESULT
 14326 56FA 8D 5D A8			sta CH
 14327
 14328 				; optimize OK (bank.pas), line = 177
 14329
 14330 56FD C9 0F			cmp #$0F
 14331 56FF F0 10			jeq l_3459x
 14332 5701 C9 0E			cmp #$0E
 14333 5703 F0 0C			jeq l_3459x
 14334 5705 C9 07			cmp #$07
 14335 5707 F0 08			jeq l_3459x
 14336 5709 C9 06			cmp #$06
 14337 570B F0 04			jeq l_3459x
 14338 570D C9 2F			cmp #$2F
 14339 570F D0 E3			jne l_3459
 14340 5711			l_3459x
 14341
 14342 				; optimize FAIL ('WAITFORKEYRELEASE', bank.pas), line = 178
 14343
 14344 5711 20 EC 1B			jsr WAITFORKEYRELEASE
 14345
 14346 				; optimize OK (bank.pas), line = 179
 14347
 14348 5714 A9 05			lda #$05
 14349 5716 20 5A 27			jsr WAITFRAMES
 14350
 14351 				; optimize OK (bank.pas), line = 180
 14352
 14353 5719 AD 5D A8			lda CH
 14354 571C 8D 63 A8			sta @CASETMP_0011
 14355 571F C9 0F			cmp #$0F
 14356 5721 D0 0F			jne l_34A8
 14357 				@
 14358
 14359 				; optimize OK (bank.pas), line = 181
 14360
 14361 5723 AC 61 A8			ldy WHPOS
 14362 5726 B9 5A A8			lda adr.C,y
 14363 5729 38 E9 01			sub #$01
 14364 572C 99 5A A8			sta adr.C,y
 14365 572F 4C 42 57			jmp a_0011
 14366 5732			l_34A8
 14367 5732 C9 0E			cmp #$0E
 14368 5734 D0 0C			jne l_34BF
 14369
 14370 				; optimize OK (bank.pas), line = 182
 14371
 14372 5736 AC 61 A8			ldy WHPOS
 14373 5739 B9 5A A8			lda adr.C,y
 14374 573C 18 69 01			add #$01
 14375 573F 99 5A A8			sta adr.C,y
 14376 5742			l_34BF
 14377 5742			a_0011
 14378
 14379 				; optimize OK (bank.pas), line = 185
 14380
 14381 5742 AD 5D A8			lda CH
 14382 5745 C9 07			cmp #$07
 14383 5747 F0 04			jeq l_34F1x
 14384 5749 C9 06			cmp #$06
 14385 574B D0 5F			jne l_34F1
 14386 574D			l_34F1x
 14387
 14388 				; optimize OK (bank.pas), line = 187
 14389
 14390 574D A9 00			lda #$00
 14391 574F 85 AF			sta :STACKORIGIN+STACKWIDTH+11
 14392 5751 AD 61 A8			lda WHPOS
 14393 5754 0A				asl @
 14394 5755 26 AF			rol :STACKORIGIN+STACKWIDTH+11
 14395 5757 18 6D 5F A8			add BASE
 14396 575B A8				tay
 14397 575C AD 60 A8			lda BASE+1
 14398 575F 65 AF			adc :STACKORIGIN+STACKWIDTH+11
 14399 5761 85 81			sta :bp+1
 14400 5763 A9 00			lda #$00
 14401 5765 91 80			sta (:bp),y
 14402
 14403 				; optimize OK (bank.pas), line = 188
 14404
 14405 5767 85 AF			sta :STACKORIGIN+STACKWIDTH+11
 14406 5769 AD 61 A8			lda WHPOS
 14407 576C 0A				asl @
 14408 576D 26 AF			rol :STACKORIGIN+STACKWIDTH+11
 14409 576F 18 6D 5F A8			add BASE
 14410 5773 85 9E			sta :STACKORIGIN+10
 14411 5775 AD 60 A8			lda BASE+1
 14412 5778 65 AF			adc :STACKORIGIN+STACKWIDTH+11
 14413 577A 85 AE			sta :STACKORIGIN+STACKWIDTH+10
 14414 577C A9 02			lda #$02
 14415 577E 18 65 9E			add :STACKORIGIN+10
 14416 5781 A8				tay
 14417 5782 A9 00			lda #$00
 14418 5784 65 AE			adc :STACKORIGIN+STACKWIDTH+10
 14419 5786 85 81			sta :bp+1
 14420 5788 A9 00			lda #$00
 14421 578A 91 80			sta (:bp),y
 14422
 14423 				; optimize OK (bank.pas), line = 189
 14424
 14425 578C AD 5D A8			lda CH
 14426 578F C9 07			cmp #$07
 14427 5791 D0 0A			jne l_3524
 14428
 14429 				; optimize OK (bank.pas), line = 191
 14430
 14431 5793 AD 61 A8			lda WHPOS
 14432 5796 C9 02			cmp #$02
 14433 5798 B0 03			jcs l_3537
 14434 579A EE 61 A8			inc WHPOS
 14435 579D			l_3537
 14436 579D			l_3524
 14437
 14438 				; optimize OK (bank.pas), line = 193
 14439
 14440 579D AD 5D A8			lda CH
 14441 57A0 C9 06			cmp #$06
 14442 57A2 D0 08			jne l_3558
 14443
 14444 				; optimize OK (bank.pas), line = 195
 14445
 14446 57A4 AD 61 A8			lda WHPOS
 14447 57A7 F0 03			jeq l_356B
 14448 57A9 CE 61 A8			dec WHPOS
 14449 57AC			l_356B
 14450 57AC			l_3558
 14451 57AC			l_34F1
 14452
 14453 				; optimize OK (bank.pas), line = 199
 14454
 14455 57AC AD 8A CD			lda CURRENTPLAYER
 14456 57AF 0A				asl @
 14457 57B0 0A				asl @
 14458 57B1 0A				asl @
 14459 57B2 A8				tay
 14460 57B3 B9 E8 CC			lda adr.GANGSTERINT,y
 14461 57B6 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 14462 57B9 A0 01			ldy #1
 14463 57BB AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 14464 57BE C9 04			cmp #$04
 14465 57C0 90 01			bcc @+
 14466 57C2 88				dey
 14467 				@
 14468 57C3 98				tya
 14469 57C4 8D 62 A8			sta HOPS
 14470
 14471 				; optimize OK (bank.pas), line = 200
 14472
 14473 57C7 AD 5D A8			lda CH
 14474 57CA C9 0F			cmp #$0F
 14475 57CC F0 04			jeq l_35AEx
 14476 57CE C9 0E			cmp #$0E
 14477 57D0 D0 68			jne l_35AE
 14478 57D2			l_35AEx
 14479
 14480 				; optimize OK (bank.pas), line = 202
 14481
 14482 57D2 AC 61 A8			ldy WHPOS
 14483 57D5 B9 5A A8			lda adr.C,y
 14484 57D8 38 E9 0A			sub #$0A
 14485 57DB 50 02			svc
 14486 57DD 49 80			eor #$80
 14487 57DF 30 05			jmi l_35C4
 14488 57E1 A9 00			lda #$00
 14489 57E3 99 5A A8			sta adr.C,y
 14490 57E6			l_35C4
 14491
 14492 				; optimize OK (bank.pas), line = 203
 14493
 14494 57E6 AC 61 A8			ldy WHPOS
 14495 57E9 B9 5A A8			lda adr.C,y
 14496 57EC 10 05			jpl l_35E3
 14497 57EE A9 09			lda #$09
 14498 57F0 99 5A A8			sta adr.C,y
 14499 57F3			l_35E3
 14500
 14501 				; optimize OK (bank.pas), line = 204
 14502
 14503 57F3 CE 56 A8			dec NATTEMPTS
 14504
 14505 				; optimize OK (bank.pas), line = 217
 14506
 14507 57F6 AD 62 A8			lda HOPS
 14508 57F9 D0 10			jne l_361D
 14509 57FB AC 61 A8			ldy WHPOS
 14510 57FE B9 57 A8			lda adr.T,y
 14511 5801 D9 5A A8			cmp adr.C,y
 14512 5804 D0 05			jne l_361D
 14513
 14514 				; optimize OK (bank.pas), line = 218
 14515
 14516 5806 A9 0A			lda #$0A
 14517 5808 4C 0D 58			jmp l_3629
 14518 580B			l_361D
 14519
 14520 				; optimize OK (bank.pas), line = 220
 14521
 14522 580B A9 0C			lda #$0C
 14523 580D			l_3629
 14524 580D 8D E1 9D			sta RMT.TRMT.INIT.A
 14525 5810 AD E4 99			lda MSX
 14526 5813 AC E5 99			ldy MSX+1
 14527 5816 20 52 15			jsr RMT.TRMT.INIT
 14528
 14529 				; optimize FAIL ('RMT.TRMT.PLAY', bank.pas), line = 221
 14530
 14531 5819 AD E4 99			lda MSX
 14532 581C AC E5 99			ldy MSX+1
 14533 581F 20 8E 15			jsr RMT.TRMT.PLAY
 14534
 14535 				; optimize OK (bank.pas), line = 222
 14536
 14537 5822 A9 01			lda #$01
 14538 5824 8D 11 CA			sta PLAYMUSIC
 14539
 14540 				; optimize OK (bank.pas), line = 223
 14541
 14542 5827 A9 0A			lda #$0A
 14543 5829 20 5A 27			jsr WAITFRAMES
 14544
 14545 				; optimize FAIL ('RMT.TRMT.STOP', bank.pas), line = 224
 14546
 14547 582C AD E4 99			lda MSX
 14548 582F AC E5 99			ldy MSX+1
 14549 5832 20 CE 15			jsr RMT.TRMT.STOP
 14550
 14551 				; optimize OK (bank.pas), line = 225
 14552
 14553 5835 A9 00			lda #$00
 14554 5837 8D 11 CA			sta PLAYMUSIC
 14555 583A			l_35AE
 14556
 14557 				; optimize OK (bank.pas), line = 228
 14558
 14559 583A AD 62 A8			lda HOPS
 14560 583D D0 1D			jne l_367B
 14561 583F AD 5A A8			lda adr.C
 14562 5842 CD 57 A8			cmp adr.T
 14563 5845 D0 15			jne l_367B
 14564 5847 AD 5B A8			lda adr.C+$01
 14565 584A CD 58 A8			cmp adr.T+$01
 14566 584D D0 0D			jne l_367B
 14567 584F AD 5C A8			lda adr.C+$02
 14568 5852 CD 59 A8			cmp adr.T+$02
 14569 5855 D0 05			jne l_367B
 14570 5857 A9 01			lda #$01
 14571 5859 8D 5E A8			sta SAFEOPEN
 14572 585C			l_367B
 14573
 14574 				; optimize OK (bank.pas), line = 229
 14575
 14576 585C AD 5D A8			lda CH
 14577 585F C9 2F			cmp #$2F
 14578 5861 F0 0F			jeq l_33FFx
 14579 5863 AD 56 A8			lda NATTEMPTS
 14580 5866 F0 0A			jeq l_33FFx
 14581 5868 AD 5E A8			lda SAFEOPEN
 14582 586B C9 01			cmp #$01
 14583 586D F0 03 4C 7A 56		jne l_33FF
 14584 5872			l_33FFx
 14585
 14586 				; optimize OK (bank.pas), line = 231
 14587
 14588 5872 A9 00			lda #$00
 14589 5874 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
 14590 5877 A9 15			lda #$15
 14591 5879 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
 14592 587C 20 F9 17			jsr B_CRT.CRT_GOTOXY
 14593
 14594 				; optimize OK (bank.pas), line = 232
 14595
 14596 587F AD 5D A8			lda CH
 14597 5882 C9 2F			cmp #$2F
 14598 5884 D0 25			jne l_36BC
 14599
 14600 				; optimize OK (bank.pas), line = 234
 14601
 14602 5886 A9 15			lda #$15
 14603 5888 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 14604 588B A9 09			lda #$09
 14605 588D 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 14606 5890 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 14607
 14608 				; optimize OK (bank.pas), line = 235
 14609
 14610 5893 A9 64			lda #$64
 14611 5895 20 5A 27			jsr WAITFRAMES
 14612
 14613 				; optimize FAIL ('WAITFORKEY', bank.pas), line = 236
 14614
 14615 5898 20 88 1D			jsr WAITFORKEY
 14616
 14617 				; optimize FAIL ('ENABLECONSOLE', bank.pas), line = 237
 14618
 14619 589B 20 8E 27			jsr ENABLECONSOLE
 14620
 14621 				; optimize OK (bank.pas), line = 238
 14622
 14623 589E A9 88			lda #$88
 14624 58A0 8D F6 EA			sta MAPCOLORA
 14625
 14626 				; optimize OK (bank.pas), line = 239
 14627
 14628 58A3 A9 06			lda #$06
 14629 58A5 8D F7 EA			sta MAPCOLORB
 14630 58A8 4C 7C 59			jmp @exit
 14631 58AB			l_36BC
 14632
 14633 				; optimize OK (bank.pas), line = 243
 14634
 14635 58AB AD 5E A8			lda SAFEOPEN
 14636 58AE C9 01			cmp #$01
 14637 58B0 D0 2F			jne l_36E0
 14638
 14639 				; optimize OK (bank.pas), line = 244
 14640
 14641 58B2 A9 15			lda #$15
 14642 58B4 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 14643 58B7 A9 0A			lda #$0A
 14644 58B9 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 14645 58BC 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 14646
 14647 				; optimize OK (bank.pas), line = 246
 14648
 14649 58BF A9 3C			lda #$3C
 14650 58C1 20 5A 27			jsr WAITFRAMES
 14651
 14652 				; optimize FAIL ('WAITFORKEY', bank.pas), line = 247
 14653
 14654 58C4 20 88 1D			jsr WAITFORKEY
 14655
 14656 				; optimize OK (bank.pas), line = 248
 14657
 14658 58C7 A9 88			lda #$88
 14659 58C9 8D F6 EA			sta MAPCOLORA
 14660
 14661 				; optimize OK (bank.pas), line = 249
 14662
 14663 58CC A9 06			lda #$06
 14664 58CE 8D F7 EA			sta MAPCOLORB
 14665
 14666 				; optimize OK (bank.pas), line = 250
 14667
 14668 58D1 A9 01			lda #$01
 14669 58D3 8D 9F A7			sta CRACKEDBANK.P
 14670 58D6 A9 00			lda #$00
 14671 58D8 8D A0 A7			sta CRACKEDBANK.P+1
 14672 58DB 20 FE 2F			jsr CRACKEDBANK
 14673 58DE 4C 7C 59			jmp @exit
 14674 58E1			l_36E0
 14675
 14676 				; optimize OK (bank.pas), line = 255
 14677
 14678 58E1 A9 14			lda #$14
 14679 58E3 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 14680 58E6 A9 0B			lda #$0B
 14681 58E8 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 14682 58EB 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 14683
 14684 				; optimize OK (bank.pas), line = 256
 14685
 14686 58EE A9 15			lda #$15
 14687 58F0 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 14688 58F3 A9 0C			lda #$0C
 14689 58F5 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 14690 58F8 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 14691
 14692 				; optimize OK (bank.pas), line = 257
 14693
 14694 58FB A9 00			lda #$00
 14695 58FD 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
 14696 5900 A9 15			lda #$15
 14697 5902 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
 14698 5905 20 F9 17			jsr B_CRT.CRT_GOTOXY
 14699
 14700 				; optimize OK (bank.pas), line = 259
 14701
 14702 5908 A9 01			lda #$01
 14703 590A 8D 11 CA			sta PLAYMUSIC
 14704
 14705 				; optimize OK (bank.pas), line = 260
 14706
 14707 590D A9 08			lda #$08
 14708 590F 8D E1 9D			sta RMT.TRMT.INIT.A
 14709 5912 AD E4 99			lda MSX
 14710 5915 AC E5 99			ldy MSX+1
 14711 5918 20 52 15			jsr RMT.TRMT.INIT
 14712
 14713 				; optimize FAIL ('RMT.TRMT.PLAY', bank.pas), line = 261
 14714
 14715 591B AD E4 99			lda MSX
 14716 591E AC E5 99			ldy MSX+1
 14717 5921 20 8E 15			jsr RMT.TRMT.PLAY
 14718
 14719 				; optimize OK (bank.pas), line = 262
 14720
 14721 5924 A9 00			lda #$00
 14722 5926 8D 55 A8			sta K
 14723
 14724 5929			l_370C
 14725 				; --- ForToDoCondition
 14726 5929 AD 55 A8			lda K
 14727 592C C9 07			cmp #$07
 14728 592E B0 19			jcs l_371A
 14729
 14730 				; optimize OK (bank.pas), line = 264
 14731
 14732 5930 A9 34			lda #$34
 14733 5932 8D 18 C9			sta LOCCOLBK
 14734
 14735 				; optimize OK (bank.pas), line = 265
 14736
 14737 5935 A9 0F			lda #$0F
 14738 5937 20 5A 27			jsr WAITFRAMES
 14739
 14740 				; optimize OK (bank.pas), line = 266
 14741
 14742 593A A9 00			lda #$00
 14743 593C 8D 18 C9			sta LOCCOLBK
 14744
 14745 				; optimize OK (bank.pas), line = 267
 14746
 14747 593F A9 0F			lda #$0F
 14748 5941 20 5A 27			jsr WAITFRAMES
 14749
 14750 				; --- ForToDoEpilog
 14751 5944 EE 55 A8			inc K
 14752 5947 D0 E0			jne l_370C
 14753 5949			l_371A
 14754
 14755 				; optimize FAIL ('RMT.TRMT.STOP', bank.pas), line = 269
 14756
 14757 5949 AD E4 99			lda MSX
 14758 594C AC E5 99			ldy MSX+1
 14759 594F 20 CE 15			jsr RMT.TRMT.STOP
 14760
 14761 				; optimize OK (bank.pas), line = 270
 14762
 14763 5952 A9 00			lda #$00
 14764 5954 8D 11 CA			sta PLAYMUSIC
 14765
 14766 				; optimize FAIL ('WAITFORKEY', bank.pas), line = 272
 14767
 14768 5957 20 88 1D			jsr WAITFORKEY
 14769
 14770 				; optimize OK (bank.pas), line = 273
 14771
 14772 595A A9 88			lda #$88
 14773 595C 8D F6 EA			sta MAPCOLORA
 14774
 14775 				; optimize OK (bank.pas), line = 274
 14776
 14777 595F A9 06			lda #$06
 14778 5961 8D F7 EA			sta MAPCOLORB
 14779
 14780 				; optimize FAIL ('PREPAREFIGHTAGAINSTPOLICE', bank.pas), line = 275
 14781
 14782 5964 20 E9 30			jsr PREPAREFIGHTAGAINSTPOLICE
 14783
 14784 				; optimize FAIL ('DOFIGHT', bank.pas), line = 276
 14785
 14786 5967 20 66 4D			jsr DOFIGHT
 14787 596A AD 1C A8			lda DOFIGHT.RESULT
 14788 596D C9 01			cmp #$01
 14789 596F D0 0B			jne l_374A
 14790
 14791 				; optimize FAIL ('GOTCAUGHT', bank.pas), line = 278
 14792
 14793 5971 20 F9 35			jsr GOTCAUGHT
 14794
 14795 				; optimize OK (bank.pas), line = 279
 14796
 14797 5974 A9 11			lda #$11
 14798 5976 8D 54 A8			sta RESULT
 14799 5979 4C 7C 59			jmp @exit
 14800 597C			l_374A
 14801 597C			l_32F6
 14802 597C			@exit
 14803
 14804 				; ------------------------------------------------------------
 14805
 14806 = A854			RESULT	= DATAORIGIN+$0C39
 14807 = A855			K	= DATAORIGIN+$0C3A
 14808 = A856			NATTEMPTS	= DATAORIGIN+$0C3B
 14809 = A857			adr.T	= [DATAORIGIN+$0C3C] .array [3]
 14810 597C			.var T	= adr.T .word
 14811 = A85A			adr.C	= [DATAORIGIN+$0C3F] .array [3]
 14812 597C			.var C	= adr.C .word
 14813 = A85D			CH	= DATAORIGIN+$0C42
 14814 = A85E			SAFEOPEN	= DATAORIGIN+$0C43
 14815 = A85F			BASE	= DATAORIGIN+$0C44
 14816 = A861			WHPOS	= DATAORIGIN+$0C46
 14817 = A862			HOPS	= DATAORIGIN+$0C47
 14818 = A863			@CASETMP_0011	= DATAORIGIN+$0C48
 14819
 14820 = A855			@VarData	= K
 14821 = 000F			@VarDataSize	= 15
 14822
 14823 597C 60				rts						; ret
 14824 = 597D 57 A8		T
 14824 = 597F 5A A8		C
 14824 				.endl
 14825
 14826 5981			.local	CHECKBOOZE					; PROCEDURE
 14827
 14828 				; optimize OK (cardealer.pas), line = 6
 14829
 14830 5981 AC 8A CD			ldy CURRENTPLAYER
 14831 5984 B9 4C C9			lda adr.PLCAR,y
 14832 5987 8D 64 A8			sta R
 14833
 14834 				; optimize OK (cardealer.pas), line = 7
 14835
 14836 598A B9 44 C9			lda adr.PLALCOHOL,y
 14837 598D 85 9D			sta :STACKORIGIN+9
 14838 598F AC 64 A8			ldy R
 14839 5992 B9 0C E7			lda adr.CARCARGO,y
 14840 5995 C5 9D			cmp :STACKORIGIN+9
 14841 5997 B0 13			jcs l_377B
 14842
 14843 				; optimize OK (cardealer.pas), line = 9
 14844
 14845 5999 AC 8A CD			ldy CURRENTPLAYER
 14846 599C 99 44 C9			sta adr.PLALCOHOL,y
 14847
 14848 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', cardealer.pas), line = 10
 14849
 14850 599F 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 14851
 14852 				; optimize OK (cardealer.pas), line = 11
 14853
 14854 59A2 A9 14			lda #$14
 14855 59A4 20 04 1C			jsr CRT_WRITE_LOCSTR
 14856
 14857 				; optimize OK (cardealer.pas), line = 12
 14858
 14859 59A7 A9 15			lda #$15
 14860 59A9 20 04 1C			jsr CRT_WRITE_LOCSTR
 14861 59AC			l_377B
 14862
 14863 				; ------------------------------------------------------------
 14864
 14865 = A864			R	= DATAORIGIN+$0C49
 14866
 14867 = A864			@VarData	= R
 14868 = 0001			@VarDataSize	= 1
 14869
 14870 59AC			@exit
 14871 					.ifdef @new
 14872 					lda <@VarData
 14873 					sta :ztmp
 14874 					lda >@VarData
 14875 					ldy #@VarDataSize-1
 14876 					jmp @FreeMem
 14877 					els
 14878 59AC 60				rts						; ret
 14879 					eif
 14880 				.endl
 14881
 14882 59AD			.local	CARDEALERCHOICES				; FUNCTION
 14883
 14884 				; optimize OK (cardealer.pas), line = 26
 14885
 14886 59AD AD 22 C9			lda CURRENTCHOICE
 14887 59B0 C9 01			cmp #$01
 14888 59B2 F0 03 4C 6D 5B		jne l_37A5
 14889
 14890 				; optimize FAIL ('SHOWLOCATIONHEADER', cardealer.pas), line = 28
 14891
 14892 59B7 20 18 28			jsr SHOWLOCATIONHEADER
 14893
 14894 				; optimize OK (cardealer.pas), line = 29
 14895
 14896 59BA A9 01			lda #$01
 14897 59BC 20 49 1C			jsr CRT_WRITELN_LOCSTR
 14898
 14899 				; optimize OK (cardealer.pas), line = 30
 14900
 14901 59BF A9 02			lda #$02
 14902 59C1 20 49 1C			jsr CRT_WRITELN_LOCSTR
 14903
 14904 				; optimize OK (cardealer.pas), line = 33
 14905
 14906 59C4 A9 04			lda #$04
 14907 59C6 8D 67 A8			sta MAXCAR
 14908
 14909 				; optimize OK (cardealer.pas), line = 34
 14910
 14911 59C9 AD 0E A7			lda CURRENTSUBLOCATION
 14912 59CC C9 03			cmp #$03
 14913 59CE 90 05			jcc l_37C1
 14914
 14915 				; optimize OK (cardealer.pas), line = 35
 14916
 14917 59D0 A9 05			lda #$05
 14918 59D2 8D 67 A8			sta MAXCAR
 14919 59D5			l_37C1
 14920
 14921 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', cardealer.pas), line = 38
 14922
 14923 59D5 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 14924
 14925 				; optimize OK (cardealer.pas), line = 39
 14926
 14927 59D8 A9 01			lda #$01
 14928 59DA 8D 66 A8			sta R
 14929
 14930 59DD			l_37D4
 14931 				; --- ForToDoCondition
 14932 59DD AD 66 A8			lda R
 14933 59E0 CD 67 A8			cmp MAXCAR
 14934 59E3 90 02			scc
 14935 59E5 D0 62			jne l_37E2
 14936
 14937 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', cardealer.pas), line = 41
 14938
 14939 59E7 E8				inx
 14940 59E8 A9 6B 95 94			mva #$6B :STACKORIGIN,x
 14941 59EC A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 14942 59F0 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 14943
 14944 				; optimize OK (cardealer.pas), line = 42
 14945
 14946 59F3 AD 66 A8			lda R
 14947 59F6 20 CB 18			jsr B_CRT.CRT_WRITE.@010180000
 14948
 14949 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', cardealer.pas), line = 43
 14950
 14951 59F9 E8				inx
 14952 59FA A9 76 95 94			mva #$76 :STACKORIGIN,x
 14953 59FE A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 14954 5A02 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 14955
 14956 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', cardealer.pas), line = 44
 14957
 14958 5A05 E8				inx
 14959 5A06 AD 66 A8			lda R
 14960 5A09 0A				asl @
 14961 5A0A A8				tay
 14962 5A0B B9 4A A4			lda adr.CARNAMES,y
 14963 5A0E 95 94			sta :STACKORIGIN,x
 14964 5A10 B9 4B A4			lda adr.CARNAMES+1,y
 14965 5A13 95 A4			sta :STACKORIGIN+STACKWIDTH,x
 14966 5A15 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 14967
 14968 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', cardealer.pas), line = 45
 14969
 14970 5A18 E8				inx
 14971 5A19 A9 9A 95 94			mva #$9A :STACKORIGIN,x
 14972 5A1D A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 14973 5A21 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 14974
 14975 				; optimize OK (cardealer.pas), line = 46
 14976
 14977 5A24 AD 66 A8			lda R
 14978 5A27 0A				asl @
 14979 5A28 A8				tay
 14980 5A29 B9 00 E7			lda adr.CARPRICES,y
 14981 5A2C 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 14982 5A2F B9 01 E7			lda adr.CARPRICES+1,y
 14983 5A32 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 14984 5A35 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 14985
 14986 				; optimize FAIL ('CRT_WRITELN', cardealer.pas), line = 47
 14987
 14988 5A38 E8				inx
 14989 5A39 A9 9D 95 94			mva #$9D :STACKORIGIN,x
 14990 5A3D A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 14991 5A41 20 E7 1D			jsr CRT_WRITELN
 14992
 14993 				; --- ForToDoEpilog
 14994 5A44 EE 66 A8			inc R
 14995 5A47 D0 94			jne l_37D4
 14996 5A49			l_37E2
 14997
 14998 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', cardealer.pas), line = 50
 14999
 15000 5A49 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 15001
 15002 				; optimize OK (cardealer.pas), line = 51
 15003
 15004 5A4C A9 03			lda #$03
 15005 5A4E 20 04 1C			jsr CRT_WRITE_LOCSTR
 15006
 15007 				; optimize OK (cardealer.pas), line = 52
 15008
 15009 5A51 A9 00			lda #$00
 15010 5A53 8D E9 A6			sta READVALUE.MINVALUE
 15011 5A56 8D EA A6			sta READVALUE.MINVALUE+1
 15012 5A59 AD 67 A8			lda MAXCAR
 15013 5A5C 8D EB A6			sta READVALUE.MAXVALUE
 15014 5A5F A9 00			lda #$00
 15015 5A61 8D EC A6			sta READVALUE.MAXVALUE+1
 15016 5A64 20 64 1F			jsr READVALUE
 15017 5A67 AD ED A6			lda READVALUE.RESULT
 15018 5A6A 8D 6C A8			sta NEWCAR
 15019
 15020 				; optimize OK (cardealer.pas), line = 53
 15021
 15022 5A6D D0 03 4C B3 5C		jeq @exit
 15023 5A72			l_381C
 15024
 15025 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', cardealer.pas), line = 54
 15026
 15027 5A72 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 15028
 15029 				; optimize OK (cardealer.pas), line = 55
 15030
 15031 5A75 AD 6C A8			lda NEWCAR
 15032 5A78 0A				asl @
 15033 5A79 A8				tay
 15034 5A7A B9 00 E7			lda adr.CARPRICES,y
 15035 5A7D 8D 68 A8			sta PRICE
 15036 5A80 B9 01 E7			lda adr.CARPRICES+1,y
 15037 5A83 8D 69 A8			sta PRICE+1
 15038
 15039 				; optimize OK (cardealer.pas), line = 56
 15040
 15041 5A86 AD 68 A8			lda PRICE
 15042 5A89 8D A6 A7			sta PAYMONEY.PRICE
 15043 5A8C AD 69 A8			lda PRICE+1
 15044 5A8F 8D A7 A7			sta PAYMONEY.PRICE+1
 15045 5A92 20 02 32			jsr PAYMONEY
 15046 5A95 AD A8 A7			lda PAYMONEY.RESULT
 15047 5A98 D0 03 4C B3 5C		jeq @exit
 15048 5A9D			l_383A
 15049
 15050 				; optimize OK (cardealer.pas), line = 58
 15051
 15052 5A9D AC 8A CD			ldy CURRENTPLAYER
 15053 5AA0 B9 4C C9			lda adr.PLCAR,y
 15054 5AA3 8D 66 A8			sta R
 15055
 15056 				; optimize OK (cardealer.pas), line = 59
 15057
 15058 5AA6 D0 03 4C 35 5B		jeq l_3858
 15059
 15060 				; optimize OK (cardealer.pas), line = 61
 15061
 15062 5AAB 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 15063 5AAE AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 15064 5AB1 8D BD A3			sta TMP
 15065
 15066 				; optimize OK (cardealer.pas), line = 62
 15067
 15068 5AB4 A9 00			lda #$00
 15069 5AB6 85 CE			sta :STACKORIGIN+STACKWIDTH*3+10
 15070 5AB8 85 BE			sta :STACKORIGIN+STACKWIDTH*2+10
 15071 5ABA 85 AE			sta :STACKORIGIN+STACKWIDTH+10
 15072 5ABC AD BD A3			lda TMP
 15073 5ABF A0 09			ldy #$09
 15074 5AC1 F0 0A			beq l_0000_e
 15075 5AC3			l_0000_b
 15076 5AC3 0A				asl @
 15077 5AC4 26 AE			rol :STACKORIGIN+STACKWIDTH+10
 15078 5AC6 26 BE			rol :STACKORIGIN+STACKWIDTH*2+10
 15079 5AC8 26 CE			rol :STACKORIGIN+STACKWIDTH*3+10
 15080 5ACA 88				dey
 15081 5ACB D0 F6			bne l_0000_b
 15082 5ACD			l_0000_e
 15083 5ACD 18 69 E8			add #$E8
 15084 5AD0 8D 6A A8			sta OLDPRICE
 15085 5AD3 A9 03			lda #$03
 15086 5AD5 65 AE			adc :STACKORIGIN+STACKWIDTH+10
 15087 5AD7 8D 6B A8			sta OLDPRICE+1
 15088
 15089 				; optimize OK (cardealer.pas), line = 63
 15090
 15091 5ADA A9 00			lda #$00
 15092 5ADC 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 15093 5ADF AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 15094 5AE2 8D BD A3			sta TMP
 15095
 15096 				; optimize OK (cardealer.pas), line = 64
 15097
 15098 5AE5 AD 6A A8			lda OLDPRICE
 15099 5AE8 18 6D BD A3			add TMP
 15100 5AEC 8D 6A A8			sta OLDPRICE
 15101 5AEF 90 03			scc
 15102 5AF1 EE 6B A8			inc OLDPRICE+1
 15103
 15104 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', cardealer.pas), line = 66
 15105
 15106 5AF4 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 15107
 15108 				; optimize OK (cardealer.pas), line = 67
 15109
 15110 5AF7 A9 04			lda #$04
 15111 5AF9 20 04 1C			jsr CRT_WRITE_LOCSTR
 15112
 15113 				; optimize OK (cardealer.pas), line = 68
 15114
 15115 5AFC AD 6A A8			lda OLDPRICE
 15116 5AFF 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 15117 5B02 AD 6B A8			lda OLDPRICE+1
 15118 5B05 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 15119 5B08 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 15120
 15121 				; optimize OK (cardealer.pas), line = 69
 15122
 15123 5B0B A9 05			lda #$05
 15124 5B0D 20 49 1C			jsr CRT_WRITELN_LOCSTR
 15125
 15126 				; optimize OK (cardealer.pas), line = 70
 15127
 15128 5B10 A9 12			lda #$12
 15129 5B12 20 04 1C			jsr CRT_WRITE_LOCSTR
 15130
 15131 				; optimize FAIL ('GETYESNO', cardealer.pas), line = 72
 15132
 15133 5B15 20 46 1F			jsr GETYESNO
 15134 5B18 AD E8 A6			lda GETYESNO.RESULT
 15135 5B1B 8D 66 A8			sta R
 15136
 15137 				; optimize OK (cardealer.pas), line = 73
 15138
 15139 5B1E D0 03 4C B3 5C		jeq @exit
 15140 5B23			l_389E
 15141
 15142 				; optimize OK (cardealer.pas), line = 74
 15143
 15144 5B23 AD 6A A8			lda OLDPRICE
 15145 5B26 8D 99 A7			sta ADDMONEY.AMOUNT
 15146 5B29 AD 6B A8			lda OLDPRICE+1
 15147 5B2C 8D 9A A7			sta ADDMONEY.AMOUNT+1
 15148 5B2F 20 5F 2F			jsr ADDMONEY
 15149
 15150 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', cardealer.pas), line = 75
 15151
 15152 5B32 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 15153 5B35			l_3858
 15154
 15155 				; optimize OK (cardealer.pas), line = 78
 15156
 15157 5B35 A9 06			lda #$06
 15158 5B37 20 49 1C			jsr CRT_WRITELN_LOCSTR
 15159
 15160 				; optimize OK (cardealer.pas), line = 79
 15161
 15162 5B3A AD 6B A8			lda OLDPRICE+1
 15163 5B3D 0D 6A A8			ora OLDPRICE
 15164 5B40 F0 19			jeq l_38BA
 15165
 15166 				; optimize OK (cardealer.pas), line = 81
 15167
 15168 5B42 A9 07			lda #$07
 15169 5B44 20 04 1C			jsr CRT_WRITE_LOCSTR
 15170
 15171 				; optimize OK (cardealer.pas), line = 82
 15172
 15173 5B47 AD 6A A8			lda OLDPRICE
 15174 5B4A 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 15175 5B4D AD 6B A8			lda OLDPRICE+1
 15176 5B50 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 15177 5B53 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 15178
 15179 				; optimize OK (cardealer.pas), line = 83
 15180
 15181 5B56 A9 05			lda #$05
 15182 5B58 20 49 1C			jsr CRT_WRITELN_LOCSTR
 15183 5B5B			l_38BA
 15184
 15185 				; optimize OK (cardealer.pas), line = 86
 15186
 15187 5B5B AC 8A CD			ldy CURRENTPLAYER
 15188 5B5E AD 6C A8			lda NEWCAR
 15189 5B61 99 4C C9			sta adr.PLCAR,y
 15190
 15191 				; optimize FAIL ('CHECKBOOZE', cardealer.pas), line = 87
 15192
 15193 5B64 20 81 59			jsr CHECKBOOZE
 15194
 15195 				; optimize FAIL ('WAITFORKEY', cardealer.pas), line = 88
 15196
 15197 5B67 20 88 1D			jsr WAITFORKEY
 15198 5B6A 4C B3 5C			jmp @exit
 15199 5B6D			l_37A5
 15200
 15201 				; optimize OK (cardealer.pas), line = 93
 15202
 15203 5B6D AD 22 C9			lda CURRENTCHOICE
 15204 5B70 C9 02			cmp #$02
 15205 5B72 F0 03 4C B3 5C		jne l_38E3
 15206
 15207 				; optimize FAIL ('SHOWLOCATIONHEADER', cardealer.pas), line = 95
 15208
 15209 5B77 20 18 28			jsr SHOWLOCATIONHEADER
 15210
 15211 				; optimize OK (cardealer.pas), line = 98
 15212
 15213 5B7A A9 03			lda #$03
 15214 5B7C 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 15215 5B7F AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 15216 5B82 8D BD A3			sta TMP
 15217
 15218 				; optimize OK (cardealer.pas), line = 99
 15219
 15220 5B85 AD 0E A7			lda CURRENTSUBLOCATION
 15221 5B88 C9 02			cmp #$02
 15222 5B8A B0 15			jcs l_3908
 15223 5B8C AD BD A3			lda TMP
 15224 5B8F F0 10			jeq l_3908
 15225
 15226 				; optimize OK (cardealer.pas), line = 101
 15227
 15228 5B91 A9 08			lda #$08
 15229 5B93 20 04 1C			jsr CRT_WRITE_LOCSTR
 15230
 15231 				; optimize FAIL ('WAITFORKEY', cardealer.pas), line = 102
 15232
 15233 5B96 20 88 1D			jsr WAITFORKEY
 15234
 15235 				; optimize OK (cardealer.pas), line = 103
 15236
 15237 5B99 A9 06			lda #$06
 15238 5B9B 8D 65 A8			sta RESULT
 15239 5B9E 4C B3 5C			jmp @exit
 15240 5BA1			l_3908
 15241
 15242 				; optimize OK (cardealer.pas), line = 107
 15243
 15244 5BA1 AC 8A CD			ldy CURRENTPLAYER
 15245 5BA4 B9 B1 CD			lda adr.PLNGANGSTERS,y
 15246 5BA7 C9 02			cmp #$02
 15247 5BA9 90 05			jcc l_3927
 15248
 15249 				; optimize OK (cardealer.pas), line = 108
 15250
 15251 5BAB A9 09			lda #$09
 15252 5BAD 20 04 1C			jsr CRT_WRITE_LOCSTR
 15253 5BB0			l_3927
 15254
 15255 				; optimize OK (cardealer.pas), line = 109
 15256
 15257 5BB0 A9 00			lda #$00
 15258 5BB2 8D 23 C9			sta SHOWWEAPONS
 15259
 15260 				; optimize FAIL ('SELECTGANGSTER', cardealer.pas), line = 110
 15261
 15262 5BB5 20 D8 33			jsr SELECTGANGSTER
 15263
 15264 				; optimize OK (cardealer.pas), line = 111
 15265
 15266 5BB8 AD 88 CD			lda CURRENTGANGSTER
 15267 5BBB C9 63			cmp #$63
 15268 5BBD D0 03 4C B3 5C		jeq @exit
 15269 5BC2			l_3943
 15270
 15271 				; optimize OK (cardealer.pas), line = 114
 15272
 15273 5BC2 AC 88 CD			ldy CURRENTGANGSTER
 15274 5BC5 B9 E8 CC			lda adr.GANGSTERINT,y
 15275 5BC8 4A				lsr @
 15276 5BC9 4A				lsr @
 15277 5BCA 8D 66 A8			sta R
 15278
 15279 				; optimize OK (cardealer.pas), line = 116
 15280
 15281 5BCD B9 C8 CC			lda adr.GANGSTERSTR,y
 15282 5BD0 4A				lsr @
 15283 5BD1 4A				lsr @
 15284 5BD2 8D 67 A8			sta MAXCAR
 15285
 15286 				; optimize OK (cardealer.pas), line = 117
 15287
 15288 5BD5 18 6D 66 A8			add R
 15289 5BD9 18 6D 66 A8			add R
 15290 5BDD 18 6D 66 A8			add R
 15291 5BE1 8D 67 A8			sta MAXCAR
 15292
 15293 				; optimize OK (cardealer.pas), line = 118
 15294
 15295 5BE4 A9 64			lda #$64
 15296 5BE6 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 15297 5BE9 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 15298 5BEC CD 67 A8			cmp MAXCAR
 15299 5BEF B0 48			jcs l_398B
 15300
 15301 				; optimize OK (cardealer.pas), line = 121
 15302
 15303 5BF1 A9 0A			lda #$0A
 15304 5BF3 20 49 1C			jsr CRT_WRITELN_LOCSTR
 15305
 15306 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', cardealer.pas), line = 122
 15307
 15308 5BF6 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 15309
 15310 				; optimize OK (cardealer.pas), line = 124
 15311
 15312 5BF9 AC 8A CD			ldy CURRENTPLAYER
 15313 5BFC B9 4C C9			lda adr.PLCAR,y
 15314 5BFF D0 08			jne l_39A4
 15315
 15316 				; optimize OK (cardealer.pas), line = 126
 15317
 15318 5C01 A9 0B			lda #$0B
 15319 5C03 20 49 1C			jsr CRT_WRITELN_LOCSTR
 15320 5C06 4C 13 5C			jmp l_39B0
 15321 5C09			l_39A4
 15322
 15323 				; optimize OK (cardealer.pas), line = 130
 15324
 15325 5C09 A9 0C			lda #$0C
 15326 5C0B 20 49 1C			jsr CRT_WRITELN_LOCSTR
 15327
 15328 				; optimize OK (cardealer.pas), line = 131
 15329
 15330 5C0E A9 0D			lda #$0D
 15331 5C10 20 04 1C			jsr CRT_WRITE_LOCSTR
 15332 5C13			l_39B0
 15333
 15334 				; optimize FAIL (1, cardealer.pas), line = 134
 15335
 15336 5C13 E8				inx
 15337 5C14 A9 01 95 94			mva #$01 :STACKORIGIN,x
 15338 5C18 A9 05			lda #$05
 15339 5C1A 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 15340 5C1D B5 94			lda :STACKORIGIN,x
 15341 5C1F 18 6D 27 9C			add SYSTEM.RANDOM.@010180000.RESULT
 15342 5C23 8D 66 A8			sta R
 15343 5C26 CA				dex
 15344
 15345 				; optimize OK (cardealer.pas), line = 135
 15346
 15347 5C27 AC 8A CD			ldy CURRENTPLAYER
 15348 5C2A AD 66 A8			lda R
 15349 5C2D 99 4C C9			sta adr.PLCAR,y
 15350
 15351 				; optimize FAIL ('CHECKBOOZE', cardealer.pas), line = 136
 15352
 15353 5C30 20 81 59			jsr CHECKBOOZE
 15354
 15355 				; optimize FAIL ('WAITFORKEY', cardealer.pas), line = 137
 15356
 15357 5C33 20 88 1D			jsr WAITFORKEY
 15358 5C36 4C B3 5C			jmp @exit
 15359 5C39			l_398B
 15360
 15361 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', cardealer.pas), line = 142
 15362
 15363 5C39 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 15364
 15365 				; optimize OK (cardealer.pas), line = 143
 15366
 15367 5C3C A9 0E			lda #$0E
 15368 5C3E 20 49 1C			jsr CRT_WRITELN_LOCSTR
 15369
 15370 				; optimize OK (cardealer.pas), line = 144
 15371
 15372 5C41 A9 11			lda #$11
 15373 5C43 20 49 1C			jsr CRT_WRITELN_LOCSTR
 15374
 15375 				; optimize FAIL ('WAITFORKEY', cardealer.pas), line = 145
 15376
 15377 5C46 20 88 1D			jsr WAITFORKEY
 15378
 15379 				; optimize OK (cardealer.pas), line = 146
 15380
 15381 5C49 A9 00			lda #$00
 15382 5C4B 8D 66 A8			sta R
 15383
 15384 				; -------------------  ASM Block 00000155  -------------------
 15385
 15386 				 
 15387 5C4E AD A6 9A		            lda loc_string_19
 15388 5C51 8D 79 A3		            sta adr.FP_GANG+$02
 15389 5C54 AD A7 9A		            lda loc_string_19+1
 15390 5C57 8D 7A A3		            sta adr.FP_GANG+1+$02
 15391 				        
 15392 				; optimize OK (cardealer.pas), line = 156
 15393
 15394 5C5A A9 01			lda #$01
 15395 5C5C 8D 02 E4			sta adr.FP_AI+$01
 15396
 15397 				; optimize OK (cardealer.pas), line = 157
 15398
 15399 5C5F 8D 04 E4			sta adr.FP_N+$01
 15400
 15401 				; -------------------  ASM Block 00000156  -------------------
 15402
 15403 				 
 15404 5C62 AD A6 9A		            lda loc_string_19
 15405 5C65 8D 9B A3		            sta adr.fp_Name+16*2
 15406 5C68 AD A7 9A		            lda loc_string_19+1
 15407 5C6B 8D 9C A3		            sta adr.fp_Name+1+16*2
 15408 				        
 15409 				; optimize OK (cardealer.pas), line = 165
 15410
 15411 5C6E A9 05			lda #$05
 15412 5C70 8D 55 E4			sta adr.FP_WEAPON+$10
 15413
 15414 				; optimize OK (cardealer.pas), line = 166
 15415
 15416 5C73 A9 02			lda #$02
 15417 5C75 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 15418 5C78 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 15419 5C7B 8D BD A3			sta TMP
 15420
 15421 				; optimize OK (cardealer.pas), line = 167
 15422
 15423 5C7E 8D 55 E5			sta adr.FP_SEX+$10
 15424
 15425 				; optimize OK (cardealer.pas), line = 168
 15426
 15427 5C81 A9 1E			lda #$1E
 15428 5C83 8D 95 E4			sta adr.FP_ENERGY+$10
 15429
 15430 				; optimize FAIL ('DOFIGHT', cardealer.pas), line = 170
 15431
 15432 5C86 20 66 4D			jsr DOFIGHT
 15433 5C89 AD 1C A8			lda DOFIGHT.RESULT
 15434 5C8C C9 01			cmp #$01
 15435 5C8E D0 0B			jne l_3A04
 15436
 15437 				; optimize FAIL ('GOTCAUGHT', cardealer.pas), line = 172
 15438
 15439 5C90 20 F9 35			jsr GOTCAUGHT
 15440
 15441 				; optimize OK (cardealer.pas), line = 173
 15442
 15443 5C93 A9 11			lda #$11
 15444 5C95 8D 65 A8			sta RESULT
 15445 5C98 4C B3 5C			jmp @exit
 15446 5C9B			l_3A04
 15447
 15448 				; optimize FAIL ('ENABLECONSOLE', cardealer.pas), line = 177
 15449
 15450 5C9B 20 8E 27			jsr ENABLECONSOLE
 15451
 15452 				; optimize FAIL ('SHOWLOCATIONHEADER', cardealer.pas), line = 178
 15453
 15454 5C9E 20 18 28			jsr SHOWLOCATIONHEADER
 15455
 15456 				; optimize OK (cardealer.pas), line = 179
 15457
 15458 5CA1 A9 0F			lda #$0F
 15459 5CA3 20 49 1C			jsr CRT_WRITELN_LOCSTR
 15460
 15461 				; optimize OK (cardealer.pas), line = 180
 15462
 15463 5CA6 A9 10			lda #$10
 15464 5CA8 20 49 1C			jsr CRT_WRITELN_LOCSTR
 15465
 15466 				; optimize FAIL ('WAITFORKEY', cardealer.pas), line = 181
 15467
 15468 5CAB 20 88 1D			jsr WAITFORKEY
 15469
 15470 				; optimize OK (cardealer.pas), line = 182
 15471
 15472 5CAE A9 06			lda #$06
 15473 5CB0 8D 65 A8			sta RESULT
 15474 5CB3			l_38E3
 15475 5CB3			@exit
 15476
 15477 				; ------------------------------------------------------------
 15478
 15479 = A865			RESULT	= DATAORIGIN+$0C4A
 15480 = A866			R	= DATAORIGIN+$0C4B
 15481 = A867			MAXCAR	= DATAORIGIN+$0C4C
 15482 = A868			PRICE	= DATAORIGIN+$0C4D
 15483 = A86A			OLDPRICE	= DATAORIGIN+$0C4F
 15484 = A86C			NEWCAR	= DATAORIGIN+$0C51
 15485
 15486 = A866			@VarData	= R
 15487 = 0007			@VarDataSize	= 7
 15488
 15489 5CB3 60				rts						; ret
 15490 				.endl
 15491
 15492 5CB4			.local	FORGERYCHOICES					; FUNCTION
 15493
 15494 				; optimize OK (forgery.pas), line = 13
 15495
 15496 5CB4 AD 22 C9			lda CURRENTCHOICE
 15497 5CB7 C9 01			cmp #$01
 15498 5CB9 F0 03 4C 77 5D		jne l_3A2F
 15499
 15500 				; optimize FAIL ('SHOWLOCATIONHEADER', forgery.pas), line = 15
 15501
 15502 5CBE 20 18 28			jsr SHOWLOCATIONHEADER
 15503
 15504 				; optimize OK (forgery.pas), line = 18
 15505
 15506 5CC1 AC 8A CD			ldy CURRENTPLAYER
 15507 5CC4 B9 48 C9			lda adr.PLFORGEDID,y
 15508 5CC7 F0 0B			jeq l_3A46
 15509
 15510 				; optimize OK (forgery.pas), line = 20
 15511
 15512 5CC9 A9 01			lda #$01
 15513 5CCB 20 49 1C			jsr CRT_WRITELN_LOCSTR
 15514
 15515 				; optimize FAIL ('WAITFORKEY', forgery.pas), line = 21
 15516
 15517 5CCE 20 88 1D			jsr WAITFORKEY
 15518 5CD1 4C 92 5E			jmp @exit
 15519 5CD4			l_3A46
 15520
 15521 				; optimize OK (forgery.pas), line = 25
 15522
 15523 5CD4 AC 8A CD			ldy CURRENTPLAYER
 15524 5CD7 B9 B1 CD			lda adr.PLNGANGSTERS,y
 15525 5CDA 8D 6E A8			sta R
 15526
 15527 				; optimize OK (forgery.pas), line = 26
 15528
 15529 5CDD A9 E8			lda #$E8
 15530 5CDF 85 8C			sta :ecx
 15531 5CE1 A9 03			lda #$03
 15532 5CE3 85 8D			sta :ecx+1
 15533 5CE5 AD 6E A8			lda R
 15534 5CE8 85 84			sta :eax
 15535 5CEA A9 00			lda #$00
 15536 5CEC 85 85			sta :eax+1
 15537 					.ifdef fmulinit
 15538 					fmulu_16
 15539 					els
 15540 5CEE 20 D3 10			imulCX_AL
 15541 					eif
 15542 5CF1 A5 84			lda :eax
 15543 5CF3 8D 6F A8			sta C
 15544 5CF6 A5 85			lda :eax+1
 15545 5CF8 8D 70 A8			sta C+1
 15546
 15547 				; optimize OK (forgery.pas), line = 27
 15548
 15549 5CFB A9 02			lda #$02
 15550 5CFD 20 04 1C			jsr CRT_WRITE_LOCSTR
 15551
 15552 				; optimize OK (forgery.pas), line = 28
 15553
 15554 5D00 A9 03			lda #$03
 15555 5D02 20 04 1C			jsr CRT_WRITE_LOCSTR
 15556
 15557 				; optimize OK (forgery.pas), line = 29
 15558
 15559 5D05 AD 6E A8			lda R
 15560 5D08 C9 02			cmp #$02
 15561 5D0A 90 05			jcc l_3A75
 15562
 15563 				; optimize OK (forgery.pas), line = 30
 15564
 15565 5D0C A9 04			lda #$04
 15566 5D0E 20 04 1C			jsr CRT_WRITE_LOCSTR
 15567 5D11			l_3A75
 15568
 15569 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', forgery.pas), line = 31
 15570
 15571 5D11 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 15572
 15573 				; optimize OK (forgery.pas), line = 32
 15574
 15575 5D14 A9 05			lda #$05
 15576 5D16 20 04 1C			jsr CRT_WRITE_LOCSTR
 15577
 15578 				; optimize OK (forgery.pas), line = 33
 15579
 15580 5D19 AD 6F A8			lda C
 15581 5D1C 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 15582 5D1F AD 70 A8			lda C+1
 15583 5D22 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 15584 5D25 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 15585
 15586 				; optimize FAIL ('CRT_WRITELN', forgery.pas), line = 34
 15587
 15588 5D28 E8				inx
 15589 5D29 A9 A0 95 94			mva #$A0 :STACKORIGIN,x
 15590 5D2D A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 15591 5D31 20 E7 1D			jsr CRT_WRITELN
 15592
 15593 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', forgery.pas), line = 35
 15594
 15595 5D34 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 15596
 15597 				; optimize OK (forgery.pas), line = 36
 15598
 15599 5D37 A9 06			lda #$06
 15600 5D39 20 04 1C			jsr CRT_WRITE_LOCSTR
 15601
 15602 				; optimize FAIL ('GETYESNO', forgery.pas), line = 38
 15603
 15604 5D3C 20 46 1F			jsr GETYESNO
 15605 5D3F AD E8 A6			lda GETYESNO.RESULT
 15606 5D42 8D 6E A8			sta R
 15607
 15608 				; optimize OK (forgery.pas), line = 39
 15609
 15610 5D45 D0 03 4C 92 5E		jeq @exit
 15611 5D4A			l_3A9B
 15612
 15613 				; optimize OK (forgery.pas), line = 40
 15614
 15615 5D4A AD 6F A8			lda C
 15616 5D4D 8D A6 A7			sta PAYMONEY.PRICE
 15617 5D50 AD 70 A8			lda C+1
 15618 5D53 8D A7 A7			sta PAYMONEY.PRICE+1
 15619 5D56 20 02 32			jsr PAYMONEY
 15620 5D59 AD A8 A7			lda PAYMONEY.RESULT
 15621 5D5C D0 03 4C 92 5E		jeq @exit
 15622 5D61			l_3AB0
 15623
 15624 				; optimize FAIL ('CRT_NEWLINE2', forgery.pas), line = 42
 15625
 15626 5D61 20 B9 1D			jsr CRT_NEWLINE2
 15627
 15628 				; optimize OK (forgery.pas), line = 43
 15629
 15630 5D64 A9 07			lda #$07
 15631 5D66 20 49 1C			jsr CRT_WRITELN_LOCSTR
 15632
 15633 				; optimize OK (forgery.pas), line = 44
 15634
 15635 5D69 AC 8A CD			ldy CURRENTPLAYER
 15636 5D6C A9 01			lda #$01
 15637 5D6E 99 48 C9			sta adr.PLFORGEDID,y
 15638
 15639 				; optimize OK (forgery.pas), line = 45
 15640
 15641 5D71 20 B3 2F			jsr ADDPOINTS
 15642
 15643 				; optimize FAIL ('WAITFORKEY', forgery.pas), line = 46
 15644
 15645 5D74 20 88 1D			jsr WAITFORKEY
 15646 5D77			l_3A2F
 15647
 15648 				; optimize OK (forgery.pas), line = 50
 15649
 15650 5D77 AD 22 C9			lda CURRENTCHOICE
 15651 5D7A C9 02			cmp #$02
 15652 5D7C F0 03 4C 92 5E		jne l_3AD4
 15653
 15654 				; optimize FAIL ('SHOWLOCATIONHEADER', forgery.pas), line = 52
 15655
 15656 5D81 20 18 28			jsr SHOWLOCATIONHEADER
 15657
 15658 				; optimize OK (forgery.pas), line = 53
 15659
 15660 5D84 AC 8A CD			ldy CURRENTPLAYER
 15661 5D87 B9 40 C9			lda adr.PLFAKEMONEY,y
 15662 5D8A F0 0B			jeq l_3AEB
 15663
 15664 				; optimize OK (forgery.pas), line = 55
 15665
 15666 5D8C A9 08			lda #$08
 15667 5D8E 20 49 1C			jsr CRT_WRITELN_LOCSTR
 15668
 15669 				; optimize FAIL ('WAITFORKEY', forgery.pas), line = 56
 15670
 15671 5D91 20 88 1D			jsr WAITFORKEY
 15672 5D94 4C 92 5E			jmp @exit
 15673 5D97			l_3AEB
 15674
 15675 				; optimize OK (forgery.pas), line = 60
 15676
 15677 5D97 A9 09			lda #$09
 15678 5D99 20 49 1C			jsr CRT_WRITELN_LOCSTR
 15679
 15680 				; optimize OK (forgery.pas), line = 61
 15681
 15682 5D9C A9 0A			lda #$0A
 15683 5D9E 20 04 1C			jsr CRT_WRITE_LOCSTR
 15684
 15685 				; optimize OK (forgery.pas), line = 63
 15686
 15687 5DA1 A9 88			lda #$88
 15688 5DA3 8D 73 A8			sta M
 15689 5DA6 A9 13			lda #$13
 15690 5DA8 8D 74 A8			sta M+1
 15691
 15692 				; optimize OK (forgery.pas), line = 65
 15693
 15694 5DAB AD 73 A8			lda M
 15695 5DAE 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 15696 5DB1 AD 74 A8			lda M+1
 15697 5DB4 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 15698 5DB7 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 15699
 15700 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', forgery.pas), line = 66
 15701
 15702 5DBA E8				inx
 15703 5DBB A9 A3 95 94			mva #$A3 :STACKORIGIN,x
 15704 5DBF A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 15705 5DC3 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 15706
 15707 				; optimize OK (forgery.pas), line = 67
 15708
 15709 5DC6 A9 00			lda #$00
 15710 5DC8 8D E9 A6			sta READVALUE.MINVALUE
 15711 5DCB 8D EA A6			sta READVALUE.MINVALUE+1
 15712 5DCE AD 73 A8			lda M
 15713 5DD1 8D EB A6			sta READVALUE.MAXVALUE
 15714 5DD4 AD 74 A8			lda M+1
 15715 5DD7 8D EC A6			sta READVALUE.MAXVALUE+1
 15716 5DDA 20 64 1F			jsr READVALUE
 15717 5DDD AD ED A6			lda READVALUE.RESULT
 15718 5DE0 8D 6F A8			sta C
 15719 5DE3 AD EE A6			lda READVALUE.RESULT+1
 15720 5DE6 8D 70 A8			sta C+1
 15721
 15722 				; optimize OK (forgery.pas), line = 68
 15723
 15724 5DE9 0D 6F A8			ora C
 15725 5DEC D0 03 4C 92 5E		jeq @exit
 15726 5DF1			l_3B16
 15727
 15728 				; optimize OK (forgery.pas), line = 71
 15729
 15730 5DF1 A9 00			lda #$00
 15731 5DF3 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 15732 5DF6 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 15733 5DF9 8D BD A3			sta TMP
 15734
 15735 				; optimize OK (forgery.pas), line = 72
 15736
 15737 5DFC AD 6F A8			lda C
 15738 5DFF 18 6D 6F A8			add C
 15739 5E03 85 9D			sta :STACKORIGIN+9
 15740 5E05 AD 70 A8			lda C+1
 15741 5E08 6D 70 A8			adc C+1
 15742 5E0B 85 AD			sta :STACKORIGIN+STACKWIDTH+9
 15743 5E0D A5 9D			lda :STACKORIGIN+9
 15744 5E0F 18 6D BD A3			add TMP
 15745 5E13 85 9D			sta :STACKORIGIN+9
 15746 5E15 A5 AD			lda :STACKORIGIN+STACKWIDTH+9
 15747 5E17 69 00			adc #$00
 15748 5E19 A8				tay
 15749 5E1A A5 9D			lda :STACKORIGIN+9
 15750 5E1C 18 6D BD A3			add TMP
 15751 5E20 90 01			scc
 15752 5E22 C8				iny
 15753 5E23 18 6D BD A3			add TMP
 15754 5E27 8D 71 A8			sta P
 15755 5E2A 90 01			scc
 15756 5E2C C8				iny
 15757 5E2D 8C 72 A8			sty P+1
 15758
 15759 				; optimize FAIL ('CRT_NEWLINE2', forgery.pas), line = 73
 15760
 15761 5E30 20 B9 1D			jsr CRT_NEWLINE2
 15762
 15763 				; optimize OK (forgery.pas), line = 74
 15764
 15765 5E33 A9 0B			lda #$0B
 15766 5E35 20 04 1C			jsr CRT_WRITE_LOCSTR
 15767
 15768 				; optimize OK (forgery.pas), line = 75
 15769
 15770 5E38 AD 71 A8			lda P
 15771 5E3B 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 15772 5E3E AD 72 A8			lda P+1
 15773 5E41 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 15774 5E44 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 15775
 15776 				; optimize OK (forgery.pas), line = 76
 15777
 15778 5E47 A9 0C			lda #$0C
 15779 5E49 20 04 1C			jsr CRT_WRITE_LOCSTR
 15780
 15781 				; optimize FAIL ('GETYESNO', forgery.pas), line = 78
 15782
 15783 5E4C 20 46 1F			jsr GETYESNO
 15784 5E4F AD E8 A6			lda GETYESNO.RESULT
 15785 5E52 8D 6E A8			sta R
 15786
 15787 				; optimize OK (forgery.pas), line = 79
 15788
 15789 5E55 F0 3B			jeq @exit
 15790 5E57			l_3B58
 15791
 15792 				; optimize OK (forgery.pas), line = 80
 15793
 15794 5E57 AD 6F A8			lda C
 15795 5E5A 8D A6 A7			sta PAYMONEY.PRICE
 15796 5E5D AD 70 A8			lda C+1
 15797 5E60 8D A7 A7			sta PAYMONEY.PRICE+1
 15798 5E63 20 02 32			jsr PAYMONEY
 15799 5E66 AD A8 A7			lda PAYMONEY.RESULT
 15800 5E69 F0 27			jeq @exit
 15801 5E6B			l_3B6D
 15802
 15803 				; optimize FAIL ('CRT_NEWLINE2', forgery.pas), line = 82
 15804
 15805 5E6B 20 B9 1D			jsr CRT_NEWLINE2
 15806
 15807 				; optimize OK (forgery.pas), line = 83
 15808
 15809 5E6E A9 0D			lda #$0D
 15810 5E70 20 49 1C			jsr CRT_WRITELN_LOCSTR
 15811
 15812 				; optimize OK (forgery.pas), line = 85
 15813
 15814 5E73 AD 71 A8			lda P
 15815 5E76 8D 99 A7			sta ADDMONEY.AMOUNT
 15816 5E79 AD 72 A8			lda P+1
 15817 5E7C 8D 9A A7			sta ADDMONEY.AMOUNT+1
 15818 5E7F 20 5F 2F			jsr ADDMONEY
 15819
 15820 				; optimize OK (forgery.pas), line = 86
 15821
 15822 5E82 AC 8A CD			ldy CURRENTPLAYER
 15823 5E85 A9 06			lda #$06
 15824 5E87 99 40 C9			sta adr.PLFAKEMONEY,y
 15825
 15826 				; optimize OK (forgery.pas), line = 87
 15827
 15828 5E8A A9 01			lda #$01
 15829 5E8C 20 B3 2F			jsr ADDPOINTS
 15830
 15831 				; optimize FAIL ('WAITFORKEY', forgery.pas), line = 88
 15832
 15833 5E8F 20 88 1D			jsr WAITFORKEY
 15834 5E92			l_3AD4
 15835 5E92			@exit
 15836
 15837 				; ------------------------------------------------------------
 15838
 15839 = A86D			RESULT	= DATAORIGIN+$0C52
 15840 = A86E			R	= DATAORIGIN+$0C53
 15841 = A86F			C	= DATAORIGIN+$0C54
 15842 = A871			P	= DATAORIGIN+$0C56
 15843 = A873			M	= DATAORIGIN+$0C58
 15844
 15845 = A86E			@VarData	= R
 15846 = 0007			@VarDataSize	= 7
 15847
 15848 5E92 60				rts						; ret
 15849 				.endl
 15850
 15851 5E93			.local	GAMBLINGCHOICES					; FUNCTION
 15852
 15853 				; optimize FAIL ('SHOWLOCATIONHEADER', gambling.pas), line = 9
 15854
 15855 5E93 20 18 28			jsr SHOWLOCATIONHEADER
 15856
 15857 				; optimize OK (gambling.pas), line = 11
 15858
 15859 5E96 A9 01			lda #$01
 15860 5E98 20 53 1C			jsr CRT_WRITELN2_LOCSTR
 15861
 15862 				; optimize OK (gambling.pas), line = 13
 15863
 15864 5E9B A9 02			lda #$02
 15865 5E9D 20 49 1C			jsr CRT_WRITELN_LOCSTR
 15866
 15867 				; optimize OK (gambling.pas), line = 14
 15868
 15869 5EA0 A9 03			lda #$03
 15870 5EA2 20 49 1C			jsr CRT_WRITELN_LOCSTR
 15871
 15872 				; optimize OK (gambling.pas), line = 15
 15873
 15874 5EA5 A9 04			lda #$04
 15875 5EA7 20 53 1C			jsr CRT_WRITELN2_LOCSTR
 15876
 15877 				; optimize OK (gambling.pas), line = 17
 15878
 15879 5EAA A9 05			lda #$05
 15880 5EAC 20 04 1C			jsr CRT_WRITE_LOCSTR
 15881
 15882 				; optimize OK (gambling.pas), line = 18
 15883
 15884 5EAF A9 00			lda #$00
 15885 5EB1 8D E9 A6			sta READVALUE.MINVALUE
 15886 5EB4 8D EA A6			sta READVALUE.MINVALUE+1
 15887 5EB7 A9 03			lda #$03
 15888 5EB9 8D EB A6			sta READVALUE.MAXVALUE
 15889 5EBC A9 00			lda #$00
 15890 5EBE 8D EC A6			sta READVALUE.MAXVALUE+1
 15891 5EC1 20 64 1F			jsr READVALUE
 15892 5EC4 AD ED A6			lda READVALUE.RESULT
 15893 5EC7 8D 76 A8			sta GAME
 15894
 15895 				; optimize OK (gambling.pas), line = 19
 15896
 15897 5ECA D0 03 4C 1C 60		jeq @exit
 15898 5ECF			l_3BA9
 15899
 15900 				; optimize FAIL ('CRT_NEWLINE2', gambling.pas), line = 20
 15901
 15902 5ECF 20 B9 1D			jsr CRT_NEWLINE2
 15903
 15904 				; optimize OK (gambling.pas), line = 21
 15905
 15906 5ED2 A9 06			lda #$06
 15907 5ED4 20 04 1C			jsr CRT_WRITE_LOCSTR
 15908
 15909 				; optimize OK (gambling.pas), line = 22
 15910
 15911 5ED7 AD 8A CD			lda CURRENTPLAYER
 15912 5EDA 0A				asl @
 15913 5EDB 0A				asl @
 15914 5EDC A8				tay
 15915 5EDD B9 30 C9			lda adr.PLMONEY,y
 15916 5EE0 8D 5F A1			sta B_CRT.CRT_WRITE.@010185000.NUM
 15917 5EE3 B9 31 C9			lda adr.PLMONEY+1,y
 15918 5EE6 8D 60 A1			sta B_CRT.CRT_WRITE.@010185000.NUM+1
 15919 5EE9 B9 32 C9			lda adr.PLMONEY+2,y
 15920 5EEC 8D 61 A1			sta B_CRT.CRT_WRITE.@010185000.NUM+2
 15921 5EEF B9 33 C9			lda adr.PLMONEY+3,y
 15922 5EF2 8D 62 A1			sta B_CRT.CRT_WRITE.@010185000.NUM+3
 15923 5EF5 20 17 19			jsr B_CRT.CRT_WRITE.@010185000
 15924
 15925 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', gambling.pas), line = 23
 15926
 15927 5EF8 E8				inx
 15928 5EF9 A9 A0 95 94			mva #$A0 :STACKORIGIN,x
 15929 5EFD A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 15930 5F01 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 15931
 15932 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', gambling.pas), line = 24
 15933
 15934 5F04 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 15935
 15936 				; optimize OK (gambling.pas), line = 25
 15937
 15938 5F07 AD 8A CD			lda CURRENTPLAYER
 15939 5F0A 0A				asl @
 15940 5F0B 0A				asl @
 15941 5F0C A8				tay
 15942 5F0D B9 30 C9			lda adr.PLMONEY,y
 15943 5F10 8D 77 A8			sta EINSATZ
 15944 5F13 B9 31 C9			lda adr.PLMONEY+1,y
 15945 5F16 8D 78 A8			sta EINSATZ+1
 15946
 15947 				; optimize OK (gambling.pas), line = 27
 15948
 15949 5F19 C9 27			cmp #$27
 15950 5F1B D0 05			bne @+
 15951 5F1D AD 77 A8			lda EINSATZ
 15952 5F20 C9 11			cmp #$11
 15953 				@
 15954 5F22 90 0A			jcc l_3BCF
 15955
 15956 				; optimize OK (gambling.pas), line = 28
 15957
 15958 5F24 A9 10			lda #$10
 15959 5F26 8D 77 A8			sta EINSATZ
 15960 5F29 A9 27			lda #$27
 15961 5F2B 8D 78 A8			sta EINSATZ+1
 15962 5F2E			l_3BCF
 15963
 15964 				; optimize OK (gambling.pas), line = 29
 15965
 15966 5F2E A9 07			lda #$07
 15967 5F30 20 04 1C			jsr CRT_WRITE_LOCSTR
 15968
 15969 				; optimize OK (gambling.pas), line = 30
 15970
 15971 5F33 AD 77 A8			lda EINSATZ
 15972 5F36 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 15973 5F39 AD 78 A8			lda EINSATZ+1
 15974 5F3C 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 15975 5F3F 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 15976
 15977 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', gambling.pas), line = 31
 15978
 15979 5F42 E8				inx
 15980 5F43 A9 A6 95 94			mva #$A6 :STACKORIGIN,x
 15981 5F47 A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 15982 5F4B 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 15983
 15984 				; optimize OK (gambling.pas), line = 32
 15985
 15986 5F4E A9 00			lda #$00
 15987 5F50 8D E9 A6			sta READVALUE.MINVALUE
 15988 5F53 8D EA A6			sta READVALUE.MINVALUE+1
 15989 5F56 AD 77 A8			lda EINSATZ
 15990 5F59 8D EB A6			sta READVALUE.MAXVALUE
 15991 5F5C AD 78 A8			lda EINSATZ+1
 15992 5F5F 8D EC A6			sta READVALUE.MAXVALUE+1
 15993 5F62 20 64 1F			jsr READVALUE
 15994 5F65 AD ED A6			lda READVALUE.RESULT
 15995 5F68 8D 77 A8			sta EINSATZ
 15996 5F6B AD EE A6			lda READVALUE.RESULT+1
 15997 5F6E 8D 78 A8			sta EINSATZ+1
 15998
 15999 				; optimize OK (gambling.pas), line = 33
 16000
 16001 5F71 0D 77 A8			ora EINSATZ
 16002 5F74 D0 03 4C 1C 60		jeq @exit
 16003 5F79			l_3BF5
 16004
 16005 				; optimize OK (gambling.pas), line = 35
 16006
 16007 5F79 AD 77 A8			lda EINSATZ
 16008 5F7C 8D A6 A7			sta PAYMONEY.PRICE
 16009 5F7F AD 78 A8			lda EINSATZ+1
 16010 5F82 8D A7 A7			sta PAYMONEY.PRICE+1
 16011 5F85 20 02 32			jsr PAYMONEY
 16012 5F88 AD A8 A7			lda PAYMONEY.RESULT
 16013 5F8B D0 03 4C 1C 60		jeq @exit
 16014 5F90			l_3C0A
 16015
 16016 				; optimize FAIL ('CRT_NEWLINE2', gambling.pas), line = 37
 16017
 16018 5F90 20 B9 1D			jsr CRT_NEWLINE2
 16019
 16020 				; optimize OK (gambling.pas), line = 38
 16021
 16022 5F93 A9 08			lda #$08
 16023 5F95 20 53 1C			jsr CRT_WRITELN2_LOCSTR
 16024
 16025 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', gambling.pas), line = 39
 16026
 16027 5F98 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 16028
 16029 				; optimize FAIL ('EFFECTWAIT', gambling.pas), line = 41
 16030
 16031 5F9B 20 B2 1C			jsr EFFECTWAIT
 16032
 16033 				; optimize OK (gambling.pas), line = 42
 16034
 16035 5F9E AD 76 A8			lda GAME
 16036 5FA1 18 69 02			add #$02
 16037 5FA4 8D 76 A8			sta GAME
 16038
 16039 				; optimize OK (gambling.pas), line = 43
 16040
 16041 5FA7 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 16042 5FAA AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 16043 5FAD D0 65			jne l_3C2F
 16044
 16045 				; optimize OK (gambling.pas), line = 46
 16046
 16047 5FAF AD 78 A8			lda EINSATZ+1
 16048 5FB2 85 AD			sta :STACKORIGIN+STACKWIDTH+9
 16049 5FB4 AD 77 A8			lda EINSATZ
 16050 5FB7 46 AD			lsr :STACKORIGIN+STACKWIDTH+9
 16051 5FB9 6A				ror @
 16052 5FBA 8D 79 A8			sta GEWINN
 16053 5FBD A5 AD			lda :STACKORIGIN+STACKWIDTH+9
 16054 5FBF 8D 7A A8			sta GEWINN+1
 16055
 16056 				; optimize OK (gambling.pas), line = 47
 16057
 16058 5FC2 AD 76 A8			lda GAME
 16059 5FC5 85 84			sta :eax
 16060 5FC7 A9 00			lda #$00
 16061 5FC9 85 85			sta :eax+1
 16062 5FCB AD 79 A8			lda GEWINN
 16063 5FCE 85 8C			sta :ecx
 16064 5FD0 AD 7A A8			lda GEWINN+1
 16065 5FD3 85 8D			sta :ecx+1
 16066 					.ifdef fmulinit
 16067 					fmulu_16
 16068 					els
 16069 5FD5 20 D3 10			imulCX_AL
 16070 					eif
 16071 5FD8 A5 84			lda :eax
 16072 5FDA 18 6D 77 A8			add EINSATZ
 16073 5FDE 8D 79 A8			sta GEWINN
 16074 5FE1 A5 85			lda :eax+1
 16075 5FE3 6D 78 A8			adc EINSATZ+1
 16076 5FE6 8D 7A A8			sta GEWINN+1
 16077
 16078 				; optimize OK (gambling.pas), line = 48
 16079
 16080 5FE9 A9 09			lda #$09
 16081 5FEB 20 04 1C			jsr CRT_WRITE_LOCSTR
 16082
 16083 				; optimize OK (gambling.pas), line = 49
 16084
 16085 5FEE AD 79 A8			lda GEWINN
 16086 5FF1 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 16087 5FF4 AD 7A A8			lda GEWINN+1
 16088 5FF7 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 16089 5FFA 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 16090
 16091 				; optimize OK (gambling.pas), line = 50
 16092
 16093 5FFD A9 0A			lda #$0A
 16094 5FFF 20 04 1C			jsr CRT_WRITE_LOCSTR
 16095
 16096 				; optimize OK (gambling.pas), line = 51
 16097
 16098 6002 AD 79 A8			lda GEWINN
 16099 6005 8D 99 A7			sta ADDMONEY.AMOUNT
 16100 6008 AD 7A A8			lda GEWINN+1
 16101 600B 8D 9A A7			sta ADDMONEY.AMOUNT+1
 16102 600E 20 5F 2F			jsr ADDMONEY
 16103 6011 4C 19 60			jmp l_3C5C
 16104 6014			l_3C2F
 16105
 16106 				; optimize OK (gambling.pas), line = 54
 16107
 16108 6014 A9 0B			lda #$0B
 16109 6016 20 04 1C			jsr CRT_WRITE_LOCSTR
 16110 6019			l_3C5C
 16111
 16112 				; optimize FAIL ('WAITFORKEY', gambling.pas), line = 55
 16113
 16114 6019 20 88 1D			jsr WAITFORKEY
 16115 601C			@exit
 16116
 16117 				; ------------------------------------------------------------
 16118
 16119 = A875			RESULT	= DATAORIGIN+$0C5A
 16120 = A876			GAME	= DATAORIGIN+$0C5B
 16121 = A877			EINSATZ	= DATAORIGIN+$0C5C
 16122 = A879			GEWINN	= DATAORIGIN+$0C5E
 16123 = A87B			CH	= DATAORIGIN+$0C60
 16124
 16125 = A876			@VarData	= GAME
 16126 = 0006			@VarDataSize	= 6
 16127
 16128 601C 60				rts						; ret
 16129 				.endl
 16130
 16131 601D			.local	HIDEOUTCHOICES					; FUNCTION
 16132
 16133 				; optimize OK (hideout.pas), line = 9
 16134
 16135 601D A9 0A			lda #$0A
 16136 601F 8D 7C A8			sta RESULT
 16137
 16138 				; optimize FAIL ('SHOWLOCATIONHEADER', hideout.pas), line = 10
 16139
 16140 6022 20 18 28			jsr SHOWLOCATIONHEADER
 16141
 16142 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', hideout.pas), line = 11
 16143
 16144 6025 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 16145
 16146 				; optimize OK (hideout.pas), line = 14
 16147
 16148 6028 AD 22 C9			lda CURRENTCHOICE
 16149 602B C9 03			cmp #$03
 16150 602D F0 03 4C A6 63		jne l_3C7B
 16151
 16152 				; optimize OK (hideout.pas), line = 16
 16153
 16154 6032 AC 0E A7			ldy CURRENTSUBLOCATION
 16155 6035 B9 8C CD			lda adr.PLRENT,y
 16156 6038 8D 83 A8			sta PL
 16157
 16158 				; optimize OK (hideout.pas), line = 18
 16159
 16160 603B A9 04			lda #$04
 16161 603D 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 16162 6040 A9 0C			lda #$0C
 16163 6042 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 16164 6045 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 16165
 16166 				; optimize FAIL ('EFFECTWAIT', hideout.pas), line = 19
 16167
 16168 6048 20 B2 1C			jsr EFFECTWAIT
 16169
 16170 				; optimize OK (hideout.pas), line = 21
 16171
 16172 604B AD 83 A8			lda PL
 16173 604E C9 63			cmp #$63
 16174 6050 F0 05			jeq l_3CA9x
 16175 6052 CD 8A CD			cmp CURRENTPLAYER
 16176 6055 D0 13			jne l_3CA9
 16177 6057			l_3CA9x
 16178
 16179 				; optimize OK (hideout.pas), line = 23
 16180
 16181 6057 A9 06			lda #$06
 16182 6059 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 16183 605C A9 0D			lda #$0D
 16184 605E 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 16185 6061 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 16186
 16187 				; optimize FAIL ('WAITFORKEY', hideout.pas), line = 24
 16188
 16189 6064 20 88 1D			jsr WAITFORKEY
 16190 6067 4C F4 64			jmp @exit
 16191 606A			l_3CA9
 16192
 16193 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', hideout.pas), line = 28
 16194
 16195 606A 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 16196
 16197 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', hideout.pas), line = 29
 16198
 16199 606D 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 16200
 16201 				; optimize OK (hideout.pas), line = 30
 16202
 16203 6070 A9 0E			lda #$0E
 16204 6072 20 04 1C			jsr CRT_WRITE_LOCSTR
 16205
 16206 				; optimize OK (hideout.pas), line = 31
 16207
 16208 6075 AD 83 A8			lda PL
 16209 6078 0A				asl @
 16210 6079 0A				asl @
 16211 607A 0A				asl @
 16212 607B 8D BD A3			sta TMP
 16213
 16214 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', hideout.pas), line = 32
 16215
 16216 607E E8				inx
 16217 607F AD BD A3			lda TMP
 16218 6082 0A				asl @
 16219 6083 A8				tay
 16220 6084 B9 E2 A3			lda adr.GANGSTERNAMES,y
 16221 6087 95 94			sta :STACKORIGIN,x
 16222 6089 B9 E3 A3			lda adr.GANGSTERNAMES+1,y
 16223 608C 95 A4			sta :STACKORIGIN+STACKWIDTH,x
 16224 608E 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 16225
 16226 				; optimize FAIL ('CRT_WRITELN', hideout.pas), line = 33
 16227
 16228 6091 E8				inx
 16229 6092 A9 AB 95 94			mva #$AB :STACKORIGIN,x
 16230 6096 A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 16231 609A 20 E7 1D			jsr CRT_WRITELN
 16232
 16233 				; optimize FAIL ('EFFECTWAIT', hideout.pas), line = 34
 16234
 16235 609D 20 B2 1C			jsr EFFECTWAIT
 16236
 16237 				; optimize OK (hideout.pas), line = 37
 16238
 16239 60A0 A9 03			lda #$03
 16240 60A2 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 16241 60A5 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 16242 60A8 8D BD A3			sta TMP
 16243
 16244 				; optimize OK (hideout.pas), line = 38
 16245
 16246 60AB AC 83 A8			ldy PL
 16247 60AE AD BD A3			lda TMP
 16248 60B1 18 79 80 C9			add adr.PLJOB,y
 16249 60B5 8D BD A3			sta TMP
 16250
 16251 				; optimize OK (hideout.pas), line = 39
 16252
 16253 60B8 18 79 94 C9			add adr.PLPRISON,y
 16254 60BC 8D BD A3			sta TMP
 16255
 16256 				; optimize OK (hideout.pas), line = 40
 16257
 16258 60BF F0 0B			jeq l_3CFC
 16259
 16260 				; optimize OK (hideout.pas), line = 42
 16261
 16262 60C1 A9 0F			lda #$0F
 16263 60C3 20 49 1C			jsr CRT_WRITELN_LOCSTR
 16264
 16265 				; optimize FAIL ('WAITFORKEY', hideout.pas), line = 43
 16266
 16267 60C6 20 88 1D			jsr WAITFORKEY
 16268 60C9 4C F4 64			jmp @exit
 16269 60CC			l_3CFC
 16270
 16271 				; optimize OK (hideout.pas), line = 49
 16272
 16273 60CC AC 83 A8			ldy PL
 16274 60CF B9 B1 CD			lda adr.PLNGANGSTERS,y
 16275 60D2 8D 04 E4			sta adr.FP_N+$01
 16276
 16277 				; optimize OK (hideout.pas), line = 50
 16278
 16279 60D5 98				tya
 16280 60D6 0A				asl @
 16281 60D7 A8				tay
 16282 60D8 B9 DA A3			lda adr.PLGANG,y
 16283 60DB 85 88			sta @move.src
 16284 60DD B9 DB A3			lda adr.PLGANG+1,y
 16285 60E0 85 89			sta @move.src+1
 16286 60E2 AD 79 A3			lda adr.FP_GANG+$02
 16287 60E5 85 8C			sta @move.dst
 16288 60E7 AD 7A A3			lda adr.FP_GANG+1+$02
 16289 60EA 85 8D			sta @move.dst+1
 16290 60EC A0 00			ldy #$00
 16291 60EE B1 88			lda (@move.src),y
 16292 60F0 18 69 01			add #1
 16293 60F3 85 84			sta @move.cnt
 16294 60F5 90 01			scc
 16295 60F7 C8				iny
 16296 60F8 84 85			sty @move.cnt+1
 16297 60FA 20 D7 0E			jsr @move
 16298
 16299 				; optimize OK (hideout.pas), line = 51
 16300
 16301 60FD A9 00			lda #$00
 16302 60FF 8D 02 E4			sta adr.FP_AI+$01
 16303
 16304 				; optimize OK (hideout.pas), line = 53
 16305
 16306 6102 8D 7E A8			sta K
 16307
 16308 				; optimize OK (hideout.pas), line = 54
 16309
 16310 6105 8D 7F A8			sta J
 16311
 16312 6108			l_3D27
 16313 				; --- ForToDoCondition
 16314 6108 AC 7F A8			ldy J
 16315 610B C0 20			cpy #$20
 16316 610D 90 03 4C 90 61		jcs l_3D35
 16317
 16318 				; optimize OK (hideout.pas), line = 56
 16319
 16320 6112 B9 91 CD			lda adr.PLGANGSTERS,y
 16321 6115 CD 83 A8			cmp PL
 16322 6118 D0 6E			jne l_3D4C
 16323
 16324 				; optimize OK (hideout.pas), line = 58
 16325
 16326 611A AD 7F A8			lda J
 16327 611D 0A				asl @
 16328 611E A8				tay
 16329 611F B9 E2 A3			lda adr.GANGSTERNAMES,y
 16330 6122 85 88			sta @move.src
 16331 6124 B9 E3 A3			lda adr.GANGSTERNAMES+1,y
 16332 6127 85 89			sta @move.src+1
 16333 6129 AD 7E A8			lda K
 16334 612C 0A				asl @
 16335 612D A8				tay
 16336 612E B9 9B A3			lda adr.FP_NAME+$20,y
 16337 6131 85 8C			sta @move.dst
 16338 6133 B9 9C A3			lda adr.FP_NAME+1+$20,y
 16339 6136 85 8D			sta @move.dst+1
 16340 6138 A0 00			ldy #$00
 16341 613A B1 88			lda (@move.src),y
 16342 613C 18 69 01			add #1
 16343 613F 85 84			sta @move.cnt
 16344 6141 90 01			scc
 16345 6143 C8				iny
 16346 6144 84 85			sty @move.cnt+1
 16347 6146 20 D7 0E			jsr @move
 16348
 16349 				; optimize OK (hideout.pas), line = 59
 16350
 16351 6149 AC 7F A8			ldy J
 16352 614C B9 28 CD			lda adr.GANGSTERHEALTH,y
 16353 614F AC 7E A8			ldy K
 16354 6152 99 95 E4			sta adr.FP_ENERGY+$10,y
 16355
 16356 				; optimize OK (hideout.pas), line = 60
 16357
 16358 6155 AC 7F A8			ldy J
 16359 6158 B9 48 CD			lda adr.GANGSTERWEAPON,y
 16360 615B AC 7E A8			ldy K
 16361 615E 99 55 E4			sta adr.FP_WEAPON+$10,y
 16362
 16363 				; optimize OK (hideout.pas), line = 61
 16364
 16365 6161 AC 7F A8			ldy J
 16366 6164 B9 68 CD			lda adr.GANGSTERSEX,y
 16367 6167 AC 7E A8			ldy K
 16368 616A 99 55 E5			sta adr.FP_SEX+$10,y
 16369
 16370 				; optimize OK (hideout.pas), line = 62
 16371
 16372 616D AC 7F A8			ldy J
 16373 6170 B9 C8 CC			lda adr.GANGSTERSTR,y
 16374 6173 AC 7E A8			ldy K
 16375 6176 99 D5 E4			sta adr.FP_STRENGTH+$10,y
 16376
 16377 				; optimize OK (hideout.pas), line = 63
 16378
 16379 6179 AC 7F A8			ldy J
 16380 617C B9 08 CD			lda adr.GANGSTERBRUT,y
 16381 617F AC 7E A8			ldy K
 16382 6182 99 15 E5			sta adr.FP_BRUTALITY+$10,y
 16383
 16384 				; optimize OK (hideout.pas), line = 64
 16385
 16386 6185 EE 7E A8			inc K
 16387 6188			l_3D4C
 16388
 16389 				; --- ForToDoEpilog
 16390 6188 EE 7F A8			inc J
 16391 618B F0 03 4C 08 61		jne l_3D27
 16392 6190			l_3D35
 16393
 16394 				; optimize FAIL ('DOFIGHT', hideout.pas), line = 68
 16395
 16396 6190 20 66 4D			jsr DOFIGHT
 16397 6193 AD 1C A8			lda DOFIGHT.RESULT
 16398 6196 8D 80 A8			sta W
 16399
 16400 				; optimize FAIL ('ENABLECONSOLE', hideout.pas), line = 69
 16401
 16402 6199 20 8E 27			jsr ENABLECONSOLE
 16403
 16404 				; optimize FAIL ('SHOWLOCATIONHEADER', hideout.pas), line = 71
 16405
 16406 619C 20 18 28			jsr SHOWLOCATIONHEADER
 16407
 16408 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', hideout.pas), line = 72
 16409
 16410 619F 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 16411
 16412 				; optimize OK (hideout.pas), line = 73
 16413
 16414 61A2 A9 04			lda #$04
 16415 61A4 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 16416 61A7 A9 0C			lda #$0C
 16417 61A9 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 16418 61AC 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 16419
 16420 				; optimize FAIL ('CRT_NEWLINE2', hideout.pas), line = 74
 16421
 16422 61AF 20 B9 1D			jsr CRT_NEWLINE2
 16423
 16424 				; optimize OK (hideout.pas), line = 76
 16425
 16426 61B2 AD 83 A8			lda PL
 16427 61B5 4A				lsr @
 16428 61B6 4A				lsr @
 16429 61B7 4A				lsr @
 16430 61B8 8D BD A3			sta TMP
 16431
 16432 				; optimize OK (hideout.pas), line = 77
 16433
 16434 61BB AD 80 A8			lda W
 16435 61BE C9 01			cmp #$01
 16436 61C0 D0 33			jne l_3DE4
 16437
 16438 				; optimize OK (hideout.pas), line = 80
 16439
 16440 61C2 A9 10			lda #$10
 16441 61C4 20 49 1C			jsr CRT_WRITELN_LOCSTR
 16442
 16443 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', hideout.pas), line = 81
 16444
 16445 61C7 E8				inx
 16446 61C8 AD BD A3			lda TMP
 16447 61CB 0A				asl @
 16448 61CC A8				tay
 16449 61CD B9 E2 A3			lda adr.GANGSTERNAMES,y
 16450 61D0 95 94			sta :STACKORIGIN,x
 16451 61D2 B9 E3 A3			lda adr.GANGSTERNAMES+1,y
 16452 61D5 95 A4			sta :STACKORIGIN+STACKWIDTH,x
 16453 61D7 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 16454
 16455 				; optimize OK (hideout.pas), line = 82
 16456
 16457 61DA A9 00			lda #$00
 16458 61DC 20 B2 18			jsr B_CRT.CRT_WRITE.@010186000
 16459
 16460 				; optimize OK (hideout.pas), line = 83
 16461
 16462 61DF A9 11			lda #$11
 16463 61E1 20 49 1C			jsr CRT_WRITELN_LOCSTR
 16464
 16465 				; optimize OK (hideout.pas), line = 84
 16466
 16467 61E4 A9 12			lda #$12
 16468 61E6 20 04 1C			jsr CRT_WRITE_LOCSTR
 16469
 16470 				; optimize OK (hideout.pas), line = 85
 16471
 16472 61E9 AD 83 A8			lda PL
 16473 61EC 8D 81 A8			sta M
 16474
 16475 				; optimize OK (hideout.pas), line = 86
 16476
 16477 61EF AD 8A CD			lda CURRENTPLAYER
 16478 61F2 4C 20 62			jmp l_3E08
 16479 61F5			l_3DE4
 16480
 16481 				; optimize OK (hideout.pas), line = 91
 16482
 16483 61F5 A9 13			lda #$13
 16484 61F7 20 49 1C			jsr CRT_WRITELN_LOCSTR
 16485
 16486 				; optimize OK (hideout.pas), line = 92
 16487
 16488 61FA A9 14			lda #$14
 16489 61FC 20 04 1C			jsr CRT_WRITE_LOCSTR
 16490
 16491 				; optimize FAIL ('CRT_WRITELN', hideout.pas), line = 93
 16492
 16493 61FF E8				inx
 16494 6200 AD BD A3			lda TMP
 16495 6203 0A				asl @
 16496 6204 A8				tay
 16497 6205 B9 E2 A3			lda adr.GANGSTERNAMES,y
 16498 6208 95 94			sta :STACKORIGIN,x
 16499 620A B9 E3 A3			lda adr.GANGSTERNAMES+1,y
 16500 620D 95 A4			sta :STACKORIGIN+STACKWIDTH,x
 16501 620F 20 E7 1D			jsr CRT_WRITELN
 16502
 16503 				; optimize OK (hideout.pas), line = 94
 16504
 16505 6212 A9 15			lda #$15
 16506 6214 20 04 1C			jsr CRT_WRITE_LOCSTR
 16507
 16508 				; optimize OK (hideout.pas), line = 95
 16509
 16510 6217 AD 8A CD			lda CURRENTPLAYER
 16511 621A 8D 81 A8			sta M
 16512
 16513 				; optimize OK (hideout.pas), line = 96
 16514
 16515 621D AD 83 A8			lda PL
 16516 6220			l_3E08
 16517 6220 8D 7E A8			sta K
 16518
 16519 				; optimize OK (hideout.pas), line = 100
 16520
 16521 6223 0A				asl @
 16522 6224 0A				asl @
 16523 6225 A8				tay
 16524 6226 B9 30 C9			lda adr.PLMONEY,y
 16525 6229 85 9D			sta :STACKORIGIN+9
 16526 622B B9 31 C9			lda adr.PLMONEY+1,y
 16527 622E 85 AD			sta :STACKORIGIN+STACKWIDTH+9
 16528 6230 B9 32 C9			lda adr.PLMONEY+2,y
 16529 6233 85 BD			sta :STACKORIGIN+STACKWIDTH*2+9
 16530 6235 B9 33 C9			lda adr.PLMONEY+3,y
 16531 6238 46 BD			lsr :STACKORIGIN+STACKWIDTH*2+9
 16532 623A 66 AD			ror :STACKORIGIN+STACKWIDTH+9
 16533 623C 66 9D			ror :STACKORIGIN+9
 16534 623E A5 9D			lda :STACKORIGIN+9
 16535 6240 8D 84 A8			sta Z
 16536 6243 A5 AD			lda :STACKORIGIN+STACKWIDTH+9
 16537 6245 8D 85 A8			sta Z+1
 16538
 16539 				; optimize FAIL (1, hideout.pas), line = 101
 16540
 16541 6248 E8				inx
 16542 6249 AD 84 A8 95 94		mva Z :STACKORIGIN,x
 16543 624E AD 85 A8 95 A4		mva Z+1 :STACKORIGIN+STACKWIDTH,x
 16544 6253 A9 04			lda #$04
 16545 6255 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 16546 6258 E8				inx
 16547 6259 AD 27 9C 95 94		mva SYSTEM.RANDOM.@010180000.RESULT :STACKORIGIN,x
 16548 625E E8				inx
 16549 625F AD 84 A8 95 94		mva Z :STACKORIGIN,x
 16550 6264 AD 85 A8 95 A4		mva Z+1 :STACKORIGIN+STACKWIDTH,x
 16551 6269 E8				inx
 16552 626A A9 02 95 94			mva #$02 :STACKORIGIN,x
 16553 626E 20 2D 0E			jsr @shrAX_CL
 16554 6271 CA				dex
 16555 6272 A9 00 95 A3			mva #$00 :STACKORIGIN-1+STACKWIDTH,x
 16556 6276 20 7C 10			jsr imulWORD
 16557 6279 CA				dex
 16558 627A CA				dex
 16559 627B B5 94			lda :STACKORIGIN,x
 16560 627D 18 65 84			add :eax
 16561 6280 8D 84 A8			sta Z
 16562 6283 B5 A4			lda :STACKORIGIN+STACKWIDTH,x
 16563 6285 65 85			adc :eax+1
 16564 6287 8D 85 A8			sta Z+1
 16565 628A CA				dex
 16566
 16567 				; optimize OK (hideout.pas), line = 102
 16568
 16569 628B AD 84 A8			lda Z
 16570 628E 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 16571 6291 AD 85 A8			lda Z+1
 16572 6294 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 16573 6297 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 16574
 16575 				; optimize FAIL ('CRT_WRITELN', hideout.pas), line = 103
 16576
 16577 629A E8				inx
 16578 629B A9 73 95 94			mva #$73 :STACKORIGIN,x
 16579 629F A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 16580 62A3 20 E7 1D			jsr CRT_WRITELN
 16581
 16582 				; optimize OK (hideout.pas), line = 104
 16583
 16584 62A6 AD 81 A8			lda M
 16585 62A9 0A				asl @
 16586 62AA 0A				asl @
 16587 62AB A8				tay
 16588 62AC B9 30 C9			lda adr.PLMONEY,y
 16589 62AF 18 6D 84 A8			add Z
 16590 62B3 99 30 C9			sta adr.PLMONEY,y
 16591 62B6 B9 31 C9			lda adr.PLMONEY+1,y
 16592 62B9 6D 85 A8			adc Z+1
 16593 62BC 99 31 C9			sta adr.PLMONEY+1,y
 16594 62BF B9 32 C9			lda adr.PLMONEY+2,y
 16595 62C2 69 00			adc #$00
 16596 62C4 99 32 C9			sta adr.PLMONEY+2,y
 16597 62C7 B9 33 C9			lda adr.PLMONEY+3,y
 16598 62CA 69 00			adc #$00
 16599 62CC 99 33 C9			sta adr.PLMONEY+3,y
 16600
 16601 				; optimize OK (hideout.pas), line = 105
 16602
 16603 62CF AD 7E A8			lda K
 16604 62D2 0A				asl @
 16605 62D3 0A				asl @
 16606 62D4 A8				tay
 16607 62D5 B9 30 C9			lda adr.PLMONEY,y
 16608 62D8 38 ED 84 A8			sub Z
 16609 62DC 99 30 C9			sta adr.PLMONEY,y
 16610 62DF B9 31 C9			lda adr.PLMONEY+1,y
 16611 62E2 ED 85 A8			sbc Z+1
 16612 62E5 99 31 C9			sta adr.PLMONEY+1,y
 16613 62E8 B9 32 C9			lda adr.PLMONEY+2,y
 16614 62EB E9 00			sbc #$00
 16615 62ED 99 32 C9			sta adr.PLMONEY+2,y
 16616 62F0 B9 33 C9			lda adr.PLMONEY+3,y
 16617 62F3 E9 00			sbc #$00
 16618 62F5 99 33 C9			sta adr.PLMONEY+3,y
 16619
 16620 				; optimize OK (hideout.pas), line = 107
 16621
 16622 62F8 AC 7E A8			ldy K
 16623 62FB B9 44 C9			lda adr.PLALCOHOL,y
 16624 62FE F0 56			jeq l_3E76
 16625
 16626 				; optimize OK (hideout.pas), line = 109
 16627
 16628 6300 AD 80 A8			lda W
 16629 6303 C9 01			cmp #$01
 16630 6305 D0 11			jne l_3E89
 16631
 16632 				; optimize FAIL ('CRT_WRITELN', hideout.pas), line = 110
 16633
 16634 6307 E8				inx
 16635 6308 AD AC 9A 95 94		mva LOC_STRING_22 :STACKORIGIN,x
 16636 630D AD AD 9A 95 A4		mva LOC_STRING_22+1 :STACKORIGIN+STACKWIDTH,x
 16637 6312 20 E7 1D			jsr CRT_WRITELN
 16638 6315 4C 1D 63			jmp l_3E96
 16639 6318			l_3E89
 16640
 16641 				; optimize OK (hideout.pas), line = 112
 16642
 16643 6318 A9 17			lda #$17
 16644 631A 20 49 1C			jsr CRT_WRITELN_LOCSTR
 16645 631D			l_3E96
 16646
 16647 				; optimize OK (hideout.pas), line = 113
 16648
 16649 631D AC 81 A8			ldy M
 16650 6320 B9 44 C9			lda adr.PLALCOHOL,y
 16651 6323 AC 7E A8			ldy K
 16652 6326 18 79 44 C9			add adr.PLALCOHOL,y
 16653 632A AC 81 A8			ldy M
 16654 632D 99 44 C9			sta adr.PLALCOHOL,y
 16655
 16656 				; optimize OK (hideout.pas), line = 114
 16657
 16658 6330 AC 7E A8			ldy K
 16659 6333 A9 00			lda #$00
 16660 6335 99 44 C9			sta adr.PLALCOHOL,y
 16661
 16662 				; optimize OK (hideout.pas), line = 115
 16663
 16664 6338 B9 4C C9			lda adr.PLCAR,y
 16665 633B 8D 7D A8			sta R
 16666
 16667 				; optimize OK (hideout.pas), line = 116
 16668
 16669 633E AC 81 A8			ldy M
 16670 6341 B9 44 C9			lda adr.PLALCOHOL,y
 16671 6344 85 9D			sta :STACKORIGIN+9
 16672 6346 AC 7D A8			ldy R
 16673 6349 B9 0C E7			lda adr.CARCARGO,y
 16674 634C C5 9D			cmp :STACKORIGIN+9
 16675 634E B0 06			jcs l_3ED7
 16676 6350 AC 81 A8			ldy M
 16677 6353 99 44 C9			sta adr.PLALCOHOL,y
 16678 6356			l_3ED7
 16679 6356			l_3E76
 16680
 16681 				; optimize OK (hideout.pas), line = 119
 16682
 16683 6356 AC 7E A8			ldy K
 16684 6359 B9 4C C9			lda adr.PLCAR,y
 16685 635C F0 25			jeq l_3EFD
 16686
 16687 				; optimize OK (hideout.pas), line = 121
 16688
 16689 635E AD 80 A8			lda W
 16690 6361 C9 01			cmp #$01
 16691 6363 D0 11			jne l_3F10
 16692
 16693 				; optimize FAIL ('CRT_WRITELN', hideout.pas), line = 122
 16694
 16695 6365 E8				inx
 16696 6366 AD B0 9A 95 94		mva LOC_STRING_24 :STACKORIGIN,x
 16697 636B AD B1 9A 95 A4		mva LOC_STRING_24+1 :STACKORIGIN+STACKWIDTH,x
 16698 6370 20 E7 1D			jsr CRT_WRITELN
 16699 6373 4C 7B 63			jmp l_3F1D
 16700 6376			l_3F10
 16701
 16702 				; optimize OK (hideout.pas), line = 124
 16703
 16704 6376 A9 19			lda #$19
 16705 6378 20 49 1C			jsr CRT_WRITELN_LOCSTR
 16706 637B			l_3F1D
 16707
 16708 				; optimize OK (hideout.pas), line = 125
 16709
 16710 637B AC 7E A8			ldy K
 16711 637E A9 00			lda #$00
 16712 6380 99 4C C9			sta adr.PLCAR,y
 16713 6383			l_3EFD
 16714
 16715 				; optimize OK (hideout.pas), line = 127
 16716
 16717 6383 AC 81 A8			ldy M
 16718 6386 B9 A0 C9			lda adr.PLNEWPOINTS,y
 16719 6389 18 69 03			add #$03
 16720 638C 99 A0 C9			sta adr.PLNEWPOINTS,y
 16721
 16722 				; optimize OK (hideout.pas), line = 128
 16723
 16724 638F AC 7E A8			ldy K
 16725 6392 B9 A0 C9			lda adr.PLNEWPOINTS,y
 16726 6395 38 E9 01			sub #$01
 16727 6398 99 A0 C9			sta adr.PLNEWPOINTS,y
 16728
 16729 				; optimize FAIL ('WAITFORKEY', hideout.pas), line = 129
 16730
 16731 639B 20 88 1D			jsr WAITFORKEY
 16732
 16733 				; optimize OK (hideout.pas), line = 130
 16734
 16735 639E A9 11			lda #$11
 16736 63A0 8D 7C A8			sta RESULT
 16737 63A3 4C F4 64			jmp @exit
 16738 63A6			l_3C7B
 16739
 16740 				; optimize OK (hideout.pas), line = 136
 16741
 16742 63A6 AD 22 C9			lda CURRENTCHOICE
 16743 63A9 C9 01			cmp #$01
 16744 63AB D0 58			jne l_3F61
 16745
 16746 				; optimize OK (hideout.pas), line = 138
 16747
 16748 63AD AC 0E A7			ldy CURRENTSUBLOCATION
 16749 63B0 B9 8C CD			lda adr.PLRENT,y
 16750 63B3 C9 63			cmp #$63
 16751 63B5 F0 2A			jeq l_3F77
 16752
 16753 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', hideout.pas), line = 140
 16754
 16755 63B7 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 16756
 16757 				; optimize OK (hideout.pas), line = 141
 16758
 16759 63BA AC 0E A7			ldy CURRENTSUBLOCATION
 16760 63BD B9 8C CD			lda adr.PLRENT,y
 16761 63C0 CD 8A CD			cmp CURRENTPLAYER
 16762 63C3 D0 11			jne l_3F90
 16763
 16764 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', hideout.pas), line = 142
 16765
 16766 63C5 E8				inx
 16767 63C6 AD 82 9A 95 94		mva LOC_STRING_1 :STACKORIGIN,x
 16768 63CB AD 83 9A 95 A4		mva LOC_STRING_1+1 :STACKORIGIN+STACKWIDTH,x
 16769 63D0 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 16770 63D3 4C DB 63			jmp l_3F9D
 16771 63D6			l_3F90
 16772
 16773 				; optimize OK (hideout.pas), line = 144
 16774
 16775 63D6 A9 02			lda #$02
 16776 63D8 20 04 1C			jsr CRT_WRITE_LOCSTR
 16777 63DB			l_3F9D
 16778
 16779 				; optimize FAIL ('WAITFORKEY', hideout.pas), line = 145
 16780
 16781 63DB 20 88 1D			jsr WAITFORKEY
 16782 63DE 4C F4 64			jmp @exit
 16783 63E1			l_3F77
 16784
 16785 				; optimize OK (hideout.pas), line = 151
 16786
 16787 63E1 A9 00			lda #$00
 16788 63E3 8D 7D A8			sta R
 16789
 16790 63E6			l_3FAB
 16791 				; --- ForToDoCondition
 16792 63E6 AC 7D A8			ldy R
 16793 63E9 C0 04			cpy #$04
 16794 63EB B0 18			jcs l_3FB9
 16795
 16796 				; optimize OK (hideout.pas), line = 152
 16797
 16798 63ED B9 8C CD			lda adr.PLRENT,y
 16799 63F0 CD 8A CD			cmp CURRENTPLAYER
 16800 63F3 D0 0B			jne l_3FD0
 16801
 16802 				; optimize OK (hideout.pas), line = 154
 16803
 16804 63F5 A9 03			lda #$03
 16805 63F7 20 04 1C			jsr CRT_WRITE_LOCSTR
 16806
 16807 				; optimize FAIL ('WAITFORKEY', hideout.pas), line = 155
 16808
 16809 63FA 20 88 1D			jsr WAITFORKEY
 16810 63FD 4C F4 64			jmp @exit
 16811 6400			l_3FD0
 16812
 16813 				; --- ForToDoEpilog
 16814 6400 EE 7D A8			inc R
 16815 6403 D0 E1			jne l_3FAB
 16816 6405			l_3FB9
 16817 6405			l_3F61
 16818
 16819 				; optimize OK (hideout.pas), line = 160
 16820
 16821 6405 AD 22 C9			lda CURRENTCHOICE
 16822 6408 C9 02			cmp #$02
 16823 640A D0 16			jne l_3FEF
 16824
 16825 				; optimize OK (hideout.pas), line = 162
 16826
 16827 640C AC 0E A7			ldy CURRENTSUBLOCATION
 16828 640F B9 8C CD			lda adr.PLRENT,y
 16829 6412 CD 8A CD			cmp CURRENTPLAYER
 16830 6415 F0 0B			jeq l_4007
 16831
 16832 				; optimize OK (hideout.pas), line = 164
 16833
 16834 6417 A9 04			lda #$04
 16835 6419 20 04 1C			jsr CRT_WRITE_LOCSTR
 16836
 16837 				; optimize FAIL ('WAITFORKEY', hideout.pas), line = 165
 16838
 16839 641C 20 88 1D			jsr WAITFORKEY
 16840 641F 4C F4 64			jmp @exit
 16841 6422			l_4007
 16842 6422			l_3FEF
 16843
 16844 				; optimize OK (hideout.pas), line = 170
 16845
 16846 6422 A9 32			lda #$32
 16847 6424 8D 82 A8			sta PRICE
 16848
 16849 				; optimize OK (hideout.pas), line = 171
 16850
 16851 6427 AD 0E A7			lda CURRENTSUBLOCATION
 16852 642A C9 02			cmp #$02
 16853 642C 90 09			jcc l_4025
 16854
 16855 				; optimize OK (hideout.pas), line = 172
 16856
 16857 642E AD 82 A8			lda PRICE
 16858 6431 18 69 32			add #$32
 16859 6434 8D 82 A8			sta PRICE
 16860 6437			l_4025
 16861
 16862 				; optimize OK (hideout.pas), line = 173
 16863
 16864 6437 AD 0E A7			lda CURRENTSUBLOCATION
 16865 643A C9 01			cmp #$01
 16866 643C D0 09			jne l_4044
 16867
 16868 				; optimize OK (hideout.pas), line = 174
 16869
 16870 643E AD 82 A8			lda PRICE
 16871 6441 18 69 32			add #$32
 16872 6444 8D 82 A8			sta PRICE
 16873 6447			l_4044
 16874
 16875 				; optimize OK (hideout.pas), line = 176
 16876
 16877 6447 A9 05			lda #$05
 16878 6449 20 04 1C			jsr CRT_WRITE_LOCSTR
 16879
 16880 				; optimize OK (hideout.pas), line = 177
 16881
 16882 644C AD 82 A8			lda PRICE
 16883 644F 20 CB 18			jsr B_CRT.CRT_WRITE.@010180000
 16884
 16885 				; optimize OK (hideout.pas), line = 178
 16886
 16887 6452 A9 06			lda #$06
 16888 6454 20 04 1C			jsr CRT_WRITE_LOCSTR
 16889
 16890 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', hideout.pas), line = 179
 16891
 16892 6457 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 16893
 16894 				; optimize OK (hideout.pas), line = 180
 16895
 16896 645A A9 07			lda #$07
 16897 645C 20 04 1C			jsr CRT_WRITE_LOCSTR
 16898
 16899 				; optimize FAIL ('CRT_NEWLINE2', hideout.pas), line = 181
 16900
 16901 645F 20 B9 1D			jsr CRT_NEWLINE2
 16902
 16903 				; optimize OK (hideout.pas), line = 183
 16904
 16905 6462 AC 8A CD			ldy CURRENTPLAYER
 16906 6465 B9 74 C9			lda adr.PLRENTMONTHS,y
 16907 6468 F0 19			jeq l_4072
 16908
 16909 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', hideout.pas), line = 185
 16910
 16911 646A 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 16912
 16913 				; optimize OK (hideout.pas), line = 186
 16914
 16915 646D A9 08			lda #$08
 16916 646F 20 04 1C			jsr CRT_WRITE_LOCSTR
 16917
 16918 				; optimize OK (hideout.pas), line = 187
 16919
 16920 6472 AC 8A CD			ldy CURRENTPLAYER
 16921 6475 B9 74 C9			lda adr.PLRENTMONTHS,y
 16922 6478 20 CB 18			jsr B_CRT.CRT_WRITE.@010180000
 16923
 16924 				; optimize OK (hideout.pas), line = 188
 16925
 16926 647B A9 09			lda #$09
 16927 647D 20 04 1C			jsr CRT_WRITE_LOCSTR
 16928
 16929 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', hideout.pas), line = 189
 16930
 16931 6480 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 16932 6483			l_4072
 16933
 16934 				; optimize OK (hideout.pas), line = 191
 16935
 16936 6483 A9 0A			lda #$0A
 16937 6485 20 04 1C			jsr CRT_WRITE_LOCSTR
 16938
 16939 				; optimize OK (hideout.pas), line = 192
 16940
 16941 6488 AC 8A CD			ldy CURRENTPLAYER
 16942 648B A9 24			lda #$24
 16943 648D 38 F9 74 C9			sub adr.PLRENTMONTHS,y
 16944 6491 8D EB A6			sta READVALUE.MAXVALUE
 16945 6494 A9 00			lda #$00
 16946 6496 E9 00			sbc #$00
 16947 6498 8D EC A6			sta READVALUE.MAXVALUE+1
 16948 649B A9 00			lda #$00
 16949 649D 8D E9 A6			sta READVALUE.MINVALUE
 16950 64A0 8D EA A6			sta READVALUE.MINVALUE+1
 16951 64A3 20 64 1F			jsr READVALUE
 16952 64A6 AD ED A6			lda READVALUE.RESULT
 16953 64A9 8D 81 A8			sta M
 16954
 16955 				; optimize OK (hideout.pas), line = 194
 16956
 16957 64AC F0 46			jeq @exit
 16958 64AE			l_40A5
 16959
 16960 				; optimize OK (hideout.pas), line = 195
 16961
 16962 64AE AD 81 A8			lda M
 16963 64B1 85 8C			sta :ecx
 16964 64B3 AD 82 A8			lda PRICE
 16965 64B6 85 84			sta :eax
 16966 					.ifdef fmulinit
 16967 					fmulu_8
 16968 					els
 16969 64B8 20 43 10			imulCL
 16970 					eif
 16971 64BB A5 84			lda :eax
 16972 64BD 8D A6 A7			sta PAYMONEY.PRICE
 16973 64C0 A5 85			lda :eax+1
 16974 64C2 8D A7 A7			sta PAYMONEY.PRICE+1
 16975 64C5 20 02 32			jsr PAYMONEY
 16976 64C8 AD A8 A7			lda PAYMONEY.RESULT
 16977 64CB F0 27			jeq @exit
 16978 64CD			l_40C1
 16979
 16980 				; optimize OK (hideout.pas), line = 198
 16981
 16982 64CD AC 8A CD			ldy CURRENTPLAYER
 16983 64D0 B9 74 C9			lda adr.PLRENTMONTHS,y
 16984 64D3 18 6D 81 A8			add M
 16985 64D7 99 74 C9			sta adr.PLRENTMONTHS,y
 16986
 16987 				; optimize OK (hideout.pas), line = 199
 16988
 16989 64DA AD 82 A8			lda PRICE
 16990 64DD 99 78 C9			sta adr.PLRENTCOST,y
 16991
 16992 				; optimize OK (hideout.pas), line = 200
 16993
 16994 64E0 AC 0E A7			ldy CURRENTSUBLOCATION
 16995 64E3 AD 8A CD			lda CURRENTPLAYER
 16996 64E6 99 8C CD			sta adr.PLRENT,y
 16997
 16998 				; optimize FAIL ('CRT_NEWLINE2', hideout.pas), line = 202
 16999
 17000 64E9 20 B9 1D			jsr CRT_NEWLINE2
 17001
 17002 				; optimize OK (hideout.pas), line = 203
 17003
 17004 64EC A9 0B			lda #$0B
 17005 64EE 20 04 1C			jsr CRT_WRITE_LOCSTR
 17006
 17007 				; optimize FAIL ('WAITFORKEY', hideout.pas), line = 204
 17008
 17009 64F1 20 88 1D			jsr WAITFORKEY
 17010 64F4			@exit
 17011
 17012 				; ------------------------------------------------------------
 17013
 17014 = A87C			RESULT	= DATAORIGIN+$0C61
 17015 = A87D			R	= DATAORIGIN+$0C62
 17016 = A87E			K	= DATAORIGIN+$0C63
 17017 = A87F			J	= DATAORIGIN+$0C64
 17018 = A880			W	= DATAORIGIN+$0C65
 17019 = A881			M	= DATAORIGIN+$0C66
 17020 = A882			PRICE	= DATAORIGIN+$0C67
 17021 = A883			PL	= DATAORIGIN+$0C68
 17022 = A884			Z	= DATAORIGIN+$0C69
 17023
 17024 = A87D			@VarData	= R
 17025 = 0009			@VarDataSize	= 9
 17026
 17027 64F4 60				rts						; ret
 17028 				.endl
 17029
 17030 64F5			.local	LOANSHARKCHOICES				; FUNCTION
 17031
 17032 				; optimize OK (loanshark.pas), line = 8
 17033
 17034 64F5 A9 04			lda #$04
 17035 64F7 8D 86 A8			sta RESULT
 17036
 17037 				; optimize FAIL ('SHOWLOCATIONHEADER', loanshark.pas), line = 9
 17038
 17039 64FA 20 18 28			jsr SHOWLOCATIONHEADER
 17040
 17041 				; optimize OK (loanshark.pas), line = 11
 17042
 17043 64FD AD 22 C9			lda CURRENTCHOICE
 17044 6500 C9 01			cmp #$01
 17045 6502 F0 03 4C E7 65		jne l_4107
 17046
 17047 				; optimize OK (loanshark.pas), line = 13
 17048
 17049 6507 AD 8A CD			lda CURRENTPLAYER
 17050 650A 0A				asl @
 17051 650B A8				tay
 17052 650C B9 65 C9			lda adr.PLLOAN+1,y
 17053 650F 30 10			jmi l_411C
 17054 6511 19 64 C9			ora adr.PLLOAN,y
 17055 6514 F0 0B			jeq l_411C
 17056
 17057 				; optimize OK (loanshark.pas), line = 15
 17058
 17059 6516 A9 01			lda #$01
 17060 6518 20 04 1C			jsr CRT_WRITE_LOCSTR
 17061
 17062 				; optimize FAIL ('B_CRT.CRT_READCHAR', loanshark.pas), line = 16
 17063
 17064 651B 20 9E 19			jsr B_CRT.CRT_READCHAR
 17065 651E 4C CA 6A			jmp @exit
 17066 6521			l_411C
 17067
 17068 				; optimize OK (loanshark.pas), line = 20
 17069
 17070 6521 AC 8A CD			ldy CURRENTPLAYER
 17071 6524 B9 70 C9			lda adr.PLLOANSHARK,y
 17072 6527 C9 63			cmp #$63
 17073 6529 F0 10			jeq l_4137
 17074
 17075 				; optimize OK (loanshark.pas), line = 22
 17076
 17077 652B A9 25			lda #$25
 17078 652D 20 49 1C			jsr CRT_WRITELN_LOCSTR
 17079
 17080 				; optimize OK (loanshark.pas), line = 23
 17081
 17082 6530 A9 26			lda #$26
 17083 6532 20 49 1C			jsr CRT_WRITELN_LOCSTR
 17084
 17085 				; optimize FAIL ('WAITFORKEY', loanshark.pas), line = 24
 17086
 17087 6535 20 88 1D			jsr WAITFORKEY
 17088 6538 4C CA 6A			jmp @exit
 17089 653B			l_4137
 17090
 17091 				; optimize OK (loanshark.pas), line = 28
 17092
 17093 653B A9 02			lda #$02
 17094 653D 20 04 1C			jsr CRT_WRITE_LOCSTR
 17095
 17096 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', loanshark.pas), line = 29
 17097
 17098 6540 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 17099
 17100 				; optimize OK (loanshark.pas), line = 30
 17101
 17102 6543 A9 03			lda #$03
 17103 6545 20 04 1C			jsr CRT_WRITE_LOCSTR
 17104
 17105 				; optimize OK (loanshark.pas), line = 31
 17106
 17107 6548 A9 00			lda #$00
 17108 654A 8D E9 A6			sta READVALUE.MINVALUE
 17109 654D 8D EA A6			sta READVALUE.MINVALUE+1
 17110 6550 A9 88			lda #$88
 17111 6552 8D EB A6			sta READVALUE.MAXVALUE
 17112 6555 A9 13			lda #$13
 17113 6557 8D EC A6			sta READVALUE.MAXVALUE+1
 17114 655A 20 64 1F			jsr READVALUE
 17115 655D AD ED A6			lda READVALUE.RESULT
 17116 6560 8D 8A A8			sta LOAN
 17117 6563 AD EE A6			lda READVALUE.RESULT+1
 17118 6566 8D 8B A8			sta LOAN+1
 17119
 17120 				; optimize OK (loanshark.pas), line = 32
 17121
 17122 6569 0D 8A A8			ora LOAN
 17123 656C D0 03 4C CA 6A		jeq @exit
 17124 6571			l_415B
 17125
 17126 				; optimize FAIL ('CRT_NEWLINE2', loanshark.pas), line = 35
 17127
 17128 6571 20 B9 1D			jsr CRT_NEWLINE2
 17129
 17130 				; optimize OK (loanshark.pas), line = 36
 17131
 17132 6574 A9 04			lda #$04
 17133 6576 20 49 1C			jsr CRT_WRITELN_LOCSTR
 17134
 17135 				; optimize OK (loanshark.pas), line = 37
 17136
 17137 6579 A9 05			lda #$05
 17138 657B 20 49 1C			jsr CRT_WRITELN_LOCSTR
 17139
 17140 				; optimize OK (loanshark.pas), line = 38
 17141
 17142 657E AD 8A A8			lda LOAN
 17143 6581 8D 8C A8			sta P
 17144 6584 AD 8B A8			lda LOAN+1
 17145 6587 8D 8D A8			sta P+1
 17146
 17147 				; optimize OK (loanshark.pas), line = 39
 17148
 17149 658A 85 AD			sta :STACKORIGIN+STACKWIDTH+9
 17150 658C AD 8C A8			lda P
 17151 658F 46 AD			lsr :STACKORIGIN+STACKWIDTH+9
 17152 6591 6A				ror @
 17153 6592 46 AD			lsr :STACKORIGIN+STACKWIDTH+9
 17154 6594 6A				ror @
 17155 6595 46 AD			lsr :STACKORIGIN+STACKWIDTH+9
 17156 6597 6A				ror @
 17157 6598 46 AD			lsr :STACKORIGIN+STACKWIDTH+9
 17158 659A 6A				ror @
 17159 659B 8D 8C A8			sta P
 17160 659E A5 AD			lda :STACKORIGIN+STACKWIDTH+9
 17161 65A0 8D 8D A8			sta P+1
 17162
 17163 				; optimize OK (loanshark.pas), line = 40
 17164
 17165 65A3 AD 8A CD			lda CURRENTPLAYER
 17166 65A6 0A				asl @
 17167 65A7 A8				tay
 17168 65A8 AD 8A A8			lda LOAN
 17169 65AB 18 6D 8C A8			add P
 17170 65AF 99 64 C9			sta adr.PLLOAN,y
 17171 65B2 AD 8B A8			lda LOAN+1
 17172 65B5 6D 8D A8			adc P+1
 17173 65B8 99 65 C9			sta adr.PLLOAN+1,y
 17174
 17175 				; optimize OK (loanshark.pas), line = 41
 17176
 17177 65BB A9 04			lda #$04
 17178 65BD 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 17179 65C0 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 17180 65C3 8D BD A3			sta TMP
 17181
 17182 				; optimize OK (loanshark.pas), line = 42
 17183
 17184 65C6 18 69 06			add #$06
 17185 65C9 8D BD A3			sta TMP
 17186
 17187 				; optimize OK (loanshark.pas), line = 43
 17188
 17189 65CC AC 8A CD			ldy CURRENTPLAYER
 17190 65CF 99 6C C9			sta adr.PLLOANTIME,y
 17191
 17192 				; optimize OK (loanshark.pas), line = 44
 17193
 17194 65D2 AD 8A A8			lda LOAN
 17195 65D5 8D 99 A7			sta ADDMONEY.AMOUNT
 17196 65D8 AD 8B A8			lda LOAN+1
 17197 65DB 8D 9A A7			sta ADDMONEY.AMOUNT+1
 17198 65DE 20 5F 2F			jsr ADDMONEY
 17199
 17200 				; optimize FAIL ('WAITFORKEY', loanshark.pas), line = 45
 17201
 17202 65E1 20 88 1D			jsr WAITFORKEY
 17203 65E4 4C CA 6A			jmp @exit
 17204 65E7			l_4107
 17205
 17206 				; optimize OK (loanshark.pas), line = 49
 17207
 17208 65E7 AD 22 C9			lda CURRENTCHOICE
 17209 65EA C9 02			cmp #$02
 17210 65EC F0 03 4C 05 67		jne l_41AE
 17211
 17212 				; optimize OK (loanshark.pas), line = 51
 17213
 17214 65F1 AD 8A CD			lda CURRENTPLAYER
 17215 65F4 0A				asl @
 17216 65F5 A8				tay
 17217 65F6 B9 65 C9			lda adr.PLLOAN+1,y
 17218 65F9 D0 03			bne @+
 17219 65FB B9 64 C9			lda adr.PLLOAN,y
 17220 				@
 17221 65FE D0 0B			jne l_41C3
 17222
 17223 				; optimize OK (loanshark.pas), line = 53
 17224
 17225 6600 A9 06			lda #$06
 17226 6602 20 49 1C			jsr CRT_WRITELN_LOCSTR
 17227
 17228 				; optimize FAIL ('WAITFORKEY', loanshark.pas), line = 54
 17229
 17230 6605 20 88 1D			jsr WAITFORKEY
 17231 6608 4C CA 6A			jmp @exit
 17232 660B			l_41C3
 17233
 17234 				; optimize OK (loanshark.pas), line = 58
 17235
 17236 660B A9 07			lda #$07
 17237 660D 20 49 1C			jsr CRT_WRITELN_LOCSTR
 17238
 17239 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', loanshark.pas), line = 59
 17240
 17241 6610 E8				inx
 17242 6611 A9 AF 95 94			mva #$AF :STACKORIGIN,x
 17243 6615 A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 17244 6619 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 17245
 17246 				; optimize OK (loanshark.pas), line = 60
 17247
 17248 661C AD 8A CD			lda CURRENTPLAYER
 17249 661F 0A				asl @
 17250 6620 A8				tay
 17251 6621 B9 64 C9			lda adr.PLLOAN,y
 17252 6624 8D 5F A1			sta B_CRT.CRT_WRITE.@010185000.NUM
 17253 6627 B9 65 C9			lda adr.PLLOAN+1,y
 17254 662A 85 AD			sta :STACKORIGIN+STACKWIDTH+9
 17255 662C A0 00			ldy #$00
 17256 662E A5 AD			lda :STACKORIGIN+STACKWIDTH+9
 17257 6630 10 01			spl
 17258 6632 88				dey
 17259 6633 8D 60 A1			sta B_CRT.CRT_WRITE.@010185000.NUM+1
 17260 6636 8C 61 A1			sty B_CRT.CRT_WRITE.@010185000.NUM+2
 17261 6639 8C 62 A1			sty B_CRT.CRT_WRITE.@010185000.NUM+3
 17262 663C 20 17 19			jsr B_CRT.CRT_WRITE.@010185000
 17263
 17264 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', loanshark.pas), line = 61
 17265
 17266 663F E8				inx
 17267 6640 A9 A6 95 94			mva #$A6 :STACKORIGIN,x
 17268 6644 A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 17269 6648 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 17270
 17271 				; optimize OK (loanshark.pas), line = 62
 17272
 17273 664B AD 8A CD			lda CURRENTPLAYER
 17274 664E 0A				asl @
 17275 664F A8				tay
 17276 6650 B9 64 C9			lda adr.PLLOAN,y
 17277 6653 8D EB A6			sta READVALUE.MAXVALUE
 17278 6656 B9 65 C9			lda adr.PLLOAN+1,y
 17279 6659 8D EC A6			sta READVALUE.MAXVALUE+1
 17280 665C A9 00			lda #$00
 17281 665E 8D E9 A6			sta READVALUE.MINVALUE
 17282 6661 8D EA A6			sta READVALUE.MINVALUE+1
 17283 6664 20 64 1F			jsr READVALUE
 17284 6667 AD ED A6			lda READVALUE.RESULT
 17285 666A 8D 8A A8			sta LOAN
 17286 666D AD EE A6			lda READVALUE.RESULT+1
 17287 6670 8D 8B A8			sta LOAN+1
 17288
 17289 				; optimize OK (loanshark.pas), line = 63
 17290
 17291 6673 0D 8A A8			ora LOAN
 17292 6676 D0 03 4C CA 6A		jeq @exit
 17293 667B			l_41F0
 17294
 17295 				; optimize OK (loanshark.pas), line = 66
 17296
 17297 667B AD 8A A8			lda LOAN
 17298 667E 8D A6 A7			sta PAYMONEY.PRICE
 17299 6681 AD 8B A8			lda LOAN+1
 17300 6684 8D A7 A7			sta PAYMONEY.PRICE+1
 17301 6687 20 02 32			jsr PAYMONEY
 17302 668A AD A8 A7			lda PAYMONEY.RESULT
 17303 668D D0 03 4C CA 6A		jeq @exit
 17304 6692			l_4205
 17305
 17306 				; optimize OK (loanshark.pas), line = 67
 17307
 17308 6692 AD 8A CD			lda CURRENTPLAYER
 17309 6695 0A				asl @
 17310 6696 A8				tay
 17311 6697 B9 64 C9			lda adr.PLLOAN,y
 17312 669A 38 ED 8A A8			sub LOAN
 17313 669E 99 64 C9			sta adr.PLLOAN,y
 17314 66A1 B9 65 C9			lda adr.PLLOAN+1,y
 17315 66A4 ED 8B A8			sbc LOAN+1
 17316 66A7 99 65 C9			sta adr.PLLOAN+1,y
 17317
 17318 				; optimize OK (loanshark.pas), line = 68
 17319
 17320 66AA C9 00			cmp #$00
 17321 66AC D0 03			bne @+
 17322 66AE B9 64 C9			lda adr.PLLOAN,y
 17323 				@
 17324 66B1 D0 13			jne l_422C
 17325
 17326 				; optimize FAIL ('CRT_NEWLINE2', loanshark.pas), line = 70
 17327
 17328 66B3 20 B9 1D			jsr CRT_NEWLINE2
 17329
 17330 				; optimize OK (loanshark.pas), line = 71
 17331
 17332 66B6 AC 8A CD			ldy CURRENTPLAYER
 17333 66B9 A9 00			lda #$00
 17334 66BB 99 6C C9			sta adr.PLLOANTIME,y
 17335
 17336 				; optimize OK (loanshark.pas), line = 72
 17337
 17338 66BE A9 08			lda #$08
 17339 66C0 20 49 1C			jsr CRT_WRITELN_LOCSTR
 17340 66C3 4C 02 67			jmp l_4240
 17341 66C6			l_422C
 17342
 17343 				; optimize FAIL ('CRT_NEWLINE2', loanshark.pas), line = 76
 17344
 17345 66C6 20 B9 1D			jsr CRT_NEWLINE2
 17346
 17347 				; optimize OK (loanshark.pas), line = 77
 17348
 17349 66C9 A9 09			lda #$09
 17350 66CB 20 04 1C			jsr CRT_WRITE_LOCSTR
 17351
 17352 				; optimize OK (loanshark.pas), line = 78
 17353
 17354 66CE AD 8A CD			lda CURRENTPLAYER
 17355 66D1 0A				asl @
 17356 66D2 A8				tay
 17357 66D3 B9 64 C9			lda adr.PLLOAN,y
 17358 66D6 8D 5F A1			sta B_CRT.CRT_WRITE.@010185000.NUM
 17359 66D9 B9 65 C9			lda adr.PLLOAN+1,y
 17360 66DC 85 AD			sta :STACKORIGIN+STACKWIDTH+9
 17361 66DE A0 00			ldy #$00
 17362 66E0 A5 AD			lda :STACKORIGIN+STACKWIDTH+9
 17363 66E2 10 01			spl
 17364 66E4 88				dey
 17365 66E5 8D 60 A1			sta B_CRT.CRT_WRITE.@010185000.NUM+1
 17366 66E8 8C 61 A1			sty B_CRT.CRT_WRITE.@010185000.NUM+2
 17367 66EB 8C 62 A1			sty B_CRT.CRT_WRITE.@010185000.NUM+3
 17368 66EE 20 17 19			jsr B_CRT.CRT_WRITE.@010185000
 17369
 17370 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', loanshark.pas), line = 79
 17371
 17372 66F1 E8				inx
 17373 66F2 A9 88 95 94			mva #$88 :STACKORIGIN,x
 17374 66F6 A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 17375 66FA 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 17376
 17377 				; optimize OK (loanshark.pas), line = 80
 17378
 17379 66FD A9 0A			lda #$0A
 17380 66FF 20 04 1C			jsr CRT_WRITE_LOCSTR
 17381 6702			l_4240
 17382
 17383 				; optimize FAIL ('WAITFORKEY', loanshark.pas), line = 82
 17384
 17385 6702 20 88 1D			jsr WAITFORKEY
 17386 6705			l_41AE
 17387
 17388 				; optimize OK (loanshark.pas), line = 86
 17389
 17390 6705 AD 22 C9			lda CURRENTCHOICE
 17391 6708 C9 03			cmp #$03
 17392 670A F0 03 4C 80 68		jne l_4262
 17393
 17394 				; optimize OK (loanshark.pas), line = 89
 17395
 17396 670F AD 8A CD			lda CURRENTPLAYER
 17397 6712 0A				asl @
 17398 6713 A8				tay
 17399 6714 B9 65 C9			lda adr.PLLOAN+1,y
 17400 6717 D0 03			bne @+
 17401 6719 B9 64 C9			lda adr.PLLOAN,y
 17402 				@
 17403 671C F0 0B			jeq l_4277
 17404
 17405 				; optimize OK (loanshark.pas), line = 90
 17406
 17407 671E A9 15			lda #$15
 17408 6720 20 49 1C			jsr CRT_WRITELN_LOCSTR
 17409
 17410 				; optimize FAIL ('WAITFORKEY', loanshark.pas), line = 91
 17411
 17412 6723 20 88 1D			jsr WAITFORKEY
 17413 6726 4C CA 6A			jmp @exit
 17414 6729			l_4277
 17415
 17416 				; optimize OK (loanshark.pas), line = 95
 17417
 17418 6729 A9 0B			lda #$0B
 17419 672B 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 17420 672E AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 17421 6731 8D BD A3			sta TMP
 17422
 17423 				; optimize OK (loanshark.pas), line = 96
 17424
 17425 6734 85 8C			sta :ecx
 17426 6736 A9 64			lda #$64
 17427 6738 85 84			sta :eax
 17428 					.ifdef fmulinit
 17429 					fmulu_8
 17430 					els
 17431 673A 20 43 10			imulCL
 17432 					eif
 17433 673D 8D 8D A8			sta P+1
 17434 6740 A5 84			lda :eax
 17435 6742 8D 8C A8			sta P
 17436
 17437 				; optimize OK (loanshark.pas), line = 97
 17438
 17439 6745 AC 8A CD			ldy CURRENTPLAYER
 17440 6748 B9 70 C9			lda adr.PLLOANSHARK,y
 17441 674B CD 0E A7			cmp CURRENTSUBLOCATION
 17442 674E D0 6A			jne l_42A3
 17443
 17444 				; optimize OK (loanshark.pas), line = 100
 17445
 17446 6750 AD 8C A8			lda P
 17447 6753 18 69 94			add #$94
 17448 6756 8D 8C A8			sta P
 17449 6759 AD 8D A8			lda P+1
 17450 675C 69 11			adc #$11
 17451 675E 8D 8D A8			sta P+1
 17452
 17453 				; optimize OK (loanshark.pas), line = 101
 17454
 17455 6761 A9 16			lda #$16
 17456 6763 20 04 1C			jsr CRT_WRITE_LOCSTR
 17457
 17458 				; optimize OK (loanshark.pas), line = 102
 17459
 17460 6766 AD 8C A8			lda P
 17461 6769 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 17462 676C AD 8D A8			lda P+1
 17463 676F 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 17464 6772 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 17465
 17466 				; optimize OK (loanshark.pas), line = 103
 17467
 17468 6775 A9 17			lda #$17
 17469 6777 20 49 1C			jsr CRT_WRITELN_LOCSTR
 17470
 17471 				; optimize OK (loanshark.pas), line = 104
 17472
 17473 677A A9 18			lda #$18
 17474 677C 20 04 1C			jsr CRT_WRITE_LOCSTR
 17475
 17476 				; optimize FAIL ('GETYESNO', loanshark.pas), line = 105
 17477
 17478 677F 20 46 1F			jsr GETYESNO
 17479 6782 AD E8 A6			lda GETYESNO.RESULT
 17480 6785 D0 03 4C CA 6A		jeq @exit
 17481 678A			l_42C6
 17482
 17483 				; optimize OK (loanshark.pas), line = 106
 17484
 17485 678A AD 8C A8			lda P
 17486 678D 8D 99 A7			sta ADDMONEY.AMOUNT
 17487 6790 AD 8D A8			lda P+1
 17488 6793 8D 9A A7			sta ADDMONEY.AMOUNT+1
 17489 6796 20 5F 2F			jsr ADDMONEY
 17490
 17491 				; optimize OK (loanshark.pas), line = 107
 17492
 17493 6799 AC 8A CD			ldy CURRENTPLAYER
 17494 679C A9 63			lda #$63
 17495 679E 99 70 C9			sta adr.PLLOANSHARK,y
 17496
 17497 				; optimize OK (loanshark.pas), line = 108
 17498
 17499 67A1 98				tya
 17500 67A2 0A				asl @
 17501 67A3 A8				tay
 17502 67A4 A9 00			lda #$00
 17503 67A6 99 A4 C9			sta adr.PLLOANINVEST,y
 17504 67A9 99 A5 C9			sta adr.PLLOANINVEST+1,y
 17505
 17506 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', loanshark.pas), line = 109
 17507
 17508 67AC 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 17509
 17510 				; optimize OK (loanshark.pas), line = 110
 17511
 17512 67AF A9 19			lda #$19
 17513 67B1 20 49 1C			jsr CRT_WRITELN_LOCSTR
 17514
 17515 				; optimize FAIL ('WAITFORKEY', loanshark.pas), line = 111
 17516
 17517 67B4 20 88 1D			jsr WAITFORKEY
 17518 67B7 4C CA 6A			jmp @exit
 17519 67BA			l_42A3
 17520
 17521 				; optimize OK (loanshark.pas), line = 116
 17522
 17523 67BA AC 8A CD			ldy CURRENTPLAYER
 17524 67BD B9 70 C9			lda adr.PLLOANSHARK,y
 17525 67C0 C9 63			cmp #$63
 17526 67C2 F0 0B			jeq l_42FC
 17527
 17528 				; optimize OK (loanshark.pas), line = 118
 17529
 17530 67C4 A9 0B			lda #$0B
 17531 67C6 20 04 1C			jsr CRT_WRITE_LOCSTR
 17532
 17533 				; optimize FAIL ('WAITFORKEY', loanshark.pas), line = 119
 17534
 17535 67C9 20 88 1D			jsr WAITFORKEY
 17536 67CC 4C CA 6A			jmp @exit
 17537 67CF			l_42FC
 17538
 17539 				; optimize OK (loanshark.pas), line = 122
 17540
 17541 67CF A9 00			lda #$00
 17542 67D1 8D 87 A8			sta R
 17543
 17544 67D4			l_430B
 17545 				; --- ForToDoCondition
 17546 67D4 AC 87 A8			ldy R
 17547 67D7 C0 04			cpy #$04
 17548 67D9 B0 40			jcs l_4319
 17549
 17550 				; optimize OK (loanshark.pas), line = 124
 17551
 17552 67DB B9 70 C9			lda adr.PLLOANSHARK,y
 17553 67DE CD 0E A7			cmp CURRENTSUBLOCATION
 17554 67E1 D0 33			jne l_4330
 17555
 17556 				; optimize OK (loanshark.pas), line = 125
 17557
 17558 67E3 A9 1A			lda #$1A
 17559 67E5 20 04 1C			jsr CRT_WRITE_LOCSTR
 17560
 17561 				; optimize OK (loanshark.pas), line = 126
 17562
 17563 67E8 AD 87 A8			lda R
 17564 67EB 0A				asl @
 17565 67EC 0A				asl @
 17566 67ED 0A				asl @
 17567 67EE 8D 88 A8			sta K
 17568
 17569 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', loanshark.pas), line = 127
 17570
 17571 67F1 E8				inx
 17572 67F2 AD 88 A8			lda K
 17573 67F5 0A				asl @
 17574 67F6 A8				tay
 17575 67F7 B9 E2 A3			lda adr.GANGSTERNAMES,y
 17576 67FA 95 94			sta :STACKORIGIN,x
 17577 67FC B9 E3 A3			lda adr.GANGSTERNAMES+1,y
 17578 67FF 95 A4			sta :STACKORIGIN+STACKWIDTH,x
 17579 6801 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 17580
 17581 				; optimize FAIL ('CRT_WRITELN', loanshark.pas), line = 128
 17582
 17583 6804 E8				inx
 17584 6805 A9 B3 95 94			mva #$B3 :STACKORIGIN,x
 17585 6809 A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 17586 680D 20 E7 1D			jsr CRT_WRITELN
 17587
 17588 				; optimize FAIL ('WAITFORKEY', loanshark.pas), line = 129
 17589
 17590 6810 20 88 1D			jsr WAITFORKEY
 17591 6813 4C CA 6A			jmp @exit
 17592 6816			l_4330
 17593
 17594 				; --- ForToDoEpilog
 17595 6816 EE 87 A8			inc R
 17596 6819 D0 B9			jne l_430B
 17597 681B			l_4319
 17598
 17599 				; optimize OK (loanshark.pas), line = 135
 17600
 17601 681B AD 8C A8			lda P
 17602 681E 18 69 88			add #$88
 17603 6821 8D 8C A8			sta P
 17604 6824 AD 8D A8			lda P+1
 17605 6827 69 13			adc #$13
 17606 6829 8D 8D A8			sta P+1
 17607
 17608 				; optimize OK (loanshark.pas), line = 136
 17609
 17610 682C A9 1B			lda #$1B
 17611 682E 20 04 1C			jsr CRT_WRITE_LOCSTR
 17612
 17613 				; optimize OK (loanshark.pas), line = 137
 17614
 17615 6831 AD 8C A8			lda P
 17616 6834 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 17617 6837 AD 8D A8			lda P+1
 17618 683A 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 17619 683D 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 17620
 17621 				; optimize OK (loanshark.pas), line = 138
 17622
 17623 6840 A9 1C			lda #$1C
 17624 6842 20 49 1C			jsr CRT_WRITELN_LOCSTR
 17625
 17626 				; optimize OK (loanshark.pas), line = 139
 17627
 17628 6845 A9 1D			lda #$1D
 17629 6847 20 49 1C			jsr CRT_WRITELN_LOCSTR
 17630
 17631 				; optimize FAIL ('GETYESNO', loanshark.pas), line = 140
 17632
 17633 684A 20 46 1F			jsr GETYESNO
 17634 684D AD E8 A6			lda GETYESNO.RESULT
 17635 6850 D0 03 4C CA 6A		jeq @exit
 17636 6855			l_436F
 17637
 17638 				; optimize OK (loanshark.pas), line = 141
 17639
 17640 6855 AD 8C A8			lda P
 17641 6858 8D A6 A7			sta PAYMONEY.PRICE
 17642 685B AD 8D A8			lda P+1
 17643 685E 8D A7 A7			sta PAYMONEY.PRICE+1
 17644 6861 20 02 32			jsr PAYMONEY
 17645 6864 AD A8 A7			lda PAYMONEY.RESULT
 17646 6867 D0 03 4C CA 6A		jeq @exit
 17647 686C			l_4384
 17648
 17649 				; optimize OK (loanshark.pas), line = 142
 17650
 17651 686C AC 8A CD			ldy CURRENTPLAYER
 17652 686F AD 0E A7			lda CURRENTSUBLOCATION
 17653 6872 99 70 C9			sta adr.PLLOANSHARK,y
 17654
 17655 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', loanshark.pas), line = 143
 17656
 17657 6875 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 17658
 17659 				; optimize OK (loanshark.pas), line = 144
 17660
 17661 6878 A9 1E			lda #$1E
 17662 687A 20 49 1C			jsr CRT_WRITELN_LOCSTR
 17663
 17664 				; optimize FAIL ('WAITFORKEY', loanshark.pas), line = 145
 17665
 17666 687D 20 88 1D			jsr WAITFORKEY
 17667 6880			l_42E7
 17668 6880			l_4262
 17669
 17670 				; optimize OK (loanshark.pas), line = 150
 17671
 17672 6880 AD 22 C9			lda CURRENTCHOICE
 17673 6883 C9 04			cmp #$04
 17674 6885 F0 03 4C 65 69		jne l_43A8
 17675
 17676 				; optimize OK (loanshark.pas), line = 152
 17677
 17678 688A AC 8A CD			ldy CURRENTPLAYER
 17679 688D B9 70 C9			lda adr.PLLOANSHARK,y
 17680 6890 CD 0E A7			cmp CURRENTSUBLOCATION
 17681 6893 F0 0B			jeq l_43C0
 17682
 17683 				; optimize OK (loanshark.pas), line = 154
 17684
 17685 6895 A9 0C			lda #$0C
 17686 6897 20 04 1C			jsr CRT_WRITE_LOCSTR
 17687
 17688 				; optimize FAIL ('WAITFORKEY', loanshark.pas), line = 155
 17689
 17690 689A 20 88 1D			jsr WAITFORKEY
 17691 689D 4C CA 6A			jmp @exit
 17692 68A0			l_43C0
 17693
 17694 				; optimize OK (loanshark.pas), line = 158
 17695
 17696 68A0 A9 1F			lda #$1F
 17697 68A2 20 04 1C			jsr CRT_WRITE_LOCSTR
 17698
 17699 				; optimize OK (loanshark.pas), line = 159
 17700
 17701 68A5 AD 8A CD			lda CURRENTPLAYER
 17702 68A8 0A				asl @
 17703 68A9 A8				tay
 17704 68AA B9 A4 C9			lda adr.PLLOANINVEST,y
 17705 68AD 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 17706 68B0 B9 A5 C9			lda adr.PLLOANINVEST+1,y
 17707 68B3 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 17708 68B6 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 17709
 17710 				; optimize OK (loanshark.pas), line = 160
 17711
 17712 68B9 A9 20			lda #$20
 17713 68BB 20 49 1C			jsr CRT_WRITELN_LOCSTR
 17714
 17715 				; optimize OK (loanshark.pas), line = 161
 17716
 17717 68BE A9 21			lda #$21
 17718 68C0 20 49 1C			jsr CRT_WRITELN_LOCSTR
 17719
 17720 				; optimize OK (loanshark.pas), line = 162
 17721
 17722 68C3 A9 22			lda #$22
 17723 68C5 20 04 1C			jsr CRT_WRITE_LOCSTR
 17724
 17725 				; optimize OK (loanshark.pas), line = 164
 17726
 17727 68C8 AD 8A CD			lda CURRENTPLAYER
 17728 68CB 0A				asl @
 17729 68CC A8				tay
 17730 68CD A9 88			lda #$88
 17731 68CF 38 F9 A4 C9			sub adr.PLLOANINVEST,y
 17732 68D3 8D EB A6			sta READVALUE.MAXVALUE
 17733 68D6 A9 13			lda #$13
 17734 68D8 F9 A5 C9			sbc adr.PLLOANINVEST+1,y
 17735 68DB 8D EC A6			sta READVALUE.MAXVALUE+1
 17736 68DE A9 00			lda #$00
 17737 68E0 38 F9 A4 C9			sub adr.PLLOANINVEST,y
 17738 68E4 8D E9 A6			sta READVALUE.MINVALUE
 17739 68E7 A9 00			lda #$00
 17740 68E9 F9 A5 C9			sbc adr.PLLOANINVEST+1,y
 17741 68EC 8D EA A6			sta READVALUE.MINVALUE+1
 17742 68EF 20 64 1F			jsr READVALUE
 17743 68F2 AD ED A6			lda READVALUE.RESULT
 17744 68F5 8D 8A A8			sta LOAN
 17745 68F8 AD EE A6			lda READVALUE.RESULT+1
 17746 68FB 8D 8B A8			sta LOAN+1
 17747
 17748 				; optimize OK (loanshark.pas), line = 165
 17749
 17750 68FE 0D 8A A8			ora LOAN
 17751 6901 D0 03 4C CA 6A		jeq @exit
 17752 6906			l_43FA
 17753
 17754 				; optimize OK (loanshark.pas), line = 166
 17755
 17756 6906 AD 8A A8			lda LOAN
 17757 6909 8D A6 A7			sta PAYMONEY.PRICE
 17758 690C AD 8B A8			lda LOAN+1
 17759 690F 8D A7 A7			sta PAYMONEY.PRICE+1
 17760 6912 20 02 32			jsr PAYMONEY
 17761 6915 AD A8 A7			lda PAYMONEY.RESULT
 17762 6918 D0 03 4C CA 6A		jeq @exit
 17763 691D			l_440F
 17764
 17765 				; optimize OK (loanshark.pas), line = 167
 17766
 17767 691D AD 8A CD			lda CURRENTPLAYER
 17768 6920 0A				asl @
 17769 6921 A8				tay
 17770 6922 B9 A4 C9			lda adr.PLLOANINVEST,y
 17771 6925 18 6D 8A A8			add LOAN
 17772 6929 99 A4 C9			sta adr.PLLOANINVEST,y
 17773 692C B9 A5 C9			lda adr.PLLOANINVEST+1,y
 17774 692F 6D 8B A8			adc LOAN+1
 17775 6932 99 A5 C9			sta adr.PLLOANINVEST+1,y
 17776
 17777 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', loanshark.pas), line = 168
 17778
 17779 6935 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 17780
 17781 				; optimize OK (loanshark.pas), line = 169
 17782
 17783 6938 A9 23			lda #$23
 17784 693A 20 04 1C			jsr CRT_WRITE_LOCSTR
 17785
 17786 				; optimize OK (loanshark.pas), line = 170
 17787
 17788 693D AD 8A CD			lda CURRENTPLAYER
 17789 6940 0A				asl @
 17790 6941 A8				tay
 17791 6942 B9 A4 C9			lda adr.PLLOANINVEST,y
 17792 6945 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 17793 6948 B9 A5 C9			lda adr.PLLOANINVEST+1,y
 17794 694B 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 17795 694E 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 17796
 17797 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', loanshark.pas), line = 171
 17798
 17799 6951 E8				inx
 17800 6952 A9 88 95 94			mva #$88 :STACKORIGIN,x
 17801 6956 A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 17802 695A 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 17803
 17804 				; optimize OK (loanshark.pas), line = 172
 17805
 17806 695D A9 24			lda #$24
 17807 695F 20 49 1C			jsr CRT_WRITELN_LOCSTR
 17808
 17809 				; optimize FAIL ('WAITFORKEY', loanshark.pas), line = 173
 17810
 17811 6962 20 88 1D			jsr WAITFORKEY
 17812 6965			l_43A8
 17813
 17814 				; optimize OK (loanshark.pas), line = 176
 17815
 17816 6965 AD 22 C9			lda CURRENTCHOICE
 17817 6968 C9 05			cmp #$05
 17818 696A F0 03 4C CA 6A		jne l_4444
 17819
 17820 				; optimize OK (loanshark.pas), line = 178
 17821
 17822 696F AC 8A CD			ldy CURRENTPLAYER
 17823 6972 B9 70 C9			lda adr.PLLOANSHARK,y
 17824 6975 CD 0E A7			cmp CURRENTSUBLOCATION
 17825 6978 F0 0B			jeq l_445C
 17826
 17827 				; optimize OK (loanshark.pas), line = 180
 17828
 17829 697A A9 0C			lda #$0C
 17830 697C 20 04 1C			jsr CRT_WRITE_LOCSTR
 17831
 17832 				; optimize FAIL ('WAITFORKEY', loanshark.pas), line = 181
 17833
 17834 697F 20 88 1D			jsr WAITFORKEY
 17835 6982 4C CA 6A			jmp @exit
 17836 6985			l_445C
 17837
 17838 				; optimize OK (loanshark.pas), line = 186
 17839
 17840 6985 A9 00			lda #$00
 17841 6987 8D 89 A8			sta ALLPAID
 17842
 17843 				; optimize OK (loanshark.pas), line = 187
 17844
 17845 698A A9 03			lda #$03
 17846 698C 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 17847 698F E8				inx
 17848 6990 E8				inx
 17849 6991 A0 01			ldy #1
 17850 6993 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 17851 6996 D0 01			bne @+
 17852 6998 88				dey
 17853 				@
 17854 6999 94 93			sty :STACKORIGIN-1,x
 17855 699B AD 8A CD			lda CURRENTPLAYER
 17856 699E 0A				asl @
 17857 699F A8				tay
 17858 69A0 B9 A4 C9			lda adr.PLLOANINVEST,y
 17859 69A3 95 94			sta :STACKORIGIN,x
 17860 69A5 B9 A5 C9			lda adr.PLLOANINVEST+1,y
 17861 69A8 95 A4			sta :STACKORIGIN+STACKWIDTH,x
 17862 69AA E8				inx
 17863 69AB A0 01			ldy #1
 17864 69AD B5 A3			lda :STACKORIGIN-1+STACKWIDTH,x
 17865 69AF 15 93			ora :STACKORIGIN-1,x
 17866 69B1 D0 01			bne @+
 17867 69B3 88				dey
 17868 				@
 17869 69B4 CA				dex
 17870 69B5 94 94			sty :STACKORIGIN,x
 17871 69B7 CA				dex
 17872 69B8 CA				dex
 17873 69B9 B5 95			lda :STACKORIGIN+1,x
 17874 69BB 35 96			and :STACKORIGIN+2,x
 17875 69BD F0 05			jeq l_4485
 17876 69BF A9 01			lda #$01
 17877 69C1 8D 89 A8			sta ALLPAID
 17878 69C4			l_4485
 17879
 17880 				; optimize OK (loanshark.pas), line = 188
 17881
 17882 69C4 AD 89 A8			lda ALLPAID
 17883 69C7 D0 0B			jne l_449E
 17884
 17885 				; optimize OK (loanshark.pas), line = 190
 17886
 17887 69C9 A9 0D			lda #$0D
 17888 69CB 20 04 1C			jsr CRT_WRITE_LOCSTR
 17889
 17890 				; optimize FAIL ('WAITFORKEY', loanshark.pas), line = 191
 17891
 17892 69CE 20 88 1D			jsr WAITFORKEY
 17893 69D1 4C CA 6A			jmp @exit
 17894 69D4			l_449E
 17895
 17896 				; optimize OK (loanshark.pas), line = 195
 17897
 17898 69D4 A9 0E			lda #$0E
 17899 69D6 20 49 1C			jsr CRT_WRITELN_LOCSTR
 17900
 17901 				; optimize OK (loanshark.pas), line = 196
 17902
 17903 69D9 A9 0F			lda #$0F
 17904 69DB 20 49 1C			jsr CRT_WRITELN_LOCSTR
 17905
 17906 				; optimize OK (loanshark.pas), line = 197
 17907
 17908 69DE A9 10			lda #$10
 17909 69E0 20 49 1C			jsr CRT_WRITELN_LOCSTR
 17910
 17911 				; optimize FAIL ('WAITFORKEY', loanshark.pas), line = 198
 17912
 17913 69E3 20 88 1D			jsr WAITFORKEY
 17914
 17915 				; -------------------  ASM Block 00000157  -------------------
 17916
 17917 				 
 17918 69E6 AD A2 9A		            lda loc_string_17
 17919 69E9 8D 79 A3		            sta adr.FP_GANG+$02
 17920 69EC AD A3 9A		            lda loc_string_17+1
 17921 69EF 8D 7A A3		            sta adr.FP_GANG+1+$02
 17922 				        
 17923 				; optimize OK (loanshark.pas), line = 206
 17924
 17925 69F2 A9 01			lda #$01
 17926 69F4 8D 02 E4			sta adr.FP_AI+$01
 17927
 17928 				; optimize OK (loanshark.pas), line = 207
 17929
 17930 69F7 8D 04 E4			sta adr.FP_N+$01
 17931
 17932 				; optimize OK (loanshark.pas), line = 208
 17933
 17934 69FA AD 9B A3			lda adr.FP_NAME+$20
 17935 69FD 85 8C			sta @move.dst
 17936 69FF AD 9C A3			lda adr.FP_NAME+1+$20
 17937 6A02 85 8D			sta @move.dst+1
 17938 6A04 AD A2 9A			lda LOC_STRING_17
 17939 6A07 85 88			sta @move.src
 17940 6A09 AD A3 9A			lda LOC_STRING_17+1
 17941 6A0C 85 89			sta @move.src+1
 17942 6A0E A0 00			ldy #$00
 17943 6A10 B1 88			lda (@move.src),y
 17944 6A12 18 69 01			add #1
 17945 6A15 85 84			sta @move.cnt
 17946 6A17 90 01			scc
 17947 6A19 C8				iny
 17948 6A1A 84 85			sty @move.cnt+1
 17949 6A1C 20 D7 0E			jsr @move
 17950
 17951 				; optimize OK (loanshark.pas), line = 209
 17952
 17953 6A1F A9 06			lda #$06
 17954 6A21 8D 55 E4			sta adr.FP_WEAPON+$10
 17955
 17956 				; optimize FAIL (1, loanshark.pas), line = 210
 17957
 17958 6A24 E8				inx
 17959 6A25 A9 10 95 94			mva #$10 :STACKORIGIN,x
 17960 6A29 A9 00 95 A4			mva #$00 :STACKORIGIN+STACKWIDTH,x
 17961 6A2D A9 02			lda #$02
 17962 6A2F 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 17963 6A32 B4 94			ldy :STACKORIGIN,x
 17964 6A34 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 17965 6A37 99 45 E5			sta adr.FP_SEX,y
 17966 6A3A CA				dex
 17967
 17968 				; optimize OK (loanshark.pas), line = 211
 17969
 17970 6A3B A9 23			lda #$23
 17971 6A3D 8D 95 E4			sta adr.FP_ENERGY+$10
 17972
 17973 				; optimize FAIL ('DOFIGHT', loanshark.pas), line = 214
 17974
 17975 6A40 20 66 4D			jsr DOFIGHT
 17976 6A43 AD 1C A8			lda DOFIGHT.RESULT
 17977 6A46 C9 01			cmp #$01
 17978 6A48 D0 08			jne l_44DB
 17979
 17980 				; optimize OK (loanshark.pas), line = 215
 17981
 17982 6A4A A9 01			lda #$01
 17983 6A4C 20 C4 2F			jsr REMOVEPOINTS
 17984 6A4F 4C CA 6A			jmp @exit
 17985 6A52			l_44DB
 17986
 17987 				; optimize FAIL (1, loanshark.pas), line = 219
 17988
 17989 6A52 E8				inx
 17990 6A53 A9 F4 95 94			mva #$F4 :STACKORIGIN,x
 17991 6A57 A9 01 95 A4			mva #$01 :STACKORIGIN+STACKWIDTH,x
 17992 6A5B A9 00			lda #$00
 17993 6A5D 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 17994 6A60 E8				inx
 17995 6A61 AD 27 9C 95 94		mva SYSTEM.RANDOM.@010180000.RESULT :STACKORIGIN,x
 17996 6A66 E8				inx
 17997 6A67 A9 02 95 94			mva #$02 :STACKORIGIN,x
 17998 6A6B 20 10 0E			jsr @shlEAX_CL.BYTE
 17999 6A6E CA				dex
 18000 6A6F A9 00 95 B3			mva #$00 :STACKORIGIN-1+STACKWIDTH*2,x
 18001 6A73 95 C3			sta :STACKORIGIN-1+STACKWIDTH*3,x
 18002 6A75 20 F9 0D			jsr addAX_CX
 18003 6A78 CA				dex
 18004 6A79 B5 94			lda :STACKORIGIN,x
 18005 6A7B 8D 8A A8			sta LOAN
 18006 6A7E B5 A4			lda :STACKORIGIN+STACKWIDTH,x
 18007 6A80 8D 8B A8			sta LOAN+1
 18008 6A83 CA				dex
 18009
 18010 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', loanshark.pas), line = 220
 18011
 18012 6A84 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 18013
 18014 				; optimize FAIL ('SHOWLOCATIONHEADER', loanshark.pas), line = 223
 18015
 18016 6A87 20 18 28			jsr SHOWLOCATIONHEADER
 18017
 18018 				; optimize OK (loanshark.pas), line = 224
 18019
 18020 6A8A A9 12			lda #$12
 18021 6A8C 20 49 1C			jsr CRT_WRITELN_LOCSTR
 18022
 18023 				; optimize OK (loanshark.pas), line = 225
 18024
 18025 6A8F A9 13			lda #$13
 18026 6A91 20 04 1C			jsr CRT_WRITE_LOCSTR
 18027
 18028 				; optimize OK (loanshark.pas), line = 226
 18029
 18030 6A94 AD 8A A8			lda LOAN
 18031 6A97 8D 5F A1			sta B_CRT.CRT_WRITE.@010185000.NUM
 18032 6A9A A0 00			ldy #$00
 18033 6A9C AD 8B A8			lda LOAN+1
 18034 6A9F 10 01			spl
 18035 6AA1 88				dey
 18036 6AA2 8D 60 A1			sta B_CRT.CRT_WRITE.@010185000.NUM+1
 18037 6AA5 8C 61 A1			sty B_CRT.CRT_WRITE.@010185000.NUM+2
 18038 6AA8 8C 62 A1			sty B_CRT.CRT_WRITE.@010185000.NUM+3
 18039 6AAB 20 17 19			jsr B_CRT.CRT_WRITE.@010185000
 18040
 18041 				; optimize OK (loanshark.pas), line = 227
 18042
 18043 6AAE A9 14			lda #$14
 18044 6AB0 20 04 1C			jsr CRT_WRITE_LOCSTR
 18045
 18046 				; optimize FAIL ('WAITFORKEY', loanshark.pas), line = 228
 18047
 18048 6AB3 20 88 1D			jsr WAITFORKEY
 18049
 18050 				; optimize OK (loanshark.pas), line = 229
 18051
 18052 6AB6 A9 02			lda #$02
 18053 6AB8 20 B3 2F			jsr ADDPOINTS
 18054
 18055 				; optimize OK (loanshark.pas), line = 230
 18056
 18057 6ABB AD 8A A8			lda LOAN
 18058 6ABE 8D 99 A7			sta ADDMONEY.AMOUNT
 18059 6AC1 AD 8B A8			lda LOAN+1
 18060 6AC4 8D 9A A7			sta ADDMONEY.AMOUNT+1
 18061 6AC7 20 5F 2F			jsr ADDMONEY
 18062 6ACA			l_4444
 18063 6ACA			@exit
 18064
 18065 				; ------------------------------------------------------------
 18066
 18067 = A886			RESULT	= DATAORIGIN+$0C6B
 18068 = A887			R	= DATAORIGIN+$0C6C
 18069 = A888			K	= DATAORIGIN+$0C6D
 18070 = A889			ALLPAID	= DATAORIGIN+$0C6E
 18071 = A88A			LOAN	= DATAORIGIN+$0C6F
 18072 = A88C			P	= DATAORIGIN+$0C71
 18073
 18074 = A887			@VarData	= R
 18075 = 0007			@VarDataSize	= 7
 18076
 18077 6ACA 60				rts						; ret
 18078 				.endl
 18079
 18080 6ACB			.local	POLICECHOICES					; FUNCTION
 18081
 18082 				; optimize OK (police.pas), line = 9
 18083
 18084 6ACB A9 05			lda #$05
 18085 6ACD 8D 8E A8			sta RESULT
 18086
 18087 				; optimize OK (police.pas), line = 10
 18088
 18089 6AD0 AD 22 C9			lda CURRENTCHOICE
 18090 6AD3 C9 01			cmp #$01
 18091 6AD5 D0 0B			jne l_451A
 18092
 18093 				; optimize FAIL ('GOTOCOURT', police.pas), line = 12
 18094
 18095 6AD7 20 34 34			jsr GOTOCOURT
 18096
 18097 				; optimize OK (police.pas), line = 13
 18098
 18099 6ADA A9 11			lda #$11
 18100 6ADC 8D 8E A8			sta RESULT
 18101 6ADF 4C AD 6C			jmp @exit
 18102 6AE2			l_451A
 18103
 18104 				; optimize OK (police.pas), line = 17
 18105
 18106 6AE2 AD 22 C9			lda CURRENTCHOICE
 18107 6AE5 C9 02			cmp #$02
 18108 6AE7 F0 03 4C 6A 6B		jne l_4534
 18109
 18110 				; optimize FAIL ('SHOWLOCATIONHEADER', police.pas), line = 19
 18111
 18112 6AEC 20 18 28			jsr SHOWLOCATIONHEADER
 18113
 18114 				; optimize OK (police.pas), line = 20
 18115
 18116 6AEF A9 01			lda #$01
 18117 6AF1 20 49 1C			jsr CRT_WRITELN_LOCSTR
 18118
 18119 				; optimize OK (police.pas), line = 21
 18120
 18121 6AF4 A9 02			lda #$02
 18122 6AF6 20 04 1C			jsr CRT_WRITE_LOCSTR
 18123
 18124 				; optimize OK (police.pas), line = 22
 18125
 18126 6AF9 A9 00			lda #$00
 18127 6AFB 8D E9 A6			sta READVALUE.MINVALUE
 18128 6AFE 8D EA A6			sta READVALUE.MINVALUE+1
 18129 6B01 A9 0C			lda #$0C
 18130 6B03 8D EB A6			sta READVALUE.MAXVALUE
 18131 6B06 A9 00			lda #$00
 18132 6B08 8D EC A6			sta READVALUE.MAXVALUE+1
 18133 6B0B 20 64 1F			jsr READVALUE
 18134 6B0E AD ED A6			lda READVALUE.RESULT
 18135 6B11 8D 90 A8			sta M
 18136
 18137 				; optimize OK (police.pas), line = 23
 18138
 18139 6B14 D0 03 4C AD 6C		jeq @exit
 18140 6B19			l_4552
 18141
 18142 				; optimize OK (police.pas), line = 24
 18143
 18144 6B19 A9 E8			lda #$E8
 18145 6B1B 85 8C			sta :ecx
 18146 6B1D A9 03			lda #$03
 18147 6B1F 85 8D			sta :ecx+1
 18148 6B21 AD 90 A8			lda M
 18149 6B24 85 84			sta :eax
 18150 6B26 A9 00			lda #$00
 18151 6B28 85 85			sta :eax+1
 18152 					.ifdef fmulinit
 18153 					fmulu_16
 18154 					els
 18155 6B2A 20 D3 10			imulCX_AL
 18156 					eif
 18157 6B2D A5 84			lda :eax
 18158 6B2F 8D A6 A7			sta PAYMONEY.PRICE
 18159 6B32 A5 85			lda :eax+1
 18160 6B34 8D A7 A7			sta PAYMONEY.PRICE+1
 18161 6B37 20 02 32			jsr PAYMONEY
 18162 6B3A AD A8 A7			lda PAYMONEY.RESULT
 18163 6B3D D0 03 4C AD 6C		jeq @exit
 18164 6B42			l_456C
 18165
 18166 				; optimize OK (police.pas), line = 27
 18167
 18168 6B42 AC 8A CD			ldy CURRENTPLAYER
 18169 6B45 B9 7C C9			lda adr.PLBRIBE,y
 18170 6B48 18 6D 90 A8			add M
 18171 6B4C 99 7C C9			sta adr.PLBRIBE,y
 18172
 18173 				; optimize OK (police.pas), line = 28
 18174
 18175 6B4F A9 02			lda #$02
 18176 6B51 20 B3 2F			jsr ADDPOINTS
 18177
 18178 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', police.pas), line = 30
 18179
 18180 6B54 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 18181
 18182 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', police.pas), line = 31
 18183
 18184 6B57 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 18185
 18186 				; optimize OK (police.pas), line = 32
 18187
 18188 6B5A A9 03			lda #$03
 18189 6B5C 20 49 1C			jsr CRT_WRITELN_LOCSTR
 18190
 18191 				; optimize OK (police.pas), line = 33
 18192
 18193 6B5F A9 04			lda #$04
 18194 6B61 20 49 1C			jsr CRT_WRITELN_LOCSTR
 18195
 18196 				; optimize FAIL ('WAITFORKEY', police.pas), line = 34
 18197
 18198 6B64 20 88 1D			jsr WAITFORKEY
 18199 6B67 4C AD 6C			jmp @exit
 18200 6B6A			l_4534
 18201
 18202 				; optimize OK (police.pas), line = 38
 18203
 18204 6B6A AD 22 C9			lda CURRENTCHOICE
 18205 6B6D C9 03			cmp #$03
 18206 6B6F F0 03 4C AD 6C		jne l_459E
 18207
 18208 				; optimize FAIL ('SHOWLOCATIONHEADER', police.pas), line = 40
 18209
 18210 6B74 20 18 28			jsr SHOWLOCATIONHEADER
 18211
 18212 				; optimize OK (police.pas), line = 42
 18213
 18214 6B77 A9 05			lda #$05
 18215 6B79 20 53 1C			jsr CRT_WRITELN2_LOCSTR
 18216
 18217 				; optimize OK (police.pas), line = 43
 18218
 18219 6B7C A9 00			lda #$00
 18220 6B7E 8D 8F A8			sta R
 18221
 18222 				; optimize OK (police.pas), line = 44
 18223
 18224 6B81 8D 90 A8			sta M
 18225 6B84 AC 20 C9			ldy NPLAYERS
 18226 6B87 88				dey
 18227 6B88 8C 8C 6B			sty @FORTMP_45B2_0
 18228
 18229 6B8B			l_45B5
 18230 				; --- ForToDoCondition
 18231 6B8B A9 00			lda @FORTMP_45B2_0::#$00
 18232 6B8D CD 90 A8			cmp M
 18233 6B90 90 50			jcc l_45C3
 18234
 18235 				; optimize OK (police.pas), line = 46
 18236
 18237 6B92 AC 90 A8			ldy M
 18238 6B95 B9 94 C9			lda adr.PLPRISON,y
 18239 6B98 F0 43			jeq l_45D8
 18240
 18241 				; optimize OK (police.pas), line = 47
 18242
 18243 6B9A A9 00			lda #$00
 18244 6B9C 20 B2 18			jsr B_CRT.CRT_WRITE.@010186000
 18245
 18246 				; optimize OK (police.pas), line = 48
 18247
 18248 6B9F AD 90 A8			lda M
 18249 6BA2 18 69 01			add #$01
 18250 6BA5 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 18251 6BA8 A9 00			lda #$00
 18252 6BAA 69 00			adc #$00
 18253 6BAC 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 18254 6BAF 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 18255
 18256 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', police.pas), line = 49
 18257
 18258 6BB2 E8				inx
 18259 6BB3 A9 76 95 94			mva #$76 :STACKORIGIN,x
 18260 6BB7 A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 18261 6BBB 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 18262
 18263 				; optimize OK (police.pas), line = 50
 18264
 18265 6BBE AD 90 A8			lda M
 18266 6BC1 0A				asl @
 18267 6BC2 0A				asl @
 18268 6BC3 0A				asl @
 18269 6BC4 8D 93 A8			sta TMP
 18270
 18271 				; optimize FAIL ('CRT_WRITELN', police.pas), line = 51
 18272
 18273 6BC7 E8				inx
 18274 6BC8 AD 93 A8			lda TMP
 18275 6BCB 0A				asl @
 18276 6BCC A8				tay
 18277 6BCD B9 E2 A3			lda adr.GANGSTERNAMES,y
 18278 6BD0 95 94			sta :STACKORIGIN,x
 18279 6BD2 B9 E3 A3			lda adr.GANGSTERNAMES+1,y
 18280 6BD5 95 A4			sta :STACKORIGIN+STACKWIDTH,x
 18281 6BD7 20 E7 1D			jsr CRT_WRITELN
 18282
 18283 				; optimize OK (police.pas), line = 52
 18284
 18285 6BDA EE 8F A8			inc R
 18286 6BDD			l_45D8
 18287
 18288 				; --- ForToDoEpilog
 18289 6BDD EE 90 A8			inc M
 18290 6BE0 D0 A9			jne l_45B5
 18291 6BE2			l_45C3
 18292
 18293 				; optimize OK (police.pas), line = 55
 18294
 18295 6BE2 AD 8F A8			lda R
 18296 6BE5 D0 0B			jne l_4618
 18297
 18298 				; optimize OK (police.pas), line = 56
 18299
 18300 6BE7 A9 06			lda #$06
 18301 6BE9 20 49 1C			jsr CRT_WRITELN_LOCSTR
 18302
 18303 				; optimize FAIL ('WAITFORKEY', police.pas), line = 57
 18304
 18305 6BEC 20 88 1D			jsr WAITFORKEY
 18306 6BEF 4C AD 6C			jmp @exit
 18307 6BF2			l_4618
 18308
 18309 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', police.pas), line = 61
 18310
 18311 6BF2 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 18312
 18313 				; optimize OK (police.pas), line = 62
 18314
 18315 6BF5 A9 07			lda #$07
 18316 6BF7 20 49 1C			jsr CRT_WRITELN_LOCSTR
 18317
 18318 				; --- RepeatUntilProlog
 18319 6BFA			l_4622
 18320
 18321 				; optimize OK (police.pas), line = 64
 18322
 18323 6BFA A9 01			lda #$01
 18324 6BFC 8D E9 A6			sta READVALUE.MINVALUE
 18325 6BFF A9 00			lda #$00
 18326 6C01 8D EA A6			sta READVALUE.MINVALUE+1
 18327 6C04 AD 20 C9			lda NPLAYERS
 18328 6C07 8D EB A6			sta READVALUE.MAXVALUE
 18329 6C0A A9 00			lda #$00
 18330 6C0C 8D EC A6			sta READVALUE.MAXVALUE+1
 18331 6C0F 20 64 1F			jsr READVALUE
 18332 6C12 AD ED A6			lda READVALUE.RESULT
 18333 6C15 8D 8F A8			sta R
 18334
 18335 				; optimize OK (police.pas), line = 66
 18336
 18337 6C18 A8				tay
 18338 6C19 B9 93 C9			lda adr.PLPRISON-$01,y
 18339 6C1C F0 DC			jeq l_4622
 18340
 18341 				; optimize OK (police.pas), line = 67
 18342
 18343 6C1E CE 8F A8			dec R
 18344
 18345 				; optimize OK (police.pas), line = 68
 18346
 18347 6C21 A9 05			lda #$05
 18348 6C23 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 18349 6C26 E8				inx
 18350 6C27 AD 27 9C 95 94		mva SYSTEM.RANDOM.@010180000.RESULT :STACKORIGIN,x
 18351 6C2C E8				inx
 18352 6C2D A9 09 95 94			mva #$09 :STACKORIGIN,x
 18353 6C31 20 10 0E			jsr @shlEAX_CL.BYTE
 18354 6C34 A9 B8 95 94			mva #$B8 :STACKORIGIN,x
 18355 6C38 A9 0B 95 A4			mva #$0B :STACKORIGIN+STACKWIDTH,x
 18356 6C3C A9 00 95 B4			mva #$00 :STACKORIGIN+STACKWIDTH*2,x
 18357 6C40 95 C4			sta :STACKORIGIN+STACKWIDTH*3,x
 18358 6C42 20 F9 0D			jsr addAX_CX
 18359 6C45 CA				dex
 18360 6C46 B5 94			lda :STACKORIGIN,x
 18361 6C48 8D 91 A8			sta P
 18362 6C4B B5 A4			lda :STACKORIGIN+STACKWIDTH,x
 18363 6C4D 8D 92 A8			sta P+1
 18364 6C50 CA				dex
 18365
 18366 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', police.pas), line = 69
 18367
 18368 6C51 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 18369
 18370 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', police.pas), line = 70
 18371
 18372 6C54 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 18373
 18374 				; optimize OK (police.pas), line = 71
 18375
 18376 6C57 A9 08			lda #$08
 18377 6C59 20 04 1C			jsr CRT_WRITE_LOCSTR
 18378
 18379 				; optimize OK (police.pas), line = 72
 18380
 18381 6C5C AD 91 A8			lda P
 18382 6C5F 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 18383 6C62 AD 92 A8			lda P+1
 18384 6C65 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 18385 6C68 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 18386
 18387 				; optimize OK (police.pas), line = 73
 18388
 18389 6C6B A9 09			lda #$09
 18390 6C6D 20 49 1C			jsr CRT_WRITELN_LOCSTR
 18391
 18392 				; optimize OK (police.pas), line = 74
 18393
 18394 6C70 A9 0A			lda #$0A
 18395 6C72 20 49 1C			jsr CRT_WRITELN_LOCSTR
 18396
 18397 				; optimize FAIL ('WAITFORKEY', police.pas), line = 75
 18398
 18399 6C75 20 88 1D			jsr WAITFORKEY
 18400
 18401 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', police.pas), line = 76
 18402
 18403 6C78 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 18404
 18405 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', police.pas), line = 77
 18406
 18407 6C7B 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 18408
 18409 				; optimize OK (police.pas), line = 78
 18410
 18411 6C7E AD 91 A8			lda P
 18412 6C81 8D A6 A7			sta PAYMONEY.PRICE
 18413 6C84 AD 92 A8			lda P+1
 18414 6C87 8D A7 A7			sta PAYMONEY.PRICE+1
 18415 6C8A 20 02 32			jsr PAYMONEY
 18416 6C8D AD A8 A7			lda PAYMONEY.RESULT
 18417 6C90 F0 1B			jeq @exit
 18418 6C92			l_4675
 18419
 18420 				; optimize OK (police.pas), line = 79
 18421
 18422 6C92 A9 0B			lda #$0B
 18423 6C94 20 49 1C			jsr CRT_WRITELN_LOCSTR
 18424
 18425 				; optimize OK (police.pas), line = 80
 18426
 18427 6C97 A9 0C			lda #$0C
 18428 6C99 20 49 1C			jsr CRT_WRITELN_LOCSTR
 18429
 18430 				; optimize FAIL ('WAITFORKEY', police.pas), line = 81
 18431
 18432 6C9C 20 88 1D			jsr WAITFORKEY
 18433
 18434 				; optimize OK (police.pas), line = 82
 18435
 18436 6C9F AC 8F A8			ldy R
 18437 6CA2 AD 8A CD			lda CURRENTPLAYER
 18438 6CA5 99 AC C9			sta adr.PLFREED,y
 18439
 18440 				; optimize OK (police.pas), line = 83
 18441
 18442 6CA8 A9 00			lda #$00
 18443 6CAA 99 94 C9			sta adr.PLPRISON,y
 18444 6CAD			l_459E
 18445 6CAD			@exit
 18446
 18447 				; ------------------------------------------------------------
 18448
 18449 = A88E			RESULT	= DATAORIGIN+$0C73
 18450 = A88F			R	= DATAORIGIN+$0C74
 18451 = A890			M	= DATAORIGIN+$0C75
 18452 = A891			P	= DATAORIGIN+$0C76
 18453 = A893			TMP	= DATAORIGIN+$0C78
 18454
 18455 = A88F			@VarData	= R
 18456 = 0005			@VarDataSize	= 5
 18457
 18458 6CAD 60				rts						; ret
 18459 				.endl
 18460
 18461 6CAE			.local	PUBCHOICES					; FUNCTION
 18462
 18463 				; optimize OK (pub.pas), line = 13
 18464
 18465 6CAE A9 07			lda #$07
 18466 6CB0 8D 95 A8			sta RESULT
 18467
 18468 				; optimize FAIL ('SHOWLOCATIONHEADER', pub.pas), line = 14
 18469
 18470 6CB3 20 18 28			jsr SHOWLOCATIONHEADER
 18471
 18472 				; optimize OK (pub.pas), line = 17
 18473
 18474 6CB6 AD 22 C9			lda CURRENTCHOICE
 18475 6CB9 C9 01			cmp #$01
 18476 6CBB F0 03 4C F7 6E		jne l_46AA
 18477
 18478 				; optimize OK (pub.pas), line = 19
 18479
 18480 6CC0 AD 0E A7			lda CURRENTSUBLOCATION
 18481 6CC3 C9 02			cmp #$02
 18482 6CC5 B0 03 4C B8 6D		jcc l_46BD
 18483
 18484 				; optimize OK (pub.pas), line = 21
 18485
 18486 6CCA A9 02			lda #$02
 18487 6CCC 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 18488 6CCF E8				inx
 18489 6CD0 E8				inx
 18490 6CD1 A0 01			ldy #1
 18491 6CD3 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 18492 6CD6 F0 01			beq @+
 18493 6CD8 88				dey
 18494 				@
 18495 6CD9 94 93			sty :STACKORIGIN-1,x
 18496 6CDB AC 8A CD			ldy CURRENTPLAYER
 18497 6CDE B9 44 C9			lda adr.PLALCOHOL,y
 18498 6CE1 95 94			sta :STACKORIGIN,x
 18499 6CE3 E8				inx
 18500 6CE4 A0 01			ldy #1
 18501 6CE6 B5 93			lda :STACKORIGIN-1,x
 18502 6CE8 D0 01			bne @+
 18503 6CEA 88				dey
 18504 				@
 18505 6CEB CA				dex
 18506 6CEC 94 94			sty :STACKORIGIN,x
 18507 6CEE CA				dex
 18508 6CEF CA				dex
 18509 6CF0 B5 95			lda :STACKORIGIN+1,x
 18510 6CF2 35 96			and :STACKORIGIN+2,x
 18511 6CF4 D0 03 4C AD 6D		jeq l_46DE
 18512
 18513 				; optimize OK (pub.pas), line = 23
 18514
 18515 6CF9 A9 14			lda #$14
 18516 6CFB 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 18517 6CFE AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 18518 6D01 18 69 0A			add #$0A
 18519 6D04 8D A0 A8			sta P
 18520 6D07 A9 00			lda #$00
 18521 6D09 69 00			adc #$00
 18522 6D0B 8D A1 A8			sta P+1
 18523
 18524 				; optimize OK (pub.pas), line = 24
 18525
 18526 6D0E A9 01			lda #$01
 18527 6D10 20 49 1C			jsr CRT_WRITELN_LOCSTR
 18528
 18529 				; optimize OK (pub.pas), line = 25
 18530
 18531 6D13 A9 02			lda #$02
 18532 6D15 20 04 1C			jsr CRT_WRITE_LOCSTR
 18533
 18534 				; optimize OK (pub.pas), line = 26
 18535
 18536 6D18 AD A0 A8			lda P
 18537 6D1B 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 18538 6D1E AD A1 A8			lda P+1
 18539 6D21 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 18540 6D24 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 18541
 18542 				; optimize OK (pub.pas), line = 27
 18543
 18544 6D27 A9 03			lda #$03
 18545 6D29 20 49 1C			jsr CRT_WRITELN_LOCSTR
 18546
 18547 				; optimize OK (pub.pas), line = 29
 18548
 18549 6D2C A9 04			lda #$04
 18550 6D2E 20 04 1C			jsr CRT_WRITE_LOCSTR
 18551
 18552 				; optimize OK (pub.pas), line = 30
 18553
 18554 6D31 AC 8A CD			ldy CURRENTPLAYER
 18555 6D34 B9 44 C9			lda adr.PLALCOHOL,y
 18556 6D37 20 CB 18			jsr B_CRT.CRT_WRITE.@010180000
 18557
 18558 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', pub.pas), line = 31
 18559
 18560 6D3A E8				inx
 18561 6D3B A9 A3 95 94			mva #$A3 :STACKORIGIN,x
 18562 6D3F A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 18563 6D43 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 18564
 18565 				; optimize OK (pub.pas), line = 32
 18566
 18567 6D46 AC 8A CD			ldy CURRENTPLAYER
 18568 6D49 B9 44 C9			lda adr.PLALCOHOL,y
 18569 6D4C 8D EB A6			sta READVALUE.MAXVALUE
 18570 6D4F A9 00			lda #$00
 18571 6D51 8D E9 A6			sta READVALUE.MINVALUE
 18572 6D54 8D EA A6			sta READVALUE.MINVALUE+1
 18573 6D57 8D EC A6			sta READVALUE.MAXVALUE+1
 18574 6D5A 20 64 1F			jsr READVALUE
 18575 6D5D AD ED A6			lda READVALUE.RESULT
 18576 6D60 8D A2 A8			sta AL
 18577 6D63 AD EE A6			lda READVALUE.RESULT+1
 18578 6D66 8D A3 A8			sta AL+1
 18579
 18580 				; optimize OK (pub.pas), line = 33
 18581
 18582 6D69 0D A2 A8			ora AL
 18583 6D6C D0 03 4C F4 73		jeq @exit
 18584 6D71			l_4718
 18585
 18586 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', pub.pas), line = 35
 18587
 18588 6D71 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 18589
 18590 				; optimize OK (pub.pas), line = 36
 18591
 18592 6D74 A9 05			lda #$05
 18593 6D76 20 49 1C			jsr CRT_WRITELN_LOCSTR
 18594
 18595 				; optimize OK (pub.pas), line = 37
 18596
 18597 6D79 AD A0 A8			lda P
 18598 6D7C 85 8C			sta :ecx
 18599 6D7E AD A1 A8			lda P+1
 18600 6D81 85 8D			sta :ecx+1
 18601 6D83 AD A2 A8			lda AL
 18602 6D86 85 84			sta :eax
 18603 6D88 AD A3 A8			lda AL+1
 18604 6D8B 85 85			sta :eax+1
 18605 					.ifdef fmulinit
 18606 					fmulu_16
 18607 					els
 18608 6D8D 20 8F 10			imulCX
 18609 					eif
 18610 6D90 A5 84			lda :eax
 18611 6D92 8D 99 A7			sta ADDMONEY.AMOUNT
 18612 6D95 A5 85			lda :eax+1
 18613 6D97 8D 9A A7			sta ADDMONEY.AMOUNT+1
 18614 6D9A 20 5F 2F			jsr ADDMONEY
 18615
 18616 				; optimize OK (pub.pas), line = 38
 18617
 18618 6D9D AC 8A CD			ldy CURRENTPLAYER
 18619 6DA0 B9 44 C9			lda adr.PLALCOHOL,y
 18620 6DA3 38 ED A2 A8			sub AL
 18621 6DA7 99 44 C9			sta adr.PLALCOHOL,y
 18622 6DAA 4C B2 6D			jmp l_4740
 18623 6DAD			l_46DE
 18624
 18625 				; optimize OK (pub.pas), line = 42
 18626
 18627 6DAD A9 06			lda #$06
 18628 6DAF 20 49 1C			jsr CRT_WRITELN_LOCSTR
 18629 6DB2			l_4740
 18630
 18631 				; optimize FAIL ('WAITFORKEY', pub.pas), line = 44
 18632
 18633 6DB2 20 88 1D			jsr WAITFORKEY
 18634 6DB5 4C F4 73			jmp @exit
 18635 6DB8			l_46BD
 18636
 18637 				; optimize OK (pub.pas), line = 47
 18638
 18639 6DB8 A9 C8			lda #$C8
 18640 6DBA 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 18641 6DBD AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 18642 6DC0 18 69 64			add #$64
 18643 6DC3 8D A2 A8			sta AL
 18644 6DC6 A9 00			lda #$00
 18645 6DC8 69 00			adc #$00
 18646 6DCA 8D A3 A8			sta AL+1
 18647
 18648 				; optimize OK (pub.pas), line = 48
 18649
 18650 6DCD A9 0A			lda #$0A
 18651 6DCF 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 18652 6DD2 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 18653 6DD5 18 69 05			add #$05
 18654 6DD8 8D A0 A8			sta P
 18655 6DDB A9 00			lda #$00
 18656 6DDD 69 00			adc #$00
 18657 6DDF 8D A1 A8			sta P+1
 18658
 18659 				; optimize OK (pub.pas), line = 49
 18660
 18661 6DE2 A9 07			lda #$07
 18662 6DE4 20 04 1C			jsr CRT_WRITE_LOCSTR
 18663
 18664 				; optimize OK (pub.pas), line = 50
 18665
 18666 6DE7 AD A0 A8			lda P
 18667 6DEA 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 18668 6DED AD A1 A8			lda P+1
 18669 6DF0 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 18670 6DF3 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 18671
 18672 				; optimize FAIL ('CRT_WRITELN', pub.pas), line = 51
 18673
 18674 6DF6 E8				inx
 18675 6DF7 A9 A0 95 94			mva #$A0 :STACKORIGIN,x
 18676 6DFB A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 18677 6DFF 20 E7 1D			jsr CRT_WRITELN
 18678
 18679 				; optimize OK (pub.pas), line = 54
 18680
 18681 6E02 AC 8A CD			ldy CURRENTPLAYER
 18682 6E05 B9 4C C9			lda adr.PLCAR,y
 18683 6E08 A8				tay
 18684 6E09 B9 0C E7			lda adr.CARCARGO,y
 18685 6E0C AC 8A CD			ldy CURRENTPLAYER
 18686 6E0F 38 F9 44 C9			sub adr.PLALCOHOL,y
 18687 6E13 8D A4 A8			sta W
 18688 6E16 A9 00			lda #$00
 18689 6E18 E9 00			sbc #$00
 18690 6E1A 8D A5 A8			sta W+1
 18691
 18692 				; optimize OK (pub.pas), line = 55
 18693
 18694 6E1D 30 05			bmi @+
 18695 6E1F 0D A4 A8			ora W
 18696 6E22 D0 13			jne l_4784
 18697 				@
 18698
 18699 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', pub.pas), line = 56
 18700
 18701 6E24 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 18702
 18703 				; optimize OK (pub.pas), line = 57
 18704
 18705 6E27 A9 08			lda #$08
 18706 6E29 20 49 1C			jsr CRT_WRITELN_LOCSTR
 18707
 18708 				; optimize OK (pub.pas), line = 58
 18709
 18710 6E2C A9 09			lda #$09
 18711 6E2E 20 49 1C			jsr CRT_WRITELN_LOCSTR
 18712
 18713 				; optimize FAIL ('WAITFORKEY', pub.pas), line = 59
 18714
 18715 6E31 20 88 1D			jsr WAITFORKEY
 18716 6E34 4C F4 73			jmp @exit
 18717 6E37			l_4784
 18718
 18719 				; optimize OK (pub.pas), line = 62
 18720
 18721 6E37 AD A4 A8			lda W
 18722 6E3A CD A2 A8			cmp AL
 18723 6E3D AD A5 A8			lda W+1
 18724 6E40 ED A3 A8			sbc AL+1
 18725 6E43 50 02			svc
 18726 6E45 49 80			eor #$80
 18727 6E47 10 0C			jpl l_479F
 18728 6E49 AD A4 A8			lda W
 18729 6E4C 8D A2 A8			sta AL
 18730 6E4F AD A5 A8			lda W+1
 18731 6E52 8D A3 A8			sta AL+1
 18732 6E55			l_479F
 18733
 18734 				; optimize OK (pub.pas), line = 63
 18735
 18736 6E55 A9 0A			lda #$0A
 18737 6E57 20 04 1C			jsr CRT_WRITE_LOCSTR
 18738
 18739 				; optimize OK (pub.pas), line = 64
 18740
 18741 6E5A AD A2 A8			lda AL
 18742 6E5D 8D 5F A1			sta B_CRT.CRT_WRITE.@010185000.NUM
 18743 6E60 A0 00			ldy #$00
 18744 6E62 AD A3 A8			lda AL+1
 18745 6E65 10 01			spl
 18746 6E67 88				dey
 18747 6E68 8D 60 A1			sta B_CRT.CRT_WRITE.@010185000.NUM+1
 18748 6E6B 8C 61 A1			sty B_CRT.CRT_WRITE.@010185000.NUM+2
 18749 6E6E 8C 62 A1			sty B_CRT.CRT_WRITE.@010185000.NUM+3
 18750 6E71 20 17 19			jsr B_CRT.CRT_WRITE.@010185000
 18751
 18752 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', pub.pas), line = 65
 18753
 18754 6E74 E8				inx
 18755 6E75 A9 A3 95 94			mva #$A3 :STACKORIGIN,x
 18756 6E79 A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 18757 6E7D 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 18758
 18759 				; optimize OK (pub.pas), line = 66
 18760
 18761 6E80 A9 00			lda #$00
 18762 6E82 8D E9 A6			sta READVALUE.MINVALUE
 18763 6E85 8D EA A6			sta READVALUE.MINVALUE+1
 18764 6E88 AD A2 A8			lda AL
 18765 6E8B 8D EB A6			sta READVALUE.MAXVALUE
 18766 6E8E AD A3 A8			lda AL+1
 18767 6E91 8D EC A6			sta READVALUE.MAXVALUE+1
 18768 6E94 20 64 1F			jsr READVALUE
 18769 6E97 AD ED A6			lda READVALUE.RESULT
 18770 6E9A 8D A4 A8			sta W
 18771 6E9D AD EE A6			lda READVALUE.RESULT+1
 18772 6EA0 8D A5 A8			sta W+1
 18773
 18774 				; optimize OK (pub.pas), line = 67
 18775
 18776 6EA3 30 05			bmi @+
 18777 6EA5 0D A4 A8			ora W
 18778 6EA8 D0 03			jne l_47C6
 18779 				@
 18780 6EAA 4C F4 73			jmp @exit
 18781 6EAD			l_47C6
 18782
 18783 				; optimize OK (pub.pas), line = 68
 18784
 18785 6EAD AD A0 A8			lda P
 18786 6EB0 85 8C			sta :ecx
 18787 6EB2 AD A1 A8			lda P+1
 18788 6EB5 85 8D			sta :ecx+1
 18789 6EB7 AD A4 A8			lda W
 18790 6EBA 85 84			sta :eax
 18791 6EBC AD A5 A8			lda W+1
 18792 6EBF 85 85			sta :eax+1
 18793 					.ifdef fmulinit
 18794 					fmulu_16
 18795 					els
 18796 6EC1 20 8F 10			imulCX
 18797 					eif
 18798 6EC4 A5 84			lda :eax
 18799 6EC6 8D A0 A8			sta P
 18800 6EC9 A5 85			lda :eax+1
 18801 6ECB 8D A1 A8			sta P+1
 18802
 18803 				; optimize OK (pub.pas), line = 69
 18804
 18805 6ECE AD A0 A8			lda P
 18806 6ED1 8D A6 A7			sta PAYMONEY.PRICE
 18807 6ED4 AD A1 A8			lda P+1
 18808 6ED7 8D A7 A7			sta PAYMONEY.PRICE+1
 18809 6EDA 20 02 32			jsr PAYMONEY
 18810 6EDD AD A8 A7			lda PAYMONEY.RESULT
 18811 6EE0 D0 03 4C F4 73		jeq @exit
 18812 6EE5			l_47E5
 18813
 18814 				; optimize OK (pub.pas), line = 70
 18815
 18816 6EE5 AC 8A CD			ldy CURRENTPLAYER
 18817 6EE8 B9 44 C9			lda adr.PLALCOHOL,y
 18818 6EEB 18 6D A4 A8			add W
 18819 6EEF 99 44 C9			sta adr.PLALCOHOL,y
 18820
 18821 				; optimize OK (pub.pas), line = 71
 18822
 18823 6EF2 A9 02			lda #$02
 18824 6EF4 20 B3 2F			jsr ADDPOINTS
 18825 6EF7			l_46AA
 18826
 18827 				; optimize OK (pub.pas), line = 75
 18828
 18829 6EF7 AD 22 C9			lda CURRENTCHOICE
 18830 6EFA C9 02			cmp #$02
 18831 6EFC F0 03 4C B0 70		jne l_480F
 18832
 18833 				; optimize FAIL ('SHOWLOCATIONHEADER', pub.pas), line = 77
 18834
 18835 6F01 20 18 28			jsr SHOWLOCATIONHEADER
 18836
 18837 				; optimize OK (pub.pas), line = 79
 18838
 18839 6F04 AC 8A CD			ldy CURRENTPLAYER
 18840 6F07 B9 98 C9			lda adr.PLRANK,y
 18841 6F0A C9 05			cmp #$05
 18842 6F0C B0 2B			jcs l_4826
 18843
 18844 				; optimize OK (pub.pas), line = 81
 18845
 18846 6F0E A9 0B			lda #$0B
 18847 6F10 20 04 1C			jsr CRT_WRITE_LOCSTR
 18848
 18849 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', pub.pas), line = 82
 18850
 18851 6F13 E8				inx
 18852 6F14 AC 8A CD			ldy CURRENTPLAYER
 18853 6F17 B9 98 C9			lda adr.PLRANK,y
 18854 6F1A 0A				asl @
 18855 6F1B A8				tay
 18856 6F1C B9 22 A4			lda adr.RANKNAMES,y
 18857 6F1F 95 94			sta :STACKORIGIN,x
 18858 6F21 B9 23 A4			lda adr.RANKNAMES+1,y
 18859 6F24 95 A4			sta :STACKORIGIN+STACKWIDTH,x
 18860 6F26 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 18861
 18862 				; optimize OK (pub.pas), line = 83
 18863
 18864 6F29 A9 0C			lda #$0C
 18865 6F2B 20 49 1C			jsr CRT_WRITELN_LOCSTR
 18866
 18867 				; optimize OK (pub.pas), line = 84
 18868
 18869 6F2E A9 0D			lda #$0D
 18870 6F30 20 49 1C			jsr CRT_WRITELN_LOCSTR
 18871
 18872 				; optimize FAIL ('WAITFORKEY', pub.pas), line = 85
 18873
 18874 6F33 20 88 1D			jsr WAITFORKEY
 18875 6F36 4C F4 73			jmp @exit
 18876 6F39			l_4826
 18877
 18878 				; optimize OK (pub.pas), line = 91
 18879
 18880 6F39 A9 00			lda #$00
 18881 6F3B A8				tay
 18882
 18883 6F3C			l_4842
 18884 				; --- ForToDoCondition
 18885 6F3C C0 04			cpy #$04
 18886 6F3E B0 10			jcs l_4850
 18887
 18888 				; optimize OK (pub.pas), line = 92
 18889
 18890 6F40 B9 8C CD			lda adr.PLRENT,y
 18891 6F43 CD 8A CD			cmp CURRENTPLAYER
 18892 6F46 D0 05			jne l_4867
 18893 6F48 A9 01			lda #$01
 18894 6F4A 8D 9F A8			sta HASHIDEOUT
 18895 6F4D			l_4867
 18896
 18897 				; --- ForToDoEpilog
 18898 6F4D C8				iny
 18899 6F4E D0 EC			jne l_4842
 18900 6F50			l_4850
 18901 6F50 8C 96 A8			sty R
 18902
 18903 				; optimize OK (pub.pas), line = 94
 18904
 18905 6F53 AD 9F A8			lda HASHIDEOUT
 18906 6F56 D0 10			jne l_4885
 18907
 18908 				; optimize OK (pub.pas), line = 96
 18909
 18910 6F58 A9 0E			lda #$0E
 18911 6F5A 20 49 1C			jsr CRT_WRITELN_LOCSTR
 18912
 18913 				; optimize OK (pub.pas), line = 97
 18914
 18915 6F5D A9 0F			lda #$0F
 18916 6F5F 20 49 1C			jsr CRT_WRITELN_LOCSTR
 18917
 18918 				; optimize FAIL ('WAITFORKEY', pub.pas), line = 98
 18919
 18920 6F62 20 88 1D			jsr WAITFORKEY
 18921 6F65 4C F4 73			jmp @exit
 18922 6F68			l_4885
 18923
 18924 				; optimize OK (pub.pas), line = 102
 18925
 18926 6F68 AC 8A CD			ldy CURRENTPLAYER
 18927 6F6B B9 B1 CD			lda adr.PLNGANGSTERS,y
 18928 6F6E C9 08			cmp #$08
 18929 6F70 90 10			jcc l_48A2
 18930
 18931 				; optimize OK (pub.pas), line = 104
 18932
 18933 6F72 A9 10			lda #$10
 18934 6F74 20 49 1C			jsr CRT_WRITELN_LOCSTR
 18935
 18936 				; optimize OK (pub.pas), line = 105
 18937
 18938 6F77 A9 11			lda #$11
 18939 6F79 20 49 1C			jsr CRT_WRITELN_LOCSTR
 18940
 18941 				; optimize FAIL ('WAITFORKEY', pub.pas), line = 106
 18942
 18943 6F7C 20 88 1D			jsr WAITFORKEY
 18944 6F7F 4C F4 73			jmp @exit
 18945 6F82			l_48A2
 18946
 18947 				; optimize OK (pub.pas), line = 114
 18948
 18949 6F82 A9 63			lda #$63
 18950 6F84 8D 9B A8			sta G
 18951
 18952 				; optimize OK (pub.pas), line = 115
 18953
 18954 6F87 A9 00			lda #$00
 18955 6F89 8D 9C A8			sta K
 18956
 18957 6F8C			l_48B7
 18958 				; --- ForToDoCondition
 18959 6F8C AD 9C A8			lda K
 18960 6F8F C9 05			cmp #$05
 18961 6F91 B0 2A			jcs l_48C5
 18962
 18963 				; optimize OK (pub.pas), line = 117
 18964
 18965 6F93 A9 2A			lda #$2A
 18966 6F95 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 18967 6F98 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 18968 6F9B 8D 96 A8			sta R
 18969
 18970 				; optimize OK (pub.pas), line = 118
 18971
 18972 6F9E C9 20			cmp #$20
 18973 6FA0 90 03			jcc l_48DC
 18974 6FA2 4C BD 6F			jmp b_48B7
 18975 6FA5			l_48DC
 18976
 18977 				; optimize OK (pub.pas), line = 119
 18978
 18979 6FA5 AC 96 A8			ldy R
 18980 6FA8 B9 91 CD			lda adr.PLGANGSTERS,y
 18981 6FAB C9 63			cmp #$63
 18982 6FAD D0 09			jne l_48F4
 18983
 18984 				; optimize OK (pub.pas), line = 120
 18985
 18986 6FAF AD 96 A8			lda R
 18987 6FB2 8D 9B A8			sta G
 18988 6FB5 4C BD 6F			jmp b_48B7
 18989 6FB8			l_48F4
 18990
 18991 				; --- ForToDoEpilog
 18992 6FB8 EE 9C A8			inc K
 18993 6FBB D0 CF			jne l_48B7
 18994 6FBD			l_48C5
 18995 6FBD			b_48B7
 18996
 18997 				; optimize OK (pub.pas), line = 125
 18998
 18999 6FBD AD 9B A8			lda G
 19000 6FC0 C9 63			cmp #$63
 19001 6FC2 D0 0B			jne l_4914
 19002
 19003 				; optimize OK (pub.pas), line = 127
 19004
 19005 6FC4 A9 12			lda #$12
 19006 6FC6 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19007
 19008 				; optimize FAIL ('WAITFORKEY', pub.pas), line = 128
 19009
 19010 6FC9 20 88 1D			jsr WAITFORKEY
 19011 6FCC 4C F4 73			jmp @exit
 19012 6FCF			l_4914
 19013
 19014 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', pub.pas), line = 133
 19015
 19016 6FCF 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 19017
 19018 				; optimize OK (pub.pas), line = 134
 19019
 19020 6FD2 AD 9B A8			lda G
 19021 6FD5 20 F0 22			jsr LOADGANGSTER
 19022
 19023 				; optimize OK (pub.pas), line = 135
 19024
 19025 6FD8 A9 27			lda #$27
 19026 6FDA 20 04 1C			jsr CRT_WRITE_LOCSTR
 19027
 19028 				; optimize OK (pub.pas), line = 136
 19029
 19030 6FDD AD 5D CF			lda BUF_GANGSTERPRICE
 19031 6FE0 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 19032 6FE3 AD 5E CF			lda BUF_GANGSTERPRICE+1
 19033 6FE6 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 19034 6FE9 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 19035
 19036 				; optimize OK (pub.pas), line = 137
 19037
 19038 6FEC A9 28			lda #$28
 19039 6FEE 20 04 1C			jsr CRT_WRITE_LOCSTR
 19040
 19041 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', pub.pas), line = 138
 19042
 19043 6FF1 E8				inx
 19044 6FF2 AD 42 9B 95 94		mva BUF_GANGSTERANREDE :STACKORIGIN,x
 19045 6FF7 AD 43 9B 95 A4		mva BUF_GANGSTERANREDE+1 :STACKORIGIN+STACKWIDTH,x
 19046 6FFC 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 19047
 19048 				; optimize OK (pub.pas), line = 139
 19049
 19050 6FFF A9 29			lda #$29
 19051 7001 20 53 1C			jsr CRT_WRITELN2_LOCSTR
 19052
 19053 				; optimize FAIL ('GETYESNO', pub.pas), line = 140
 19054
 19055 7004 20 46 1F			jsr GETYESNO
 19056 7007 AD E8 A6			lda GETYESNO.RESULT
 19057 700A D0 03 4C F4 73		jeq @exit
 19058 700F			l_493B
 19059
 19060 				; optimize OK (pub.pas), line = 141
 19061
 19062 700F AD 5D CF			lda BUF_GANGSTERPRICE
 19063 7012 8D A6 A7			sta PAYMONEY.PRICE
 19064 7015 AD 5E CF			lda BUF_GANGSTERPRICE+1
 19065 7018 8D A7 A7			sta PAYMONEY.PRICE+1
 19066 701B 20 02 32			jsr PAYMONEY
 19067 701E AD A8 A7			lda PAYMONEY.RESULT
 19068 7021 D0 03 4C F4 73		jeq @exit
 19069 7026			l_4950
 19070
 19071 				; optimize OK (pub.pas), line = 142
 19072
 19073 7026 AC 9B A8			ldy G
 19074 7029 AD 8A CD			lda CURRENTPLAYER
 19075 702C 99 91 CD			sta adr.PLGANGSTERS,y
 19076
 19077 				; optimize OK (pub.pas), line = 143
 19078
 19079 702F AC 8A CD			ldy CURRENTPLAYER
 19080 7032 B9 B1 CD			lda adr.PLNGANGSTERS,y
 19081 7035 8D 9D A8			sta Z
 19082
 19083 				; optimize OK (pub.pas), line = 144
 19084
 19085 7038 18 69 01			add #$01
 19086 703B 99 B1 CD			sta adr.PLNGANGSTERS,y
 19087
 19088 				; optimize OK (pub.pas), line = 145
 19089
 19090 703E AC 9B A8			ldy G
 19091 7041 A9 0A			lda #$0A
 19092 7043 99 28 CD			sta adr.GANGSTERHEALTH,y
 19093
 19094 				; optimize OK (pub.pas), line = 146
 19095
 19096 7046 98				tya
 19097 7047 0A				asl @
 19098 7048 A8				tay
 19099 7049 B9 E2 A3			lda adr.GANGSTERNAMES,y
 19100 704C 85 8C			sta @move.dst
 19101 704E B9 E3 A3			lda adr.GANGSTERNAMES+1,y
 19102 7051 85 8D			sta @move.dst+1
 19103 7053 AD 44 9B			lda BUF_GANGSTERNAME
 19104 7056 85 88			sta @move.src
 19105 7058 AD 45 9B			lda BUF_GANGSTERNAME+1
 19106 705B 85 89			sta @move.src+1
 19107 705D A0 00			ldy #$00
 19108 705F B1 88			lda (@move.src),y
 19109 7061 18 69 01			add #1
 19110 7064 85 84			sta @move.cnt
 19111 7066 90 01			scc
 19112 7068 C8				iny
 19113 7069 84 85			sty @move.cnt+1
 19114 706B 20 D7 0E			jsr @move
 19115
 19116 				; optimize OK (pub.pas), line = 147
 19117
 19118 706E AC 9B A8			ldy G
 19119 7071 AD 49 CF			lda BUF_GANGSTERSTR
 19120 7074 99 C8 CC			sta adr.GANGSTERSTR,y
 19121
 19122 				; optimize OK (pub.pas), line = 148
 19123
 19124 7077 AD 4A CF			lda BUF_GANGSTERBRUT
 19125 707A 99 08 CD			sta adr.GANGSTERBRUT,y
 19126
 19127 				; optimize OK (pub.pas), line = 149
 19128
 19129 707D AD 4B CF			lda BUF_GANGSTERINT
 19130 7080 99 E8 CC			sta adr.GANGSTERINT,y
 19131
 19132 				; optimize OK (pub.pas), line = 150
 19133
 19134 7083 AD 4C CF			lda BUF_GANGSTERWEAPON
 19135 7086 99 48 CD			sta adr.GANGSTERWEAPON,y
 19136
 19137 				; optimize OK (pub.pas), line = 151
 19138
 19139 7089 AD 48 CF			lda BUF_GANGSTERSEX
 19140 708C 99 68 CD			sta adr.GANGSTERSEX,y
 19141
 19142 				; optimize OK (pub.pas), line = 153
 19143
 19144 708F A9 13			lda #$13
 19145 7091 20 04 1C			jsr CRT_WRITE_LOCSTR
 19146
 19147 				; optimize OK (pub.pas), line = 154
 19148
 19149 7094 A9 00			lda #$00
 19150 7096 20 B2 18			jsr B_CRT.CRT_WRITE.@010186000
 19151
 19152 				; optimize OK (pub.pas), line = 155
 19153
 19154 7099 AC 8A CD			ldy CURRENTPLAYER
 19155 709C B9 B1 CD			lda adr.PLNGANGSTERS,y
 19156 709F 38 E9 01			sub #$01
 19157 70A2 8D BD A3			sta TMP
 19158
 19159 				; optimize OK (pub.pas), line = 156
 19160
 19161 70A5 20 CB 18			jsr B_CRT.CRT_WRITE.@010180000
 19162
 19163 				; optimize OK (pub.pas), line = 157
 19164
 19165 70A8 A9 14			lda #$14
 19166 70AA 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19167
 19168 				; optimize FAIL ('WAITFORKEY', pub.pas), line = 158
 19169
 19170 70AD 20 88 1D			jsr WAITFORKEY
 19171 70B0			l_480F
 19172
 19173 				; optimize OK (pub.pas), line = 162
 19174
 19175 70B0 AD 22 C9			lda CURRENTCHOICE
 19176 70B3 C9 03			cmp #$03
 19177 70B5 F0 03 4C 39 72		jne l_49DA
 19178
 19179 				; optimize OK (pub.pas), line = 165
 19180
 19181 70BA AC 8A CD			ldy CURRENTPLAYER
 19182 70BD B9 98 C9			lda adr.PLRANK,y
 19183 70C0 C9 04			cmp #$04
 19184 70C2 B0 0B			jcs l_49F0
 19185
 19186 				; optimize OK (pub.pas), line = 167
 19187
 19188 70C4 A9 15			lda #$15
 19189 70C6 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19190
 19191 				; optimize FAIL ('WAITFORKEY', pub.pas), line = 168
 19192
 19193 70C9 20 88 1D			jsr WAITFORKEY
 19194 70CC 4C F4 73			jmp @exit
 19195 70CF			l_49F0
 19196
 19197 				; optimize OK (pub.pas), line = 173
 19198
 19199 70CF A9 03			lda #$03
 19200 70D1 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 19201 70D4 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 19202 70D7 D0 0B			jne l_4A07
 19203
 19204 				; optimize OK (pub.pas), line = 174
 19205
 19206 70D9 A9 16			lda #$16
 19207 70DB 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19208
 19209 				; optimize FAIL ('WAITFORKEY', pub.pas), line = 175
 19210
 19211 70DE 20 88 1D			jsr WAITFORKEY
 19212 70E1 4C F4 73			jmp @exit
 19213 70E4			l_4A07
 19214
 19215 				; optimize OK (pub.pas), line = 179
 19216
 19217 70E4 A9 04			lda #$04
 19218 70E6 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 19219 70E9 E8				inx
 19220 70EA AD 27 9C 95 94		mva SYSTEM.RANDOM.@010180000.RESULT :STACKORIGIN,x
 19221 70EF E8				inx
 19222 70F0 A9 F4 95 94			mva #$F4 :STACKORIGIN,x
 19223 70F4 A9 01 95 A4			mva #$01 :STACKORIGIN+STACKWIDTH,x
 19224 70F8 A9 00 95 A3			mva #$00 :STACKORIGIN-1+STACKWIDTH,x
 19225 70FC 20 7C 10			jsr imulWORD
 19226 70FF A5 84			lda :eax
 19227 7101 95 93			sta :STACKORIGIN-1,x
 19228 7103 A5 85			lda :eax+1
 19229 7105 95 A3			sta :STACKORIGIN-1+STACKWIDTH,x
 19230 7107 A5 86			lda :eax+2
 19231 7109 95 B3			sta :STACKORIGIN-1+STACKWIDTH*2,x
 19232 710B A5 87			lda :eax+3
 19233 710D 95 C3			sta :STACKORIGIN-1+STACKWIDTH*3,x
 19234 710F A9 E8 95 94			mva #$E8 :STACKORIGIN,x
 19235 7113 A9 03 95 A4			mva #$03 :STACKORIGIN+STACKWIDTH,x
 19236 7117 A9 00 95 B4			mva #$00 :STACKORIGIN+STACKWIDTH*2,x
 19237 711B 95 C4			sta :STACKORIGIN+STACKWIDTH*3,x
 19238 711D 20 F9 0D			jsr addAX_CX
 19239 7120 CA				dex
 19240 7121 B5 94			lda :STACKORIGIN,x
 19241 7123 8D A0 A8			sta P
 19242 7126 B5 A4			lda :STACKORIGIN+STACKWIDTH,x
 19243 7128 8D A1 A8			sta P+1
 19244 712B CA				dex
 19245
 19246 				; optimize OK (pub.pas), line = 180
 19247
 19248 712C A9 17			lda #$17
 19249 712E 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19250
 19251 				; optimize OK (pub.pas), line = 181
 19252
 19253 7131 A9 18			lda #$18
 19254 7133 20 04 1C			jsr CRT_WRITE_LOCSTR
 19255
 19256 				; optimize OK (pub.pas), line = 182
 19257
 19258 7136 AD A0 A8			lda P
 19259 7139 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 19260 713C AD A1 A8			lda P+1
 19261 713F 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 19262 7142 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 19263
 19264 				; optimize OK (pub.pas), line = 183
 19265
 19266 7145 A9 19			lda #$19
 19267 7147 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19268
 19269 				; optimize FAIL ('GETYESNO', pub.pas), line = 184
 19270
 19271 714A 20 46 1F			jsr GETYESNO
 19272 714D AD E8 A6			lda GETYESNO.RESULT
 19273 7150 D0 03 4C F4 73		jeq @exit
 19274 7155			l_4A33
 19275
 19276 				; optimize OK (pub.pas), line = 185
 19277
 19278 7155 AD A0 A8			lda P
 19279 7158 8D A6 A7			sta PAYMONEY.PRICE
 19280 715B AD A1 A8			lda P+1
 19281 715E 8D A7 A7			sta PAYMONEY.PRICE+1
 19282 7161 20 02 32			jsr PAYMONEY
 19283 7164 AD A8 A7			lda PAYMONEY.RESULT
 19284 7167 D0 03 4C F4 73		jeq @exit
 19285 716C			l_4A48
 19286
 19287 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', pub.pas), line = 187
 19288
 19289 716C 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 19290
 19291 				; optimize OK (pub.pas), line = 188
 19292
 19293 716F A9 05			lda #$05
 19294 7171 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 19295 7174 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 19296 7177 8D 9E A8			sta TIPP
 19297
 19298 				; optimize OK (pub.pas), line = 190
 19299
 19300 717A A9 01			lda #$01
 19301 717C AC 9E A8			ldy TIPP
 19302 717F F0 04			beq l_0001_e
 19303 7181			l_0001_b
 19304 7181 0A				asl @
 19305 7182 88				dey
 19306 7183 D0 FC			bne l_0001_b
 19307 7185			l_0001_e
 19308 7185 8D BD A3			sta TMP
 19309
 19310 				; optimize OK (pub.pas), line = 191
 19311
 19312 7188 AC 8A CD			ldy CURRENTPLAYER
 19313 718B B9 60 C9			lda adr.PLOPPORTUNITY,y
 19314 718E 2D BD A3			and TMP
 19315 7191 8D BD A3			sta TMP
 19316
 19317 				; optimize OK (pub.pas), line = 192
 19318
 19319 7194 F0 05			jeq l_4A7C
 19320 7196 A9 00			lda #$00
 19321 7198 8D 9E A8			sta TIPP
 19322 719B			l_4A7C
 19323
 19324 				; optimize OK (pub.pas), line = 193
 19325
 19326 719B AD 9E A8			lda TIPP
 19327 719E 8D A6 A8			sta @CASETMP_0012
 19328 71A1 D0 0A			jne l_4A8E
 19329 				@
 19330
 19331 				; optimize OK (pub.pas), line = 195
 19332
 19333 71A3 A9 1A			lda #$1A
 19334 71A5 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19335
 19336 				; optimize OK (pub.pas), line = 196
 19337
 19338 71A8 A9 1B			lda #$1B
 19339 71AA 4C B8 71			jmp s_4A9D
 19340 71AD			l_4A8E
 19341 71AD C9 01			cmp #$01
 19342 71AF D0 0A			jne l_4A99
 19343
 19344 				; optimize OK (pub.pas), line = 199
 19345
 19346 71B1 A9 1C			lda #$1C
 19347 71B3 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19348
 19349 				; optimize OK (pub.pas), line = 200
 19350
 19351 71B6 A9 1D			lda #$1D
 19352 71B8			s_4A9D
 19353 71B8 4C CB 71			jmp s_4AAA
 19354 71BB			l_4A99
 19355 71BB C9 02			cmp #$02
 19356 71BD D0 0F			jne l_4AA4
 19357
 19358 				; optimize OK (pub.pas), line = 203
 19359
 19360 71BF A9 1E			lda #$1E
 19361 71C1 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19362
 19363 				; optimize OK (pub.pas), line = 204
 19364
 19365 71C4 A9 1F			lda #$1F
 19366 71C6 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19367
 19368 				; optimize OK (pub.pas), line = 205
 19369
 19370 71C9 A9 20			lda #$20
 19371 71CB			s_4AAA
 19372 71CB 4C 00 72			jmp s_4ADF
 19373 71CE			l_4AA4
 19374 71CE C9 03			cmp #$03
 19375 71D0 D0 31			jne l_4AB1
 19376
 19377 				; optimize OK (pub.pas), line = 208
 19378
 19379 71D2 A9 21			lda #$21
 19380 71D4 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19381
 19382 				; optimize OK (pub.pas), line = 209
 19383
 19384 71D7 A9 22			lda #$22
 19385 71D9 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19386
 19387 				; optimize FAIL ('GETYESNO', pub.pas), line = 210
 19388
 19389 71DC 20 46 1F			jsr GETYESNO
 19390 71DF AD E8 A6			lda GETYESNO.RESULT
 19391 71E2 D0 03 4C F4 73		jeq @exit
 19392 71E7			l_4AC5
 19393
 19394 				; optimize OK (pub.pas), line = 211
 19395
 19396 71E7 AD A0 A8			lda P
 19397 71EA 8D A6 A7			sta PAYMONEY.PRICE
 19398 71ED AD A1 A8			lda P+1
 19399 71F0 8D A7 A7			sta PAYMONEY.PRICE+1
 19400 71F3 20 02 32			jsr PAYMONEY
 19401 71F6 AD A8 A7			lda PAYMONEY.RESULT
 19402 71F9 D0 03 4C F4 73		jeq @exit
 19403 71FE			l_4ADA
 19404
 19405 				; optimize OK (pub.pas), line = 212
 19406
 19407 71FE A9 23			lda #$23
 19408 7200			s_4ADF
 19409 7200 4C 13 72			jmp s_4AEC
 19410 7203			l_4AB1
 19411 7203 C9 04			cmp #$04
 19412 7205 D0 0F			jne l_4AE6
 19413
 19414 				; optimize OK (pub.pas), line = 215
 19415
 19416 7207 A9 24			lda #$24
 19417 7209 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19418
 19419 				; optimize OK (pub.pas), line = 216
 19420
 19421 720C A9 25			lda #$25
 19422 720E 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19423
 19424 				; optimize OK (pub.pas), line = 217
 19425
 19426 7211 A9 26			lda #$26
 19427 7213			s_4AEC
 19428 7213 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19429 7216			l_4AE6
 19430 7216			a_0012
 19431
 19432 				; optimize OK (pub.pas), line = 220
 19433
 19434 7216 A9 01			lda #$01
 19435 7218 AC 9E A8			ldy TIPP
 19436 721B F0 04			beq l_0002_e
 19437 721D			l_0002_b
 19438 721D 0A				asl @
 19439 721E 88				dey
 19440 721F D0 FC			bne l_0002_b
 19441 7221			l_0002_e
 19442 7221 8D BD A3			sta TMP
 19443
 19444 				; optimize OK (pub.pas), line = 221
 19445
 19446 7224 AC 8A CD			ldy CURRENTPLAYER
 19447 7227 B9 60 C9			lda adr.PLOPPORTUNITY,y
 19448 722A 0D BD A3			ora TMP
 19449 722D 8D BD A3			sta TMP
 19450
 19451 				; optimize OK (pub.pas), line = 222
 19452
 19453 7230 99 60 C9			sta adr.PLOPPORTUNITY,y
 19454
 19455 				; optimize FAIL ('WAITFORKEY', pub.pas), line = 223
 19456
 19457 7233 20 88 1D			jsr WAITFORKEY
 19458 7236 4C F4 73			jmp @exit
 19459 7239			l_49DA
 19460
 19461 				; optimize OK (pub.pas), line = 229
 19462
 19463 7239 AD 22 C9			lda CURRENTCHOICE
 19464 723C C9 04			cmp #$04
 19465 723E F0 03 4C F4 73		jne l_4B2A
 19466
 19467 				; optimize OK (pub.pas), line = 232
 19468
 19469 7243 A9 14			lda #$14
 19470 7245 20 BD 28			jsr LOADLOCATION
 19471
 19472 				; optimize OK (pub.pas), line = 234
 19473
 19474 7248 AC 8A CD			ldy CURRENTPLAYER
 19475 724B B9 98 C9			lda adr.PLRANK,y
 19476 724E 8D BD A3			sta TMP
 19477
 19478 				; optimize OK (pub.pas), line = 235
 19479
 19480 7251 C9 04			cmp #$04
 19481 7253 90 23			jcc l_4B48
 19482
 19483 				; optimize OK (pub.pas), line = 237
 19484
 19485 7255 A9 01			lda #$01
 19486 7257 20 04 1C			jsr CRT_WRITE_LOCSTR
 19487
 19488 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', pub.pas), line = 238
 19489
 19490 725A E8				inx
 19491 725B AD BD A3			lda TMP
 19492 725E 0A				asl @
 19493 725F A8				tay
 19494 7260 B9 22 A4			lda adr.RANKNAMES,y
 19495 7263 95 94			sta :STACKORIGIN,x
 19496 7265 B9 23 A4			lda adr.RANKNAMES+1,y
 19497 7268 95 A4			sta :STACKORIGIN+STACKWIDTH,x
 19498 726A 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 19499
 19500 				; optimize OK (pub.pas), line = 239
 19501
 19502 726D A9 02			lda #$02
 19503 726F 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19504
 19505 				; optimize FAIL ('WAITFORKEY', pub.pas), line = 240
 19506
 19507 7272 20 88 1D			jsr WAITFORKEY
 19508 7275 4C F4 73			jmp @exit
 19509 7278			l_4B48
 19510
 19511 				; optimize OK (pub.pas), line = 245
 19512
 19513 7278 A9 05			lda #$05
 19514 727A 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 19515 727D AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 19516 7280 D0 0B			jne l_4B67
 19517
 19518 				; optimize OK (pub.pas), line = 247
 19519
 19520 7282 A9 03			lda #$03
 19521 7284 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19522
 19523 				; optimize FAIL ('WAITFORKEY', pub.pas), line = 248
 19524
 19525 7287 20 88 1D			jsr WAITFORKEY
 19526 728A 4C F4 73			jmp @exit
 19527 728D			l_4B67
 19528
 19529 				; optimize OK (pub.pas), line = 253
 19530
 19531 728D A9 03			lda #$03
 19532 728F 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 19533 7292 E8				inx
 19534 7293 AD 27 9C 95 94		mva SYSTEM.RANDOM.@010180000.RESULT :STACKORIGIN,x
 19535 7298 E8				inx
 19536 7299 A9 F4 95 94			mva #$F4 :STACKORIGIN,x
 19537 729D A9 01 95 A4			mva #$01 :STACKORIGIN+STACKWIDTH,x
 19538 72A1 A9 00 95 A3			mva #$00 :STACKORIGIN-1+STACKWIDTH,x
 19539 72A5 20 7C 10			jsr imulWORD
 19540 72A8 A5 84			lda :eax
 19541 72AA 95 93			sta :STACKORIGIN-1,x
 19542 72AC A5 85			lda :eax+1
 19543 72AE 95 A3			sta :STACKORIGIN-1+STACKWIDTH,x
 19544 72B0 A5 86			lda :eax+2
 19545 72B2 95 B3			sta :STACKORIGIN-1+STACKWIDTH*2,x
 19546 72B4 A5 87			lda :eax+3
 19547 72B6 95 C3			sta :STACKORIGIN-1+STACKWIDTH*3,x
 19548 72B8 CA				dex
 19549 72B9 B5 94			lda :STACKORIGIN,x
 19550 72BB 8D 97 A8			sta WAGE
 19551 72BE B5 A4			lda :STACKORIGIN+STACKWIDTH,x
 19552 72C0 8D 98 A8			sta WAGE+1
 19553 72C3 CA				dex
 19554
 19555 				; optimize OK (pub.pas), line = 254
 19556
 19557 72C4 A9 04			lda #$04
 19558 72C6 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 19559 72C9 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 19560 72CC 8D A7 A8			sta @CASETMP_0013
 19561 72CF D0 2D			jne l_4B80
 19562 				@
 19563
 19564 				; optimize OK (pub.pas), line = 257
 19565
 19566 72D1 A9 04			lda #$04
 19567 72D3 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19568
 19569 				; optimize OK (pub.pas), line = 258
 19570
 19571 72D6 A9 05			lda #$05
 19572 72D8 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19573
 19574 				; optimize OK (pub.pas), line = 259
 19575
 19576 72DB A9 06			lda #$06
 19577 72DD 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19578
 19579 				; optimize OK (pub.pas), line = 260
 19580
 19581 72E0 A9 07			lda #$07
 19582 72E2 8D 9A A8			sta JOBLOCATION
 19583
 19584 				; optimize OK (pub.pas), line = 261
 19585
 19586 72E5 A9 03			lda #$03
 19587 72E7 8D 99 A8			sta DURATION
 19588
 19589 				; optimize OK (pub.pas), line = 262
 19590
 19591 72EA AD 97 A8			lda WAGE
 19592 72ED 18 69 DC			add #$DC
 19593 72F0 8D 97 A8			sta WAGE
 19594 72F3 AD 98 A8			lda WAGE+1
 19595 72F6 69 05			adc #$05
 19596 72F8 8D 98 A8			sta WAGE+1
 19597 72FB 4C 84 73			jmp a_0013
 19598 72FE			l_4B80
 19599 72FE C9 01			cmp #$01
 19600 7300 D0 28			jne l_4B9E
 19601
 19602 				; optimize OK (pub.pas), line = 266
 19603
 19604 7302 A9 07			lda #$07
 19605 7304 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19606
 19607 				; optimize OK (pub.pas), line = 267
 19608
 19609 7307 A9 08			lda #$08
 19610 7309 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19611
 19612 				; optimize OK (pub.pas), line = 268
 19613
 19614 730C A9 02			lda #$02
 19615 730E 8D 99 A8			sta DURATION
 19616
 19617 				; optimize OK (pub.pas), line = 269
 19618
 19619 7311 AD 97 A8			lda WAGE
 19620 7314 18 69 E8			add #$E8
 19621 7317 8D 97 A8			sta WAGE
 19622 731A AD 98 A8			lda WAGE+1
 19623 731D 69 03			adc #$03
 19624 731F 8D 98 A8			sta WAGE+1
 19625
 19626 				; optimize OK (pub.pas), line = 270
 19627
 19628 7322 A9 0B			lda #$0B
 19629 7324 8D 9A A8			sta JOBLOCATION
 19630 7327 4C 84 73			jmp a_0013
 19631 732A			l_4B9E
 19632 732A C9 02			cmp #$02
 19633 732C D0 28			jne l_4BBA
 19634
 19635 				; optimize OK (pub.pas), line = 274
 19636
 19637 732E A9 09			lda #$09
 19638 7330 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19639
 19640 				; optimize OK (pub.pas), line = 275
 19641
 19642 7333 A9 0A			lda #$0A
 19643 7335 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19644
 19645 				; optimize OK (pub.pas), line = 276
 19646
 19647 7338 A9 02			lda #$02
 19648 733A 8D 99 A8			sta DURATION
 19649
 19650 				; optimize OK (pub.pas), line = 277
 19651
 19652 733D AD 97 A8			lda WAGE
 19653 7340 18 69 D0			add #$D0
 19654 7343 8D 97 A8			sta WAGE
 19655 7346 AD 98 A8			lda WAGE+1
 19656 7349 69 07			adc #$07
 19657 734B 8D 98 A8			sta WAGE+1
 19658
 19659 				; optimize OK (pub.pas), line = 278
 19660
 19661 734E A9 0A			lda #$0A
 19662 7350 8D 9A A8			sta JOBLOCATION
 19663 7353 4C 84 73			jmp a_0013
 19664 7356			l_4BBA
 19665 7356 C9 03			cmp #$03
 19666 7358 D0 2A			jne l_4BD6
 19667
 19668 				; optimize OK (pub.pas), line = 282
 19669
 19670 735A A9 0B			lda #$0B
 19671 735C 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19672
 19673 				; optimize OK (pub.pas), line = 283
 19674
 19675 735F A9 0C			lda #$0C
 19676 7361 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19677
 19678 				; optimize OK (pub.pas), line = 284
 19679
 19680 7364 A9 0D			lda #$0D
 19681 7366 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19682
 19683 				; optimize OK (pub.pas), line = 285
 19684
 19685 7369 A9 01			lda #$01
 19686 736B 8D 99 A8			sta DURATION
 19687
 19688 				; optimize OK (pub.pas), line = 286
 19689
 19690 736E AD 97 A8			lda WAGE
 19691 7371 18 69 DC			add #$DC
 19692 7374 8D 97 A8			sta WAGE
 19693 7377 AD 98 A8			lda WAGE+1
 19694 737A 69 05			adc #$05
 19695 737C 8D 98 A8			sta WAGE+1
 19696
 19697 				; optimize OK (pub.pas), line = 287
 19698
 19699 737F A9 10			lda #$10
 19700 7381 8D 9A A8			sta JOBLOCATION
 19701 7384			l_4BD6
 19702 7384			a_0013
 19703
 19704 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', pub.pas), line = 291
 19705
 19706 7384 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 19707
 19708 				; optimize OK (pub.pas), line = 292
 19709
 19710 7387 A9 0E			lda #$0E
 19711 7389 20 04 1C			jsr CRT_WRITE_LOCSTR
 19712
 19713 				; optimize OK (pub.pas), line = 293
 19714
 19715 738C AD 97 A8			lda WAGE
 19716 738F 8D 5F A1			sta B_CRT.CRT_WRITE.@010185000.NUM
 19717 7392 A0 00			ldy #$00
 19718 7394 AD 98 A8			lda WAGE+1
 19719 7397 10 01			spl
 19720 7399 88				dey
 19721 739A 8D 60 A1			sta B_CRT.CRT_WRITE.@010185000.NUM+1
 19722 739D 8C 61 A1			sty B_CRT.CRT_WRITE.@010185000.NUM+2
 19723 73A0 8C 62 A1			sty B_CRT.CRT_WRITE.@010185000.NUM+3
 19724 73A3 20 17 19			jsr B_CRT.CRT_WRITE.@010185000
 19725
 19726 				; optimize FAIL ('CRT_WRITELN2', pub.pas), line = 294
 19727
 19728 73A6 E8				inx
 19729 73A7 A9 A0 95 94			mva #$A0 :STACKORIGIN,x
 19730 73AB A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 19731 73AF 20 C0 1D			jsr CRT_WRITELN2
 19732
 19733 				; optimize OK (pub.pas), line = 295
 19734
 19735 73B2 A9 0F			lda #$0F
 19736 73B4 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19737
 19738 				; optimize FAIL ('GETYESNO', pub.pas), line = 296
 19739
 19740 73B7 20 46 1F			jsr GETYESNO
 19741 73BA AD E8 A6			lda GETYESNO.RESULT
 19742 73BD C9 01			cmp #$01
 19743 73BF D0 33			jne l_4C0D
 19744
 19745 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', pub.pas), line = 298
 19746
 19747 73C1 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 19748
 19749 				; optimize OK (pub.pas), line = 299
 19750
 19751 73C4 A9 10			lda #$10
 19752 73C6 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19753
 19754 				; optimize FAIL ('WAITFORKEY', pub.pas), line = 300
 19755
 19756 73C9 20 88 1D			jsr WAITFORKEY
 19757
 19758 				; optimize OK (pub.pas), line = 302
 19759
 19760 73CC AC 8A CD			ldy CURRENTPLAYER
 19761 73CF AD 99 A8			lda DURATION
 19762 73D2 99 80 C9			sta adr.PLJOB,y
 19763
 19764 				; optimize OK (pub.pas), line = 303
 19765
 19766 73D5 98				tya
 19767 73D6 0A				asl @
 19768 73D7 A8				tay
 19769 73D8 AD 97 A8			lda WAGE
 19770 73DB 99 84 C9			sta adr.PLJOBWAGE,y
 19771 73DE AD 98 A8			lda WAGE+1
 19772 73E1 99 85 C9			sta adr.PLJOBWAGE+1,y
 19773
 19774 				; optimize OK (pub.pas), line = 304
 19775
 19776 73E4 AD 9A A8			lda JOBLOCATION
 19777 73E7 99 8C C9			sta adr.PLJOBLOCATION,y
 19778 73EA A9 00			lda #$00
 19779 73EC 99 8D C9			sta adr.PLJOBLOCATION+1,y
 19780
 19781 				; optimize OK (pub.pas), line = 305
 19782
 19783 73EF A9 11			lda #$11
 19784 73F1 8D 95 A8			sta RESULT
 19785 73F4			l_4C0D
 19786 73F4			l_4B2A
 19787 73F4			@exit
 19788
 19789 				; ------------------------------------------------------------
 19790
 19791 = A895			RESULT	= DATAORIGIN+$0C7A
 19792 = A896			R	= DATAORIGIN+$0C7B
 19793 = A897			WAGE	= DATAORIGIN+$0C7C
 19794 = A899			DURATION	= DATAORIGIN+$0C7E
 19795 = A89A			JOBLOCATION	= DATAORIGIN+$0C7F
 19796 = A89B			G	= DATAORIGIN+$0C80
 19797 = A89C			K	= DATAORIGIN+$0C81
 19798 = A89D			Z	= DATAORIGIN+$0C82
 19799 = A89E			TIPP	= DATAORIGIN+$0C83
 19800 = A89F			HASHIDEOUT	= DATAORIGIN+$0C84
 19801 = A8A0			P	= DATAORIGIN+$0C85
 19802 = A8A2			AL	= DATAORIGIN+$0C87
 19803 = A8A4			W	= DATAORIGIN+$0C89
 19804 = A8A6			@CASETMP_0012	= DATAORIGIN+$0C8B
 19805 = A8A7			@CASETMP_0013	= DATAORIGIN+$0C8C
 19806
 19807 = A896			@VarData	= R
 19808 = 0012			@VarDataSize	= 18
 19809
 19810 73F4 60				rts						; ret
 19811 				.endl
 19812
 19813 73F5			.local	STORECHOICES					; FUNCTION
 19814
 19815 				; optimize FAIL ('SHOWLOCATIONHEADER', store.pas), line = 7
 19816
 19817 73F5 20 18 28			jsr SHOWLOCATIONHEADER
 19818
 19819 				; optimize OK (store.pas), line = 8
 19820
 19821 73F8 A9 09			lda #$09
 19822 73FA 8D A8 A8			sta RESULT
 19823
 19824 				; optimize OK (store.pas), line = 12
 19825
 19826 73FD AC 8A CD			ldy CURRENTPLAYER
 19827 7400 B9 98 C9			lda adr.PLRANK,y
 19828 7403 C9 02			cmp #$02
 19829 7405 B0 0B			jcs l_4C52
 19830
 19831 				; optimize OK (store.pas), line = 14
 19832
 19833 7407 A9 01			lda #$01
 19834 7409 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19835
 19836 				; optimize FAIL ('WAITFORKEY', store.pas), line = 15
 19837
 19838 740C 20 88 1D			jsr WAITFORKEY
 19839 740F 4C 88 78			jmp @exit
 19840 7412			l_4C52
 19841
 19842 				; optimize OK (store.pas), line = 22
 19843
 19844 7412 AD 72 A3			lda LASTLOCATION
 19845 7415 C9 09			cmp #$09
 19846 7417 D0 0C			jne l_4C6A
 19847
 19848 				; optimize FAIL ('FIGHTPOLICE', store.pas), line = 24
 19849
 19850 7419 20 CA 4E			jsr FIGHTPOLICE
 19851 741C AD 21 A8			lda FIGHTPOLICE.RESULT
 19852 741F 8D A8 A8			sta RESULT
 19853 7422 4C 88 78			jmp @exit
 19854 7425			l_4C6A
 19855
 19856 				; optimize OK (store.pas), line = 29
 19857
 19858 7425 AD 22 C9			lda CURRENTCHOICE
 19859 7428 C9 01			cmp #$01
 19860 742A D0 34			jne l_4C83
 19861
 19862 				; optimize OK (store.pas), line = 31
 19863
 19864 742C AD 8A CD			lda CURRENTPLAYER
 19865 742F 4A				lsr @
 19866 7430 4A				lsr @
 19867 7431 4A				lsr @
 19868 7432 8D BD A3			sta TMP
 19869
 19870 				; optimize OK (store.pas), line = 32
 19871
 19872 7435 A8				tay
 19873 7436 B9 08 CD			lda adr.GANGSTERBRUT,y
 19874 7439 C9 1E			cmp #$1E
 19875 743B 90 07			jcc l_4CAFx
 19876 743D AD 0E A7			lda CURRENTSUBLOCATION
 19877 7440 C9 01			cmp #$01
 19878 7442 D0 1C			jne l_4CAF
 19879 7444			l_4CAFx
 19880
 19881 				; optimize OK (store.pas), line = 33
 19882
 19883 7444 A9 02			lda #$02
 19884 7446 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19885
 19886 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', store.pas), line = 34
 19887
 19888 7449 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 19889
 19890 				; optimize OK (store.pas), line = 35
 19891
 19892 744C A9 03			lda #$03
 19893 744E 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19894
 19895 				; optimize FAIL ('WAITFORKEY', store.pas), line = 36
 19896
 19897 7451 20 88 1D			jsr WAITFORKEY
 19898
 19899 				; optimize FAIL ('FIGHTPOLICE', store.pas), line = 37
 19900
 19901 7454 20 CA 4E			jsr FIGHTPOLICE
 19902 7457 AD 21 A8			lda FIGHTPOLICE.RESULT
 19903 745A 8D A8 A8			sta RESULT
 19904 745D 4C 88 78			jmp @exit
 19905 7460			l_4CAF
 19906 7460			l_4C83
 19907
 19908 				; optimize OK (store.pas), line = 43
 19909
 19910 7460 AD 22 C9			lda CURRENTCHOICE
 19911 7463 C9 02			cmp #$02
 19912 7465 D0 16			jne l_4CD0
 19913
 19914 				; optimize OK (store.pas), line = 45
 19915
 19916 7467 AD 0E A7			lda CURRENTSUBLOCATION
 19917 746A C9 04			cmp #$04
 19918 746C F0 04			jeq l_4CEFx
 19919 746E C9 03			cmp #$03
 19920 7470 D0 0B			jne l_4CEF
 19921 7472			l_4CEFx
 19922
 19923 				; optimize OK (store.pas), line = 46
 19924
 19925 7472 A9 04			lda #$04
 19926 7474 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19927
 19928 				; optimize FAIL ('WAITFORKEY', store.pas), line = 47
 19929
 19930 7477 20 88 1D			jsr WAITFORKEY
 19931 747A 4C 88 78			jmp @exit
 19932 747D			l_4CEF
 19933 747D			l_4CD0
 19934
 19935 				; optimize OK (store.pas), line = 53
 19936
 19937 747D AD 22 C9			lda CURRENTCHOICE
 19938 7480 C9 03			cmp #$03
 19939 7482 F0 03 4C 42 75		jne l_4D09
 19940
 19941 				; optimize OK (store.pas), line = 54
 19942
 19943 7487 AD 0E A7			lda CURRENTSUBLOCATION
 19944 748A C9 02			cmp #$02
 19945 748C F0 07			jeq l_4D28x
 19946 748E C9 01			cmp #$01
 19947 7490 F0 03 4C 42 75		jne l_4D28
 19948 7495			l_4D28x
 19949
 19950 				; optimize OK (store.pas), line = 55
 19951
 19952 7495 A9 05			lda #$05
 19953 7497 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19954
 19955 				; optimize OK (store.pas), line = 56
 19956
 19957 749A A9 06			lda #$06
 19958 749C 20 49 1C			jsr CRT_WRITELN_LOCSTR
 19959
 19960 				; optimize FAIL ('WAITFORKEY', store.pas), line = 57
 19961
 19962 749F 20 88 1D			jsr WAITFORKEY
 19963
 19964 				; -------------------  ASM Block 00000158  -------------------
 19965
 19966 				 
 19967 74A2 AD C6 9A		                lda loc_string_35
 19968 74A5 8D 79 A3		                sta adr.FP_GANG+$02
 19969 74A8 AD C7 9A		                lda loc_string_35+1
 19970 74AB 8D 7A A3		                sta adr.FP_GANG+1+$02
 19971 				            
 19972 				; optimize OK (store.pas), line = 66
 19973
 19974 74AE A9 01			lda #$01
 19975 74B0 8D 02 E4			sta adr.FP_AI+$01
 19976
 19977 				; optimize OK (store.pas), line = 67
 19978
 19979 74B3 AC 8A CD			ldy CURRENTPLAYER
 19980 74B6 B9 98 C9			lda adr.PLRANK,y
 19981 74B9 A0 01			ldy #1
 19982 74BB C9 06			cmp #$06
 19983 74BD B0 01			bcs @+
 19984 74BF 88				dey
 19985 				@
 19986 74C0 84 9F			sty :STACKORIGIN+11
 19987 74C2 06 9F			asl :STACKORIGIN+11
 19988 74C4 A9 03			lda #$03
 19989 74C6 18 65 9F			add :STACKORIGIN+11
 19990 74C9 8D 04 E4			sta adr.FP_N+$01
 19991
 19992 				; optimize OK (store.pas), line = 68
 19993
 19994 74CC A9 00			lda #$00
 19995 74CE 8D AA A8			sta K
 19996 74D1 AC 04 E4			ldy adr.FP_N+$01
 19997 74D4 88				dey
 19998 74D5 8C D9 74			sty @FORTMP_4D58_0
 19999
 20000 74D8			l_4D5B
 20001 				; --- ForToDoCondition
 20002 74D8 A9 00			lda @FORTMP_4D58_0::#$00
 20003 74DA CD AA A8			cmp K
 20004 74DD 90 1D			jcc l_4D69
 20005
 20006 				; optimize FAIL (1, store.pas), line = 69
 20007
 20008 74DF E8				inx
 20009 74E0 AD AA A8 95 94		mva K :STACKORIGIN,x
 20010 74E5 A9 00 95 A4			mva #$00 :STACKORIGIN+STACKWIDTH,x
 20011 74E9 A9 02			lda #$02
 20012 74EB 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 20013 74EE B4 94			ldy :STACKORIGIN,x
 20014 74F0 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 20015 74F3 99 45 E5			sta adr.FP_SEX,y
 20016 74F6 CA				dex
 20017
 20018 				; --- ForToDoEpilog
 20019 74F7 EE AA A8			inc K
 20020 74FA D0 DC			jne l_4D5B
 20021 74FC			l_4D69
 20022
 20023 				; -------------------  ASM Block 00000159  -------------------
 20024
 20025 74FC A0 00		                ldy #$00
 20026 				            @:
 20027 74FE 98			                tya 
 20028 74FF 0A			                asl 
 20029 7500 A8			                tay
 20030
 20031 7501 AD C8 9A		                lda loc_string_36
 20032 7504 99 9B A3		                sta adr.FP_NAME+$20,y
 20033 7507 AD C9 9A		                lda loc_string_36+1
 20034 750A 99 9C A3		                sta adr.FP_NAME+1+$20,y
 20035
 20036 750D 98			                tya
 20037 750E 4A			                lsr 
 20038 750F A8			                tay
 20039
 20040 7510 A9 1E		                lda #30
 20041 7512 99 95 E4		                sta adr.FP_ENERGY+$10,y
 20042 7515 A9 07		                lda #07
 20043 7517 99 55 E4		                sta adr.FP_WEAPON+$10,y
 20044 751A C8			                iny
 20045 751B CC 04 E4		                cpy adr.FP_N+$01
 20046 751E D0 DE		                bne @- 
 20047 				            
 20048 				; optimize FAIL ('DOFIGHT', store.pas), line = 102
 20049
 20050 7520 20 66 4D			jsr DOFIGHT
 20051 7523 AD 1C A8			lda DOFIGHT.RESULT
 20052 7526 C9 01			cmp #$01
 20053 7528 D0 08			jne l_4D86
 20054
 20055 				; optimize OK (store.pas), line = 104
 20056
 20057 752A A9 11			lda #$11
 20058 752C 8D A8 A8			sta RESULT
 20059 752F 4C 88 78			jmp @exit
 20060 7532			l_4D86
 20061
 20062 				; optimize FAIL ('SHOWLOCATIONHEADER', store.pas), line = 107
 20063
 20064 7532 20 18 28			jsr SHOWLOCATIONHEADER
 20065
 20066 				; optimize OK (store.pas), line = 108
 20067
 20068 7535 A9 07			lda #$07
 20069 7537 20 49 1C			jsr CRT_WRITELN_LOCSTR
 20070
 20071 				; optimize OK (store.pas), line = 109
 20072
 20073 753A A9 08			lda #$08
 20074 753C 20 49 1C			jsr CRT_WRITELN_LOCSTR
 20075
 20076 				; optimize FAIL ('WAITFORKEY', store.pas), line = 110
 20077
 20078 753F 20 88 1D			jsr WAITFORKEY
 20079 7542			l_4D28
 20080 7542			l_4D09
 20081
 20082 				; optimize OK (store.pas), line = 115
 20083
 20084 7542 AD 22 C9			lda CURRENTCHOICE
 20085 7545 C9 04			cmp #$04
 20086 7547 D0 2A			jne l_4DA9
 20087
 20088 				; optimize OK (store.pas), line = 116
 20089
 20090 7549 AD 8A CD			lda CURRENTPLAYER
 20091 754C 0A				asl @
 20092 754D 0A				asl @
 20093 754E 0A				asl @
 20094 754F 8D BD A3			sta TMP
 20095
 20096 				; optimize OK (store.pas), line = 117
 20097
 20098 7552 AD 0E A7			lda CURRENTSUBLOCATION
 20099 7555 C9 03			cmp #$03
 20100 7557 F0 0A			jeq l_4DD5x
 20101 7559 AC BD A3			ldy TMP
 20102 755C B9 E8 CC			lda adr.GANGSTERINT,y
 20103 755F C9 1E			cmp #$1E
 20104 7561 B0 10			jcs l_4DD5
 20105 7563			l_4DD5x
 20106
 20107 				; optimize OK (store.pas), line = 118
 20108
 20109 7563 A9 09			lda #$09
 20110 7565 20 49 1C			jsr CRT_WRITELN_LOCSTR
 20111
 20112 				; optimize OK (store.pas), line = 119
 20113
 20114 7568 A9 0A			lda #$0A
 20115 756A 20 49 1C			jsr CRT_WRITELN_LOCSTR
 20116
 20117 				; optimize FAIL ('WAITFORKEY', store.pas), line = 120
 20118
 20119 756D 20 88 1D			jsr WAITFORKEY
 20120 7570 4C 88 78			jmp @exit
 20121 7573			l_4DD5
 20122 7573			l_4DA9
 20123
 20124 				; optimize FAIL ('SHOWLOCATIONHEADER', store.pas), line = 126
 20125
 20126 7573 20 18 28			jsr SHOWLOCATIONHEADER
 20127
 20128 				; optimize OK (store.pas), line = 127
 20129
 20130 7576 A9 01			lda #$01
 20131 7578 20 B3 2F			jsr ADDPOINTS
 20132
 20133 				; optimize OK (store.pas), line = 128
 20134
 20135 757B A9 C8			lda #$C8
 20136 757D 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 20137 7580 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 20138 7583 18 69 20			add #$20
 20139 7586 8D AB A8			sta P
 20140 7589 A9 00			lda #$00
 20141 758B 69 03			adc #$03
 20142 758D 8D AC A8			sta P+1
 20143
 20144 				; optimize OK (store.pas), line = 129
 20145
 20146 7590 AD 0E A7			lda CURRENTSUBLOCATION
 20147 7593 C9 02			cmp #$02
 20148 7595 F0 04			jeq l_4E09x
 20149 7597 C9 03			cmp #$03
 20150 7599 D0 0E			jne l_4E09
 20151 759B			l_4E09x
 20152
 20153 				; optimize OK (store.pas), line = 130
 20154
 20155 759B AD AB A8			lda P
 20156 759E 38 E9 C8			sub #$C8
 20157 75A1 8D AB A8			sta P
 20158 75A4 B0 03			scs
 20159 75A6 CE AC A8			dec P+1
 20160 75A9			l_4E09
 20161
 20162 				; optimize OK (store.pas), line = 131
 20163
 20164 75A9 AD 22 C9			lda CURRENTCHOICE
 20165 75AC C9 02			cmp #$02
 20166 75AE D0 11			jne l_4E27
 20167 75B0 AD AB A8			lda P
 20168 75B3 18 69 58			add #$58
 20169 75B6 8D AB A8			sta P
 20170 75B9 AD AC A8			lda P+1
 20171 75BC 69 02			adc #$02
 20172 75BE 8D AC A8			sta P+1
 20173 75C1			l_4E27
 20174
 20175 				; optimize OK (store.pas), line = 133
 20176
 20177 75C1 AD 22 C9			lda CURRENTCHOICE
 20178 75C4 C9 01			cmp #$01
 20179 75C6 D0 25			jne l_4E45
 20180
 20181 				; optimize OK (store.pas), line = 134
 20182
 20183 75C8 A9 0B			lda #$0B
 20184 75CA 20 49 1C			jsr CRT_WRITELN_LOCSTR
 20185
 20186 				; optimize OK (store.pas), line = 135
 20187
 20188 75CD A9 0C			lda #$0C
 20189 75CF 20 04 1C			jsr CRT_WRITE_LOCSTR
 20190
 20191 				; optimize OK (store.pas), line = 136
 20192
 20193 75D2 AD AB A8			lda P
 20194 75D5 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 20195 75D8 AD AC A8			lda P+1
 20196 75DB 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 20197 75DE 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 20198
 20199 				; optimize FAIL ('CRT_WRITELN', store.pas), line = 137
 20200
 20201 75E1 E8				inx
 20202 75E2 A9 73 95 94			mva #$73 :STACKORIGIN,x
 20203 75E6 A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 20204 75EA 20 E7 1D			jsr CRT_WRITELN
 20205 75ED			l_4E45
 20206
 20207 				; optimize OK (store.pas), line = 140
 20208
 20209 75ED AD 22 C9			lda CURRENTCHOICE
 20210 75F0 C9 02			cmp #$02
 20211 75F2 D0 20			jne l_4E63
 20212
 20213 				; optimize OK (store.pas), line = 141
 20214
 20215 75F4 A9 0D			lda #$0D
 20216 75F6 20 49 1C			jsr CRT_WRITELN_LOCSTR
 20217
 20218 				; optimize OK (store.pas), line = 142
 20219
 20220 75F9 AD AB A8			lda P
 20221 75FC 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 20222 75FF AD AC A8			lda P+1
 20223 7602 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 20224 7605 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 20225
 20226 				; optimize FAIL ('CRT_WRITELN', store.pas), line = 143
 20227
 20228 7608 E8				inx
 20229 7609 A9 73 95 94			mva #$73 :STACKORIGIN,x
 20230 760D A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 20231 7611 20 E7 1D			jsr CRT_WRITELN
 20232 7614			l_4E63
 20233
 20234 				; optimize OK (store.pas), line = 147
 20235
 20236 7614 AD 22 C9			lda CURRENTCHOICE
 20237 7617 C9 03			cmp #$03
 20238 7619 D0 19			jne l_4E7F
 20239
 20240 				; optimize OK (store.pas), line = 148
 20241
 20242 761B A9 0E			lda #$0E
 20243 761D 20 04 1C			jsr CRT_WRITE_LOCSTR
 20244
 20245 				; optimize OK (store.pas), line = 149
 20246
 20247 7620 AD AB A8			lda P
 20248 7623 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 20249 7626 AD AC A8			lda P+1
 20250 7629 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 20251 762C 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 20252
 20253 				; optimize OK (store.pas), line = 150
 20254
 20255 762F A9 0F			lda #$0F
 20256 7631 20 49 1C			jsr CRT_WRITELN_LOCSTR
 20257 7634			l_4E7F
 20258
 20259 				; optimize OK (store.pas), line = 153
 20260
 20261 7634 AD 22 C9			lda CURRENTCHOICE
 20262 7637 C9 04			cmp #$04
 20263 7639 D0 25			jne l_4E9B
 20264
 20265 				; optimize OK (store.pas), line = 154
 20266
 20267 763B A9 10			lda #$10
 20268 763D 20 49 1C			jsr CRT_WRITELN_LOCSTR
 20269
 20270 				; optimize OK (store.pas), line = 155
 20271
 20272 7640 A9 11			lda #$11
 20273 7642 20 04 1C			jsr CRT_WRITE_LOCSTR
 20274
 20275 				; optimize OK (store.pas), line = 156
 20276
 20277 7645 AD AB A8			lda P
 20278 7648 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 20279 764B AD AC A8			lda P+1
 20280 764E 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 20281 7651 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 20282
 20283 				; optimize FAIL ('CRT_WRITELN', store.pas), line = 157
 20284
 20285 7654 E8				inx
 20286 7655 A9 73 95 94			mva #$73 :STACKORIGIN,x
 20287 7659 A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 20288 765D 20 E7 1D			jsr CRT_WRITELN
 20289 7660			l_4E9B
 20290
 20291 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', store.pas), line = 161
 20292
 20293 7660 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 20294
 20295 				; optimize OK (store.pas), line = 162
 20296
 20297 7663 A9 12			lda #$12
 20298 7665 20 53 1C			jsr CRT_WRITELN2_LOCSTR
 20299
 20300 				; optimize OK (store.pas), line = 163
 20301
 20302 7668 A9 13			lda #$13
 20303 766A 20 49 1C			jsr CRT_WRITELN_LOCSTR
 20304
 20305 				; optimize OK (store.pas), line = 164
 20306
 20307 766D A9 14			lda #$14
 20308 766F 20 49 1C			jsr CRT_WRITELN_LOCSTR
 20309
 20310 				; optimize OK (store.pas), line = 165
 20311
 20312 7672 A9 15			lda #$15
 20313 7674 20 53 1C			jsr CRT_WRITELN2_LOCSTR
 20314
 20315 				; optimize OK (store.pas), line = 166
 20316
 20317 7677 A9 16			lda #$16
 20318 7679 20 04 1C			jsr CRT_WRITE_LOCSTR
 20319
 20320 				; optimize OK (store.pas), line = 167
 20321
 20322 767C A9 01			lda #$01
 20323 767E 8D E9 A6			sta READVALUE.MINVALUE
 20324 7681 A9 00			lda #$00
 20325 7683 8D EA A6			sta READVALUE.MINVALUE+1
 20326 7686 A9 03			lda #$03
 20327 7688 8D EB A6			sta READVALUE.MAXVALUE
 20328 768B A9 00			lda #$00
 20329 768D 8D EC A6			sta READVALUE.MAXVALUE+1
 20330 7690 20 64 1F			jsr READVALUE
 20331 7693 AD ED A6			lda READVALUE.RESULT
 20332 7696 8D A9 A8			sta R
 20333
 20334 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', store.pas), line = 168
 20335
 20336 7699 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 20337
 20338 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', store.pas), line = 169
 20339
 20340 769C 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 20341
 20342 				; optimize OK (store.pas), line = 172
 20343
 20344 769F AD A9 A8			lda R
 20345 76A2 C9 01			cmp #$01
 20346 76A4 D0 1A			jne l_4ECC
 20347
 20348 				; optimize OK (store.pas), line = 173
 20349
 20350 76A6 AD AB A8			lda P
 20351 76A9 8D 99 A7			sta ADDMONEY.AMOUNT
 20352 76AC AD AC A8			lda P+1
 20353 76AF 8D 9A A7			sta ADDMONEY.AMOUNT+1
 20354 76B2 20 5F 2F			jsr ADDMONEY
 20355
 20356 				; optimize OK (store.pas), line = 174
 20357
 20358 76B5 A9 17			lda #$17
 20359 76B7 20 49 1C			jsr CRT_WRITELN_LOCSTR
 20360
 20361 				; optimize FAIL ('WAITFORKEY', store.pas), line = 175
 20362
 20363 76BA 20 88 1D			jsr WAITFORKEY
 20364 76BD 4C 88 78			jmp @exit
 20365 76C0			l_4ECC
 20366
 20367 				; optimize OK (store.pas), line = 179
 20368
 20369 76C0 AD A9 A8			lda R
 20370 76C3 C9 02			cmp #$02
 20371 76C5 F0 03 4C A1 77		jne l_4EE7
 20372
 20373 				; optimize OK (store.pas), line = 180
 20374
 20375 76CA AD 0E A7			lda CURRENTSUBLOCATION
 20376 76CD F0 04			jeq l_4F06x
 20377 76CF C9 02			cmp #$02
 20378 76D1 D0 6B			jne l_4F06
 20379 76D3			l_4F06x
 20380
 20381 				; optimize OK (store.pas), line = 181
 20382
 20383 76D3 A9 18			lda #$18
 20384 76D5 20 49 1C			jsr CRT_WRITELN_LOCSTR
 20385
 20386 				; optimize OK (store.pas), line = 182
 20387
 20388 76D8 A9 19			lda #$19
 20389 76DA 20 49 1C			jsr CRT_WRITELN_LOCSTR
 20390
 20391 				; optimize FAIL ('WAITFORKEY', store.pas), line = 183
 20392
 20393 76DD 20 88 1D			jsr WAITFORKEY
 20394
 20395 				; -------------------  ASM Block 00000160  -------------------
 20396
 20397 				 
 20398 76E0 AD B4 9A		                lda loc_string_26
 20399 76E3 8D 79 A3		                sta adr.FP_GANG+$02
 20400 76E6 AD B5 9A		                lda loc_string_26+1
 20401 76E9 8D 7A A3		                sta adr.FP_GANG+1+$02
 20402 				            
 20403 				; optimize OK (store.pas), line = 192
 20404
 20405 76EC A9 01			lda #$01
 20406 76EE 8D 02 E4			sta adr.FP_AI+$01
 20407
 20408 				; optimize OK (store.pas), line = 193
 20409
 20410 76F1 A9 05			lda #$05
 20411 76F3 8D 04 E4			sta adr.FP_N+$01
 20412
 20413 				; -------------------  ASM Block 00000161  -------------------
 20414
 20415 76F6 A0 00		                ldy #$00
 20416 				            @:
 20417 76F8 98			                tya 
 20418 76F9 0A			                asl 
 20419 76FA A8			                tay
 20420
 20421 76FB AD CA 9A		                lda loc_string_37
 20422 76FE 99 9B A3		                sta adr.FP_NAME+$20,y
 20423 7701 AD CB 9A		                lda loc_string_37+1
 20424 7704 99 9C A3		                sta adr.FP_NAME+1+$20,y
 20425
 20426 7707 98			                tya
 20427 7708 4A			                lsr 
 20428 7709 A8			                tay
 20429
 20430 770A A9 1E		                lda #30
 20431 770C 99 95 E4		                sta adr.FP_ENERGY+$10,y
 20432 770F A9 03		                lda #03
 20433 7711 99 55 E4		                sta adr.FP_WEAPON+$10,y
 20434 7714 C8			                iny
 20435 7715 CC 04 E4		                cpy adr.FP_N+$01
 20436 7718 D0 DE		                bne @- 
 20437 				            
 20438 				; optimize FAIL ('DOFIGHT', store.pas), line = 226
 20439
 20440 771A 20 66 4D			jsr DOFIGHT
 20441 771D AD 1C A8			lda DOFIGHT.RESULT
 20442 7720 C9 01			cmp #$01
 20443 7722 D0 08			jne l_4F26
 20444
 20445 				; optimize OK (store.pas), line = 228
 20446
 20447 7724 A9 11			lda #$11
 20448 7726 8D A8 A8			sta RESULT
 20449 7729 4C 88 78			jmp @exit
 20450 772C			l_4F26
 20451
 20452 				; optimize OK (store.pas), line = 231
 20453
 20454 772C AD AB A8			lda P
 20455 772F 8D 99 A7			sta ADDMONEY.AMOUNT
 20456 7732 AD AC A8			lda P+1
 20457 7735 8D 9A A7			sta ADDMONEY.AMOUNT+1
 20458 7738 20 5F 2F			jsr ADDMONEY
 20459 773B 4C A1 77			jmp l_4F39
 20460 773E			l_4F06
 20461
 20462 				; optimize OK (store.pas), line = 235
 20463
 20464 773E A9 C8			lda #$C8
 20465 7740 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 20466 7743 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 20467 7746 18 69 2C			add #$2C
 20468 7749 8D AD A8			sta Q
 20469 774C A9 00			lda #$00
 20470 774E 69 01			adc #$01
 20471 7750 8D AE A8			sta Q+1
 20472
 20473 				; optimize OK (store.pas), line = 236
 20474
 20475 7753 A9 1B			lda #$1B
 20476 7755 20 49 1C			jsr CRT_WRITELN_LOCSTR
 20477
 20478 				; optimize OK (store.pas), line = 237
 20479
 20480 7758 A9 1C			lda #$1C
 20481 775A 20 49 1C			jsr CRT_WRITELN_LOCSTR
 20482
 20483 				; optimize OK (store.pas), line = 238
 20484
 20485 775D AD AD A8			lda Q
 20486 7760 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 20487 7763 AD AE A8			lda Q+1
 20488 7766 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 20489 7769 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 20490
 20491 				; optimize FAIL ('CRT_WRITELN', store.pas), line = 239
 20492
 20493 776C E8				inx
 20494 776D A9 A0 95 94			mva #$A0 :STACKORIGIN,x
 20495 7771 A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 20496 7775 20 E7 1D			jsr CRT_WRITELN
 20497
 20498 				; optimize OK (store.pas), line = 240
 20499
 20500 7778 AD AB A8			lda P
 20501 777B 8D 99 A7			sta ADDMONEY.AMOUNT
 20502 777E AD AC A8			lda P+1
 20503 7781 8D 9A A7			sta ADDMONEY.AMOUNT+1
 20504 7784 20 5F 2F			jsr ADDMONEY
 20505
 20506 				; optimize OK (store.pas), line = 241
 20507
 20508 7787 AD AD A8			lda Q
 20509 778A 8D 99 A7			sta ADDMONEY.AMOUNT
 20510 778D AD AE A8			lda Q+1
 20511 7790 8D 9A A7			sta ADDMONEY.AMOUNT+1
 20512 7793 20 5F 2F			jsr ADDMONEY
 20513
 20514 				; optimize OK (store.pas), line = 242
 20515
 20516 7796 A9 01			lda #$01
 20517 7798 20 B3 2F			jsr ADDPOINTS
 20518
 20519 				; optimize FAIL ('WAITFORKEY', store.pas), line = 243
 20520
 20521 779B 20 88 1D			jsr WAITFORKEY
 20522 779E 4C 88 78			jmp @exit
 20523 77A1			l_4F39
 20524 77A1			l_4EE7
 20525
 20526 				; optimize OK (store.pas), line = 248
 20527
 20528 77A1 AD A9 A8			lda R
 20529 77A4 C9 03			cmp #$03
 20530 77A6 F0 03 4C 88 78		jne l_4F68
 20531
 20532 				; optimize OK (store.pas), line = 249
 20533
 20534 77AB AD 0E A7			lda CURRENTSUBLOCATION
 20535 77AE C9 03			cmp #$03
 20536 77B0 F0 04			jeq l_4F87x
 20537 77B2 C9 04			cmp #$04
 20538 77B4 D0 71			jne l_4F87
 20539 77B6			l_4F87x
 20540
 20541 				; optimize OK (store.pas), line = 251
 20542
 20543 77B6 A9 1D			lda #$1D
 20544 77B8 20 49 1C			jsr CRT_WRITELN_LOCSTR
 20545
 20546 				; optimize OK (store.pas), line = 252
 20547
 20548 77BB A9 1E			lda #$1E
 20549 77BD 20 49 1C			jsr CRT_WRITELN_LOCSTR
 20550
 20551 				; -------------------  ASM Block 00000162  -------------------
 20552
 20553 				 
 20554 77C0 AD BE 9A		                lda loc_string_31
 20555 77C3 8D 79 A3		                sta adr.FP_GANG+$02
 20556 77C6 AD BF 9A		                lda loc_string_31+1
 20557 77C9 8D 7A A3		                sta adr.FP_GANG+1+$02
 20558 				            
 20559 				; optimize OK (store.pas), line = 260
 20560
 20561 77CC A9 01			lda #$01
 20562 77CE 8D 02 E4			sta adr.FP_AI+$01
 20563
 20564 				; optimize OK (store.pas), line = 261
 20565
 20566 77D1 8D 04 E4			sta adr.FP_N+$01
 20567
 20568 				; optimize OK (store.pas), line = 262
 20569
 20570 77D4 AD 9B A3			lda adr.FP_NAME+$20
 20571 77D7 85 8C			sta @move.dst
 20572 77D9 AD 9C A3			lda adr.FP_NAME+1+$20
 20573 77DC 85 8D			sta @move.dst+1
 20574 77DE AD BE 9A			lda LOC_STRING_31
 20575 77E1 85 88			sta @move.src
 20576 77E3 AD BF 9A			lda LOC_STRING_31+1
 20577 77E6 85 89			sta @move.src+1
 20578 77E8 A0 00			ldy #$00
 20579 77EA B1 88			lda (@move.src),y
 20580 77EC 18 69 01			add #1
 20581 77EF 85 84			sta @move.cnt
 20582 77F1 90 01			scc
 20583 77F3 C8				iny
 20584 77F4 84 85			sty @move.cnt+1
 20585 77F6 20 D7 0E			jsr @move
 20586
 20587 				; optimize OK (store.pas), line = 263
 20588
 20589 77F9 A9 06			lda #$06
 20590 77FB 8D 55 E4			sta adr.FP_WEAPON+$10
 20591
 20592 				; optimize OK (store.pas), line = 264
 20593
 20594 77FE A9 1E			lda #$1E
 20595 7800 8D 95 E4			sta adr.FP_ENERGY+$10
 20596
 20597 				; optimize FAIL ('DOFIGHT', store.pas), line = 266
 20598
 20599 7803 20 66 4D			jsr DOFIGHT
 20600 7806 AD 1C A8			lda DOFIGHT.RESULT
 20601 7809 C9 01			cmp #$01
 20602 780B D0 08			jne l_4FB6
 20603
 20604 				; optimize OK (store.pas), line = 268
 20605
 20606 780D A9 11			lda #$11
 20607 780F 8D A8 A8			sta RESULT
 20608 7812 4C 88 78			jmp @exit
 20609 7815			l_4FB6
 20610
 20611 				; optimize OK (store.pas), line = 271
 20612
 20613 7815 AD AB A8			lda P
 20614 7818 8D 99 A7			sta ADDMONEY.AMOUNT
 20615 781B AD AC A8			lda P+1
 20616 781E 8D 9A A7			sta ADDMONEY.AMOUNT+1
 20617 7821 20 5F 2F			jsr ADDMONEY
 20618 7824 4C 88 78			jmp l_4FC9
 20619 7827			l_4F87
 20620
 20621 				; optimize OK (store.pas), line = 275
 20622
 20623 7827 A9 64			lda #$64
 20624 7829 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 20625 782C AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 20626 782F 8D AD A8			sta Q
 20627 7832 A9 00			lda #$00
 20628 7834 8D AE A8			sta Q+1
 20629
 20630 				; optimize OK (store.pas), line = 276
 20631
 20632 7837 AD AD A8			lda Q
 20633 783A 0A				asl @
 20634 783B 2E AE A8			rol Q+1
 20635 783E 18 69 96			add #$96
 20636 7841 8D AD A8			sta Q
 20637 7844 90 03			scc
 20638 7846 EE AE A8			inc Q+1
 20639
 20640 				; optimize OK (store.pas), line = 277
 20641
 20642 7849 A9 20			lda #$20
 20643 784B 20 49 1C			jsr CRT_WRITELN_LOCSTR
 20644
 20645 				; optimize OK (store.pas), line = 278
 20646
 20647 784E A9 21			lda #$21
 20648 7850 20 04 1C			jsr CRT_WRITE_LOCSTR
 20649
 20650 				; optimize OK (store.pas), line = 279
 20651
 20652 7853 AD AD A8			lda Q
 20653 7856 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 20654 7859 AD AE A8			lda Q+1
 20655 785C 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 20656 785F 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 20657
 20658 				; optimize OK (store.pas), line = 280
 20659
 20660 7862 A9 22			lda #$22
 20661 7864 20 04 1C			jsr CRT_WRITE_LOCSTR
 20662
 20663 				; optimize OK (store.pas), line = 281
 20664
 20665 7867 AD AB A8			lda P
 20666 786A 8D 99 A7			sta ADDMONEY.AMOUNT
 20667 786D AD AC A8			lda P+1
 20668 7870 8D 9A A7			sta ADDMONEY.AMOUNT+1
 20669 7873 20 5F 2F			jsr ADDMONEY
 20670
 20671 				; optimize OK (store.pas), line = 282
 20672
 20673 7876 AD AD A8			lda Q
 20674 7879 8D 99 A7			sta ADDMONEY.AMOUNT
 20675 787C AD AE A8			lda Q+1
 20676 787F 8D 9A A7			sta ADDMONEY.AMOUNT+1
 20677 7882 20 5F 2F			jsr ADDMONEY
 20678
 20679 				; optimize FAIL ('WAITFORKEY', store.pas), line = 283
 20680
 20681 7885 20 88 1D			jsr WAITFORKEY
 20682 7888			l_4FC9
 20683 7888			l_4F68
 20684 7888			@exit
 20685
 20686 				; ------------------------------------------------------------
 20687
 20688 = A8A8			RESULT	= DATAORIGIN+$0C8D
 20689 = A8A9			R	= DATAORIGIN+$0C8E
 20690 = A8AA			K	= DATAORIGIN+$0C8F
 20691 = A8AB			P	= DATAORIGIN+$0C90
 20692 = A8AD			Q	= DATAORIGIN+$0C92
 20693
 20694 = A8A9			@VarData	= R
 20695 = 0006			@VarDataSize	= 6
 20696
 20697 7888 60				rts						; ret
 20698 				.endl
 20699
 20700 7889			.local	SUBWAYCHOICES					; FUNCTION
 20701
 20702 				; optimize OK (subway.pas), line = 9
 20703
 20704 7889 A9 0C			lda #$0C
 20705 788B 8D B0 A8			sta RESULT
 20706
 20707 				; optimize FAIL ('SHOWLOCATIONHEADER', subway.pas), line = 10
 20708
 20709 788E 20 18 28			jsr SHOWLOCATIONHEADER
 20710
 20711 				; optimize OK (subway.pas), line = 12
 20712
 20713 7891 AD 22 C9			lda CURRENTCHOICE
 20714 7894 C9 02			cmp #$02
 20715 7896 F0 03 4C 54 79		jne l_5008
 20716
 20717 				; optimize OK (subway.pas), line = 14
 20718
 20719 789B A9 01			lda #$01
 20720 789D 20 49 1C			jsr CRT_WRITELN_LOCSTR
 20721
 20722 				; optimize OK (subway.pas), line = 15
 20723
 20724 78A0 A9 02			lda #$02
 20725 78A2 20 04 1C			jsr CRT_WRITE_LOCSTR
 20726
 20727 				; optimize FAIL ('GETYESNO', subway.pas), line = 16
 20728
 20729 78A5 20 46 1F			jsr GETYESNO
 20730 78A8 AD E8 A6			lda GETYESNO.RESULT
 20731 78AB D0 03 4C B8 7A		jeq @exit
 20732 78B0			l_501D
 20733
 20734 				; optimize OK (subway.pas), line = 17
 20735
 20736 78B0 A9 32			lda #$32
 20737 78B2 8D A6 A7			sta PAYMONEY.PRICE
 20738 78B5 A9 00			lda #$00
 20739 78B7 8D A7 A7			sta PAYMONEY.PRICE+1
 20740 78BA 20 02 32			jsr PAYMONEY
 20741 78BD AD A8 A7			lda PAYMONEY.RESULT
 20742 78C0 D0 03 4C B8 7A		jeq @exit
 20743 78C5			l_5031
 20744
 20745 				; optimize OK (subway.pas), line = 18
 20746
 20747 78C5 A9 04			lda #$04
 20748 78C7 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 20749 78CA AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 20750 78CD 8D B1 A8			sta LOOT
 20751
 20752 				; optimize OK (subway.pas), line = 19
 20753
 20754 78D0 8D B8 A8			sta @CASETMP_0014
 20755 78D3 C9 00			cmp #$00
 20756 78D5 D0 10			jne l_5044
 20757 				@
 20758
 20759 				; optimize OK (subway.pas), line = 21
 20760
 20761 78D7 A9 08			lda #$08
 20762 78D9 8D B5 A8			sta I
 20763 78DC A9 02			lda #$02
 20764 78DE 8D B6 A8			sta J
 20765 78E1 8D B7 A8			sta K
 20766 78E4 4C 24 79			jmp a_0014
 20767 78E7			l_5044
 20768 78E7 C9 01			cmp #$01
 20769 78E9 D0 12			jne l_5057
 20770
 20771 				; optimize OK (subway.pas), line = 24
 20772
 20773 78EB A9 04			lda #$04
 20774 78ED 8D B5 A8			sta I
 20775 78F0 A9 01			lda #$01
 20776 78F2 8D B6 A8			sta J
 20777 78F5 A9 05			lda #$05
 20778 78F7 8D B7 A8			sta K
 20779 78FA 4C 24 79			jmp a_0014
 20780 78FD			l_5057
 20781 78FD C9 02			cmp #$02
 20782 78FF D0 12			jne l_506A
 20783
 20784 				; optimize OK (subway.pas), line = 27
 20785
 20786 7901 A9 08			lda #$08
 20787 7903 8D B5 A8			sta I
 20788 7906 A9 03			lda #$03
 20789 7908 8D B6 A8			sta J
 20790 790B A9 09			lda #$09
 20791 790D 8D B7 A8			sta K
 20792 7910 4C 24 79			jmp a_0014
 20793 7913			l_506A
 20794 7913 C9 03			cmp #$03
 20795 7915 D0 0D			jne l_507D
 20796
 20797 				; optimize OK (subway.pas), line = 30
 20798
 20799 7917 A9 04			lda #$04
 20800 7919 8D B5 A8			sta I
 20801 791C A9 07			lda #$07
 20802 791E 8D B6 A8			sta J
 20803 7921 8D B7 A8			sta K
 20804 7924			l_507D
 20805 7924			a_0014
 20806
 20807 				; optimize OK (subway.pas), line = 34
 20808
 20809 7924 AC 8A CD			ldy CURRENTPLAYER
 20810 7927 AD B5 A8			lda I
 20811 792A 99 54 C9			sta adr.PLMAPPOSX,y
 20812
 20813 				; optimize OK (subway.pas), line = 35
 20814
 20815 792D AD B6 A8			lda J
 20816 7930 99 58 C9			sta adr.PLMAPPOSY,y
 20817
 20818 				; optimize OK (subway.pas), line = 36
 20819
 20820 7933 AD B7 A8			lda K
 20821 7936 99 5C C9			sta adr.PLCURRENTMAP,y
 20822
 20823 				; optimize FAIL ('PLACECURRENTPLAYER', subway.pas), line = 37
 20824
 20825 7939 20 20 2F			jsr PLACECURRENTPLAYER
 20826
 20827 				; optimize OK (subway.pas), line = 38
 20828
 20829 793C AD B0 EA			lda MAPPOS_X
 20830 793F 8D B2 EA			sta OLDMAPPOS_X
 20831
 20832 				; optimize OK (subway.pas), line = 39
 20833
 20834 7942 AD B1 EA			lda MAPPOS_Y
 20835 7945 8D B3 EA			sta OLDMAPPOS_Y
 20836
 20837 				; optimize OK (subway.pas), line = 40
 20838
 20839 7948 AD AE EA			lda PLAYERPOS_X
 20840 794B 8D B4 EA			sta OLDPLAYERPOS_X
 20841
 20842 				; optimize OK (subway.pas), line = 41
 20843
 20844 794E AD AF EA			lda PLAYERPOS_Y
 20845 7951 8D B5 EA			sta OLDPLAYERPOS_Y
 20846 7954			l_5008
 20847
 20848 				; optimize FAIL ('SHOWLOCATIONHEADER', subway.pas), line = 44
 20849
 20850 7954 20 18 28			jsr SHOWLOCATIONHEADER
 20851
 20852 				; optimize OK (subway.pas), line = 45
 20853
 20854 7957 AC 8A CD			ldy CURRENTPLAYER
 20855 795A B9 B1 CD			lda adr.PLNGANGSTERS,y
 20856 795D C9 02			cmp #$02
 20857 795F 90 05			jcc l_50DB
 20858
 20859 				; optimize OK (subway.pas), line = 46
 20860
 20861 7961 A9 03			lda #$03
 20862 7963 20 04 1C			jsr CRT_WRITE_LOCSTR
 20863 7966			l_50DB
 20864
 20865 				; optimize OK (subway.pas), line = 47
 20866
 20867 7966 A9 00			lda #$00
 20868 7968 8D 23 C9			sta SHOWWEAPONS
 20869
 20870 				; optimize FAIL ('SELECTGANGSTER', subway.pas), line = 48
 20871
 20872 796B 20 D8 33			jsr SELECTGANGSTER
 20873
 20874 				; optimize OK (subway.pas), line = 49
 20875
 20876 796E AD 88 CD			lda CURRENTGANGSTER
 20877 7971 C9 63			cmp #$63
 20878 7973 D0 03 4C B8 7A		jeq @exit
 20879 7978			l_50F7
 20880
 20881 				; optimize OK (subway.pas), line = 51
 20882
 20883 7978 AC 8A CD			ldy CURRENTPLAYER
 20884 797B B9 B1 CD			lda adr.PLNGANGSTERS,y
 20885 797E C9 02			cmp #$02
 20886 7980 90 03			jcc l_510F
 20887
 20888 				; optimize FAIL ('SHOWLOCATIONHEADER', subway.pas), line = 52
 20889
 20890 7982 20 18 28			jsr SHOWLOCATIONHEADER
 20891 7985			l_510F
 20892
 20893 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', subway.pas), line = 53
 20894
 20895 7985 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 20896
 20897 				; optimize OK (subway.pas), line = 54
 20898
 20899 7988 A9 04			lda #$04
 20900 798A 20 49 1C			jsr CRT_WRITELN_LOCSTR
 20901
 20902 				; optimize OK (subway.pas), line = 55
 20903
 20904 798D A9 5A			lda #$5A
 20905 798F 20 5A 27			jsr WAITFRAMES
 20906
 20907 				; optimize OK (subway.pas), line = 59
 20908
 20909 7992 AC 88 CD			ldy CURRENTGANGSTER
 20910 7995 B9 E8 CC			lda adr.GANGSTERINT,y
 20911 7998 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 20912 799B A0 01			ldy #1
 20913 799D AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 20914 79A0 C9 0A			cmp #$0A
 20915 79A2 90 01			bcc @+
 20916 79A4 88				dey
 20917 				@
 20918 79A5 98				tya
 20919 79A6 8D B4 A8			sta HOPS
 20920
 20921 				; optimize OK (subway.pas), line = 61
 20922
 20923 79A9 A9 11			lda #$11
 20924 79AB 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 20925 79AE AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 20926 79B1 8D BD A3			sta TMP
 20927
 20928 				; optimize OK (subway.pas), line = 62
 20929
 20930 79B4 4A				lsr @
 20931 79B5 8D B1 A8			sta LOOT
 20932
 20933 				; optimize OK (subway.pas), line = 63
 20934
 20935 79B8 AC 0E A7			ldy CURRENTSUBLOCATION
 20936 79BB C8				iny
 20937 79BC 8C BD A3			sty TMP
 20938
 20939 				; optimize OK (subway.pas), line = 64
 20940
 20941 79BF AD BD A3			lda TMP
 20942 79C2 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 20943 79C5 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 20944 79C8 8D BD A3			sta TMP
 20945
 20946 				; optimize OK (subway.pas), line = 65
 20947
 20948 79CB AD B1 A8			lda LOOT
 20949 79CE 38 ED BD A3			sub TMP
 20950 79D2 8D B1 A8			sta LOOT
 20951
 20952 				; optimize OK (subway.pas), line = 67
 20953
 20954 79D5 10 05			jpl l_5166
 20955 79D7 A9 00			lda #$00
 20956 79D9 8D B1 A8			sta LOOT
 20957 79DC			l_5166
 20958
 20959 				; optimize OK (subway.pas), line = 68
 20960
 20961 79DC AD B4 A8			lda HOPS
 20962 79DF C9 01			cmp #$01
 20963 79E1 D0 05			jne l_517F
 20964 79E3 A9 00			lda #$00
 20965 79E5 8D B1 A8			sta LOOT
 20966 79E8			l_517F
 20967
 20968 				; optimize OK (subway.pas), line = 69
 20969
 20970 79E8 A9 00			lda #$00
 20971 79EA 8D B2 A8			sta VALUE
 20972 79ED 8D B3 A8			sta VALUE+1
 20973
 20974 				; optimize OK (subway.pas), line = 70
 20975
 20976 79F0 AD B1 A8			lda LOOT
 20977 79F3 8D B9 A8			sta @CASETMP_0015
 20978 79F6 D0 05			jne l_5195
 20979 				@
 20980
 20981 				; optimize OK (subway.pas), line = 71
 20982
 20983 79F8 A9 05			lda #$05
 20984 79FA 4C 07 7A			jmp s_51A2
 20985 79FD			l_5195
 20986 79FD C9 01			cmp #$01
 20987 79FF F0 04			beq @+
 20988 7A01 C9 02			cmp #$02
 20989 7A03 D0 05			jne l_51A0
 20990 				@
 20991
 20992 				; optimize OK (subway.pas), line = 72
 20993
 20994 7A05 A9 06			lda #$06
 20995 7A07			s_51A2
 20996 7A07 4C 10 7A			jmp s_51AB
 20997 7A0A			l_51A0
 20998 7A0A C9 03			cmp #$03
 20999 7A0C D0 08			jne l_51A9
 21000
 21001 				; optimize OK (subway.pas), line = 73
 21002
 21003 7A0E A9 07			lda #$07
 21004 7A10			s_51AB
 21005 7A10 20 49 1C			jsr CRT_WRITELN_LOCSTR
 21006 7A13 4C 80 7A			jmp a_0015
 21007 7A16			l_51A9
 21008 7A16 C9 04			cmp #$04
 21009 7A18 D0 0A			jne l_51B2
 21010
 21011 				; optimize OK (subway.pas), line = 75
 21012
 21013 7A1A A9 08			lda #$08
 21014 7A1C 20 49 1C			jsr CRT_WRITELN_LOCSTR
 21015
 21016 				; optimize OK (subway.pas), line = 76
 21017
 21018 7A1F A9 32			lda #$32
 21019 7A21 4C 2F 7A			jmp s_51C5
 21020 7A24			l_51B2
 21021 7A24 C9 05			cmp #$05
 21022 7A26 D0 12			jne l_51BF
 21023
 21024 				; optimize OK (subway.pas), line = 79
 21025
 21026 7A28 A9 09			lda #$09
 21027 7A2A 20 49 1C			jsr CRT_WRITELN_LOCSTR
 21028
 21029 				; optimize OK (subway.pas), line = 80
 21030
 21031 7A2D A9 FA			lda #$FA
 21032 7A2F			s_51C5
 21033 7A2F 8D B2 A8			sta VALUE
 21034 7A32 A9 00			lda #$00
 21035 7A34 8D B3 A8			sta VALUE+1
 21036 7A37 4C 80 7A			jmp a_0015
 21037 7A3A			l_51BF
 21038 7A3A C9 06			cmp #$06
 21039 7A3C D0 12			jne l_51CC
 21040
 21041 				; optimize OK (subway.pas), line = 83
 21042
 21043 7A3E A9 0A			lda #$0A
 21044 7A40 20 49 1C			jsr CRT_WRITELN_LOCSTR
 21045
 21046 				; optimize OK (subway.pas), line = 84
 21047
 21048 7A43 A9 F4			lda #$F4
 21049 7A45 8D B2 A8			sta VALUE
 21050 7A48 A9 01			lda #$01
 21051 7A4A 8D B3 A8			sta VALUE+1
 21052 7A4D 4C 80 7A			jmp a_0015
 21053 7A50			l_51CC
 21054 7A50 C9 07			cmp #$07
 21055 7A52 D0 12			jne l_51D9
 21056
 21057 				; optimize OK (subway.pas), line = 87
 21058
 21059 7A54 A9 0B			lda #$0B
 21060 7A56 20 49 1C			jsr CRT_WRITELN_LOCSTR
 21061
 21062 				; optimize OK (subway.pas), line = 88
 21063
 21064 7A59 A9 20			lda #$20
 21065 7A5B 8D B2 A8			sta VALUE
 21066 7A5E A9 03			lda #$03
 21067 7A60 8D B3 A8			sta VALUE+1
 21068 7A63 4C 80 7A			jmp a_0015
 21069 7A66			l_51D9
 21070 7A66 C9 08			cmp #$08
 21071 7A68 D0 16			jne l_51E6
 21072
 21073 				; optimize OK (subway.pas), line = 91
 21074
 21075 7A6A A9 0C			lda #$0C
 21076 7A6C 20 49 1C			jsr CRT_WRITELN_LOCSTR
 21077
 21078 				; optimize OK (subway.pas), line = 92
 21079
 21080 7A6F AC 8A CD			ldy CURRENTPLAYER
 21081 7A72 B9 24 C9			lda adr.PLSTUFF,y
 21082 7A75 09 20			ora #$20
 21083 7A77 99 24 C9			sta adr.PLSTUFF,y
 21084
 21085 				; optimize FAIL ('WAITFORKEY', subway.pas), line = 93
 21086
 21087 7A7A 20 88 1D			jsr WAITFORKEY
 21088 7A7D 4C B8 7A			jmp @exit
 21089 7A80			l_51E6
 21090 7A80			a_0015
 21091
 21092 				; optimize FAIL ('WAITFORKEY', subway.pas), line = 97
 21093
 21094 7A80 20 88 1D			jsr WAITFORKEY
 21095
 21096 				; optimize OK (subway.pas), line = 98
 21097
 21098 7A83 AD B1 A8			lda LOOT
 21099 7A86 38 E9 01			sub #$01
 21100 7A89 50 02			svc
 21101 7A8B 49 80			eor #$80
 21102 7A8D 10 0B			jpl l_5216
 21103
 21104 				; optimize FAIL ('GOTCAUGHT', subway.pas), line = 99
 21105
 21106 7A8F 20 F9 35			jsr GOTCAUGHT
 21107
 21108 				; optimize OK (subway.pas), line = 100
 21109
 21110 7A92 A9 11			lda #$11
 21111 7A94 8D B0 A8			sta RESULT
 21112 7A97 4C B8 7A			jmp @exit
 21113 7A9A			l_5216
 21114
 21115 				; optimize OK (subway.pas), line = 103
 21116
 21117 7A9A AD 22 C9			lda CURRENTCHOICE
 21118 7A9D C9 02			cmp #$02
 21119 7A9F D0 03			jne l_5230
 21120 7AA1 20 24 82			jsr LOADMAP
 21121 7AA4			l_5230
 21122
 21123 				; optimize OK (subway.pas), line = 104
 21124
 21125 7AA4 AD B2 A8			lda VALUE
 21126 7AA7 8D 99 A7			sta ADDMONEY.AMOUNT
 21127 7AAA AD B3 A8			lda VALUE+1
 21128 7AAD 8D 9A A7			sta ADDMONEY.AMOUNT+1
 21129 7AB0 20 5F 2F			jsr ADDMONEY
 21130
 21131 				; optimize OK (subway.pas), line = 105
 21132
 21133 7AB3 A9 01			lda #$01
 21134 7AB5 20 B3 2F			jsr ADDPOINTS
 21135 7AB8			@exit
 21136
 21137 				; ------------------------------------------------------------
 21138
 21139 = A8B0			RESULT	= DATAORIGIN+$0C95
 21140 = A8B1			LOOT	= DATAORIGIN+$0C96
 21141 = A8B2			VALUE	= DATAORIGIN+$0C97
 21142 = A8B4			HOPS	= DATAORIGIN+$0C99
 21143 = A8B5			I	= DATAORIGIN+$0C9A
 21144 = A8B6			J	= DATAORIGIN+$0C9B
 21145 = A8B7			K	= DATAORIGIN+$0C9C
 21146 = A8B8			@CASETMP_0014	= DATAORIGIN+$0C9D
 21147 = A8B9			@CASETMP_0015	= DATAORIGIN+$0C9E
 21148
 21149 = A8B1			@VarData	= LOOT
 21150 = 0009			@VarDataSize	= 9
 21151
 21152 7AB8 60				rts						; ret
 21153 				.endl
 21154
 21155 7AB9			.local	CENTRALSTATIONCHOICES				; FUNCTION
 21156
 21157 				; optimize OK (centralstation.pas), line = 6
 21158
 21159 7AB9 A9 17			lda #$17
 21160 7ABB 8D BA A8			sta RESULT
 21161
 21162 				; optimize OK (centralstation.pas), line = 7
 21163
 21164 7ABE AD 22 C9			lda CURRENTCHOICE
 21165 7AC1 C9 01			cmp #$01
 21166 7AC3 D0 29			jne l_5253
 21167
 21168 				; optimize OK (centralstation.pas), line = 9
 21169
 21170 7AC5 A9 07			lda #$07
 21171 7AC7 20 BD 28			jsr LOADLOCATION
 21172
 21173 				; optimize OK (centralstation.pas), line = 10
 21174
 21175 7ACA A9 07			lda #$07
 21176 7ACC 20 15 2C			jsr SHOWLOCATION
 21177 7ACF AD 5D A7			lda SHOWLOCATION.RESULT
 21178 7AD2 8D 22 C9			sta CURRENTCHOICE
 21179
 21180 				; optimize OK (centralstation.pas), line = 11
 21181
 21182 7AD5 CD A9 C2			cmp LOC_NOPTIONS
 21183 7AD8 D0 08			jne l_526F
 21184
 21185 				; optimize OK (centralstation.pas), line = 13
 21186
 21187 7ADA A9 0F			lda #$0F
 21188 7ADC 8D 12 CA			sta CURRENTLOCATION
 21189 7ADF 4C B8 7B			jmp @exit
 21190 7AE2			l_526F
 21191
 21192 				; optimize FAIL ('PUBCHOICES', centralstation.pas), line = 16
 21193
 21194 7AE2 20 AE 6C			jsr PUBCHOICES
 21195 7AE5 AD 95 A8			lda PUBCHOICES.RESULT
 21196 7AE8 8D BA A8			sta RESULT
 21197 7AEB 4C B8 7B			jmp @exit
 21198 7AEE			l_5253
 21199
 21200 				; optimize OK (centralstation.pas), line = 20
 21201
 21202 7AEE AD 22 C9			lda CURRENTCHOICE
 21203 7AF1 C9 02			cmp #$02
 21204 7AF3 D0 16			jne l_528E
 21205
 21206 				; optimize OK (centralstation.pas), line = 22
 21207
 21208 7AF5 A9 0C			lda #$0C
 21209 7AF7 20 BD 28			jsr LOADLOCATION
 21210
 21211 				; optimize OK (centralstation.pas), line = 23
 21212
 21213 7AFA A9 01			lda #$01
 21214 7AFC 8D 22 C9			sta CURRENTCHOICE
 21215
 21216 				; optimize FAIL ('SUBWAYCHOICES', centralstation.pas), line = 24
 21217
 21218 7AFF 20 89 78			jsr SUBWAYCHOICES
 21219 7B02 AD B0 A8			lda SUBWAYCHOICES.RESULT
 21220 7B05 8D BA A8			sta RESULT
 21221 7B08 4C B8 7B			jmp @exit
 21222 7B0B			l_528E
 21223
 21224 				; optimize OK (centralstation.pas), line = 28
 21225
 21226 7B0B AD 22 C9			lda CURRENTCHOICE
 21227 7B0E C9 03			cmp #$03
 21228 7B10 F0 03 4C B8 7B		jne l_52AD
 21229
 21230 				; optimize FAIL ('SHOWLOCATIONHEADER', centralstation.pas), line = 30
 21231
 21232 7B15 20 18 28			jsr SHOWLOCATIONHEADER
 21233
 21234 				; optimize OK (centralstation.pas), line = 31
 21235
 21236 7B18 AC 8A CD			ldy CURRENTPLAYER
 21237 7B1B B9 60 C9			lda adr.PLOPPORTUNITY,y
 21238 7B1E 29 01			and #$01
 21239 7B20 D0 0B			jne l_52C8
 21240
 21241 				; optimize OK (centralstation.pas), line = 33
 21242
 21243 7B22 A9 01			lda #$01
 21244 7B24 20 49 1C			jsr CRT_WRITELN_LOCSTR
 21245
 21246 				; optimize FAIL ('WAITFORKEY', centralstation.pas), line = 34
 21247
 21248 7B27 20 88 1D			jsr WAITFORKEY
 21249 7B2A 4C B8 7B			jmp @exit
 21250 7B2D			l_52C8
 21251
 21252 				; optimize OK (centralstation.pas), line = 38
 21253
 21254 7B2D AC 8A CD			ldy CURRENTPLAYER
 21255 7B30 B9 60 C9			lda adr.PLOPPORTUNITY,y
 21256 7B33 29 FE			and #$FE
 21257 7B35 99 60 C9			sta adr.PLOPPORTUNITY,y
 21258
 21259 				; optimize OK (centralstation.pas), line = 40
 21260
 21261 7B38 B9 B1 CD			lda adr.PLNGANGSTERS,y
 21262 7B3B C9 03			cmp #$03
 21263 7B3D B0 0B			jcs l_52F3
 21264
 21265 				; optimize OK (centralstation.pas), line = 41
 21266
 21267 7B3F A9 02			lda #$02
 21268 7B41 20 49 1C			jsr CRT_WRITELN_LOCSTR
 21269
 21270 				; optimize FAIL ('WAITFORKEY', centralstation.pas), line = 42
 21271
 21272 7B44 20 88 1D			jsr WAITFORKEY
 21273 7B47 4C B8 7B			jmp @exit
 21274 7B4A			l_52F3
 21275
 21276 				; optimize OK (centralstation.pas), line = 46
 21277
 21278 7B4A A9 03			lda #$03
 21279 7B4C 20 49 1C			jsr CRT_WRITELN_LOCSTR
 21280
 21281 				; optimize OK (centralstation.pas), line = 47
 21282
 21283 7B4F A9 04			lda #$04
 21284 7B51 20 49 1C			jsr CRT_WRITELN_LOCSTR
 21285
 21286 				; optimize OK (centralstation.pas), line = 48
 21287
 21288 7B54 A9 05			lda #$05
 21289 7B56 20 49 1C			jsr CRT_WRITELN_LOCSTR
 21290
 21291 				; optimize FAIL ('WAITFORKEY', centralstation.pas), line = 49
 21292
 21293 7B59 20 88 1D			jsr WAITFORKEY
 21294
 21295 				; -------------------  ASM Block 00000163  -------------------
 21296
 21297 				 
 21298 7B5C AD 8E 9A		            lda loc_string_7
 21299 7B5F 8D 79 A3		            sta adr.FP_GANG+$02
 21300 7B62 AD 8F 9A		            lda loc_string_7+1
 21301 7B65 8D 7A A3		            sta adr.FP_GANG+1+$02
 21302 				        
 21303 				; optimize OK (centralstation.pas), line = 59
 21304
 21305 7B68 A9 01			lda #$01
 21306 7B6A 8D 02 E4			sta adr.FP_AI+$01
 21307
 21308 				; optimize OK (centralstation.pas), line = 60
 21309
 21310 7B6D A9 03			lda #$03
 21311 7B6F 8D 04 E4			sta adr.FP_N+$01
 21312
 21313 				; -------------------  ASM Block 00000164  -------------------
 21314
 21315 7B72 A0 00		            ldy #$00
 21316 				        @:
 21317 7B74 98			            tya 
 21318 7B75 0A			            asl 
 21319 7B76 A8			            tay
 21320
 21321 7B77 AD 90 9A		            lda loc_string_8
 21322 7B7A 99 9B A3		            sta adr.FP_NAME+$20,y
 21323 7B7D AD 91 9A		            lda loc_string_8+1
 21324 7B80 99 9C A3		            sta adr.FP_NAME+1+$20,y
 21325
 21326 7B83 98			            tya
 21327 7B84 4A			            lsr 
 21328 7B85 A8			            tay
 21329
 21330 7B86 A9 1E		            lda #30
 21331 7B88 99 95 E4		            sta adr.FP_ENERGY+$10,y
 21332 7B8B A9 07		            lda #7
 21333 7B8D 99 55 E4		            sta adr.FP_WEAPON+$10,y
 21334 7B90 C8			            iny
 21335 7B91 CC 04 E4		            cpy adr.FP_N+$01
 21336 7B94 D0 DE		            bne @- 
 21337 				        
 21338 				; optimize FAIL ('DOFIGHT', centralstation.pas), line = 93
 21339
 21340 7B96 20 66 4D			jsr DOFIGHT
 21341 7B99 AD 1C A8			lda DOFIGHT.RESULT
 21342 7B9C C9 01			cmp #$01
 21343 7B9E D0 0B			jne l_531A
 21344
 21345 				; optimize FAIL ('GOTCAUGHT', centralstation.pas), line = 95
 21346
 21347 7BA0 20 F9 35			jsr GOTCAUGHT
 21348
 21349 				; optimize OK (centralstation.pas), line = 96
 21350
 21351 7BA3 A9 11			lda #$11
 21352 7BA5 8D BA A8			sta RESULT
 21353 7BA8 4C B8 7B			jmp @exit
 21354 7BAB			l_531A
 21355
 21356 				; optimize OK (centralstation.pas), line = 99
 21357
 21358 7BAB A9 88			lda #$88
 21359 7BAD 8D 9F A7			sta CRACKEDBANK.P
 21360 7BB0 A9 13			lda #$13
 21361 7BB2 8D A0 A7			sta CRACKEDBANK.P+1
 21362 7BB5 20 FE 2F			jsr CRACKEDBANK
 21363 7BB8			l_52AD
 21364 7BB8			@exit
 21365
 21366 				; ------------------------------------------------------------
 21367
 21368 = A8BA			RESULT	= DATAORIGIN+$0C9F
 21369 = A8BB			R	= DATAORIGIN+$0CA0
 21370 = A8BC			K	= DATAORIGIN+$0CA1
 21371 = A8BD			OUTCOME	= DATAORIGIN+$0CA2
 21372
 21373 = A8BB			@VarData	= R
 21374 = 0003			@VarDataSize	= 3
 21375
 21376 7BB8 60				rts						; ret
 21377 				.endl
 21378
 21379 7BB9			.local	MAJORCHOICES					; FUNCTION
 21380
 21381 				; optimize OK (major.pas), line = 5
 21382
 21383 7BB9 A9 18			lda #$18
 21384 7BBB 20 BD 28			jsr LOADLOCATION
 21385
 21386 				; optimize FAIL ('SHOWLOCATIONHEADER', major.pas), line = 6
 21387
 21388 7BBE 20 18 28			jsr SHOWLOCATIONHEADER
 21389
 21390 				; optimize OK (major.pas), line = 8
 21391
 21392 7BC1 A9 06			lda #$06
 21393 7BC3 20 49 1C			jsr CRT_WRITELN_LOCSTR
 21394
 21395 				; optimize OK (major.pas), line = 9
 21396
 21397 7BC6 A9 07			lda #$07
 21398 7BC8 20 49 1C			jsr CRT_WRITELN_LOCSTR
 21399
 21400 				; optimize FAIL ('WAITFORKEY', major.pas), line = 10
 21401
 21402 7BCB 20 88 1D			jsr WAITFORKEY
 21403
 21404 				; optimize OK (major.pas), line = 12
 21405
 21406 7BCE AC 8A CD			ldy CURRENTPLAYER
 21407 7BD1 B9 60 C9			lda adr.PLOPPORTUNITY,y
 21408 7BD4 29 EF			and #$EF
 21409 7BD6 99 60 C9			sta adr.PLOPPORTUNITY,y
 21410
 21411 				; -------------------  ASM Block 00000165  -------------------
 21412
 21413 				 
 21414 7BD9 AD 90 9A		            lda loc_string_8
 21415 7BDC 8D 79 A3		            sta adr.FP_GANG+$02
 21416 7BDF AD 91 9A		            lda loc_string_8+1
 21417 7BE2 8D 7A A3		            sta adr.FP_GANG+1+$02
 21418 				        
 21419 				; optimize OK (major.pas), line = 22
 21420
 21421 7BE5 A9 01			lda #$01
 21422 7BE7 8D 02 E4			sta adr.FP_AI+$01
 21423
 21424 				; optimize OK (major.pas), line = 23
 21425
 21426 7BEA A9 05			lda #$05
 21427 7BEC 8D 04 E4			sta adr.FP_N+$01
 21428
 21429 				; -------------------  ASM Block 00000166  -------------------
 21430
 21431 7BEF A0 00		        ldy #$00
 21432 				    @:
 21433 7BF1 98			        tya 
 21434 7BF2 0A			        asl 
 21435 7BF3 A8			        tay
 21436
 21437 7BF4 AD 98 9A		        lda loc_string_12
 21438 7BF7 99 9B A3		        sta adr.FP_NAME+$20,y
 21439 7BFA AD 99 9A		        lda loc_string_12+1
 21440 7BFD 99 9C A3		        sta adr.FP_NAME+1+$20,y
 21441
 21442 7C00 98			        tya
 21443 7C01 4A			        lsr 
 21444 7C02 A8			        tay
 21445
 21446 7C03 A9 14		        lda #20
 21447 7C05 99 95 E4		        sta adr.FP_ENERGY+$10,y
 21448 7C08 A9 07		        lda #07
 21449 7C0A 99 55 E4		        sta adr.FP_WEAPON+$10,y
 21450 7C0D C8			        iny
 21451 7C0E CC 04 E4		        cpy adr.FP_N+$01
 21452 7C11 D0 DE		        bne @- 
 21453 				    
 21454 				; optimize FAIL ('DOFIGHT', major.pas), line = 55
 21455
 21456 7C13 20 66 4D			jsr DOFIGHT
 21457 7C16 AD 1C A8			lda DOFIGHT.RESULT
 21458 7C19 C9 01			cmp #$01
 21459 7C1B D0 0B			jne l_535C
 21460
 21461 				; optimize FAIL ('GOTCAUGHT', major.pas), line = 57
 21462
 21463 7C1D 20 F9 35			jsr GOTCAUGHT
 21464
 21465 				; optimize OK (major.pas), line = 58
 21466
 21467 7C20 A9 11			lda #$11
 21468 7C22 8D BE A8			sta RESULT
 21469 7C25 4C BB 7C			jmp @exit
 21470 7C28			l_535C
 21471
 21472 				; -------------------  ASM Block 00000167  -------------------
 21473
 21474 				 
 21475 7C28 AD 92 9A		        lda loc_string_9
 21476 7C2B 8D 79 A3		        sta adr.FP_GANG+$02
 21477 7C2E AD 93 9A		        lda loc_string_9+1
 21478 7C31 8D 7A A3		        sta adr.FP_GANG+1+$02
 21479 				    
 21480 				; optimize OK (major.pas), line = 70
 21481
 21482 7C34 A9 01			lda #$01
 21483 7C36 8D 02 E4			sta adr.FP_AI+$01
 21484
 21485 				; optimize OK (major.pas), line = 71
 21486
 21487 7C39 8D 04 E4			sta adr.FP_N+$01
 21488
 21489 				; optimize OK (major.pas), line = 72
 21490
 21491 7C3C AD 9B A3			lda adr.FP_NAME+$20
 21492 7C3F 85 8C			sta @move.dst
 21493 7C41 AD 9C A3			lda adr.FP_NAME+1+$20
 21494 7C44 85 8D			sta @move.dst+1
 21495 7C46 AD 92 9A			lda LOC_STRING_9
 21496 7C49 85 88			sta @move.src
 21497 7C4B AD 93 9A			lda LOC_STRING_9+1
 21498 7C4E 85 89			sta @move.src+1
 21499 7C50 A0 00			ldy #$00
 21500 7C52 B1 88			lda (@move.src),y
 21501 7C54 18 69 01			add #1
 21502 7C57 85 84			sta @move.cnt
 21503 7C59 90 01			scc
 21504 7C5B C8				iny
 21505 7C5C 84 85			sty @move.cnt+1
 21506 7C5E 20 D7 0E			jsr @move
 21507
 21508 				; optimize OK (major.pas), line = 73
 21509
 21510 7C61 A9 1E			lda #$1E
 21511 7C63 8D 95 E4			sta adr.FP_ENERGY+$10
 21512
 21513 				; optimize OK (major.pas), line = 74
 21514
 21515 7C66 A9 01			lda #$01
 21516 7C68 8D 55 E4			sta adr.FP_WEAPON+$10
 21517
 21518 				; optimize OK (major.pas), line = 75
 21519
 21520 7C6B A9 02			lda #$02
 21521 7C6D 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 21522 7C70 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 21523 7C73 8D BD A3			sta TMP
 21524
 21525 				; optimize OK (major.pas), line = 76
 21526
 21527 7C76 8D 55 E5			sta adr.FP_SEX+$10
 21528
 21529 				; optimize FAIL ('DOFIGHT', major.pas), line = 79
 21530
 21531 7C79 20 66 4D			jsr DOFIGHT
 21532 7C7C AD 1C A8			lda DOFIGHT.RESULT
 21533 7C7F C9 01			cmp #$01
 21534 7C81 D0 0B			jne l_539A
 21535
 21536 				; optimize FAIL ('GOTCAUGHT', major.pas), line = 81
 21537
 21538 7C83 20 F9 35			jsr GOTCAUGHT
 21539
 21540 				; optimize OK (major.pas), line = 82
 21541
 21542 7C86 A9 11			lda #$11
 21543 7C88 8D BE A8			sta RESULT
 21544 7C8B 4C BB 7C			jmp @exit
 21545 7C8E			l_539A
 21546
 21547 				; optimize FAIL ('SHOWLOCATIONHEADER', major.pas), line = 86
 21548
 21549 7C8E 20 18 28			jsr SHOWLOCATIONHEADER
 21550
 21551 				; optimize OK (major.pas), line = 87
 21552
 21553 7C91 A9 0A			lda #$0A
 21554 7C93 20 49 1C			jsr CRT_WRITELN_LOCSTR
 21555
 21556 				; optimize OK (major.pas), line = 88
 21557
 21558 7C96 A9 0B			lda #$0B
 21559 7C98 20 49 1C			jsr CRT_WRITELN_LOCSTR
 21560
 21561 				; optimize FAIL ('WAITFORKEY', major.pas), line = 89
 21562
 21563 7C9B 20 88 1D			jsr WAITFORKEY
 21564
 21565 				; optimize OK (major.pas), line = 90
 21566
 21567 7C9E A9 58			lda #$58
 21568 7CA0 8D 99 A7			sta ADDMONEY.AMOUNT
 21569 7CA3 A9 1B			lda #$1B
 21570 7CA5 8D 9A A7			sta ADDMONEY.AMOUNT+1
 21571 7CA8 20 5F 2F			jsr ADDMONEY
 21572
 21573 				; optimize OK (major.pas), line = 92
 21574
 21575 7CAB A9 04			lda #$04
 21576 7CAD 20 B3 2F			jsr ADDPOINTS
 21577
 21578 				; optimize OK (major.pas), line = 93
 21579
 21580 7CB0 AC 8A CD			ldy CURRENTPLAYER
 21581 7CB3 A9 01			lda #$01
 21582 7CB5 99 2C C9			sta adr.PLKILLEDMAJOR,y
 21583
 21584 				; optimize OK (major.pas), line = 94
 21585
 21586 7CB8 99 48 C9			sta adr.PLFORGEDID,y
 21587 7CBB			@exit
 21588
 21589 				; ------------------------------------------------------------
 21590
 21591 = A8BE			RESULT	= DATAORIGIN+$0CA3
 21592 = A8BF			K	= DATAORIGIN+$0CA4
 21593
 21594 = A8BF			@VarData	= K
 21595 = 0001			@VarDataSize	= 1
 21596
 21597 7CBB 60				rts						; ret
 21598 				.endl
 21599
 21600 7CBC			.local	MONEYTRANSPORTERCHOICES				; FUNCTION
 21601
 21602 				; optimize OK (moneytransporter.pas), line = 4
 21603
 21604 7CBC A9 03			lda #$03
 21605 7CBE 20 BD 28			jsr LOADLOCATION
 21606
 21607 				; optimize FAIL ('SHOWLOCATIONHEADER', moneytransporter.pas), line = 5
 21608
 21609 7CC1 20 18 28			jsr SHOWLOCATIONHEADER
 21610
 21611 				; optimize OK (moneytransporter.pas), line = 7
 21612
 21613 7CC4 AC 8A CD			ldy CURRENTPLAYER
 21614 7CC7 B9 B1 CD			lda adr.PLNGANGSTERS,y
 21615 7CCA C9 03			cmp #$03
 21616 7CCC B0 19			jcs l_53D6
 21617
 21618 				; optimize OK (moneytransporter.pas), line = 9
 21619
 21620 7CCE A9 01			lda #$01
 21621 7CD0 20 49 1C			jsr CRT_WRITELN_LOCSTR
 21622
 21623 				; optimize FAIL ('WAITFORKEY', moneytransporter.pas), line = 10
 21624
 21625 7CD3 20 88 1D			jsr WAITFORKEY
 21626
 21627 				; optimize OK (moneytransporter.pas), line = 11
 21628
 21629 7CD6 AC 8A CD			ldy CURRENTPLAYER
 21630 7CD9 B9 60 C9			lda adr.PLOPPORTUNITY,y
 21631 7CDC 29 FB			and #$FB
 21632 7CDE 99 60 C9			sta adr.PLOPPORTUNITY,y
 21633
 21634 				; optimize FAIL ('LOADMAP', moneytransporter.pas), line = 12
 21635
 21636 7CE1 20 24 82			jsr LOADMAP
 21637 7CE4 4C 63 7D			jmp @exit
 21638 7CE7			l_53D6
 21639
 21640 				; optimize OK (moneytransporter.pas), line = 16
 21641
 21642 7CE7 A9 02			lda #$02
 21643 7CE9 20 49 1C			jsr CRT_WRITELN_LOCSTR
 21644
 21645 				; optimize OK (moneytransporter.pas), line = 17
 21646
 21647 7CEC A9 03			lda #$03
 21648 7CEE 20 49 1C			jsr CRT_WRITELN_LOCSTR
 21649
 21650 				; optimize FAIL ('WAITFORKEY', moneytransporter.pas), line = 18
 21651
 21652 7CF1 20 88 1D			jsr WAITFORKEY
 21653
 21654 				; -------------------  ASM Block 00000168  -------------------
 21655
 21656 				 
 21657 7CF4 AD 88 9A		        lda loc_string_4
 21658 7CF7 8D 79 A3		        sta adr.FP_GANG+$02
 21659 7CFA AD 89 9A		        lda loc_string_4+1
 21660 7CFD 8D 7A A3		        sta adr.FP_GANG+1+$02
 21661 				    
 21662 				; optimize OK (moneytransporter.pas), line = 28
 21663
 21664 7D00 A9 01			lda #$01
 21665 7D02 8D 02 E4			sta adr.FP_AI+$01
 21666
 21667 				; optimize OK (moneytransporter.pas), line = 29
 21668
 21669 7D05 A9 0A			lda #$0A
 21670 7D07 8D 04 E4			sta adr.FP_N+$01
 21671
 21672 				; -------------------  ASM Block 00000169  -------------------
 21673
 21674 7D0A A0 00		        ldy #$00
 21675 				    @:
 21676 7D0C 98			        tya 
 21677 7D0D 0A			        asl 
 21678 7D0E A8			        tay
 21679
 21680 7D0F AD 8A 9A		        lda loc_string_5
 21681 7D12 99 9B A3		        sta adr.FP_NAME+$20,y
 21682 7D15 AD 8B 9A		        lda loc_string_5+1
 21683 7D18 99 9C A3		        sta adr.FP_NAME+1+$20,y
 21684
 21685 7D1B 98			        tya
 21686 7D1C 4A			        lsr 
 21687 7D1D A8			        tay
 21688
 21689 7D1E A9 32		        lda #50
 21690 7D20 99 95 E4		        sta adr.FP_ENERGY+$10,y
 21691 7D23 A9 07		        lda #07
 21692 7D25 99 55 E4		        sta adr.FP_WEAPON+$10,y
 21693 7D28 C8			        iny
 21694 7D29 CC 04 E4		        cpy adr.FP_N+$01
 21695 7D2C D0 DE		        bne @- 
 21696 				    
 21697 				; optimize OK (moneytransporter.pas), line = 63
 21698
 21699 7D2E AC 8A CD			ldy CURRENTPLAYER
 21700 7D31 B9 60 C9			lda adr.PLOPPORTUNITY,y
 21701 7D34 29 FB			and #$FB
 21702 7D36 99 60 C9			sta adr.PLOPPORTUNITY,y
 21703
 21704 				; optimize FAIL ('DOFIGHT', moneytransporter.pas), line = 64
 21705
 21706 7D39 20 66 4D			jsr DOFIGHT
 21707 7D3C AD 1C A8			lda DOFIGHT.RESULT
 21708 7D3F C9 01			cmp #$01
 21709 7D41 D0 0B			jne l_541C
 21710
 21711 				; optimize FAIL ('GOTCAUGHT', moneytransporter.pas), line = 66
 21712
 21713 7D43 20 F9 35			jsr GOTCAUGHT
 21714
 21715 				; optimize OK (moneytransporter.pas), line = 67
 21716
 21717 7D46 A9 11			lda #$11
 21718 7D48 8D C0 A8			sta RESULT
 21719 7D4B 4C 63 7D			jmp @exit
 21720 7D4E			l_541C
 21721
 21722 				; optimize OK (moneytransporter.pas), line = 70
 21723
 21724 7D4E AC 8A CD			ldy CURRENTPLAYER
 21725 7D51 A9 01			lda #$01
 21726 7D53 99 28 C9			sta adr.PLMONEYTRANSPORTER,y
 21727
 21728 				; optimize OK (moneytransporter.pas), line = 71
 21729
 21730 7D56 A9 10			lda #$10
 21731 7D58 8D 9F A7			sta CRACKEDBANK.P
 21732 7D5B A9 27			lda #$27
 21733 7D5D 8D A0 A7			sta CRACKEDBANK.P+1
 21734 7D60 20 FE 2F			jsr CRACKEDBANK
 21735 7D63			@exit
 21736
 21737 				; ------------------------------------------------------------
 21738
 21739 = A8C0			RESULT	= DATAORIGIN+$0CA5
 21740
 21741 7D63 60				rts						; ret
 21742 				.endl
 21743
 21744 7D64			.local	PRINTMAPSTATUS					; PROCEDURE
 21745
 21746 				; optimize OK (map.pas), line = 9
 21747
 21748 7D64 AD B9 A4			lda MAPRELOADED
 21749 7D67 F0 03 4C 28 80		jne l_5443
 21750
 21751 				; optimize OK (map.pas), line = 11
 21752
 21753 7D6C A9 00			lda #$00
 21754 7D6E A0 10			ldy #256-240
 21755 7D70 99 E8 DE C8 D0 FA		sta:rne $DEF8+240-256,y+
 21756
 21757 				; optimize OK (map.pas), line = 12
 21758
 21759 7D76 AC 8A CD			ldy CURRENTPLAYER
 21760 7D79 B9 98 C9			lda adr.PLRANK,y
 21761 7D7C 8D C2 A8			sta Z
 21762
 21763 				; optimize OK (map.pas), line = 13
 21764
 21765 7D7F 0A				asl @
 21766 7D80 A8				tay
 21767 7D81 B9 23 A4			lda adr.RANKNAMES+1,y
 21768 7D84 85 81			sta :bp+1
 21769 7D86 B9 22 A4			lda adr.RANKNAMES,y
 21770 7D89 A8				tay
 21771 7D8A B1 80			lda (:bp),y
 21772 7D8C 18 69 03			add #$03
 21773 7D8F 8D C1 A8			sta L
 21774
 21775 				; optimize OK (map.pas), line = 14
 21776
 21777 7D92 AD 8A CD			lda CURRENTPLAYER
 21778 7D95 0A				asl @
 21779 7D96 0A				asl @
 21780 7D97 0A				asl @
 21781 7D98 8D C3 A8			sta I
 21782
 21783 				; optimize OK (map.pas), line = 15
 21784
 21785 7D9B 0A				asl @
 21786 7D9C A8				tay
 21787 7D9D B9 E3 A3			lda adr.GANGSTERNAMES+1,y
 21788 7DA0 85 81			sta :bp+1
 21789 7DA2 B9 E2 A3			lda adr.GANGSTERNAMES,y
 21790 7DA5 A8				tay
 21791 7DA6 AD C1 A8			lda L
 21792 7DA9 18 71 80			add (:bp),y
 21793 7DAC 8D C4 A8			sta P
 21794
 21795 				; optimize OK (map.pas), line = 16
 21796
 21797 7DAF A9 28			lda #$28
 21798 7DB1 38 ED C4 A8			sub P
 21799 7DB5 8D BD A3			sta TMP
 21800
 21801 				; optimize OK (map.pas), line = 17
 21802
 21803 7DB8 4E BD A3			lsr TMP
 21804
 21805 				; optimize OK (map.pas), line = 18
 21806
 21807 7DBB AD BD A3			lda TMP
 21808 7DBE 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
 21809 7DC1 A9 13			lda #$13
 21810 7DC3 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
 21811 7DC6 20 F9 17			jsr B_CRT.CRT_GOTOXY
 21812
 21813 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', map.pas), line = 19
 21814
 21815 7DC9 E8				inx
 21816 7DCA AD C3 A8			lda I
 21817 7DCD 0A				asl @
 21818 7DCE A8				tay
 21819 7DCF B9 E2 A3			lda adr.GANGSTERNAMES,y
 21820 7DD2 95 94			sta :STACKORIGIN,x
 21821 7DD4 B9 E3 A3			lda adr.GANGSTERNAMES+1,y
 21822 7DD7 95 A4			sta :STACKORIGIN+STACKWIDTH,x
 21823 7DD9 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 21824
 21825 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', map.pas), line = 20
 21826
 21827 7DDC E8				inx
 21828 7DDD A9 9A 95 94			mva #$9A :STACKORIGIN,x
 21829 7DE1 A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 21830 7DE5 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 21831
 21832 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', map.pas), line = 21
 21833
 21834 7DE8 E8				inx
 21835 7DE9 AD C2 A8			lda Z
 21836 7DEC 0A				asl @
 21837 7DED A8				tay
 21838 7DEE B9 22 A4			lda adr.RANKNAMES,y
 21839 7DF1 95 94			sta :STACKORIGIN,x
 21840 7DF3 B9 23 A4			lda adr.RANKNAMES+1,y
 21841 7DF6 95 A4			sta :STACKORIGIN+STACKWIDTH,x
 21842 7DF8 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 21843
 21844 				; optimize OK (map.pas), line = 26
 21845
 21846 7DFB A9 09			lda #$09
 21847 7DFD 20 B2 18			jsr B_CRT.CRT_WRITE.@010186000
 21848
 21849 				; optimize OK (map.pas), line = 27
 21850
 21851 7E00 A9 00			lda #$00
 21852 7E02 8D 6D A3			sta B_CRT.CRT_INVERT.X
 21853 7E05 A9 13			lda #$13
 21854 7E07 8D 6E A3			sta B_CRT.CRT_INVERT.Y
 21855 7E0A AD 4A 9E			lda B_CRT.CRT_SCREENWIDTH
 21856 7E0D 8D 6F A3			sta B_CRT.CRT_INVERT.WIDTH
 21857 7E10 20 BD 1A			jsr B_CRT.CRT_INVERT
 21858
 21859 				; optimize OK (map.pas), line = 29
 21860
 21861 7E13 A9 00			lda #$00
 21862 7E15 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
 21863 7E18 A9 14			lda #$14
 21864 7E1A 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
 21865 7E1D 20 F9 17			jsr B_CRT.CRT_GOTOXY
 21866
 21867 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', map.pas), line = 30
 21868
 21869 7E20 E8				inx
 21870 7E21 AD D4 9B 95 94		mva MAP_STRING_WEAPON :STACKORIGIN,x
 21871 7E26 AD D5 9B 95 A4		mva MAP_STRING_WEAPON+1 :STACKORIGIN+STACKWIDTH,x
 21872 7E2B 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 21873
 21874 				; optimize OK (map.pas), line = 31
 21875
 21876 7E2E AC C3 A8			ldy I
 21877 7E31 B9 48 CD			lda adr.GANGSTERWEAPON,y
 21878 7E34 8D C2 A8			sta Z
 21879
 21880 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', map.pas), line = 32
 21881
 21882 7E37 E8				inx
 21883 7E38 AD C2 A8			lda Z
 21884 7E3B 0A				asl @
 21885 7E3C A8				tay
 21886 7E3D B9 38 A4			lda adr.WEAPONNAMES,y
 21887 7E40 95 94			sta :STACKORIGIN,x
 21888 7E42 B9 39 A4			lda adr.WEAPONNAMES+1,y
 21889 7E45 95 A4			sta :STACKORIGIN+STACKWIDTH,x
 21890 7E47 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 21891
 21892 				; optimize OK (map.pas), line = 34
 21893
 21894 7E4A A9 1D			lda #$1D
 21895 7E4C 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
 21896 7E4F A9 14			lda #$14
 21897 7E51 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
 21898 7E54 20 F9 17			jsr B_CRT.CRT_GOTOXY
 21899
 21900 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', map.pas), line = 35
 21901
 21902 7E57 E8				inx
 21903 7E58 AD D6 9B 95 94		mva MAP_STRING_GANGSTER :STACKORIGIN,x
 21904 7E5D AD D7 9B 95 A4		mva MAP_STRING_GANGSTER+1 :STACKORIGIN+STACKWIDTH,x
 21905 7E62 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 21906
 21907 				; optimize OK (map.pas), line = 36
 21908
 21909 7E65 AC 8A CD			ldy CURRENTPLAYER
 21910 7E68 B9 B1 CD			lda adr.PLNGANGSTERS,y
 21911 7E6B 38 E9 01			sub #$01
 21912 7E6E 8D BD A3			sta TMP
 21913
 21914 				; optimize OK (map.pas), line = 37
 21915
 21916 7E71 20 CB 18			jsr B_CRT.CRT_WRITE.@010180000
 21917
 21918 				; optimize OK (map.pas), line = 39
 21919
 21920 7E74 A9 00			lda #$00
 21921 7E76 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
 21922 7E79 A9 15			lda #$15
 21923 7E7B 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
 21924 7E7E 20 F9 17			jsr B_CRT.CRT_GOTOXY
 21925
 21926 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', map.pas), line = 40
 21927
 21928 7E81 E8				inx
 21929 7E82 AD DC 9B 95 94		mva MAP_STRING_CAR :STACKORIGIN,x
 21930 7E87 AD DD 9B 95 A4		mva MAP_STRING_CAR+1 :STACKORIGIN+STACKWIDTH,x
 21931 7E8C 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 21932
 21933 				; optimize OK (map.pas), line = 42
 21934
 21935 7E8F AC 8A CD			ldy CURRENTPLAYER
 21936 7E92 B9 4C C9			lda adr.PLCAR,y
 21937 7E95 8D C2 A8			sta Z
 21938
 21939 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', map.pas), line = 43
 21940
 21941 7E98 E8				inx
 21942 7E99 AD C2 A8			lda Z
 21943 7E9C 0A				asl @
 21944 7E9D A8				tay
 21945 7E9E B9 4A A4			lda adr.CARNAMES,y
 21946 7EA1 95 94			sta :STACKORIGIN,x
 21947 7EA3 B9 4B A4			lda adr.CARNAMES+1,y
 21948 7EA6 95 A4			sta :STACKORIGIN+STACKWIDTH,x
 21949 7EA8 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 21950
 21951 				; optimize OK (map.pas), line = 45
 21952
 21953 7EAB A9 28			lda #$28
 21954 7EAD 38 E9 03			sub #$03
 21955 7EB0 38 ED 92 EC			sub LEN_STRING_BRIBE
 21956 7EB4 8D C3 A8			sta I
 21957
 21958 				; optimize OK (map.pas), line = 46
 21959
 21960 7EB7 AC 8A CD			ldy CURRENTPLAYER
 21961 7EBA B9 7C C9			lda adr.PLBRIBE,y
 21962 7EBD C9 0A			cmp #$0A
 21963 7EBF B0 03			jcs l_5504
 21964 7EC1 EE C3 A8			inc I
 21965 7EC4			l_5504
 21966
 21967 				; optimize OK (map.pas), line = 47
 21968
 21969 7EC4 AD C3 A8			lda I
 21970 7EC7 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
 21971 7ECA A9 15			lda #$15
 21972 7ECC 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
 21973 7ECF 20 F9 17			jsr B_CRT.CRT_GOTOXY
 21974
 21975 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', map.pas), line = 48
 21976
 21977 7ED2 E8				inx
 21978 7ED3 AD DA 9B 95 94		mva MAP_STRING_BRIBE :STACKORIGIN,x
 21979 7ED8 AD DB 9B 95 A4		mva MAP_STRING_BRIBE+1 :STACKORIGIN+STACKWIDTH,x
 21980 7EDD 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 21981
 21982 				; optimize OK (map.pas), line = 49
 21983
 21984 7EE0 AC 8A CD			ldy CURRENTPLAYER
 21985 7EE3 B9 7C C9			lda adr.PLBRIBE,y
 21986 7EE6 20 CB 18			jsr B_CRT.CRT_WRITE.@010180000
 21987
 21988 				; optimize OK (map.pas), line = 51
 21989
 21990 7EE9 A9 00			lda #$00
 21991 7EEB 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
 21992 7EEE A9 16			lda #$16
 21993 7EF0 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
 21994 7EF3 20 F9 17			jsr B_CRT.CRT_GOTOXY
 21995
 21996 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', map.pas), line = 52
 21997
 21998 7EF6 E8				inx
 21999 7EF7 AD D8 9B 95 94		mva MAP_STRING_RENT :STACKORIGIN,x
 22000 7EFC AD D9 9B 95 A4		mva MAP_STRING_RENT+1 :STACKORIGIN+STACKWIDTH,x
 22001 7F01 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 22002
 22003 				; optimize OK (map.pas), line = 53
 22004
 22005 7F04 AC 8A CD			ldy CURRENTPLAYER
 22006 7F07 B9 74 C9			lda adr.PLRENTMONTHS,y
 22007 7F0A 20 CB 18			jsr B_CRT.CRT_WRITE.@010180000
 22008
 22009 				; optimize OK (map.pas), line = 55
 22010
 22011 7F0D A9 0F			lda #$0F
 22012 7F0F 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
 22013 7F12 A9 16			lda #$16
 22014 7F14 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
 22015 7F17 20 F9 17			jsr B_CRT.CRT_GOTOXY
 22016
 22017 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', map.pas), line = 56
 22018
 22019 7F1A E8				inx
 22020 7F1B AD DE 9B 95 94		mva MAP_STRING_STEPS :STACKORIGIN,x
 22021 7F20 AD DF 9B 95 A4		mva MAP_STRING_STEPS+1 :STACKORIGIN+STACKWIDTH,x
 22022 7F25 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 22023
 22024 				; optimize OK (map.pas), line = 57
 22025
 22026 7F28 AC 8A CD			ldy CURRENTPLAYER
 22027 7F2B B9 50 C9			lda adr.PLSTEPS,y
 22028 7F2E 8D BD A3			sta TMP
 22029
 22030 				; optimize OK (map.pas), line = 58
 22031
 22032 7F31 20 CB 18			jsr B_CRT.CRT_WRITE.@010180000
 22033
 22034 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', map.pas), line = 59
 22035
 22036 7F34 E8				inx
 22037 7F35 A9 B6 95 94			mva #$B6 :STACKORIGIN,x
 22038 7F39 A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 22039 7F3D 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 22040
 22041 				; optimize OK (map.pas), line = 60
 22042
 22043 7F40 AC 8A CD			ldy CURRENTPLAYER
 22044 7F43 B9 44 C9			lda adr.PLALCOHOL,y
 22045 7F46 8D C2 A8			sta Z
 22046
 22047 				; optimize OK (map.pas), line = 61
 22048
 22049 7F49 A9 1D			lda #$1D
 22050 7F4B 8D C3 A8			sta I
 22051
 22052 				; optimize OK (map.pas), line = 62
 22053
 22054 7F4E AD C2 A8			lda Z
 22055 7F51 C9 0A			cmp #$0A
 22056 7F53 B0 03			jcs l_5561
 22057 7F55 EE C3 A8			inc I
 22058 7F58			l_5561
 22059
 22060 				; optimize OK (map.pas), line = 63
 22061
 22062 7F58 AD C2 A8			lda Z
 22063 7F5B C9 64			cmp #$64
 22064 7F5D B0 03			jcs l_5580
 22065 7F5F EE C3 A8			inc I
 22066 7F62			l_5580
 22067
 22068 				; optimize OK (map.pas), line = 64
 22069
 22070 7F62 AD C3 A8			lda I
 22071 7F65 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
 22072 7F68 A9 16			lda #$16
 22073 7F6A 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
 22074 7F6D 20 F9 17			jsr B_CRT.CRT_GOTOXY
 22075
 22076 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', map.pas), line = 65
 22077
 22078 7F70 E8				inx
 22079 7F71 AD E0 9B 95 94		mva MAP_STRING_CARGO :STACKORIGIN,x
 22080 7F76 AD E1 9B 95 A4		mva MAP_STRING_CARGO+1 :STACKORIGIN+STACKWIDTH,x
 22081 7F7B 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 22082
 22083 				; optimize OK (map.pas), line = 66
 22084
 22085 7F7E AD C2 A8			lda Z
 22086 7F81 20 CB 18			jsr B_CRT.CRT_WRITE.@010180000
 22087
 22088 				; optimize OK (map.pas), line = 68
 22089
 22090 7F84 A9 00			lda #$00
 22091 7F86 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
 22092 7F89 A9 17			lda #$17
 22093 7F8B 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
 22094 7F8E 20 F9 17			jsr B_CRT.CRT_GOTOXY
 22095
 22096 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', map.pas), line = 69
 22097
 22098 7F91 E8				inx
 22099 7F92 AD E2 9B 95 94		mva MAP_STRING_MONEY :STACKORIGIN,x
 22100 7F97 AD E3 9B 95 A4		mva MAP_STRING_MONEY+1 :STACKORIGIN+STACKWIDTH,x
 22101 7F9C 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 22102
 22103 				; optimize OK (map.pas), line = 70
 22104
 22105 7F9F AD 8A CD			lda CURRENTPLAYER
 22106 7FA2 0A				asl @
 22107 7FA3 0A				asl @
 22108 7FA4 A8				tay
 22109 7FA5 B9 30 C9			lda adr.PLMONEY,y
 22110 7FA8 8D 5F A1			sta B_CRT.CRT_WRITE.@010185000.NUM
 22111 7FAB B9 31 C9			lda adr.PLMONEY+1,y
 22112 7FAE 8D 60 A1			sta B_CRT.CRT_WRITE.@010185000.NUM+1
 22113 7FB1 B9 32 C9			lda adr.PLMONEY+2,y
 22114 7FB4 8D 61 A1			sta B_CRT.CRT_WRITE.@010185000.NUM+2
 22115 7FB7 B9 33 C9			lda adr.PLMONEY+3,y
 22116 7FBA 8D 62 A1			sta B_CRT.CRT_WRITE.@010185000.NUM+3
 22117 7FBD 20 17 19			jsr B_CRT.CRT_WRITE.@010185000
 22118
 22119 				; optimize OK (map.pas), line = 72
 22120
 22121 7FC0 A9 17			lda #$17
 22122 7FC2 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
 22123 7FC5 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
 22124 7FC8 20 F9 17			jsr B_CRT.CRT_GOTOXY
 22125
 22126 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', map.pas), line = 73
 22127
 22128 7FCB E8				inx
 22129 7FCC AD E4 9B 95 94		mva MAP_STRING_CREDIT :STACKORIGIN,x
 22130 7FD1 AD E5 9B 95 A4		mva MAP_STRING_CREDIT+1 :STACKORIGIN+STACKWIDTH,x
 22131 7FD6 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 22132
 22133 				; optimize OK (map.pas), line = 74
 22134
 22135 7FD9 AD 8A CD			lda CURRENTPLAYER
 22136 7FDC 0A				asl @
 22137 7FDD A8				tay
 22138 7FDE B9 64 C9			lda adr.PLLOAN,y
 22139 7FE1 8D C5 A8			sta W
 22140 7FE4 B9 65 C9			lda adr.PLLOAN+1,y
 22141 7FE7 8D C6 A8			sta W+1
 22142
 22143 				; optimize OK (map.pas), line = 75
 22144
 22145 7FEA AD C5 A8			lda W
 22146 7FED 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 22147 7FF0 AD C6 A8			lda W+1
 22148 7FF3 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 22149 7FF6 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 22150
 22151 				; optimize OK (map.pas), line = 76
 22152
 22153 7FF9 A9 23			lda #$23
 22154 7FFB 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
 22155 7FFE A9 17			lda #$17
 22156 8000 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
 22157 8003 20 F9 17			jsr B_CRT.CRT_GOTOXY
 22158
 22159 				; optimize OK (map.pas), line = 77
 22160
 22161 8006 A9 08			lda #$08
 22162 8008 20 B2 18			jsr B_CRT.CRT_WRITE.@010186000
 22163
 22164 				; optimize OK (map.pas), line = 78
 22165
 22166 800B AC 8A CD			ldy CURRENTPLAYER
 22167 800E B9 6C C9			lda adr.PLLOANTIME,y
 22168 8011 8D BD A3			sta TMP
 22169
 22170 				; optimize OK (map.pas), line = 79
 22171
 22172 8014 20 CB 18			jsr B_CRT.CRT_WRITE.@010180000
 22173
 22174 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', map.pas), line = 80
 22175
 22176 8017 E8				inx
 22177 8018 A9 BA 95 94			mva #$BA :STACKORIGIN,x
 22178 801C A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 22179 8020 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 22180
 22181 				; optimize OK (map.pas), line = 81
 22182
 22183 8023 A9 01			lda #$01
 22184 8025 8D B9 A4			sta MAPRELOADED
 22185 8028			l_5443
 22186
 22187 				; optimize FAIL ('B_SYSTEM.WAITFRAME', map.pas), line = 83
 22188
 22189 8028 20 0C 17			jsr B_SYSTEM.WAITFRAME
 22190
 22191 				; optimize OK (map.pas), line = 84
 22192
 22193 802B A9 0F			lda #$0F
 22194 802D 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
 22195 8030 A9 16			lda #$16
 22196 8032 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
 22197 8035 20 F9 17			jsr B_CRT.CRT_GOTOXY
 22198
 22199 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', map.pas), line = 85
 22200
 22201 8038 E8				inx
 22202 8039 AD DE 9B 95 94		mva MAP_STRING_STEPS :STACKORIGIN,x
 22203 803E AD DF 9B 95 A4		mva MAP_STRING_STEPS+1 :STACKORIGIN+STACKWIDTH,x
 22204 8043 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 22205
 22206 				; optimize OK (map.pas), line = 86
 22207
 22208 8046 AC 8A CD			ldy CURRENTPLAYER
 22209 8049 B9 50 C9			lda adr.PLSTEPS,y
 22210 804C 8D BD A3			sta TMP
 22211
 22212 				; optimize OK (map.pas), line = 87
 22213
 22214 804F 20 CB 18			jsr B_CRT.CRT_WRITE.@010180000
 22215
 22216 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', map.pas), line = 88
 22217
 22218 8052 E8				inx
 22219 8053 A9 B6 95 94			mva #$B6 :STACKORIGIN,x
 22220 8057 A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 22221 805B 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 22222
 22223 				; ------------------------------------------------------------
 22224
 22225 = A8C1			L	= DATAORIGIN+$0CA6
 22226 = A8C2			Z	= DATAORIGIN+$0CA7
 22227 = A8C3			I	= DATAORIGIN+$0CA8
 22228 = A8C4			P	= DATAORIGIN+$0CA9
 22229 = A8C5			W	= DATAORIGIN+$0CAA
 22230
 22231 = A8C1			@VarData	= L
 22232 = 0006			@VarDataSize	= 6
 22233
 22234 805E			@exit
 22235 					.ifdef @new
 22236 					lda <@VarData
 22237 					sta :ztmp
 22238 					lda >@VarData
 22239 					ldy #@VarDataSize-1
 22240 					jmp @FreeMem
 22241 					els
 22242 805E 60				rts						; ret
 22243 					eif
 22244 				.endl
 22245
 22246 805F			.local	DRAWMAJORMONEY					; PROCEDURE
 22247
 22248 				; optimize OK (map.pas), line = 95
 22249
 22250 805F AD 90 CD			lda CURRENTMAP
 22251 8062 C9 07			cmp #$07
 22252 8064 F0 03 4C ED 81		jne l_55FB
 22253
 22254 				; optimize OK (map.pas), line = 101
 22255
 22256 8069 AC 8A CD			ldy CURRENTPLAYER
 22257 806C B9 60 C9			lda adr.PLOPPORTUNITY,y
 22258 806F 29 04			and #$04
 22259 8071 D0 55			jne l_5615
 22260
 22261 				; optimize OK (map.pas), line = 104
 22262
 22263 8073 A9 58			lda #$58
 22264 8075 8D 42 E2			sta $E242
 22265 8078 8D 43 E2			sta $E242+1
 22266
 22267 				; optimize OK (map.pas), line = 105
 22268
 22269 807B 8D 44 E2			sta $E244
 22270 807E 8D 45 E2			sta $E244+1
 22271
 22272 				; optimize OK (map.pas), line = 106
 22273
 22274 8081 8D 46 E2			sta $E246
 22275 8084 8D 47 E2			sta $E246+1
 22276
 22277 				; optimize OK (map.pas), line = 108
 22278
 22279 8087 A9 04			lda #$04
 22280 8089 8D 42 DE			sta $DE42
 22281
 22282 				; optimize OK (map.pas), line = 109
 22283
 22284 808C 8D 44 DE			sta $DE44
 22285
 22286 				; optimize OK (map.pas), line = 110
 22287
 22288 808F 8D 46 DE			sta $DE46
 22289
 22290 				; optimize OK (map.pas), line = 111
 22291
 22292 8092 A9 05			lda #$05
 22293 8094 8D 43 DE			sta $DE43
 22294
 22295 				; optimize OK (map.pas), line = 112
 22296
 22297 8097 8D 45 DE			sta $DE45
 22298
 22299 				; optimize OK (map.pas), line = 113
 22300
 22301 809A 8D 47 DE			sta $DE47
 22302
 22303 				; optimize OK (map.pas), line = 115
 22304
 22305 809D A9 2E			lda #$2E
 22306 809F 8D 6A E2			sta $E26A
 22307 80A2 8D 6B E2			sta $E26A+1
 22308
 22309 				; optimize OK (map.pas), line = 116
 22310
 22311 80A5 8D 6C E2			sta $E26C
 22312 80A8 8D 6D E2			sta $E26C+1
 22313
 22314 				; optimize OK (map.pas), line = 117
 22315
 22316 80AB 8D 6E E2			sta $E26E
 22317 80AE 8D 6F E2			sta $E26E+1
 22318
 22319 				; optimize OK (map.pas), line = 119
 22320
 22321 80B1 A9 1C			lda #$1C
 22322 80B3 8D 6A DE			sta $DE6A
 22323
 22324 				; optimize OK (map.pas), line = 120
 22325
 22326 80B6 8D 6C DE			sta $DE6C
 22327
 22328 				; optimize OK (map.pas), line = 121
 22329
 22330 80B9 8D 6E DE			sta $DE6E
 22331
 22332 				; optimize OK (map.pas), line = 122
 22333
 22334 80BC 8D 6B DE			sta $DE6B
 22335
 22336 				; optimize OK (map.pas), line = 123
 22337
 22338 80BF 8D 6D DE			sta $DE6D
 22339
 22340 				; optimize OK (map.pas), line = 124
 22341
 22342 80C2 8D 6F DE			sta $DE6F
 22343 80C5 4C 2A 81			jmp l_5655
 22344 80C8			l_5615
 22345
 22346 				; optimize OK (map.pas), line = 130
 22347
 22348 80C8 A9 4D			lda #$4D
 22349 80CA 8D 42 E2			sta $E242
 22350 80CD 8D 43 E2			sta $E242+1
 22351
 22352 				; optimize OK (map.pas), line = 131
 22353
 22354 80D0 8D 44 E2			sta $E244
 22355 80D3 8D 45 E2			sta $E244+1
 22356
 22357 				; optimize OK (map.pas), line = 132
 22358
 22359 80D6 8D 46 E2			sta $E246
 22360 80D9 8D 47 E2			sta $E246+1
 22361
 22362 				; optimize OK (map.pas), line = 133
 22363
 22364 80DC 8D 6A E2			sta $E26A
 22365 80DF 8D 6B E2			sta $E26A+1
 22366
 22367 				; optimize OK (map.pas), line = 134
 22368
 22369 80E2 8D 6C E2			sta $E26C
 22370 80E5 8D 6D E2			sta $E26C+1
 22371
 22372 				; optimize OK (map.pas), line = 135
 22373
 22374 80E8 8D 6E E2			sta $E26E
 22375 80EB 8D 6F E2			sta $E26E+1
 22376
 22377 				; optimize OK (moneytransporter_poke.pas), line = 1
 22378
 22379 80EE A9 49			lda #$49
 22380 80F0 8D 42 DE			sta $DE42
 22381 80F3 A9 4A			lda #$4A
 22382 80F5 8D 43 DE			sta $DE42+1
 22383
 22384 				; optimize OK (moneytransporter_poke.pas), line = 2
 22385
 22386 80F8 A9 4B			lda #$4B
 22387 80FA 8D 44 DE			sta $DE44
 22388 80FD A9 4C			lda #$4C
 22389 80FF 8D 45 DE			sta $DE44+1
 22390
 22391 				; optimize OK (moneytransporter_poke.pas), line = 3
 22392
 22393 8102 A9 4D			lda #$4D
 22394 8104 8D 46 DE			sta $DE46
 22395 8107 A9 4E			lda #$4E
 22396 8109 8D 47 DE			sta $DE46+1
 22397
 22398 				; optimize OK (moneytransporter_poke.pas), line = 4
 22399
 22400 810C A9 55			lda #$55
 22401 810E 8D 6A DE			sta $DE6A
 22402 8111 A9 56			lda #$56
 22403 8113 8D 6B DE			sta $DE6A+1
 22404
 22405 				; optimize OK (moneytransporter_poke.pas), line = 5
 22406
 22407 8116 A9 57			lda #$57
 22408 8118 8D 6C DE			sta $DE6C
 22409 811B A9 58			lda #$58
 22410 811D 8D 6D DE			sta $DE6C+1
 22411
 22412 				; optimize OK (moneytransporter_poke.pas), line = 6
 22413
 22414 8120 A9 59			lda #$59
 22415 8122 8D 6E DE			sta $DE6E
 22416 8125 A9 5A			lda #$5A
 22417 8127 8D 6F DE			sta $DE6E+1
 22418 812A			l_5655
 22419
 22420 				; optimize OK (map.pas), line = 142
 22421
 22422 812A AC 8A CD			ldy CURRENTPLAYER
 22423 812D B9 60 C9			lda adr.PLOPPORTUNITY,y
 22424 8130 29 10			and #$10
 22425 8132 D0 57			jne l_5692
 22426
 22427 				; optimize OK (map.pas), line = 146
 22428
 22429 8134 A9 58			lda #$58
 22430 8136 8D 0C E1			sta $E10C
 22431 8139 8D 0D E1			sta $E10C+1
 22432
 22433 				; optimize OK (map.pas), line = 147
 22434
 22435 813C 8D 0E E1			sta $E10E
 22436 813F 8D 0F E1			sta $E10E+1
 22437
 22438 				; optimize OK (map.pas), line = 149
 22439
 22440 8142 A9 2E			lda #$2E
 22441 8144 8D 34 E1			sta $E134
 22442 8147 8D 35 E1			sta $E134+1
 22443
 22444 				; optimize OK (map.pas), line = 150
 22445
 22446 814A 8D 36 E1			sta $E136
 22447 814D 8D 37 E1			sta $E136+1
 22448
 22449 				; optimize OK (map.pas), line = 152
 22450
 22451 8150 A9 04			lda #$04
 22452 8152 8D 0C DD			sta $DD0C
 22453
 22454 				; optimize OK (map.pas), line = 153
 22455
 22456 8155 8D 0E DD			sta $DD0E
 22457
 22458 				; optimize OK (map.pas), line = 154
 22459
 22460 8158 8D 34 DD			sta $DD34
 22461
 22462 				; optimize OK (map.pas), line = 155
 22463
 22464 815B 8D 36 DD			sta $DD36
 22465
 22466 				; optimize OK (map.pas), line = 156
 22467
 22468 815E A9 05			lda #$05
 22469 8160 8D 0D DD			sta $DD0D
 22470
 22471 				; optimize OK (map.pas), line = 157
 22472
 22473 8163 8D 0F DD			sta $DD0F
 22474
 22475 				; optimize OK (map.pas), line = 158
 22476
 22477 8166 8D 35 DD			sta $DD35
 22478
 22479 				; optimize OK (map.pas), line = 159
 22480
 22481 8169 8D 37 DD			sta $DD37
 22482
 22483 				; optimize OK (map.pas), line = 161
 22484
 22485 816C A9 2E			lda #$2E
 22486 816E 8D 5C E1			sta $E15C
 22487 8171 8D 5D E1			sta $E15C+1
 22488
 22489 				; optimize OK (map.pas), line = 162
 22490
 22491 8174 8D 5E E1			sta $E15E
 22492 8177 8D 5F E1			sta $E15E+1
 22493
 22494 				; optimize OK (map.pas), line = 163
 22495
 22496 817A A9 1C			lda #$1C
 22497 817C 8D 5C DD			sta $DD5C
 22498
 22499 				; optimize OK (map.pas), line = 164
 22500
 22501 817F 8D 5E DD			sta $DD5E
 22502
 22503 				; optimize OK (map.pas), line = 165
 22504
 22505 8182 8D 5D DD			sta $DD5D
 22506
 22507 				; optimize OK (map.pas), line = 166
 22508
 22509 8185 8D 5F DD			sta $DD5F
 22510 8188 4C ED 81			jmp l_56D2
 22511 818B			l_5692
 22512
 22513 				; optimize OK (map.pas), line = 172
 22514
 22515 818B A9 4E			lda #$4E
 22516 818D 8D 0C E1			sta $E10C
 22517 8190 8D 0D E1			sta $E10C+1
 22518
 22519 				; optimize OK (map.pas), line = 173
 22520
 22521 8193 8D 0E E1			sta $E10E
 22522 8196 8D 0F E1			sta $E10E+1
 22523
 22524 				; optimize OK (map.pas), line = 176
 22525
 22526 8199 8D 34 E1			sta $E134
 22527 819C 8D 35 E1			sta $E134+1
 22528
 22529 				; optimize OK (map.pas), line = 177
 22530
 22531 819F 8D 36 E1			sta $E136
 22532 81A2 8D 37 E1			sta $E136+1
 22533
 22534 				; optimize OK (map.pas), line = 178
 22535
 22536 81A5 8D 5C E1			sta $E15C
 22537 81A8 8D 5D E1			sta $E15C+1
 22538
 22539 				; optimize OK (map.pas), line = 179
 22540
 22541 81AB 8D 5E E1			sta $E15E
 22542 81AE 8D 5F E1			sta $E15E+1
 22543
 22544 				; optimize OK (major_poke.pas), line = 1
 22545
 22546 81B1 A9 29			lda #$29
 22547 81B3 8D 0C DD			sta $DD0C
 22548 81B6 A9 2A			lda #$2A
 22549 81B8 8D 0D DD			sta $DD0C+1
 22550
 22551 				; optimize OK (major_poke.pas), line = 2
 22552
 22553 81BB A9 2B			lda #$2B
 22554 81BD 8D 0E DD			sta $DD0E
 22555 81C0 A9 2C			lda #$2C
 22556 81C2 8D 0F DD			sta $DD0E+1
 22557
 22558 				; optimize OK (major_poke.pas), line = 3
 22559
 22560 81C5 A9 29			lda #$29
 22561 81C7 8D 34 DD			sta $DD34
 22562 81CA A9 35			lda #$35
 22563 81CC 8D 35 DD			sta $DD34+1
 22564
 22565 				; optimize OK (major_poke.pas), line = 4
 22566
 22567 81CF A9 36			lda #$36
 22568 81D1 8D 36 DD			sta $DD36
 22569 81D4 A9 37			lda #$37
 22570 81D6 8D 37 DD			sta $DD36+1
 22571
 22572 				; optimize OK (major_poke.pas), line = 5
 22573
 22574 81D9 A9 1C			lda #$1C
 22575 81DB 8D 5C DD			sta $DD5C
 22576 81DE A9 3E			lda #$3E
 22577 81E0 8D 5D DD			sta $DD5C+1
 22578
 22579 				; optimize OK (major_poke.pas), line = 6
 22580
 22581 81E3 A9 3F			lda #$3F
 22582 81E5 8D 5E DD			sta $DD5E
 22583 81E8 A9 40			lda #$40
 22584 81EA 8D 5F DD			sta $DD5E+1
 22585 81ED			l_56D2
 22586 81ED			l_55FB
 22587
 22588 81ED			@exit
 22589 					.ifdef @new
 22590 					lda <@VarData
 22591 					sta :ztmp
 22592 					lda >@VarData
 22593 					ldy #@VarDataSize-1
 22594 					jmp @FreeMem
 22595 					els
 22596 81ED 60				rts						; ret
 22597 					eif
 22598 				.endl
 22599
 22600 81EE			.local	PRELOADMAP					; PROCEDURE
 22601
 22602 				; optimize FAIL ('BLACKCONSOLE', map.pas), line = 191
 22603
 22604 81EE 20 6C 27			jsr BLACKCONSOLE
 22605
 22606 				; optimize OK (map.pas), line = 192
 22607
 22608 81F1 A9 41			lda #$41
 22609 81F3 18 6D 90 CD			add CURRENTMAP
 22610 81F7 8D 4F E7			sta adr.FNTNAME+$01
 22611
 22612 				; optimize OK (map.pas), line = 193
 22613
 22614 81FA AD 58 9B			lda FNTNAME
 22615 81FD 8D 07 A7			sta LOADXAPL.FNAME
 22616 8200 AD 59 9B			lda FNTNAME+1
 22617 8203 8D 08 A7			sta LOADXAPL.FNAME+1
 22618 8206 A9 00			lda #$00
 22619 8208 8D 09 A7			sta LOADXAPL.OUTPUTPOINTER
 22620 820B A9 D8			lda #$D8
 22621 820D 8D 0A A7			sta LOADXAPL.OUTPUTPOINTER+1
 22622 8210 20 20 27			jsr LOADXAPL
 22623
 22624 				; optimize FAIL ('CLEARSPRITES', map.pas), line = 194
 22625
 22626 8213 20 26 3D			jsr CLEARSPRITES
 22627
 22628 				; optimize OK (map.pas), line = 195
 22629
 22630 8216 A9 00			lda #$00
 22631 8218 20 4B 38			jsr PAINTPLAYER
 22632
 22633 				; optimize FAIL ('DRAWMAJORMONEY', map.pas), line = 198
 22634
 22635 821B 20 5F 80			jsr DRAWMAJORMONEY
 22636
 22637 				; optimize OK (map.pas), line = 199
 22638
 22639 821E A9 00			lda #$00
 22640 8220 8D B9 A4			sta MAPRELOADED
 22641
 22642 8223			@exit
 22643 					.ifdef @new
 22644 					lda <@VarData
 22645 					sta :ztmp
 22646 					lda >@VarData
 22647 					ldy #@VarDataSize-1
 22648 					jmp @FreeMem
 22649 					els
 22650 8223 60				rts						; ret
 22651 					eif
 22652 				.endl
 22653
 22654 8224			.local	LOADMAP						; PROCEDURE
 22655
 22656 				; optimize FAIL ('PRELOADMAP', map.pas), line = 206
 22657
 22658 8224 20 EE 81			jsr PRELOADMAP
 22659
 22660 				; optimize FAIL ('ENABLEMAPCONSOLE', map.pas), line = 207
 22661
 22662 8227 20 CE 27			jsr ENABLEMAPCONSOLE
 22663
 22664 				; optimize FAIL ('PRINTMAPSTATUS', map.pas), line = 208
 22665
 22666 822A 20 64 7D			jsr PRINTMAPSTATUS
 22667
 22668 822D			@exit
 22669 					.ifdef @new
 22670 					lda <@VarData
 22671 					sta :ztmp
 22672 					lda >@VarData
 22673 					ldy #@VarDataSize-1
 22674 					jmp @FreeMem
 22675 					els
 22676 822D 60				rts						; ret
 22677 					eif
 22678 				.endl
 22679
 22680 822E			.local	CHANGEMAP					; PROCEDURE
 22681
 22682 				; optimize OK (map.pas), line = 216
 22683
 22684 822E AD AE EA			lda PLAYERPOS_X
 22685 8231 C9 CB			cmp #$CB
 22686 8233 90 1E			jcc l_5731
 22687
 22688 				; optimize OK (map.pas), line = 219
 22689
 22690 8235 A9 31			lda #$31
 22691 8237 8D AE EA			sta PLAYERPOS_X
 22692
 22693 				; optimize OK (map.pas), line = 220
 22694
 22695 823A A9 00			lda #$00
 22696 823C 8D B0 EA			sta MAPPOS_X
 22697
 22698 				; optimize OK (map.pas), line = 221
 22699
 22700 823F AD 90 CD			lda CURRENTMAP
 22701 8242 C9 04			cmp #$04
 22702 8244 F0 0D			jeq l_5758
 22703 8246 C9 09			cmp #$09
 22704 8248 F0 09			jeq l_5758
 22705
 22706 				; optimize OK (map.pas), line = 223
 22707
 22708 824A EE 90 CD			inc CURRENTMAP
 22709
 22710 				; optimize FAIL ('LOADMAP', map.pas), line = 224
 22711
 22712 824D 20 24 82			jsr LOADMAP
 22713 8250 4C BC 82			jmp @exit
 22714 8253			l_5758
 22715 8253			l_5731
 22716
 22717 				; optimize OK (map.pas), line = 229
 22718
 22719 8253 AD AE EA			lda PLAYERPOS_X
 22720 8256 C9 2F			cmp #$2F
 22721 8258 B0 1C			jcs l_577A
 22722
 22723 				; optimize OK (map.pas), line = 232
 22724
 22725 825A A9 C9			lda #$C9
 22726 825C 8D AE EA			sta PLAYERPOS_X
 22727
 22728 				; optimize OK (map.pas), line = 233
 22729
 22730 825F A9 13			lda #$13
 22731 8261 8D B0 EA			sta MAPPOS_X
 22732
 22733 				; optimize OK (map.pas), line = 234
 22734
 22735 8264 AD 90 CD			lda CURRENTMAP
 22736 8267 F0 0D			jeq l_57A1
 22737 8269 C9 05			cmp #$05
 22738 826B F0 09			jeq l_57A1
 22739
 22740 				; optimize OK (map.pas), line = 236
 22741
 22742 826D CE 90 CD			dec CURRENTMAP
 22743
 22744 				; optimize FAIL ('LOADMAP', map.pas), line = 237
 22745
 22746 8270 20 24 82			jsr LOADMAP
 22747 8273 4C BC 82			jmp @exit
 22748 8276			l_57A1
 22749 8276			l_577A
 22750
 22751 				; optimize OK (map.pas), line = 242
 22752
 22753 8276 AD AF EA			lda PLAYERPOS_Y
 22754 8279 C9 AD			cmp #$AD
 22755 827B 90 1C			jcc l_57C3
 22756
 22757 				; optimize OK (map.pas), line = 244
 22758
 22759 827D A9 24			lda #$24
 22760 827F 8D AF EA			sta PLAYERPOS_Y
 22761
 22762 				; optimize OK (map.pas), line = 245
 22763
 22764 8282 A9 00			lda #$00
 22765 8284 8D B1 EA			sta MAPPOS_Y
 22766
 22767 				; optimize OK (map.pas), line = 246
 22768
 22769 8287 AD 90 CD			lda CURRENTMAP
 22770 828A C9 05			cmp #$05
 22771 828C B0 0B			jcs l_57DE
 22772
 22773 				; optimize OK (map.pas), line = 248
 22774
 22775 828E 69 05			adc #$05
 22776 8290 8D 90 CD			sta CURRENTMAP
 22777
 22778 				; optimize FAIL ('LOADMAP', map.pas), line = 249
 22779
 22780 8293 20 24 82			jsr LOADMAP
 22781 8296 4C BC 82			jmp @exit
 22782 8299			l_57DE
 22783 8299			l_57C3
 22784
 22785 				; optimize OK (map.pas), line = 254
 22786
 22787 8299 AD AF EA			lda PLAYERPOS_Y
 22788 829C C9 23			cmp #$23
 22789 829E B0 1C			jcs l_5800
 22790
 22791 				; optimize OK (map.pas), line = 256
 22792
 22793 82A0 A9 AC			lda #$AC
 22794 82A2 8D AF EA			sta PLAYERPOS_Y
 22795
 22796 				; optimize OK (map.pas), line = 257
 22797
 22798 82A5 A9 11			lda #$11
 22799 82A7 8D B1 EA			sta MAPPOS_Y
 22800
 22801 				; optimize OK (map.pas), line = 258
 22802
 22803 82AA AD 90 CD			lda CURRENTMAP
 22804 82AD C9 05			cmp #$05
 22805 82AF 90 0B			jcc l_581B
 22806
 22807 				; optimize OK (map.pas), line = 260
 22808
 22809 82B1 E9 05			sbc #$05
 22810 82B3 8D 90 CD			sta CURRENTMAP
 22811
 22812 				; optimize FAIL ('LOADMAP', map.pas), line = 261
 22813
 22814 82B6 20 24 82			jsr LOADMAP
 22815 82B9 4C BC 82			jmp @exit
 22816 82BC			l_581B
 22817 82BC			l_5800
 22818
 22819 82BC			@exit
 22820 					.ifdef @new
 22821 					lda <@VarData
 22822 					sta :ztmp
 22823 					lda >@VarData
 22824 					ldy #@VarDataSize-1
 22825 					jmp @FreeMem
 22826 					els
 22827 82BC 60				rts						; ret
 22828 					eif
 22829 				.endl
 22830
 22831 82BD			.local	M_READSTRINGI					; PROCEDURE
 22832
 22833 82BD AC C8 A8 84 82 AC + 	mwy R :bp2
 22834 82C7 A0 00			ldy #$00
 22835 82C9 A9 00 91 82			mva #$00 (:bp2),y
 22836
 22837 				; --- RepeatUntilProlog
 22838 82CD			l_5830
 22839
 22840 				; optimize FAIL ('B_CRT.CRT_READCHARI', setup_game.pas), line = 11
 22841
 22842 82CD 20 AF 19			jsr B_CRT.CRT_READCHARI
 22843 82D0 AD 67 A1			lda B_CRT.CRT_READCHARI.RESULT
 22844 82D3 8D CA A8			sta A
 22845
 22846 				; optimize OK (setup_game.pas), line = 12
 22847
 22848 82D6 C9 DB			cmp #$DB
 22849 82D8 D0 03 4C 67 83		jeq @exit
 22850 82DD			l_5846
 22851
 22852 				; optimize OK (setup_game.pas), line = 13
 22853
 22854 82DD AD CA A8			lda A
 22855 82E0 C9 7E			cmp #$7E
 22856 82E2 D0 3B			jne l_5868
 22857 82E4 AC C8 A8 84 82 AC + 	mwy R :bp2
 22858 82EE A0 00			ldy #$00
 22859 82F0 B1 82			lda (:bp2),y
 22860 82F2 F0 2B			jeq l_5868
 22861
 22862 				; optimize FAIL (0, setup_game.pas), line = 14
 22863
 22864 82F4 AD 4C 9E			lda B_CRT.CRT_CURSOR
 22865 82F7 D0 03			bne @+
 22866 82F9 CE 4D 9E			dec B_CRT.CRT_CURSOR+1
 22867 				@
 22868 82FC CE 4C 9E			dec B_CRT.CRT_CURSOR
 22869
 22870 				; optimize OK (setup_game.pas), line = 15
 22871
 22872 82FF AC 4D 9E			ldy B_CRT.CRT_CURSOR+1
 22873 8302 84 81			sty :bp+1
 22874 8304 AC 4C 9E			ldy B_CRT.CRT_CURSOR
 22875 8307 A9 00			lda #$00
 22876 8309 91 80			sta (:bp),y
 22877
 22878 				; optimize OK (setup_game.pas), line = 16
 22879
 22880 830B AC C8 A8 84 82 AC + 	mwy R :bp2
 22881 8315 A0 00			ldy #$00
 22882 8317 B1 82			lda (:bp2),y
 22883 8319 38 E9 01			sub #$01
 22884 831C 4C 62 83			jmp l_587C
 22885 831F			l_5868
 22886
 22887 				; optimize OK (setup_game.pas), line = 18
 22888
 22889 831F AD CA A8			lda A
 22890 8322 C9 C2			cmp #$C2
 22891 8324 F0 3E			jeq l_58CD
 22892 8326 C9 C1			cmp #$C1
 22893 8328 F0 3A			jeq l_58CD
 22894 832A C9 7F			cmp #$7F
 22895 832C F0 36			jeq l_58CD
 22896 832E C9 5B			cmp #$5B
 22897 8330 F0 32			jeq l_58CD
 22898 8332 C9 7E			cmp #$7E
 22899 8334 F0 2E			jeq l_58CD
 22900 8336 AC C9 A8 84 81		mvy R+1 :bp+1
 22901 833B AC C8 A8			ldy R
 22902 833E B1 80			lda (:bp),y
 22903 8340 CD C7 A8			cmp LIMIT
 22904 8343 B0 1F			jcs l_58CD
 22905
 22906 				; optimize OK (setup_game.pas), line = 24
 22907
 22908 8345 AD CA A8			lda A
 22909 8348 20 41 19			jsr B_CRT.CRT_PUT.@010180000
 22910
 22911 				; optimize OK (setup_game.pas), line = 25
 22912
 22913 834B AC C8 A8 84 82 AC + 	mwy R :bp2
 22914 8355 A0 00			ldy #$00
 22915 8357 B1 82			lda (:bp2),y
 22916 8359 18 69 01			add #$01
 22917 835C 91 82			sta (:bp2),y
 22918
 22919 				; optimize OK (setup_game.pas), line = 26
 22920
 22921 835E A8				tay
 22922 835F AD CA A8			lda A
 22923 8362			l_587C
 22924 8362 91 82			sta (:bp2),y
 22925 8364			l_58CD
 22926
 22927 				; optimize OK (setup_game.pas), line = 28
 22928
 22929 8364 4C CD 82			jmp l_5830
 22930
 22931 				; ------------------------------------------------------------
 22932
 22933 = A8C7			LIMIT	= DATAORIGIN+$0CAC
 22934 = A8C8			R	= DATAORIGIN+$0CAD
 22935 = A8CA			A	= DATAORIGIN+$0CAF
 22936
 22937 = A8C7			@VarData	= LIMIT
 22938 = 0004			@VarDataSize	= 4
 22939
 22940 8367			@exit
 22941 					.ifdef @new
 22942 					lda <@VarData
 22943 					sta :ztmp
 22944 					lda >@VarData
 22945 					ldy #@VarDataSize-1
 22946 					jmp @FreeMem
 22947 					els
 22948 8367 60				rts						; ret
 22949 					eif
 22950 				.endl
 22951
 22952 8368			.local	SETUPGAME					; PROCEDURE
 22953
 22954 				; optimize OK (setup_game.pas), line = 38
 22955
 22956 8368 A9 1C			lda #$1C
 22957 836A 20 BD 28			jsr LOADLOCATION
 22958
 22959 				; optimize FAIL ('SHOWLOCATIONHEADER', setup_game.pas), line = 41
 22960
 22961 836D 20 18 28			jsr SHOWLOCATIONHEADER
 22962
 22963 				; optimize FAIL ('CHECKFORSAVEDGAME', setup_game.pas), line = 42
 22964
 22965 8370 20 F4 23			jsr CHECKFORSAVEDGAME
 22966
 22967 				; optimize OK (setup_game.pas), line = 43
 22968
 22969 8373 AD 05 C2			lda SAVE_GAMEFOUND
 22970 8376 C9 01			cmp #$01
 22971 8378 D0 2F			jne l_58FF
 22972
 22973 				; optimize OK (setup_game.pas), line = 44
 22974
 22975 837A A9 03			lda #$03
 22976 837C 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 22977 837F A9 0F			lda #$0F
 22978 8381 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 22979 8384 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 22980
 22981 				; optimize OK (setup_game.pas), line = 45
 22982
 22983 8387 A9 04			lda #$04
 22984 8389 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 22985 838C A9 10			lda #$10
 22986 838E 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 22987 8391 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 22988
 22989 				; optimize FAIL ('GETYESNO', setup_game.pas), line = 46
 22990
 22991 8394 20 46 1F			jsr GETYESNO
 22992 8397 AD E8 A6			lda GETYESNO.RESULT
 22993 839A C9 01			cmp #$01
 22994 839C D0 0B			jne l_5916
 22995
 22996 				; optimize FAIL ('LOADGAME', setup_game.pas), line = 47
 22997
 22998 839E 20 36 24			jsr LOADGAME
 22999
 23000 				; optimize OK (setup_game.pas), line = 48
 23001
 23002 83A1 A9 FE			lda #$FE
 23003 83A3 8D 21 C9			sta LASTLOCATIONSTRINGS
 23004 83A6 4C E0 86			jmp @exit
 23005 83A9			l_5916
 23006 83A9			l_58FF
 23007
 23008 				; optimize FAIL ('SHOWLOCATIONHEADER', setup_game.pas), line = 53
 23009
 23010 83A9 20 18 28			jsr SHOWLOCATIONHEADER
 23011
 23012 				; optimize OK (setup_game.pas), line = 54
 23013
 23014 83AC A9 03			lda #$03
 23015 83AE 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 23016 83B1 A9 0E			lda #$0E
 23017 83B3 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 23018 83B6 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 23019
 23020 				; optimize OK (setup_game.pas), line = 55
 23021
 23022 83B9 A9 3E			lda #$3E
 23023 83BB 8D DF A6			sta GETANSWERCHAR.AKEY
 23024 83BE A9 00			lda #$00
 23025 83C0 8D E0 A6			sta GETANSWERCHAR.BKEY
 23026 83C3 A9 33			lda #$33
 23027 83C5 8D E1 A6			sta GETANSWERCHAR.A
 23028 83C8 A9 2C			lda #$2C
 23029 83CA 8D E2 A6			sta GETANSWERCHAR.B
 23030 83CD 20 CA 1E			jsr GETANSWERCHAR
 23031 83D0 AD E3 A6			lda GETANSWERCHAR.RESULT
 23032 83D3 8D CC A8			sta R
 23033
 23034 				; optimize OK (setup_game.pas), line = 56
 23035
 23036 83D6 D0 0A			jne l_593E
 23037
 23038 				; optimize OK (setup_game.pas), line = 57
 23039
 23040 83D8 A9 19			lda #$19
 23041 83DA 8D C4 CA			sta GAMELENGTH
 23042
 23043 				; optimize OK (setup_game.pas), line = 58
 23044
 23045 83DD A9 64			lda #$64
 23046 83DF 4C E9 83			jmp l_5950
 23047 83E2			l_593E
 23048
 23049 				; optimize OK (setup_game.pas), line = 62
 23050
 23051 83E2 A9 32			lda #$32
 23052 83E4 8D C4 CA			sta GAMELENGTH
 23053
 23054 				; optimize OK (setup_game.pas), line = 63
 23055
 23056 83E7 A9 C8			lda #$C8
 23057 83E9			l_5950
 23058 83E9 8D C5 CA			sta GAMEPOINTS
 23059 83EC A9 00			lda #$00
 23060 83EE 8D C6 CA			sta GAMEPOINTS+1
 23061
 23062 				; optimize OK (setup_game.pas), line = 66
 23063
 23064 83F1 A9 05			lda #$05
 23065 83F3 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 23066 83F6 A9 03			lda #$03
 23067 83F8 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 23068 83FB 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 23069
 23070 				; optimize OK (setup_game.pas), line = 67
 23071
 23072 83FE A9 01			lda #$01
 23073 8400 8D E9 A6			sta READVALUE.MINVALUE
 23074 8403 A9 00			lda #$00
 23075 8405 8D EA A6			sta READVALUE.MINVALUE+1
 23076 8408 A9 04			lda #$04
 23077 840A 8D EB A6			sta READVALUE.MAXVALUE
 23078 840D A9 00			lda #$00
 23079 840F 8D EC A6			sta READVALUE.MAXVALUE+1
 23080 8412 20 64 1F			jsr READVALUE
 23081 8415 AD ED A6			lda READVALUE.RESULT
 23082 8418 8D 20 C9			sta NPLAYERS
 23083
 23084 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', setup_game.pas), line = 68
 23085
 23086 841B 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 23087
 23088 				; optimize OK (setup_game.pas), line = 71
 23089
 23090 841E AD 34 9B			lda PLGANGSTERS
 23091 8421 85 82			sta :bp2
 23092 8423 AD 35 9B			lda PLGANGSTERS+1
 23093 8426 85 83			sta :bp2+1
 23094 8428 A9 63			lda #$63
 23095 842A A0 1F			ldy #$1F
 23096 842C 91 82 88 10 FB		sta:rpl (:bp2),y-
 23097
 23098 				; optimize OK (setup_game.pas), line = 72
 23099
 23100 8431 A9 00			lda #$00
 23101 8433 8D CB A8			sta J
 23102 8436 AC 20 C9			ldy NPLAYERS
 23103 8439 88				dey
 23104 843A 8C 3E 84			sty @FORTMP_5973_0
 23105
 23106 843D			l_5976
 23107 				; --- ForToDoCondition
 23108 843D A9 00			lda @FORTMP_5973_0::#$00
 23109 843F CD CB A8			cmp J
 23110 8442 B0 03 4C CE 86		jcc l_5984
 23111
 23112 				; optimize OK (setup_game.pas), line = 74
 23113
 23114 8447 AD CB A8			lda J
 23115 844A 8D 8A CD			sta CURRENTPLAYER
 23116
 23117 				; optimize OK (setup_game.pas), line = 75
 23118
 23119 844D 0A				asl @
 23120 844E 0A				asl @
 23121 844F 0A				asl @
 23122 8450 8D BD A3			sta TMP
 23123
 23124 				; optimize FAIL ('SHOWLOCATIONHEADER', setup_game.pas), line = 77
 23125
 23126 8453 20 18 28			jsr SHOWLOCATIONHEADER
 23127
 23128 				; optimize OK (setup_game.pas), line = 80
 23129
 23130 8456 A9 04			lda #$04
 23131 8458 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 23132 845B 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 23133 845E 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 23134
 23135 				; optimize OK (setup_game.pas), line = 81
 23136
 23137 8461 AD CB A8			lda J
 23138 8464 18 69 01			add #$01
 23139 8467 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 23140 846A A9 00			lda #$00
 23141 846C 69 00			adc #$00
 23142 846E 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 23143 8471 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 23144
 23145 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', setup_game.pas), line = 82
 23146
 23147 8474 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 23148
 23149 				; --- RepeatUntilProlog
 23150 8477			l_59A2
 23151
 23152 				; optimize OK (setup_game.pas), line = 85
 23153
 23154 8477 A9 06			lda #$06
 23155 8479 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 23156 847C A9 05			lda #$05
 23157 847E 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 23158 8481 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 23159
 23160 				; optimize OK (setup_game.pas), line = 86
 23161
 23162 8484 A9 0B			lda #$0B
 23163 8486 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
 23164 8489 A9 07			lda #$07
 23165 848B 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
 23166 848E 20 F9 17			jsr B_CRT.CRT_GOTOXY
 23167
 23168 				; optimize OK (setup_game.pas), line = 87
 23169
 23170 8491 A9 00			lda #$00
 23171 8493 85 AD			sta :STACKORIGIN+STACKWIDTH+9
 23172 8495 AD BD A3			lda TMP
 23173 8498 0A				asl @
 23174 8499 26 AD			rol :STACKORIGIN+STACKWIDTH+9
 23175 849B 18 69 E2			add <adr.GANGSTERNAMES
 23176 849E 85 82			sta :bp2
 23177 84A0 A9 A3			lda >adr.GANGSTERNAMES
 23178 84A2 65 AD			adc :STACKORIGIN+STACKWIDTH+9
 23179 84A4 85 83			sta :bp2+1
 23180 84A6 A0 00			ldy #$00
 23181 84A8 B1 82			lda (:bp2),y
 23182 84AA 8D C8 A8			sta M_READSTRINGI.R
 23183 84AD C8				iny
 23184 84AE B1 82			lda (:bp2),y
 23185 84B0 8D C9 A8			sta M_READSTRINGI.R+1
 23186 84B3 A9 0F			lda #$0F
 23187 84B5 8D C7 A8			sta M_READSTRINGI.LIMIT
 23188 84B8 20 BD 82			jsr M_READSTRINGI
 23189
 23190 				; optimize OK (setup_game.pas), line = 88
 23191
 23192 84BB AD BD A3			lda TMP
 23193 84BE 0A				asl @
 23194 84BF A8				tay
 23195 84C0 B9 E3 A3			lda adr.GANGSTERNAMES+1,y
 23196 84C3 85 81			sta :bp+1
 23197 84C5 B9 E2 A3			lda adr.GANGSTERNAMES,y
 23198 84C8 A8				tay
 23199 84C9 B1 80			lda (:bp),y
 23200 84CB F0 AA			jeq l_59A2
 23201
 23202 				; optimize OK (setup_game.pas), line = 91
 23203
 23204 84CD AC 8A CD			ldy CURRENTPLAYER
 23205 84D0 A9 01			lda #$01
 23206 84D2 99 B1 CD			sta adr.PLNGANGSTERS,y
 23207
 23208 				; optimize OK (setup_game.pas), line = 92
 23209
 23210 84D5 AC BD A3			ldy TMP
 23211 84D8 AD CB A8			lda J
 23212 84DB 99 91 CD			sta adr.PLGANGSTERS,y
 23213
 23214 				; --- RepeatUntilProlog
 23215 84DE			l_59CB
 23216
 23217 				; optimize OK (setup_game.pas), line = 95
 23218
 23219 84DE A9 09			lda #$09
 23220 84E0 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 23221 84E3 A9 06			lda #$06
 23222 84E5 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 23223 84E8 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 23224
 23225 				; optimize OK (setup_game.pas), line = 96
 23226
 23227 84EB A9 0B			lda #$0B
 23228 84ED 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
 23229 84F0 A9 0A			lda #$0A
 23230 84F2 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
 23231 84F5 20 F9 17			jsr B_CRT.CRT_GOTOXY
 23232
 23233 				; optimize OK (setup_game.pas), line = 97
 23234
 23235 84F8 A9 00			lda #$00
 23236 84FA 85 AD			sta :STACKORIGIN+STACKWIDTH+9
 23237 84FC AD 8A CD			lda CURRENTPLAYER
 23238 84FF 0A				asl @
 23239 8500 26 AD			rol :STACKORIGIN+STACKWIDTH+9
 23240 8502 18 69 DA			add <adr.PLGANG
 23241 8505 85 82			sta :bp2
 23242 8507 A9 A3			lda >adr.PLGANG
 23243 8509 65 AD			adc :STACKORIGIN+STACKWIDTH+9
 23244 850B 85 83			sta :bp2+1
 23245 850D A0 00			ldy #$00
 23246 850F B1 82			lda (:bp2),y
 23247 8511 8D C8 A8			sta M_READSTRINGI.R
 23248 8514 C8				iny
 23249 8515 B1 82			lda (:bp2),y
 23250 8517 8D C9 A8			sta M_READSTRINGI.R+1
 23251 851A A9 0F			lda #$0F
 23252 851C 8D C7 A8			sta M_READSTRINGI.LIMIT
 23253 851F 20 BD 82			jsr M_READSTRINGI
 23254
 23255 				; optimize OK (setup_game.pas), line = 98
 23256
 23257 8522 AD 8A CD			lda CURRENTPLAYER
 23258 8525 0A				asl @
 23259 8526 A8				tay
 23260 8527 B9 DB A3			lda adr.PLGANG+1,y
 23261 852A 85 81			sta :bp+1
 23262 852C B9 DA A3			lda adr.PLGANG,y
 23263 852F A8				tay
 23264 8530 B1 80			lda (:bp),y
 23265 8532 F0 AA			jeq l_59CB
 23266
 23267 				; optimize OK (setup_game.pas), line = 100
 23268
 23269 8534 A9 0C			lda #$0C
 23270 8536 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 23271 8539 A9 07			lda #$07
 23272 853B 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 23273 853E 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 23274
 23275 				; optimize OK (setup_game.pas), line = 101
 23276
 23277 8541 A9 0E			lda #$0E
 23278 8543 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 23279 8546 A9 0D			lda #$0D
 23280 8548 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 23281 854B 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 23282
 23283 				; optimize OK (setup_game.pas), line = 102
 23284
 23285 854E A9 38			lda #$38
 23286 8550 8D DF A6			sta GETANSWERCHAR.AKEY
 23287 8553 A9 25			lda #$25
 23288 8555 8D E0 A6			sta GETANSWERCHAR.BKEY
 23289 8558 A9 26			lda #$26
 23290 855A 8D E1 A6			sta GETANSWERCHAR.A
 23291 855D A9 2D			lda #$2D
 23292 855F 8D E2 A6			sta GETANSWERCHAR.B
 23293 8562 20 CA 1E			jsr GETANSWERCHAR
 23294 8565 AD E3 A6			lda GETANSWERCHAR.RESULT
 23295 8568 8D CC A8			sta R
 23296
 23297 				; optimize OK (setup_game.pas), line = 104
 23298
 23299 856B A9 01			lda #$01
 23300 856D 38 ED CC A8			sub R
 23301 8571 AC BD A3			ldy TMP
 23302 8574 99 68 CD			sta adr.GANGSTERSEX,y
 23303
 23304 				; optimize OK (setup_game.pas), line = 106
 23305
 23306 8577 A9 0F			lda #$0F
 23307 8579 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 23308 857C A9 08			lda #$08
 23309 857E 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 23310 8581 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 23311
 23312 				; optimize FAIL (1, setup_game.pas), line = 107
 23313
 23314 8584 E8				inx
 23315 8585 AD BD A3 95 94		mva TMP :STACKORIGIN,x
 23316 858A A9 00 95 A4			mva #$00 :STACKORIGIN+STACKWIDTH,x
 23317 858E A9 0A			lda #$0A
 23318 8590 8D D3 A6			sta GETRANDOM.MINP
 23319 8593 A9 00			lda #$00
 23320 8595 8D D4 A6			sta GETRANDOM.MINP+1
 23321 8598 A9 23			lda #$23
 23322 859A 8D D5 A6			sta GETRANDOM.MAXP
 23323 859D A9 00			lda #$00
 23324 859F 8D D6 A6			sta GETRANDOM.MAXP+1
 23325 85A2 A9 02			lda #$02
 23326 85A4 8D D7 A6			sta GETRANDOM.STEPS
 23327 85A7 A9 00			lda #$00
 23328 85A9 8D D8 A6			sta GETRANDOM.STEPS+1
 23329 85AC 20 0E 1E			jsr GETRANDOM
 23330 85AF E8				inx
 23331 85B0 AD D9 A6 95 94		mva GETRANDOM.RESULT :STACKORIGIN,x
 23332 85B5 AD DA A6 95 A4		mva GETRANDOM.RESULT+1 :STACKORIGIN+STACKWIDTH,x
 23333 85BA B4 93			ldy :STACKORIGIN-1,x
 23334 85BC B5 94			lda :STACKORIGIN,x
 23335 85BE 99 C8 CC			sta adr.GANGSTERSTR,y
 23336 85C1 CA				dex
 23337 85C2 CA				dex
 23338
 23339 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', setup_game.pas), line = 108
 23340
 23341 85C3 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 23342
 23343 				; optimize OK (setup_game.pas), line = 110
 23344
 23345 85C6 A9 10			lda #$10
 23346 85C8 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 23347 85CB A9 09			lda #$09
 23348 85CD 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 23349 85D0 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 23350
 23351 				; optimize FAIL (1, setup_game.pas), line = 111
 23352
 23353 85D3 E8				inx
 23354 85D4 AD BD A3 95 94		mva TMP :STACKORIGIN,x
 23355 85D9 A9 00 95 A4			mva #$00 :STACKORIGIN+STACKWIDTH,x
 23356 85DD A9 0A			lda #$0A
 23357 85DF 8D D3 A6			sta GETRANDOM.MINP
 23358 85E2 A9 00			lda #$00
 23359 85E4 8D D4 A6			sta GETRANDOM.MINP+1
 23360 85E7 A9 23			lda #$23
 23361 85E9 8D D5 A6			sta GETRANDOM.MAXP
 23362 85EC A9 00			lda #$00
 23363 85EE 8D D6 A6			sta GETRANDOM.MAXP+1
 23364 85F1 A9 02			lda #$02
 23365 85F3 8D D7 A6			sta GETRANDOM.STEPS
 23366 85F6 A9 00			lda #$00
 23367 85F8 8D D8 A6			sta GETRANDOM.STEPS+1
 23368 85FB 20 0E 1E			jsr GETRANDOM
 23369 85FE E8				inx
 23370 85FF AD D9 A6 95 94		mva GETRANDOM.RESULT :STACKORIGIN,x
 23371 8604 AD DA A6 95 A4		mva GETRANDOM.RESULT+1 :STACKORIGIN+STACKWIDTH,x
 23372 8609 B4 93			ldy :STACKORIGIN-1,x
 23373 860B B5 94			lda :STACKORIGIN,x
 23374 860D 99 E8 CC			sta adr.GANGSTERINT,y
 23375 8610 CA				dex
 23376 8611 CA				dex
 23377
 23378 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', setup_game.pas), line = 112
 23379
 23380 8612 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 23381
 23382 				; optimize OK (setup_game.pas), line = 114
 23383
 23384 8615 A9 11			lda #$11
 23385 8617 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 23386 861A A9 0A			lda #$0A
 23387 861C 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 23388 861F 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 23389
 23390 				; optimize FAIL (1, setup_game.pas), line = 115
 23391
 23392 8622 E8				inx
 23393 8623 AD BD A3 95 94		mva TMP :STACKORIGIN,x
 23394 8628 A9 00 95 A4			mva #$00 :STACKORIGIN+STACKWIDTH,x
 23395 862C A9 0A			lda #$0A
 23396 862E 8D D3 A6			sta GETRANDOM.MINP
 23397 8631 A9 00			lda #$00
 23398 8633 8D D4 A6			sta GETRANDOM.MINP+1
 23399 8636 A9 23			lda #$23
 23400 8638 8D D5 A6			sta GETRANDOM.MAXP
 23401 863B A9 00			lda #$00
 23402 863D 8D D6 A6			sta GETRANDOM.MAXP+1
 23403 8640 A9 02			lda #$02
 23404 8642 8D D7 A6			sta GETRANDOM.STEPS
 23405 8645 A9 00			lda #$00
 23406 8647 8D D8 A6			sta GETRANDOM.STEPS+1
 23407 864A 20 0E 1E			jsr GETRANDOM
 23408 864D E8				inx
 23409 864E AD D9 A6 95 94		mva GETRANDOM.RESULT :STACKORIGIN,x
 23410 8653 AD DA A6 95 A4		mva GETRANDOM.RESULT+1 :STACKORIGIN+STACKWIDTH,x
 23411 8658 B4 93			ldy :STACKORIGIN-1,x
 23412 865A B5 94			lda :STACKORIGIN,x
 23413 865C 99 08 CD			sta adr.GANGSTERBRUT,y
 23414 865F CA				dex
 23415 8660 CA				dex
 23416
 23417 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', setup_game.pas), line = 116
 23418
 23419 8661 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 23420
 23421 				; optimize OK (setup_game.pas), line = 118
 23422
 23423 8664 AC BD A3			ldy TMP
 23424 8667 A9 1E			lda #$1E
 23425 8669 99 28 CD			sta adr.GANGSTERHEALTH,y
 23426
 23427 				; optimize OK (setup_game.pas), line = 119
 23428
 23429 866C A9 12			lda #$12
 23430 866E 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 23431 8671 A9 0C			lda #$0C
 23432 8673 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 23433 8676 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 23434
 23435 				; optimize FAIL (1, setup_game.pas), line = 120
 23436
 23437 8679 E8				inx
 23438 867A AD 8A CD 95 94		mva CURRENTPLAYER :STACKORIGIN,x
 23439 867F A9 00			lda #$00
 23440 8681 16 94			asl :STACKORIGIN,x
 23441 8683 2A				rol @
 23442 8684 16 94			asl :STACKORIGIN,x
 23443 8686 2A				rol @
 23444 8687 95 A4			sta :STACKORIGIN+STACKWIDTH,x
 23445 8689 A9 88			lda #$88
 23446 868B 8D D3 A6			sta GETRANDOM.MINP
 23447 868E A9 13			lda #$13
 23448 8690 8D D4 A6			sta GETRANDOM.MINP+1
 23449 8693 A9 0F			lda #$0F
 23450 8695 8D D5 A6			sta GETRANDOM.MAXP
 23451 8698 A9 27			lda #$27
 23452 869A 8D D6 A6			sta GETRANDOM.MAXP+1
 23453 869D A9 FA			lda #$FA
 23454 869F 8D D7 A6			sta GETRANDOM.STEPS
 23455 86A2 A9 00			lda #$00
 23456 86A4 8D D8 A6			sta GETRANDOM.STEPS+1
 23457 86A7 20 0E 1E			jsr GETRANDOM
 23458 86AA B4 94			ldy :STACKORIGIN,x
 23459 86AC AD D9 A6			lda GETRANDOM.RESULT
 23460 86AF 99 30 C9			sta adr.PLMONEY,y
 23461 86B2 AD DA A6			lda GETRANDOM.RESULT+1
 23462 86B5 99 31 C9			sta adr.PLMONEY+1,y
 23463 86B8 A9 00			lda #$00
 23464 86BA 99 32 C9			sta adr.PLMONEY+2,y
 23465 86BD A9 00			lda #$00
 23466 86BF 99 33 C9			sta adr.PLMONEY+3,y
 23467 86C2 CA				dex
 23468
 23469 				; optimize FAIL ('WAITFORKEY', setup_game.pas), line = 121
 23470
 23471 86C3 20 88 1D			jsr WAITFORKEY
 23472
 23473 				; --- ForToDoEpilog
 23474 86C6 EE CB A8			inc J
 23475 86C9 F0 03 4C 3D 84		jne l_5976
 23476 86CE			l_5984
 23477
 23478 				; optimize FAIL ('INITPLAYERS', setup_game.pas), line = 125
 23479
 23480 86CE 20 0E 2E			jsr INITPLAYERS
 23481
 23482 				; optimize OK (setup_game.pas), line = 126
 23483
 23484 86D1 A9 00			lda #$00
 23485 86D3 8D 8A CD			sta CURRENTPLAYER
 23486
 23487 				; optimize OK (setup_game.pas), line = 127
 23488
 23489 86D6 A9 01			lda #$01
 23490 86D8 8D C2 CA			sta CURRENTMONTH
 23491
 23492 				; optimize OK (setup_game.pas), line = 128
 23493
 23494 86DB A9 00			lda #$00
 23495 86DD 8D C3 CA			sta CURRENTYEAR
 23496
 23497 				; ------------------------------------------------------------
 23498
 23499 = A8CB			J	= DATAORIGIN+$0CB0
 23500 = A8CC			R	= DATAORIGIN+$0CB1
 23501 = A8CD			K	= DATAORIGIN+$0CB2
 23502
 23503 = A8CB			@VarData	= J
 23504 = 0003			@VarDataSize	= 3
 23505
 23506 86E0			@exit
 23507 					.ifdef @new
 23508 					lda <@VarData
 23509 					sta :ztmp
 23510 					lda >@VarData
 23511 					ldy #@VarDataSize-1
 23512 					jmp @FreeMem
 23513 					els
 23514 86E0 60				rts						; ret
 23515 					eif
 23516 				.endl
 23517
 23518 86E1			.local	JOBWORKING					; PROCEDURE
 23519
 23520 				; optimize FAIL ('ENABLECONSOLE', updates.pas), line = 5
 23521
 23522 86E1 20 8E 27			jsr ENABLECONSOLE
 23523
 23524 				; optimize FAIL ('B_CRT.CRT_CLEAR.@00', updates.pas), line = 6
 23525
 23526 86E4 20 D1 17			jsr B_CRT.CRT_CLEAR.@00
 23527
 23528 				; optimize FAIL ('B_CRT.CRT_WRITECENTERED.@02018986000001000180000', updates.pas), line = 7
 23529
 23530 86E7 E8				inx
 23531 86E8 AC 5E 9A 84 82 AC + 	mwy LOC_NAME :bp2
 23532 86F2 A0 00			ldy #$00
 23533 86F4 B1 82 99 6A A1 C8 + 	mva:rne (:bp2),y B_CRT.CRT_WRITECENTERED.@02018986000001000180000.adr.S,y+
 23534 86FC E8				inx
 23535 86FD A9 01 95 94			mva #$01 :STACKORIGIN,x
 23536 8701 20 2C 1A			jsr B_CRT.CRT_WRITECENTERED.@02018986000001000180000
 23537
 23538 				; optimize OK (updates.pas), line = 8
 23539
 23540 8704 A9 00			lda #$00
 23541 8706 8D 6D A3			sta B_CRT.CRT_INVERT.X
 23542 8709 A9 01			lda #$01
 23543 870B 8D 6E A3			sta B_CRT.CRT_INVERT.Y
 23544 870E AD 4A 9E			lda B_CRT.CRT_SCREENWIDTH
 23545 8711 8D 6F A3			sta B_CRT.CRT_INVERT.WIDTH
 23546 8714 20 BD 1A			jsr B_CRT.CRT_INVERT
 23547
 23548 				; optimize OK (updates.pas), line = 9
 23549
 23550 8717 A9 00			lda #$00
 23551 8719 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
 23552 871C A9 03			lda #$03
 23553 871E 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
 23554 8721 20 F9 17			jsr B_CRT.CRT_GOTOXY
 23555
 23556 8724			@exit
 23557 					.ifdef @new
 23558 					lda <@VarData
 23559 					sta :ztmp
 23560 					lda >@VarData
 23561 					ldy #@VarDataSize-1
 23562 					jmp @FreeMem
 23563 					els
 23564 8724 60				rts						; ret
 23565 					eif
 23566 				.endl
 23567
 23568 8725			.local	UPDATERANK					; PROCEDURE
 23569
 23570 				; optimize OK (updates.pas), line = 20
 23571
 23572 8725 AC 8A CD			ldy CURRENTPLAYER
 23573 8728 B9 98 C9			lda adr.PLRANK,y
 23574 872B 8D CF A8			sta OLDRANK
 23575
 23576 				; optimize OK (updates.pas), line = 21
 23577
 23578 872E B9 A0 C9			lda adr.PLNEWPOINTS,y
 23579 8731 30 31			jmi l_5A84
 23580 8733 F0 2F			jeq l_5A84
 23581
 23582 				; optimize OK (updates.pas), line = 22
 23583
 23584 8735 B9 9C C9			lda adr.PLPOINTS,y
 23585 8738 18 79 A0 C9			add adr.PLNEWPOINTS,y
 23586 873C 99 9C C9			sta adr.PLPOINTS,y
 23587
 23588 				; optimize OK (updates.pas), line = 25
 23589
 23590 873F 85 9D			sta :STACKORIGIN+9
 23591 8741 AD C5 CA			lda GAMEPOINTS
 23592 8744 18 69 0A			add #$0A
 23593 8747 85 9E			sta :STACKORIGIN+10
 23594 8749 AD C6 CA			lda GAMEPOINTS+1
 23595 874C 69 00			adc #$00
 23596 874E C9 00			cmp #$00
 23597 8750 D0 04			bne @+
 23598 8752 A5 9E			lda :STACKORIGIN+10
 23599 8754 C5 9D			cmp :STACKORIGIN+9
 23600 				@
 23601 8756 B0 09			jcs l_5AB4
 23602 8758 AD C5 CA			lda GAMEPOINTS
 23603 875B 18 69 0A			add #$0A
 23604 875E 99 9C C9			sta adr.PLPOINTS,y
 23605 8761			l_5AB4
 23606 8761 4C 9C 87			jmp l_5ACC
 23607 8764			l_5A84
 23608
 23609 				; optimize OK (updates.pas), line = 29
 23610
 23611 8764 AC 8A CD			ldy CURRENTPLAYER
 23612 8767 B9 9C C9			lda adr.PLPOINTS,y
 23613 876A 85 9D			sta :STACKORIGIN+9
 23614 876C B9 A0 C9			lda adr.PLNEWPOINTS,y
 23615 876F 85 9E			sta :STACKORIGIN+10
 23616 8771 A0 00			ldy #$00
 23617 8773 A5 9E			lda :STACKORIGIN+10
 23618 8775 10 01			spl
 23619 8777 88				dey
 23620 8778 84 AE			sty :STACKORIGIN+STACKWIDTH+10
 23621 877A A5 9D			lda :STACKORIGIN+9
 23622 877C 18 65 9E			add :STACKORIGIN+10
 23623 877F 8D D1 A8			sta K
 23624 8782 A9 00			lda #$00
 23625 8784 65 AE			adc :STACKORIGIN+STACKWIDTH+10
 23626 8786 8D D2 A8			sta K+1
 23627
 23628 				; optimize OK (updates.pas), line = 30
 23629
 23630 8789 10 08			jpl l_5AEF
 23631 878B A9 00			lda #$00
 23632 878D 8D D1 A8			sta K
 23633 8790 8D D2 A8			sta K+1
 23634 8793			l_5AEF
 23635
 23636 				; optimize OK (updates.pas), line = 31
 23637
 23638 8793 AC 8A CD			ldy CURRENTPLAYER
 23639 8796 AD D1 A8			lda K
 23640 8799 99 9C C9			sta adr.PLPOINTS,y
 23641 879C			l_5ACC
 23642
 23643 				; optimize OK (updates.pas), line = 33
 23644
 23645 879C AC 8A CD			ldy CURRENTPLAYER
 23646 879F A9 00			lda #$00
 23647 87A1 99 A0 C9			sta adr.PLNEWPOINTS,y
 23648
 23649 				; optimize OK (updates.pas), line = 35
 23650
 23651 87A4 A9 0A			lda #$0A
 23652 87A6 85 8C			sta @WORD.DIV.B
 23653 87A8 A9 00			lda #$00
 23654 87AA 85 8D			sta @WORD.DIV.B+1
 23655 87AC AD C5 CA			lda GAMEPOINTS
 23656 87AF 85 84			sta @WORD.DIV.A
 23657 87B1 AD C6 CA			lda GAMEPOINTS+1
 23658 87B4 85 85			sta @WORD.DIV.A+1
 23659 87B6 20 24 11			jsr @WORD.DIV
 23660 87B9 A5 84			lda :eax
 23661 87BB 8D D3 A8			sta D
 23662
 23663 				; optimize OK (updates.pas), line = 36
 23664
 23665 87BE AC 8A CD			ldy CURRENTPLAYER
 23666 87C1 B9 9C C9			lda adr.PLPOINTS,y
 23667 87C4 18 69 05			add #$05
 23668 87C7 85 84			sta @WORD.DIV.A
 23669 87C9 A9 00			lda #$00
 23670 87CB 69 00			adc #$00
 23671 87CD 85 85			sta @WORD.DIV.A+1
 23672 87CF AD D3 A8			lda D
 23673 87D2 85 8C			sta @WORD.DIV.B
 23674 87D4 A9 00			lda #$00
 23675 87D6 85 8D			sta @WORD.DIV.B+1
 23676 87D8 20 24 11			jsr @WORD.DIV
 23677 87DB A5 84			lda :eax
 23678 87DD 8D D0 A8			sta NEWRANK
 23679
 23680 				; optimize OK (updates.pas), line = 37
 23681
 23682 87E0 C9 0B			cmp #$0B
 23683 87E2 90 05			jcc l_5B33
 23684 87E4 A9 0A			lda #$0A
 23685 87E6 8D D0 A8			sta NEWRANK
 23686 87E9			l_5B33
 23687
 23688 				; optimize OK (updates.pas), line = 43
 23689
 23690 87E9 AD CF A8			lda OLDRANK
 23691 87EC CD D0 A8			cmp NEWRANK
 23692 87EF 90 03 4C 0B 89		jcs l_5B4E
 23693
 23694 				; optimize FAIL ('BLACKCONSOLE', updates.pas), line = 45
 23695
 23696 87F4 20 6C 27			jsr BLACKCONSOLE
 23697
 23698 				; optimize OK (updates.pas), line = 46
 23699
 23700 87F7 A9 13			lda #$13
 23701 87F9 20 BD 28			jsr LOADLOCATION
 23702
 23703 				; optimize OK (updates.pas), line = 47
 23704
 23705 87FC A9 00			lda #$00
 23706 87FE 8D AE EA			sta PLAYERPOS_X
 23707
 23708 				; optimize OK (updates.pas), line = 48
 23709
 23710 8801 8D AF EA			sta PLAYERPOS_Y
 23711
 23712 				; optimize OK (updates.pas), line = 49
 23713
 23714 8804 85 88			sta SYSTEM.FILLCHAR.@03018000001810000188000.A
 23715 8806 A9 DC			lda #$DC
 23716 8808 85 89			sta SYSTEM.FILLCHAR.@03018000001810000188000.A+1
 23717 880A A9 C0			lda #$C0
 23718 880C 85 8C			sta SYSTEM.FILLCHAR.@03018000001810000188000.COUNT
 23719 880E A9 03			lda #$03
 23720 8810 85 8D			sta SYSTEM.FILLCHAR.@03018000001810000188000.COUNT+1
 23721 8812 A9 00			lda #$00
 23722 8814 85 84			sta SYSTEM.FILLCHAR.@03018000001810000188000.VALUE
 23723 8816				.LOCAL +MAIN.SYSTEM.FILLCHAR.@03018000001810000188000
 23724 8816				m@INLINE
Macro: MAIN.SYSTEM.FILLCHAR.@03018000001810000188000.M@INLINE [Source: main.a65]
     4 8816 20 2C 0F			jsr @fill
Source: main.a65
 23725 					.ENDL
 23726
 23727 				; optimize OK (updates.pas), line = 50
 23728
 23729 8819 AD 8A CD			lda CURRENTPLAYER
 23730 881C 0A				asl @
 23731 881D 0A				asl @
 23732 881E 0A				asl @
 23733 881F 8D BD A3			sta TMP
 23734
 23735 				; optimize OK (updates.pas), line = 51
 23736
 23737 8822 A8				tay
 23738 8823 B9 68 CD			lda adr.GANGSTERSEX,y
 23739 8826 D0 0C			jne l_5B7D
 23740
 23741 				; optimize OK (updates.pas), line = 52
 23742
 23743 8828 AD 5A 9B			lda WANTED_M_FNAME
 23744 882B 8D 07 A7			sta LOADXAPL.FNAME
 23745 882E AD 5B 9B			lda WANTED_M_FNAME+1
 23746 8831 4C 3D 88			jmp l_5B8B
 23747 8834			l_5B7D
 23748
 23749 				; optimize OK (updates.pas), line = 54
 23750
 23751 8834 AD 5C 9B			lda WANTED_F_FNAME
 23752 8837 8D 07 A7			sta LOADXAPL.FNAME
 23753 883A AD 5D 9B			lda WANTED_F_FNAME+1
 23754 883D			l_5B8B
 23755 883D 8D 08 A7			sta LOADXAPL.FNAME+1
 23756 8840 A9 00			lda #$00
 23757 8842 8D 09 A7			sta LOADXAPL.OUTPUTPOINTER
 23758 8845 A9 D8			lda #$D8
 23759 8847 8D 0A A7			sta LOADXAPL.OUTPUTPOINTER+1
 23760 884A 20 20 27			jsr LOADXAPL
 23761
 23762 				; optimize FAIL ('ENABLEMAPCONSOLE', updates.pas), line = 55
 23763
 23764 884D 20 CE 27			jsr ENABLEMAPCONSOLE
 23765
 23766 				; optimize OK (updates.pas), line = 56
 23767
 23768 8850 A9 04			lda #$04
 23769 8852 8D F6 EA			sta MAPCOLORA
 23770
 23771 				; optimize OK (updates.pas), line = 57
 23772
 23773 8855 A9 0A			lda #$0A
 23774 8857 8D F7 EA			sta MAPCOLORB
 23775
 23776 				; optimize OK (updates.pas), line = 58
 23777
 23778 885A A9 13			lda #$13
 23779 885C 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 23780 885F A9 03			lda #$03
 23781 8861 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 23782 8864 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 23783
 23784 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', updates.pas), line = 59
 23785
 23786 8867 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 23787
 23788 				; optimize OK (updates.pas), line = 60
 23789
 23790 886A A9 04			lda #$04
 23791 886C 20 04 1C			jsr CRT_WRITE_LOCSTR
 23792
 23793 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', updates.pas), line = 61
 23794
 23795 886F E8				inx
 23796 8870 AD BD A3			lda TMP
 23797 8873 0A				asl @
 23798 8874 A8				tay
 23799 8875 B9 E2 A3			lda adr.GANGSTERNAMES,y
 23800 8878 95 94			sta :STACKORIGIN,x
 23801 887A B9 E3 A3			lda adr.GANGSTERNAMES+1,y
 23802 887D 95 A4			sta :STACKORIGIN+STACKWIDTH,x
 23803 887F 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 23804
 23805 				; optimize OK (updates.pas), line = 62
 23806
 23807 8882 A9 05			lda #$05
 23808 8884 20 49 1C			jsr CRT_WRITELN_LOCSTR
 23809
 23810 				; optimize OK (updates.pas), line = 63
 23811
 23812 8887 A9 06			lda #$06
 23813 8889 20 04 1C			jsr CRT_WRITE_LOCSTR
 23814
 23815 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', updates.pas), line = 64
 23816
 23817 888C E8				inx
 23818 888D AD 8A CD			lda CURRENTPLAYER
 23819 8890 0A				asl @
 23820 8891 A8				tay
 23821 8892 B9 DA A3			lda adr.PLGANG,y
 23822 8895 95 94			sta :STACKORIGIN,x
 23823 8897 B9 DB A3			lda adr.PLGANG+1,y
 23824 889A 95 A4			sta :STACKORIGIN+STACKWIDTH,x
 23825 889C 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 23826
 23827 				; optimize OK (updates.pas), line = 65
 23828
 23829 889F A9 07			lda #$07
 23830 88A1 20 49 1C			jsr CRT_WRITELN_LOCSTR
 23831
 23832 				; optimize OK (updates.pas), line = 66
 23833
 23834 88A4 A9 08			lda #$08
 23835 88A6 20 49 1C			jsr CRT_WRITELN_LOCSTR
 23836
 23837 				; optimize OK (updates.pas), line = 67
 23838
 23839 88A9 A9 09			lda #$09
 23840 88AB 20 04 1C			jsr CRT_WRITE_LOCSTR
 23841
 23842 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', updates.pas), line = 68
 23843
 23844 88AE E8				inx
 23845 88AF AD D0 A8			lda NEWRANK
 23846 88B2 0A				asl @
 23847 88B3 A8				tay
 23848 88B4 B9 22 A4			lda adr.RANKNAMES,y
 23849 88B7 95 94			sta :STACKORIGIN,x
 23850 88B9 B9 23 A4			lda adr.RANKNAMES+1,y
 23851 88BC 95 A4			sta :STACKORIGIN+STACKWIDTH,x
 23852 88BE 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 23853
 23854 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', updates.pas), line = 69
 23855
 23856 88C1 E8				inx
 23857 88C2 A9 85 95 94			mva #$85 :STACKORIGIN,x
 23858 88C6 A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 23859 88CA 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 23860
 23861 				; optimize OK (updates.pas), line = 70
 23862
 23863 88CD AC 8A CD			ldy CURRENTPLAYER
 23864 88D0 B9 9C C9			lda adr.PLPOINTS,y
 23865 88D3 20 CB 18			jsr B_CRT.CRT_WRITE.@010180000
 23866
 23867 				; optimize OK (updates.pas), line = 71
 23868
 23869 88D6 A9 0A			lda #$0A
 23870 88D8 20 04 1C			jsr CRT_WRITE_LOCSTR
 23871
 23872 				; optimize FAIL ('CRT_READKEYORFIRE', updates.pas), line = 72
 23873
 23874 88DB 20 42 1D			jsr CRT_READKEYORFIRE
 23875
 23876 				; optimize OK (updates.pas), line = 73
 23877
 23878 88DE A9 88			lda #$88
 23879 88E0 8D F6 EA			sta MAPCOLORA
 23880
 23881 				; optimize OK (updates.pas), line = 74
 23882
 23883 88E3 A9 06			lda #$06
 23884 88E5 8D F7 EA			sta MAPCOLORB
 23885
 23886 				; optimize FAIL ('BLACKCONSOLE', updates.pas), line = 75
 23887
 23888 88E8 20 6C 27			jsr BLACKCONSOLE
 23889
 23890 				; optimize OK (updates.pas), line = 76
 23891
 23892 88EB A9 58			lda #$58
 23893 88ED 85 88			sta SYSTEM.FILLCHAR.@03018000001810000188000.A
 23894 88EF A9 DE			lda #$DE
 23895 88F1 85 89			sta SYSTEM.FILLCHAR.@03018000001810000188000.A+1
 23896 88F3 A9 68			lda #$68
 23897 88F5 85 8C			sta SYSTEM.FILLCHAR.@03018000001810000188000.COUNT
 23898 88F7 A9 01			lda #$01
 23899 88F9 85 8D			sta SYSTEM.FILLCHAR.@03018000001810000188000.COUNT+1
 23900 88FB A9 00			lda #$00
 23901 88FD 85 84			sta SYSTEM.FILLCHAR.@03018000001810000188000.VALUE
 23902 88FF				.LOCAL +MAIN.SYSTEM.FILLCHAR.@03018000001810000188000
 23903 88FF				m@INLINE
Macro: MAIN.SYSTEM.FILLCHAR.@03018000001810000188000.M@INLINE [Source: main.a65]
     4 88FF 20 2C 0F			jsr @fill
Source: main.a65
 23904 					.ENDL
 23905
 23906 				; optimize OK (updates.pas), line = 77
 23907
 23908 8902 AC 8A CD			ldy CURRENTPLAYER
 23909 8905 AD D0 A8			lda NEWRANK
 23910 8908 99 98 C9			sta adr.PLRANK,y
 23911 890B			l_5B4E
 23912
 23913 				; ------------------------------------------------------------
 23914
 23915 = A8CF			OLDRANK	= DATAORIGIN+$0CB4
 23916 = A8D0			NEWRANK	= DATAORIGIN+$0CB5
 23917 = A8D1			K	= DATAORIGIN+$0CB6
 23918 = A8D3			D	= DATAORIGIN+$0CB8
 23919
 23920 = A8CF			@VarData	= OLDRANK
 23921 = 0005			@VarDataSize	= 5
 23922
 23923 890B			@exit
 23924 					.ifdef @new
 23925 					lda <@VarData
 23926 					sta :ztmp
 23927 					lda >@VarData
 23928 					ldy #@VarDataSize-1
 23929 					jmp @FreeMem
 23930 					els
 23931 890B 60				rts						; ret
 23932 					eif
 23933 				.endl
 23934
 23935 890C			.local	UPDATERENT					; PROCEDURE
 23936
 23937 				; optimize OK (updates.pas), line = 86
 23938
 23939 890C A9 00			lda #$00
 23940 890E 8D D7 A8			sta R
 23941
 23942 8911			l_5BEB
 23943 				; --- ForToDoCondition
 23944 8911 AC D7 A8			ldy R
 23945 8914 C0 04			cpy #$04
 23946 8916 90 03 4C 5E 8A		jcs l_5BF9
 23947
 23948 				; optimize OK (updates.pas), line = 88
 23949
 23950 891B B9 8C CD			lda adr.PLRENT,y
 23951 891E CD 8A CD			cmp CURRENTPLAYER
 23952 8921 F0 03			jeq l_5C10
 23953 8923 4C 56 8A			jmp c_5BEB
 23954 8926			l_5C10
 23955
 23956 				; optimize OK (updates.pas), line = 90
 23957
 23958 8926 AC 8A CD			ldy CURRENTPLAYER
 23959 8929 B9 74 C9			lda adr.PLRENTMONTHS,y
 23960 892C F0 09			jeq l_5C28
 23961
 23962 				; optimize OK (updates.pas), line = 92
 23963
 23964 892E 38 E9 01			sub #$01
 23965 8931 99 74 C9			sta adr.PLRENTMONTHS,y
 23966 8934 4C 5E 8A			jmp @exit
 23967 8937			l_5C28
 23968
 23969 				; optimize OK (updates.pas), line = 96
 23970
 23971 8937 A9 13			lda #$13
 23972 8939 20 BD 28			jsr LOADLOCATION
 23973
 23974 				; optimize FAIL ('ENABLECONSOLE', updates.pas), line = 99
 23975
 23976 893C 20 8E 27			jsr ENABLECONSOLE
 23977
 23978 				; optimize FAIL ('B_CRT.CRT_CLEAR.@00', updates.pas), line = 100
 23979
 23980 893F 20 D1 17			jsr B_CRT.CRT_CLEAR.@00
 23981
 23982 				; optimize OK (updates.pas), line = 101
 23983
 23984 8942 A9 01			lda #$01
 23985 8944 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 23986 8947 A9 0D			lda #$0D
 23987 8949 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 23988 894C 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 23989
 23990 				; optimize OK (updates.pas), line = 102
 23991
 23992 894F A9 00			lda #$00
 23993 8951 8D 6D A3			sta B_CRT.CRT_INVERT.X
 23994 8954 A9 01			lda #$01
 23995 8956 8D 6E A3			sta B_CRT.CRT_INVERT.Y
 23996 8959 AD 4A 9E			lda B_CRT.CRT_SCREENWIDTH
 23997 895C 8D 6F A3			sta B_CRT.CRT_INVERT.WIDTH
 23998 895F 20 BD 1A			jsr B_CRT.CRT_INVERT
 23999
 24000 				; optimize OK (updates.pas), line = 103
 24001
 24002 8962 A9 00			lda #$00
 24003 8964 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
 24004 8967 A9 03			lda #$03
 24005 8969 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
 24006 896C 20 F9 17			jsr B_CRT.CRT_GOTOXY
 24007
 24008 				; optimize FAIL (1, updates.pas), line = 105
 24009
 24010 896F E8				inx
 24011 8970 A9 FA 95 94			mva #$FA :STACKORIGIN,x
 24012 8974 A9 C8			lda #$C8
 24013 8976 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 24014 8979 B5 94			lda :STACKORIGIN,x
 24015 897B 18 6D 27 9C			add SYSTEM.RANDOM.@010180000.RESULT
 24016 897F 8D D4 A8			sta PR
 24017 8982 A9 00			lda #$00
 24018 8984 69 00			adc #$00
 24019 8986 8D D5 A8			sta PR+1
 24020 8989 CA				dex
 24021
 24022 				; optimize OK (updates.pas), line = 106
 24023
 24024 898A A9 0E			lda #$0E
 24025 898C 20 49 1C			jsr CRT_WRITELN_LOCSTR
 24026
 24027 				; optimize OK (updates.pas), line = 107
 24028
 24029 898F A9 0F			lda #$0F
 24030 8991 20 49 1C			jsr CRT_WRITELN_LOCSTR
 24031
 24032 				; optimize OK (updates.pas), line = 112
 24033
 24034 8994 AD 8A CD			lda CURRENTPLAYER
 24035 8997 0A				asl @
 24036 8998 0A				asl @
 24037 8999 A8				tay
 24038 899A				.LOCAL
 24039 899A A9 00			lda #$00
 24040 899C 38 F9 33 C9			sub adr.PLMONEY+3,y
 24041 89A0 D0 21			bne L4
 24042 89A2 A9 00			lda #$00
 24043 89A4 D9 32 C9			cmp adr.PLMONEY+2,y
 24044 89A7 D0 0E			bne L1
 24045 89A9 AD D5 A8			lda PR+1
 24046 89AC D9 31 C9			cmp adr.PLMONEY+1,y
 24047 89AF D0 06			bne L1
 24048 89B1 AD D4 A8			lda PR
 24049 89B4 D9 30 C9			cmp adr.PLMONEY,y
 24050 89B7 F0 10		L1	beq L5
 24051 89B9 B0 04			bcs L3
 24052 89BB A9 FF			lda #$FF
 24053 89BD D0 0A			bne L5
 24054 89BF A9 01		L3	lda #$01
 24055 89C1 D0 06			bne L5
 24056 89C3 50 04		L4	bvc L5
 24057 89C5 49 FF			eor #$FF
 24058 89C7 09 01			ora #$01
 24059 89C9			L5
 24060 					.ENDL
 24061 89C9 10 38			jpl l_5C6C
 24062
 24063 				; optimize OK (updates.pas), line = 114
 24064
 24065 89CB A9 10			lda #$10
 24066 89CD 20 49 1C			jsr CRT_WRITELN_LOCSTR
 24067
 24068 				; optimize OK (updates.pas), line = 115
 24069
 24070 89D0 A9 11			lda #$11
 24071 89D2 20 04 1C			jsr CRT_WRITE_LOCSTR
 24072
 24073 				; optimize OK (updates.pas), line = 116
 24074
 24075 89D5 AD D4 A8			lda PR
 24076 89D8 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 24077 89DB AD D5 A8			lda PR+1
 24078 89DE 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 24079 89E1 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 24080
 24081 				; optimize OK (updates.pas), line = 117
 24082
 24083 89E4 A9 12			lda #$12
 24084 89E6 20 49 1C			jsr CRT_WRITELN_LOCSTR
 24085
 24086 				; optimize OK (updates.pas), line = 118
 24087
 24088 89E9 AD D4 A8			lda PR
 24089 89EC 8D 9B A7			sta SUBMONEY.AMOUNT
 24090 89EF AD D5 A8			lda PR+1
 24091 89F2 8D 9C A7			sta SUBMONEY.AMOUNT+1
 24092 89F5 20 89 2F			jsr SUBMONEY
 24093
 24094 				; optimize OK (updates.pas), line = 119
 24095
 24096 89F8 AC 8A CD			ldy CURRENTPLAYER
 24097 89FB A9 00			lda #$00
 24098 89FD 99 74 C9			sta adr.PLRENTMONTHS,y
 24099 8A00 4C 53 8A			jmp l_5C89
 24100 8A03			l_5C6C
 24101
 24102 				; optimize OK (updates.pas), line = 126
 24103
 24104 8A03 A9 13			lda #$13
 24105 8A05 20 49 1C			jsr CRT_WRITELN_LOCSTR
 24106
 24107 				; optimize OK (updates.pas), line = 127
 24108
 24109 8A08 AC 8A CD			ldy CURRENTPLAYER
 24110 8A0B B9 B1 CD			lda adr.PLNGANGSTERS,y
 24111 8A0E C9 02			cmp #$02
 24112 8A10 90 39			jcc l_5CA0
 24113
 24114 				; optimize OK (updates.pas), line = 129
 24115
 24116 8A12 A9 14			lda #$14
 24117 8A14 20 49 1C			jsr CRT_WRITELN_LOCSTR
 24118
 24119 				; optimize OK (updates.pas), line = 130
 24120
 24121 8A17 A9 15			lda #$15
 24122 8A19 20 49 1C			jsr CRT_WRITELN_LOCSTR
 24123
 24124 				; optimize OK (updates.pas), line = 131
 24125
 24126 8A1C A9 00			lda #$00
 24127 8A1E A8				tay
 24128
 24129 8A1F			l_5CAE
 24130 				; --- ForToDoCondition
 24131 8A1F C0 20			cpy #$20
 24132 8A21 B0 10			jcs l_5CBC
 24133
 24134 				; optimize OK (updates.pas), line = 132
 24135
 24136 8A23 B9 91 CD			lda adr.PLGANGSTERS,y
 24137 8A26 CD 8A CD			cmp CURRENTPLAYER
 24138 8A29 D0 05			jne l_5CD3
 24139 8A2B A9 63			lda #$63
 24140 8A2D 99 91 CD			sta adr.PLGANGSTERS,y
 24141 8A30			l_5CD3
 24142
 24143 				; --- ForToDoEpilog
 24144 8A30 C8				iny
 24145 8A31 D0 EC			jne l_5CAE
 24146 8A33			l_5CBC
 24147 8A33 8C D6 A8			sty K
 24148
 24149 				; optimize OK (updates.pas), line = 135
 24150
 24151 8A36 AD 8A CD			lda CURRENTPLAYER
 24152 8A39 0A				asl @
 24153 8A3A 0A				asl @
 24154 8A3B 0A				asl @
 24155 8A3C A8				tay
 24156 8A3D AD 8A CD			lda CURRENTPLAYER
 24157 8A40 99 91 CD			sta adr.PLGANGSTERS,y
 24158
 24159 				; optimize OK (updates.pas), line = 136
 24160
 24161 8A43 AC 8A CD			ldy CURRENTPLAYER
 24162 8A46 A9 01			lda #$01
 24163 8A48 99 B1 CD			sta adr.PLNGANGSTERS,y
 24164 8A4B			l_5CA0
 24165
 24166 				; optimize OK (updates.pas), line = 139
 24167
 24168 8A4B AC D7 A8			ldy R
 24169 8A4E A9 63			lda #$63
 24170 8A50 99 8C CD			sta adr.PLRENT,y
 24171 8A53			l_5C89
 24172
 24173 				; optimize FAIL ('WAITFORKEY', updates.pas), line = 141
 24174
 24175 8A53 20 88 1D			jsr WAITFORKEY
 24176
 24177 				; --- ForToDoEpilog
 24178 8A56			c_5BEB
 24179 8A56 EE D7 A8			inc R
 24180 8A59 F0 03 4C 11 89		jne l_5BEB
 24181 8A5E			l_5BF9
 24182
 24183 				; ------------------------------------------------------------
 24184
 24185 = A8D4			PR	= DATAORIGIN+$0CB9
 24186 = A8D6			K	= DATAORIGIN+$0CBB
 24187 = A8D7			R	= DATAORIGIN+$0CBC
 24188
 24189 = A8D4			@VarData	= PR
 24190 = 0004			@VarDataSize	= 4
 24191
 24192 8A5E			@exit
 24193 					.ifdef @new
 24194 					lda <@VarData
 24195 					sta :ztmp
 24196 					lda >@VarData
 24197 					ldy #@VarDataSize-1
 24198 					jmp @FreeMem
 24199 					els
 24200 8A5E 60				rts						; ret
 24201 					eif
 24202 				.endl
 24203
 24204 8A5F			.local	UPDATELOANSHARK					; PROCEDURE
 24205
 24206 				; optimize OK (updates.pas), line = 150
 24207
 24208 8A5F AD 8A CD			lda CURRENTPLAYER
 24209 8A62 0A				asl @
 24210 8A63 A8				tay
 24211 8A64 B9 A4 C9			lda adr.PLLOANINVEST,y
 24212 8A67 8D D8 A8			sta P
 24213 8A6A B9 A5 C9			lda adr.PLLOANINVEST+1,y
 24214 8A6D 8D D9 A8			sta P+1
 24215
 24216 				; optimize OK (updates.pas), line = 152
 24217
 24218 8A70 0D D8 A8			ora P
 24219 8A73 D0 03 4C F7 8A		jeq l_5D22
 24220
 24221 				; optimize OK (updates.pas), line = 154
 24222
 24223 8A78 A9 15			lda #$15
 24224 8A7A 20 BD 28			jsr LOADLOCATION
 24225
 24226 				; optimize FAIL ('JOBWORKING', updates.pas), line = 155
 24227
 24228 8A7D 20 E1 86			jsr JOBWORKING
 24229
 24230 				; optimize OK (updates.pas), line = 156
 24231
 24232 8A80 A9 03			lda #$03
 24233 8A82 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 24234 8A85 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 24235 8A88 D0 5D			jne l_5D37
 24236
 24237 				; optimize FAIL (1, updates.pas), line = 158
 24238
 24239 8A8A E8				inx
 24240 8A8B AD D8 A8 95 94		mva P :STACKORIGIN,x
 24241 8A90 AD D9 A8 95 A4		mva P+1 :STACKORIGIN+STACKWIDTH,x
 24242 8A95 E8				inx
 24243 8A96 A9 06 95 94			mva #$06 :STACKORIGIN,x
 24244 8A9A 20 2D 0E			jsr @shrAX_CL
 24245 8A9D CA				dex
 24246 8A9E A9 00			lda #$00
 24247 8AA0 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 24248 8AA3 B5 94			lda :STACKORIGIN,x
 24249 8AA5 18 6D 27 9C			add SYSTEM.RANDOM.@010180000.RESULT
 24250 8AA9 8D D8 A8			sta P
 24251 8AAC B5 A4			lda :STACKORIGIN+STACKWIDTH,x
 24252 8AAE 69 00			adc #$00
 24253 8AB0 8D D9 A8			sta P+1
 24254 8AB3 CA				dex
 24255
 24256 				; optimize OK (updates.pas), line = 159
 24257
 24258 8AB4 AD D8 A8			lda P
 24259 8AB7 8D 99 A7			sta ADDMONEY.AMOUNT
 24260 8ABA AD D9 A8			lda P+1
 24261 8ABD 8D 9A A7			sta ADDMONEY.AMOUNT+1
 24262 8AC0 20 5F 2F			jsr ADDMONEY
 24263
 24264 				; optimize OK (updates.pas), line = 160
 24265
 24266 8AC3 A9 01			lda #$01
 24267 8AC5 20 49 1C			jsr CRT_WRITELN_LOCSTR
 24268
 24269 				; optimize OK (updates.pas), line = 161
 24270
 24271 8AC8 A9 02			lda #$02
 24272 8ACA 20 04 1C			jsr CRT_WRITE_LOCSTR
 24273
 24274 				; optimize OK (updates.pas), line = 162
 24275
 24276 8ACD AD D8 A8			lda P
 24277 8AD0 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 24278 8AD3 AD D9 A8			lda P+1
 24279 8AD6 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 24280 8AD9 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 24281
 24282 				; optimize OK (updates.pas), line = 163
 24283
 24284 8ADC A9 03			lda #$03
 24285 8ADE 20 49 1C			jsr CRT_WRITELN_LOCSTR
 24286
 24287 				; optimize FAIL ('WAITFORKEY', updates.pas), line = 164
 24288
 24289 8AE1 20 88 1D			jsr WAITFORKEY
 24290 8AE4 4C 87 8C			jmp @exit
 24291 8AE7			l_5D37
 24292
 24293 				; optimize OK (updates.pas), line = 169
 24294
 24295 8AE7 A9 04			lda #$04
 24296 8AE9 20 49 1C			jsr CRT_WRITELN_LOCSTR
 24297
 24298 				; optimize OK (updates.pas), line = 170
 24299
 24300 8AEC A9 05			lda #$05
 24301 8AEE 20 49 1C			jsr CRT_WRITELN_LOCSTR
 24302
 24303 				; optimize FAIL ('WAITFORKEY', updates.pas), line = 171
 24304
 24305 8AF1 20 88 1D			jsr WAITFORKEY
 24306 8AF4 4C 87 8C			jmp @exit
 24307 8AF7			l_5D5C
 24308 8AF7			l_5D22
 24309
 24310 				; optimize OK (updates.pas), line = 177
 24311
 24312 8AF7 AD 8A CD			lda CURRENTPLAYER
 24313 8AFA 0A				asl @
 24314 8AFB A8				tay
 24315 8AFC B9 65 C9			lda adr.PLLOAN+1,y
 24316 8AFF 10 03 4C 87 8C		jmi l_5D77
 24317 8B04 19 64 C9			ora adr.PLLOAN,y
 24318 8B07 D0 03 4C 87 8C		jeq l_5D77
 24319
 24320 				; optimize OK (updates.pas), line = 179
 24321
 24322 8B0C AC 8A CD			ldy CURRENTPLAYER
 24323 8B0F B9 6C C9			lda adr.PLLOANTIME,y
 24324 8B12 8D DA A8			sta K
 24325
 24326 				; optimize OK (updates.pas), line = 180
 24327
 24328 8B15 A9 15			lda #$15
 24329 8B17 20 BD 28			jsr LOADLOCATION
 24330
 24331 				; optimize FAIL ('JOBWORKING', updates.pas), line = 181
 24332
 24333 8B1A 20 E1 86			jsr JOBWORKING
 24334
 24335 				; optimize OK (updates.pas), line = 182
 24336
 24337 8B1D AD DA A8			lda K
 24338 8B20 F0 4F			jeq l_5D96
 24339
 24340 				; optimize OK (updates.pas), line = 184
 24341
 24342 8B22 A9 06			lda #$06
 24343 8B24 20 04 1C			jsr CRT_WRITE_LOCSTR
 24344
 24345 				; optimize OK (updates.pas), line = 185
 24346
 24347 8B27 AD 8A CD			lda CURRENTPLAYER
 24348 8B2A 0A				asl @
 24349 8B2B A8				tay
 24350 8B2C B9 64 C9			lda adr.PLLOAN,y
 24351 8B2F 8D 5F A1			sta B_CRT.CRT_WRITE.@010185000.NUM
 24352 8B32 B9 65 C9			lda adr.PLLOAN+1,y
 24353 8B35 85 AD			sta :STACKORIGIN+STACKWIDTH+9
 24354 8B37 A0 00			ldy #$00
 24355 8B39 A5 AD			lda :STACKORIGIN+STACKWIDTH+9
 24356 8B3B 10 01			spl
 24357 8B3D 88				dey
 24358 8B3E 8D 60 A1			sta B_CRT.CRT_WRITE.@010185000.NUM+1
 24359 8B41 8C 61 A1			sty B_CRT.CRT_WRITE.@010185000.NUM+2
 24360 8B44 8C 62 A1			sty B_CRT.CRT_WRITE.@010185000.NUM+3
 24361 8B47 20 17 19			jsr B_CRT.CRT_WRITE.@010185000
 24362
 24363 				; optimize OK (updates.pas), line = 186
 24364
 24365 8B4A A9 07			lda #$07
 24366 8B4C 20 49 1C			jsr CRT_WRITELN_LOCSTR
 24367
 24368 				; optimize OK (updates.pas), line = 187
 24369
 24370 8B4F A9 08			lda #$08
 24371 8B51 20 04 1C			jsr CRT_WRITE_LOCSTR
 24372
 24373 				; optimize OK (updates.pas), line = 188
 24374
 24375 8B54 AD DA A8			lda K
 24376 8B57 20 CB 18			jsr B_CRT.CRT_WRITE.@010180000
 24377
 24378 				; optimize OK (updates.pas), line = 189
 24379
 24380 8B5A A9 09			lda #$09
 24381 8B5C 20 49 1C			jsr CRT_WRITELN_LOCSTR
 24382
 24383 				; optimize FAIL ('WAITFORKEY', updates.pas), line = 190
 24384
 24385 8B5F 20 88 1D			jsr WAITFORKEY
 24386
 24387 				; optimize OK (updates.pas), line = 191
 24388
 24389 8B62 AD DA A8			lda K
 24390 8B65 38 E9 01			sub #$01
 24391 8B68 AC 8A CD			ldy CURRENTPLAYER
 24392 8B6B 99 6C C9			sta adr.PLLOANTIME,y
 24393 8B6E 4C 87 8C			jmp @exit
 24394 8B71			l_5D96
 24395
 24396 				; optimize OK (updates.pas), line = 195
 24397
 24398 8B71 A9 0A			lda #$0A
 24399 8B73 20 49 1C			jsr CRT_WRITELN_LOCSTR
 24400
 24401 				; optimize OK (updates.pas), line = 196
 24402
 24403 8B76 A9 0B			lda #$0B
 24404 8B78 20 53 1C			jsr CRT_WRITELN2_LOCSTR
 24405
 24406 				; optimize FAIL ('WAITFORKEY', updates.pas), line = 197
 24407
 24408 8B7B 20 88 1D			jsr WAITFORKEY
 24409
 24410 				; optimize OK (updates.pas), line = 199
 24411
 24412 8B7E A9 01			lda #$01
 24413 8B80 8D 02 E4			sta adr.FP_AI+$01
 24414
 24415 				; optimize OK (updates.pas), line = 200
 24416
 24417 8B83 A9 05			lda #$05
 24418 8B85 8D 04 E4			sta adr.FP_N+$01
 24419
 24420 				; optimize OK (updates.pas), line = 201
 24421
 24422 8B88 AD 79 A3			lda adr.FP_GANG+$02
 24423 8B8B 85 8C			sta @move.dst
 24424 8B8D AD 7A A3			lda adr.FP_GANG+1+$02
 24425 8B90 85 8D			sta @move.dst+1
 24426 8B92 AD 98 9A			lda LOC_STRING_12
 24427 8B95 85 88			sta @move.src
 24428 8B97 AD 99 9A			lda LOC_STRING_12+1
 24429 8B9A 85 89			sta @move.src+1
 24430 8B9C A0 00			ldy #$00
 24431 8B9E B1 88			lda (@move.src),y
 24432 8BA0 18 69 01			add #1
 24433 8BA3 85 84			sta @move.cnt
 24434 8BA5 90 01			scc
 24435 8BA7 C8				iny
 24436 8BA8 84 85			sty @move.cnt+1
 24437 8BAA 20 D7 0E			jsr @move
 24438
 24439 				; optimize OK (updates.pas), line = 202
 24440
 24441 8BAD A9 00			lda #$00
 24442 8BAF 8D DA A8			sta K
 24443
 24444 8BB2			l_5DD7
 24445 				; --- ForToDoCondition
 24446 8BB2 AD DA A8			lda K
 24447 8BB5 C9 05			cmp #$05
 24448 8BB7 B0 54			jcs l_5DE5
 24449
 24450 				; optimize OK (updates.pas), line = 204
 24451
 24452 8BB9 A9 02			lda #$02
 24453 8BBB 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 24454 8BBE AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 24455 8BC1 8D BD A3			sta TMP
 24456
 24457 				; optimize OK (updates.pas), line = 205
 24458
 24459 8BC4 AC DA A8			ldy K
 24460 8BC7 AD BD A3			lda TMP
 24461 8BCA 99 55 E5			sta adr.FP_SEX+$10,y
 24462
 24463 				; optimize OK (updates.pas), line = 206
 24464
 24465 8BCD 98				tya
 24466 8BCE 0A				asl @
 24467 8BCF A8				tay
 24468 8BD0 B9 9B A3			lda adr.FP_NAME+$20,y
 24469 8BD3 85 8C			sta @move.dst
 24470 8BD5 B9 9C A3			lda adr.FP_NAME+1+$20,y
 24471 8BD8 85 8D			sta @move.dst+1
 24472 8BDA AD AA 9A			lda LOC_STRING_21
 24473 8BDD 85 88			sta @move.src
 24474 8BDF AD AB 9A			lda LOC_STRING_21+1
 24475 8BE2 85 89			sta @move.src+1
 24476 8BE4 A0 00			ldy #$00
 24477 8BE6 B1 88			lda (@move.src),y
 24478 8BE8 18 69 01			add #1
 24479 8BEB 85 84			sta @move.cnt
 24480 8BED 90 01			scc
 24481 8BEF C8				iny
 24482 8BF0 84 85			sty @move.cnt+1
 24483 8BF2 20 D7 0E			jsr @move
 24484
 24485 				; optimize OK (updates.pas), line = 207
 24486
 24487 8BF5 AC DA A8			ldy K
 24488 8BF8 A9 03			lda #$03
 24489 8BFA 99 55 E4			sta adr.FP_WEAPON+$10,y
 24490
 24491 				; optimize OK (updates.pas), line = 208
 24492
 24493 8BFD A9 1E			lda #$1E
 24494 8BFF 99 95 E4			sta adr.FP_ENERGY+$10,y
 24495
 24496 				; optimize OK (updates.pas), line = 209
 24497
 24498 8C02 99 D5 E4			sta adr.FP_STRENGTH+$10,y
 24499
 24500 				; optimize OK (updates.pas), line = 210
 24501
 24502 8C05 99 15 E5			sta adr.FP_BRUTALITY+$10,y
 24503
 24504 				; --- ForToDoEpilog
 24505 8C08 EE DA A8			inc K
 24506 8C0B D0 A5			jne l_5DD7
 24507 8C0D			l_5DE5
 24508
 24509 				; optimize FAIL ('DOFIGHT', updates.pas), line = 213
 24510
 24511 8C0D 20 66 4D			jsr DOFIGHT
 24512 8C10 AD 1C A8			lda DOFIGHT.RESULT
 24513 8C13 C9 01			cmp #$01
 24514 8C15 D0 37			jne l_5E44
 24515
 24516 				; optimize FAIL ('ENABLECONSOLE', updates.pas), line = 215
 24517
 24518 8C17 20 8E 27			jsr ENABLECONSOLE
 24519
 24520 				; optimize FAIL ('JOBWORKING', updates.pas), line = 217
 24521
 24522 8C1A 20 E1 86			jsr JOBWORKING
 24523
 24524 				; optimize OK (updates.pas), line = 218
 24525
 24526 8C1D A9 0D			lda #$0D
 24527 8C1F 20 49 1C			jsr CRT_WRITELN_LOCSTR
 24528
 24529 				; optimize OK (updates.pas), line = 219
 24530
 24531 8C22 A9 0E			lda #$0E
 24532 8C24 20 49 1C			jsr CRT_WRITELN_LOCSTR
 24533
 24534 				; optimize OK (updates.pas), line = 220
 24535
 24536 8C27 AD 8A CD			lda CURRENTPLAYER
 24537 8C2A 0A				asl @
 24538 8C2B 0A				asl @
 24539 8C2C A8				tay
 24540 8C2D A9 00			lda #$00
 24541 8C2F 99 30 C9			sta adr.PLMONEY,y
 24542 8C32 99 31 C9			sta adr.PLMONEY+1,y
 24543 8C35 99 32 C9			sta adr.PLMONEY+2,y
 24544 8C38 99 33 C9			sta adr.PLMONEY+3,y
 24545
 24546 				; optimize OK (updates.pas), line = 221
 24547
 24548 8C3B AD 8A CD			lda CURRENTPLAYER
 24549 8C3E 0A				asl @
 24550 8C3F A8				tay
 24551 8C40 A9 00			lda #$00
 24552 8C42 99 64 C9			sta adr.PLLOAN,y
 24553 8C45 99 65 C9			sta adr.PLLOAN+1,y
 24554
 24555 				; optimize FAIL ('WAITFORKEY', updates.pas), line = 222
 24556
 24557 8C48 20 88 1D			jsr WAITFORKEY
 24558 8C4B 4C 87 8C			jmp @exit
 24559 8C4E			l_5E44
 24560
 24561 				; optimize FAIL ('ENABLECONSOLE', updates.pas), line = 226
 24562
 24563 8C4E 20 8E 27			jsr ENABLECONSOLE
 24564
 24565 				; optimize FAIL ('JOBWORKING', updates.pas), line = 228
 24566
 24567 8C51 20 E1 86			jsr JOBWORKING
 24568
 24569 				; optimize OK (updates.pas), line = 229
 24570
 24571 8C54 A9 0F			lda #$0F
 24572 8C56 20 49 1C			jsr CRT_WRITELN_LOCSTR
 24573
 24574 				; optimize OK (updates.pas), line = 230
 24575
 24576 8C59 A9 10			lda #$10
 24577 8C5B 20 49 1C			jsr CRT_WRITELN_LOCSTR
 24578
 24579 				; optimize OK (updates.pas), line = 231
 24580
 24581 8C5E A9 11			lda #$11
 24582 8C60 20 49 1C			jsr CRT_WRITELN_LOCSTR
 24583
 24584 				; optimize FAIL ('WAITFORKEY', updates.pas), line = 232
 24585
 24586 8C63 20 88 1D			jsr WAITFORKEY
 24587
 24588 				; optimize FAIL (2, updates.pas), line = 233
 24589
 24590 8C66 E8				inx
 24591 8C67 AD 8A CD 95 94		mva CURRENTPLAYER :STACKORIGIN,x
 24592 8C6C A9 00 95 A4			mva #$00 :STACKORIGIN+STACKWIDTH,x
 24593 8C70 E8				inx
 24594 8C71 A9 03 95 94			mva #$03 :STACKORIGIN,x
 24595 8C75 A9 03			lda #$03
 24596 8C77 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 24597 8C7A B5 94			lda :STACKORIGIN,x
 24598 8C7C 18 6D 27 9C			add SYSTEM.RANDOM.@010180000.RESULT
 24599 8C80 B4 93			ldy :STACKORIGIN-1,x
 24600 8C82 99 6C C9			sta adr.PLLOANTIME,y
 24601 8C85 CA				dex
 24602 8C86 CA				dex
 24603 8C87			l_5D77
 24604
 24605 				; ------------------------------------------------------------
 24606
 24607 = A8D8			P	= DATAORIGIN+$0CBD
 24608 = A8DA			K	= DATAORIGIN+$0CBF
 24609
 24610 = A8D8			@VarData	= P
 24611 = 0003			@VarDataSize	= 3
 24612
 24613 8C87			@exit
 24614 					.ifdef @new
 24615 					lda <@VarData
 24616 					sta :ztmp
 24617 					lda >@VarData
 24618 					ldy #@VarDataSize-1
 24619 					jmp @FreeMem
 24620 					els
 24621 8C87 60				rts						; ret
 24622 					eif
 24623 				.endl
 24624
 24625 8C88			.local	UPDATEOPPORTUNITIES				; PROCEDURE
 24626
 24627 				; optimize OK (updates.pas), line = 244
 24628
 24629 8C88 AC 8A CD			ldy CURRENTPLAYER
 24630 8C8B B9 60 C9			lda adr.PLOPPORTUNITY,y
 24631 8C8E 29 08			and #$08
 24632 8C90 C9 08			cmp #$08
 24633 8C92 F0 03			jeq l_5E90
 24634 8C94 4C 5A 8D			jmp @exit
 24635 8C97			l_5E90
 24636
 24637 				; optimize OK (updates.pas), line = 247
 24638
 24639 8C97 A9 13			lda #$13
 24640 8C99 20 BD 28			jsr LOADLOCATION
 24641
 24642 				; optimize FAIL ('ENABLECONSOLE', updates.pas), line = 249
 24643
 24644 8C9C 20 8E 27			jsr ENABLECONSOLE
 24645
 24646 				; optimize FAIL ('B_CRT.CRT_CLEAR.@00', updates.pas), line = 250
 24647
 24648 8C9F 20 D1 17			jsr B_CRT.CRT_CLEAR.@00
 24649
 24650 				; optimize OK (updates.pas), line = 251
 24651
 24652 8CA2 A9 01			lda #$01
 24653 8CA4 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 24654 8CA7 A9 16			lda #$16
 24655 8CA9 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 24656 8CAC 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 24657
 24658 				; optimize OK (updates.pas), line = 252
 24659
 24660 8CAF A9 00			lda #$00
 24661 8CB1 8D 6D A3			sta B_CRT.CRT_INVERT.X
 24662 8CB4 A9 01			lda #$01
 24663 8CB6 8D 6E A3			sta B_CRT.CRT_INVERT.Y
 24664 8CB9 AD 4A 9E			lda B_CRT.CRT_SCREENWIDTH
 24665 8CBC 8D 6F A3			sta B_CRT.CRT_INVERT.WIDTH
 24666 8CBF 20 BD 1A			jsr B_CRT.CRT_INVERT
 24667
 24668 				; optimize OK (updates.pas), line = 253
 24669
 24670 8CC2 A9 00			lda #$00
 24671 8CC4 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
 24672 8CC7 A9 03			lda #$03
 24673 8CC9 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
 24674 8CCC 20 F9 17			jsr B_CRT.CRT_GOTOXY
 24675
 24676 				; optimize OK (updates.pas), line = 258
 24677
 24678 8CCF AC 8A CD			ldy CURRENTPLAYER
 24679 8CD2 B9 60 C9			lda adr.PLOPPORTUNITY,y
 24680 8CD5 29 F7			and #$F7
 24681 8CD7 99 60 C9			sta adr.PLOPPORTUNITY,y
 24682
 24683 				; optimize OK (updates.pas), line = 259
 24684
 24685 8CDA A9 05			lda #$05
 24686 8CDC 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 24687 8CDF AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 24688 8CE2 D0 0D			jne l_5EC4
 24689
 24690 				; optimize OK (updates.pas), line = 262
 24691
 24692 8CE4 A9 17			lda #$17
 24693 8CE6 20 49 1C			jsr CRT_WRITELN_LOCSTR
 24694
 24695 				; optimize OK (updates.pas), line = 263
 24696
 24697 8CE9 A9 18			lda #$18
 24698 8CEB 20 49 1C			jsr CRT_WRITELN_LOCSTR
 24699 8CEE 4C 57 8D			jmp l_5ED2
 24700 8CF1			l_5EC4
 24701
 24702 				; optimize FAIL (1, updates.pas), line = 267
 24703
 24704 8CF1 E8				inx
 24705 8CF2 A9 7C 95 94			mva #$7C :STACKORIGIN,x
 24706 8CF6 A9 15 95 A4			mva #$15 :STACKORIGIN+STACKWIDTH,x
 24707 8CFA A9 96			lda #$96
 24708 8CFC 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 24709 8CFF E8				inx
 24710 8D00 AD 27 9C 95 94		mva SYSTEM.RANDOM.@010180000.RESULT :STACKORIGIN,x
 24711 8D05 E8				inx
 24712 8D06 A9 06 95 94			mva #$06 :STACKORIGIN,x
 24713 8D0A 20 10 0E			jsr @shlEAX_CL.BYTE
 24714 8D0D CA				dex
 24715 8D0E A9 00 95 B3			mva #$00 :STACKORIGIN-1+STACKWIDTH*2,x
 24716 8D12 95 C3			sta :STACKORIGIN-1+STACKWIDTH*3,x
 24717 8D14 20 F9 0D			jsr addAX_CX
 24718 8D17 CA				dex
 24719 8D18 B5 94			lda :STACKORIGIN,x
 24720 8D1A 8D DB A8			sta PR
 24721 8D1D B5 A4			lda :STACKORIGIN+STACKWIDTH,x
 24722 8D1F 8D DC A8			sta PR+1
 24723 8D22 CA				dex
 24724
 24725 				; optimize OK (updates.pas), line = 268
 24726
 24727 8D23 A9 19			lda #$19
 24728 8D25 20 49 1C			jsr CRT_WRITELN_LOCSTR
 24729
 24730 				; optimize OK (updates.pas), line = 269
 24731
 24732 8D28 A9 1A			lda #$1A
 24733 8D2A 20 04 1C			jsr CRT_WRITE_LOCSTR
 24734
 24735 				; optimize OK (updates.pas), line = 270
 24736
 24737 8D2D AD DB A8			lda PR
 24738 8D30 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 24739 8D33 AD DC A8			lda PR+1
 24740 8D36 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 24741 8D39 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 24742
 24743 				; optimize FAIL ('CRT_WRITELN', updates.pas), line = 271
 24744
 24745 8D3C E8				inx
 24746 8D3D A9 73 95 94			mva #$73 :STACKORIGIN,x
 24747 8D41 A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 24748 8D45 20 E7 1D			jsr CRT_WRITELN
 24749
 24750 				; optimize OK (updates.pas), line = 272
 24751
 24752 8D48 AD DB A8			lda PR
 24753 8D4B 8D 99 A7			sta ADDMONEY.AMOUNT
 24754 8D4E AD DC A8			lda PR+1
 24755 8D51 8D 9A A7			sta ADDMONEY.AMOUNT+1
 24756 8D54 20 5F 2F			jsr ADDMONEY
 24757 8D57			l_5ED2
 24758
 24759 				; optimize FAIL ('WAITFORKEY', updates.pas), line = 274
 24760
 24761 8D57 20 88 1D			jsr WAITFORKEY
 24762
 24763 				; ------------------------------------------------------------
 24764
 24765 = A8DB			PR	= DATAORIGIN+$0CC0
 24766
 24767 = A8DB			@VarData	= PR
 24768 = 0002			@VarDataSize	= 2
 24769
 24770 8D5A			@exit
 24771 					.ifdef @new
 24772 					lda <@VarData
 24773 					sta :ztmp
 24774 					lda >@VarData
 24775 					ldy #@VarDataSize-1
 24776 					jmp @FreeMem
 24777 					els
 24778 8D5A 60				rts						; ret
 24779 					eif
 24780 				.endl
 24781
 24782 8D5B			.local	UPDATEGANGSTERS					; PROCEDURE
 24783
 24784 				; optimize OK (updates.pas), line = 281
 24785
 24786 8D5B A9 00			lda #$00
 24787 8D5D 8D DD A8			sta J
 24788
 24789 8D60			l_5EF9
 24790 				; --- ForToDoCondition
 24791 8D60 AC DD A8			ldy J
 24792 8D63 C0 20			cpy #$20
 24793 8D65 B0 53			jcs l_5F07
 24794
 24795 				; optimize OK (updates.pas), line = 283
 24796
 24797 8D67 B9 28 CD			lda adr.GANGSTERHEALTH,y
 24798 8D6A 8D DE A8			sta EN
 24799
 24800 				; optimize OK (updates.pas), line = 284
 24801
 24802 8D6D B9 C8 CC			lda adr.GANGSTERSTR,y
 24803 8D70 4A				lsr @
 24804 8D71 4A				lsr @
 24805 8D72 18 6D DE A8			add EN
 24806 8D76 8D DE A8			sta EN
 24807
 24808 				; optimize OK (updates.pas), line = 285
 24809
 24810 8D79 B9 08 CD			lda adr.GANGSTERBRUT,y
 24811 8D7C 4A				lsr @
 24812 8D7D 85 9D			sta :STACKORIGIN+9
 24813 8D7F B9 E8 CC			lda adr.GANGSTERINT,y
 24814 8D82 4A				lsr @
 24815 8D83 18 65 9D			add :STACKORIGIN+9
 24816 8D86 18 69 01			add #$01
 24817 8D89 8D DF A8			sta MAXX
 24818
 24819 				; optimize OK (updates.pas), line = 286
 24820
 24821 8D8C C9 23			cmp #$23
 24822 8D8E B0 05			jcs l_5F53
 24823 8D90 A9 23			lda #$23
 24824 8D92 8D DF A8			sta MAXX
 24825 8D95			l_5F53
 24826
 24827 				; optimize OK (updates.pas), line = 287
 24828
 24829 8D95 AD DF A8			lda MAXX
 24830 8D98 CD DE A8			cmp EN
 24831 8D9B B0 03			jcs l_5F6E
 24832 8D9D 8D DE A8			sta EN
 24833 8DA0			l_5F6E
 24834
 24835 				; optimize OK (updates.pas), line = 288
 24836
 24837 8DA0 AD DE A8			lda EN
 24838 8DA3 C9 64			cmp #$64
 24839 8DA5 90 05			jcc l_5F89
 24840 8DA7 A9 63			lda #$63
 24841 8DA9 8D DE A8			sta EN
 24842 8DAC			l_5F89
 24843
 24844 				; optimize OK (updates.pas), line = 289
 24845
 24846 8DAC AC DD A8			ldy J
 24847 8DAF AD DE A8			lda EN
 24848 8DB2 99 28 CD			sta adr.GANGSTERHEALTH,y
 24849
 24850 				; --- ForToDoEpilog
 24851 8DB5 EE DD A8			inc J
 24852 8DB8 D0 A6			jne l_5EF9
 24853 8DBA			l_5F07
 24854
 24855 				; ------------------------------------------------------------
 24856
 24857 = A8DD			J	= DATAORIGIN+$0CC2
 24858 = A8DE			EN	= DATAORIGIN+$0CC3
 24859 = A8DF			MAXX	= DATAORIGIN+$0CC4
 24860
 24861 = A8DD			@VarData	= J
 24862 = 0003			@VarDataSize	= 3
 24863
 24864 8DBA			@exit
 24865 					.ifdef @new
 24866 					lda <@VarData
 24867 					sta :ztmp
 24868 					lda >@VarData
 24869 					ldy #@VarDataSize-1
 24870 					jmp @FreeMem
 24871 					els
 24872 8DBA 60				rts						; ret
 24873 					eif
 24874 				.endl
 24875
 24876 8DBB			.local	UPDATEPRISON					; PROCEDURE
 24877
 24878 				; optimize OK (updates.pas), line = 299
 24879
 24880 8DBB A9 13			lda #$13
 24881 8DBD 20 BD 28			jsr LOADLOCATION
 24882
 24883 				; optimize OK (updates.pas), line = 301
 24884
 24885 8DC0 AC 8A CD			ldy CURRENTPLAYER
 24886 8DC3 B9 94 C9			lda adr.PLPRISON,y
 24887 8DC6 F0 59			jeq l_5FB9
 24888
 24889 				; optimize OK (updates.pas), line = 303
 24890
 24891 8DC8 AD AA C2			lda adr.LOC_MAP_PLACES
 24892 8DCB 8D 90 CD			sta CURRENTMAP
 24893
 24894 				; optimize OK (updates.pas), line = 304
 24895
 24896 8DCE AD B6 9A			lda LOC_STRING_27
 24897 8DD1 85 88			sta @move.src
 24898 8DD3 AD B7 9A			lda LOC_STRING_27+1
 24899 8DD6 85 89			sta @move.src+1
 24900 					@moveSTRING LOC_NAME #40
 24900 				 MWA LOC_NAME @MOVE.DST\ MVA #40 @MOVESTRING.LEN\ JSR @MOVESTRING
 24900 8DD8 AD 5E 9A 85 8C AD +  MWA LOC_NAME @MOVE.DST
 24900 8DE2 A9 28 8D 7B 0F	 MVA #40 @MOVESTRING.LEN
 24900 8DE7 20 74 0F		 JSR @MOVESTRING
 24901
 24902 				; optimize FAIL ('SHOWLOCATIONHEADER', updates.pas), line = 305
 24903
 24904 8DEA 20 18 28			jsr SHOWLOCATIONHEADER
 24905
 24906 				; optimize OK (updates.pas), line = 306
 24907
 24908 8DED A9 1C			lda #$1C
 24909 8DEF 20 49 1C			jsr CRT_WRITELN_LOCSTR
 24910
 24911 				; optimize OK (updates.pas), line = 307
 24912
 24913 8DF2 A9 1D			lda #$1D
 24914 8DF4 20 49 1C			jsr CRT_WRITELN_LOCSTR
 24915
 24916 				; optimize OK (updates.pas), line = 308
 24917
 24918 8DF7 A9 08			lda #$08
 24919 8DF9 20 B2 18			jsr B_CRT.CRT_WRITE.@010186000
 24920
 24921 				; optimize OK (updates.pas), line = 309
 24922
 24923 8DFC AC 8A CD			ldy CURRENTPLAYER
 24924 8DFF B9 94 C9			lda adr.PLPRISON,y
 24925 8E02 20 CB 18			jsr B_CRT.CRT_WRITE.@010180000
 24926
 24927 				; optimize OK (updates.pas), line = 310
 24928
 24929 8E05 A9 1E			lda #$1E
 24930 8E07 20 49 1C			jsr CRT_WRITELN_LOCSTR
 24931
 24932 				; optimize OK (updates.pas), line = 311
 24933
 24934 8E0A AC 8A CD			ldy CURRENTPLAYER
 24935 8E0D B9 94 C9			lda adr.PLPRISON,y
 24936 8E10 38 E9 01			sub #$01
 24937 8E13 99 94 C9			sta adr.PLPRISON,y
 24938
 24939 				; optimize FAIL ('WAITFORKEY', updates.pas), line = 312
 24940
 24941 8E16 20 88 1D			jsr WAITFORKEY
 24942
 24943 				; optimize OK (updates.pas), line = 313
 24944
 24945 8E19 A9 11			lda #$11
 24946 8E1B 8D 12 CA			sta CURRENTLOCATION
 24947 8E1E 4C 04 8F			jmp @exit
 24948 8E21			l_5FB9
 24949
 24950 				; optimize OK (updates.pas), line = 317
 24951
 24952 8E21 AC 8A CD			ldy CURRENTPLAYER
 24953 8E24 B9 AC C9			lda adr.PLFREED,y
 24954 8E27 C9 63			cmp #$63
 24955 8E29 D0 03 4C 04 8F		jeq l_5FFF
 24956
 24957 				; optimize OK (updates.pas), line = 319
 24958
 24959 8E2E A9 1F			lda #$1F
 24960 8E30 20 04 1C			jsr CRT_WRITE_LOCSTR
 24961
 24962 				; optimize OK (updates.pas), line = 320
 24963
 24964 8E33 AC 8A CD			ldy CURRENTPLAYER
 24965 8E36 B9 AC C9			lda adr.PLFREED,y
 24966 8E39 8D E0 A8			sta K
 24967
 24968 				; optimize OK (updates.pas), line = 321
 24969
 24970 8E3C 0A				asl @
 24971 8E3D 0A				asl @
 24972 8E3E 0A				asl @
 24973 8E3F 8D E1 A8			sta R
 24974
 24975 				; optimize FAIL ('B_CRT.CRT_WRITE.@0101898600000100', updates.pas), line = 322
 24976
 24977 8E42 E8				inx
 24978 8E43 AD E1 A8			lda R
 24979 8E46 0A				asl @
 24980 8E47 A8				tay
 24981 8E48 B9 E2 A3			lda adr.GANGSTERNAMES,y
 24982 8E4B 95 94			sta :STACKORIGIN,x
 24983 8E4D B9 E3 A3			lda adr.GANGSTERNAMES+1,y
 24984 8E50 95 A4			sta :STACKORIGIN+STACKWIDTH,x
 24985 8E52 20 6C 18			jsr B_CRT.CRT_WRITE.@0101898600000100
 24986
 24987 				; optimize OK (updates.pas), line = 323
 24988
 24989 8E55 A9 20			lda #$20
 24990 8E57 20 49 1C			jsr CRT_WRITELN_LOCSTR
 24991
 24992 				; optimize OK (updates.pas), line = 324
 24993
 24994 8E5A A9 21			lda #$21
 24995 8E5C 20 49 1C			jsr CRT_WRITELN_LOCSTR
 24996
 24997 				; optimize OK (updates.pas), line = 325
 24998
 24999 8E5F A9 22			lda #$22
 25000 8E61 20 04 1C			jsr CRT_WRITE_LOCSTR
 25001
 25002 				; optimize OK (updates.pas), line = 326
 25003
 25004 8E64 AD 8A CD			lda CURRENTPLAYER
 25005 8E67 0A				asl @
 25006 8E68 0A				asl @
 25007 8E69 A8				tay
 25008 8E6A B9 30 C9			lda adr.PLMONEY,y
 25009 8E6D 8D 5F A1			sta B_CRT.CRT_WRITE.@010185000.NUM
 25010 8E70 B9 31 C9			lda adr.PLMONEY+1,y
 25011 8E73 8D 60 A1			sta B_CRT.CRT_WRITE.@010185000.NUM+1
 25012 8E76 B9 32 C9			lda adr.PLMONEY+2,y
 25013 8E79 8D 61 A1			sta B_CRT.CRT_WRITE.@010185000.NUM+2
 25014 8E7C B9 33 C9			lda adr.PLMONEY+3,y
 25015 8E7F 8D 62 A1			sta B_CRT.CRT_WRITE.@010185000.NUM+3
 25016 8E82 20 17 19			jsr B_CRT.CRT_WRITE.@010185000
 25017
 25018 				; optimize FAIL ('CRT_WRITELN', updates.pas), line = 327
 25019
 25020 8E85 E8				inx
 25021 8E86 A9 BE 95 94			mva #$BE :STACKORIGIN,x
 25022 8E8A A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 25023 8E8E 20 E7 1D			jsr CRT_WRITELN
 25024
 25025 				; optimize OK (updates.pas), line = 328
 25026
 25027 8E91 AD 8A CD			lda CURRENTPLAYER
 25028 8E94 0A				asl @
 25029 8E95 0A				asl @
 25030 8E96 A8				tay
 25031 8E97 B9 30 C9			lda adr.PLMONEY,y
 25032 8E9A 8D EB A6			sta READVALUE.MAXVALUE
 25033 8E9D B9 31 C9			lda adr.PLMONEY+1,y
 25034 8EA0 8D EC A6			sta READVALUE.MAXVALUE+1
 25035 8EA3 A9 00			lda #$00
 25036 8EA5 8D E9 A6			sta READVALUE.MINVALUE
 25037 8EA8 8D EA A6			sta READVALUE.MINVALUE+1
 25038 8EAB 20 64 1F			jsr READVALUE
 25039 8EAE AD ED A6			lda READVALUE.RESULT
 25040 8EB1 8D E2 A8			sta PR
 25041 8EB4 AD EE A6			lda READVALUE.RESULT+1
 25042 8EB7 8D E3 A8			sta PR+1
 25043
 25044 				; optimize OK (updates.pas), line = 329
 25045
 25046 8EBA 0D E2 A8			ora PR
 25047 8EBD F0 3D			jeq l_6042
 25048
 25049 				; optimize OK (updates.pas), line = 331
 25050
 25051 8EBF AD E2 A8			lda PR
 25052 8EC2 8D A6 A7			sta PAYMONEY.PRICE
 25053 8EC5 AD E3 A8			lda PR+1
 25054 8EC8 8D A7 A7			sta PAYMONEY.PRICE+1
 25055 8ECB 20 02 32			jsr PAYMONEY
 25056
 25057 				; optimize OK (updates.pas), line = 332
 25058
 25059 8ECE A9 02			lda #$02
 25060 8ED0 20 B3 2F			jsr ADDPOINTS
 25061
 25062 				; optimize OK (updates.pas), line = 333
 25063
 25064 8ED3 AD E0 A8			lda K
 25065 8ED6 0A				asl @
 25066 8ED7 0A				asl @
 25067 8ED8 A8				tay
 25068 8ED9 B9 30 C9			lda adr.PLMONEY,y
 25069 8EDC 18 6D E2 A8			add PR
 25070 8EE0 99 30 C9			sta adr.PLMONEY,y
 25071 8EE3 B9 31 C9			lda adr.PLMONEY+1,y
 25072 8EE6 6D E3 A8			adc PR+1
 25073 8EE9 99 31 C9			sta adr.PLMONEY+1,y
 25074 8EEC B9 32 C9			lda adr.PLMONEY+2,y
 25075 8EEF 69 00			adc #$00
 25076 8EF1 99 32 C9			sta adr.PLMONEY+2,y
 25077 8EF4 B9 33 C9			lda adr.PLMONEY+3,y
 25078 8EF7 69 00			adc #$00
 25079 8EF9 99 33 C9			sta adr.PLMONEY+3,y
 25080 8EFC			l_6042
 25081
 25082 				; optimize OK (updates.pas), line = 335
 25083
 25084 8EFC AC 8A CD			ldy CURRENTPLAYER
 25085 8EFF A9 63			lda #$63
 25086 8F01 99 AC C9			sta adr.PLFREED,y
 25087 8F04			l_5FFF
 25088
 25089 				; ------------------------------------------------------------
 25090
 25091 = A8E0			K	= DATAORIGIN+$0CC5
 25092 = A8E1			R	= DATAORIGIN+$0CC6
 25093 = A8E2			PR	= DATAORIGIN+$0CC7
 25094
 25095 = A8E0			@VarData	= K
 25096 = 0004			@VarDataSize	= 4
 25097
 25098 8F04			@exit
 25099 					.ifdef @new
 25100 					lda <@VarData
 25101 					sta :ztmp
 25102 					lda >@VarData
 25103 					ldy #@VarDataSize-1
 25104 					jmp @FreeMem
 25105 					els
 25106 8F04 60				rts						; ret
 25107 					eif
 25108 				.endl
 25109
 25110 8F05			.local	UPDATEJOB					; FUNCTION
 25111
 25112 				; optimize OK (updates.pas), line = 348
 25113
 25114 8F05 A9 16			lda #$16
 25115 8F07 20 BD 28			jsr LOADLOCATION
 25116
 25117 				; optimize FAIL ('JOBWORKING', updates.pas), line = 349
 25118
 25119 8F0A 20 E1 86			jsr JOBWORKING
 25120
 25121 				; optimize OK (updates.pas), line = 351
 25122
 25123 8F0D AD 8A CD			lda CURRENTPLAYER
 25124 8F10 0A				asl @
 25125 8F11 A8				tay
 25126 8F12 B9 8D C9			lda adr.PLJOBLOCATION+1,y
 25127 8F15 D0 05			bne @+
 25128 8F17 B9 8C C9			lda adr.PLJOBLOCATION,y
 25129 8F1A C9 07			cmp #$07
 25130 				@
 25131 8F1C F0 0F			jeq l_608Bx
 25132 8F1E B9 8D C9			lda adr.PLJOBLOCATION+1,y
 25133 8F21 D0 05			bne @+
 25134 8F23 B9 8C C9			lda adr.PLJOBLOCATION,y
 25135 8F26 C9 0A			cmp #$0A
 25136 				@
 25137 8F28 F0 03 4C 33 90		jne l_608B
 25138 8F2D			l_608Bx
 25139
 25140 				; optimize OK (updates.pas), line = 353
 25141
 25142 8F2D A9 01			lda #$01
 25143 8F2F 20 49 1C			jsr CRT_WRITELN_LOCSTR
 25144
 25145 				; optimize OK (updates.pas), line = 354
 25146
 25147 8F32 A9 02			lda #$02
 25148 8F34 20 49 1C			jsr CRT_WRITELN_LOCSTR
 25149
 25150 				; optimize FAIL ('EFFECTWAIT', updates.pas), line = 355
 25151
 25152 8F37 20 B2 1C			jsr EFFECTWAIT
 25153
 25154 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', updates.pas), line = 356
 25155
 25156 8F3A 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 25157
 25158 				; optimize OK (updates.pas), line = 357
 25159
 25160 8F3D A9 02			lda #$02
 25161 8F3F 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 25162 8F42 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 25163 8F45 D0 10			jne l_60A3
 25164
 25165 				; optimize OK (updates.pas), line = 359
 25166
 25167 8F47 A9 03			lda #$03
 25168 8F49 20 49 1C			jsr CRT_WRITELN_LOCSTR
 25169
 25170 				; optimize FAIL ('WAITFORKEY', updates.pas), line = 360
 25171
 25172 8F4C 20 88 1D			jsr WAITFORKEY
 25173
 25174 				; optimize OK (updates.pas), line = 361
 25175
 25176 8F4F A9 01			lda #$01
 25177 8F51 8D E5 A8			sta JOBDONE
 25178 8F54 4C 33 90			jmp l_60B4
 25179 8F57			l_60A3
 25180
 25181 				; optimize OK (updates.pas), line = 365
 25182
 25183 8F57 A9 04			lda #$04
 25184 8F59 20 49 1C			jsr CRT_WRITELN_LOCSTR
 25185
 25186 				; optimize OK (updates.pas), line = 366
 25187
 25188 8F5C A9 05			lda #$05
 25189 8F5E 20 49 1C			jsr CRT_WRITELN_LOCSTR
 25190
 25191 				; optimize FAIL ('WAITFORKEY', updates.pas), line = 367
 25192
 25193 8F61 20 88 1D			jsr WAITFORKEY
 25194
 25195 				; optimize OK (updates.pas), line = 368
 25196
 25197 8F64 A9 00			lda #$00
 25198 8F66 8D 55 E5			sta adr.FP_SEX+$10
 25199
 25200 				; optimize OK (updates.pas), line = 369
 25201
 25202 8F69 A9 03			lda #$03
 25203 8F6B 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 25204 8F6E AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 25205 8F71 8D EA A8			sta @CASETMP_0016
 25206 8F74 D0 2D			jne l_60C8
 25207 				@
 25208
 25209 				; optimize OK (updates.pas), line = 371
 25210
 25211 8F76 AD 79 A3			lda adr.FP_GANG+$02
 25212 8F79 85 8C			sta @move.dst
 25213 8F7B AD 7A A3			lda adr.FP_GANG+1+$02
 25214 8F7E 85 8D			sta @move.dst+1
 25215 8F80 AD 8C 9A			lda LOC_STRING_6
 25216 8F83 85 88			sta @move.src
 25217 8F85 AD 8D 9A			lda LOC_STRING_6+1
 25218 8F88 85 89			sta @move.src+1
 25219 8F8A A0 00			ldy #$00
 25220 8F8C B1 88			lda (@move.src),y
 25221 8F8E 18 69 01			add #1
 25222 8F91 85 84			sta @move.cnt
 25223 8F93 90 01			scc
 25224 8F95 C8				iny
 25225 8F96 84 85			sty @move.cnt+1
 25226 8F98 20 D7 0E			jsr @move
 25227
 25228 				; optimize OK (updates.pas), line = 372
 25229
 25230 8F9B A9 01			lda #$01
 25231 8F9D 8D 55 E5			sta adr.FP_SEX+$10
 25232 8FA0 4C E5 8F			jmp a_0016
 25233 8FA3			l_60C8
 25234 8FA3 C9 01			cmp #$01
 25235 8FA5 D0 15			jne l_60DA
 25236
 25237 				; optimize OK (updates.pas), line = 374
 25238
 25239 8FA7 AD 79 A3			lda adr.FP_GANG+$02
 25240 8FAA 85 8C			sta @move.dst
 25241 8FAC AD 7A A3			lda adr.FP_GANG+1+$02
 25242 8FAF 85 8D			sta @move.dst+1
 25243 8FB1 AD 8E 9A			lda LOC_STRING_7
 25244 8FB4 85 88			sta @move.src
 25245 8FB6 AD 8F 9A			lda LOC_STRING_7+1
 25246 8FB9 4C D2 8F			jmp s_60ED
 25247 8FBC			l_60DA
 25248 8FBC C9 02			cmp #$02
 25249 8FBE D0 25			jne l_60E7
 25250
 25251 				; optimize OK (updates.pas), line = 375
 25252
 25253 8FC0 AD 79 A3			lda adr.FP_GANG+$02
 25254 8FC3 85 8C			sta @move.dst
 25255 8FC5 AD 7A A3			lda adr.FP_GANG+1+$02
 25256 8FC8 85 8D			sta @move.dst+1
 25257 8FCA AD 90 9A			lda LOC_STRING_8
 25258 8FCD 85 88			sta @move.src
 25259 8FCF AD 91 9A			lda LOC_STRING_8+1
 25260 8FD2			s_60ED
 25261 8FD2 85 89			sta @move.src+1
 25262 8FD4 A0 00			ldy #$00
 25263 8FD6 B1 88			lda (@move.src),y
 25264 8FD8 18 69 01			add #1
 25265 8FDB 85 84			sta @move.cnt
 25266 8FDD 90 01			scc
 25267 8FDF C8				iny
 25268 8FE0 84 85			sty @move.cnt+1
 25269 8FE2 20 D7 0E			jsr @move
 25270 8FE5			l_60E7
 25271 8FE5			a_0016
 25272
 25273 				; optimize OK (updates.pas), line = 377
 25274
 25275 8FE5 A9 01			lda #$01
 25276 8FE7 8D 02 E4			sta adr.FP_AI+$01
 25277
 25278 				; optimize OK (updates.pas), line = 378
 25279
 25280 8FEA 8D 04 E4			sta adr.FP_N+$01
 25281
 25282 				; optimize OK (updates.pas), line = 379
 25283
 25284 8FED AD 79 A3			lda adr.FP_GANG+$02
 25285 8FF0 85 88			sta @move.src
 25286 8FF2 AD 7A A3			lda adr.FP_GANG+1+$02
 25287 8FF5 85 89			sta @move.src+1
 25288 8FF7 AD 9B A3			lda adr.FP_NAME+$20
 25289 8FFA 85 8C			sta @move.dst
 25290 8FFC AD 9C A3			lda adr.FP_NAME+1+$20
 25291 8FFF 85 8D			sta @move.dst+1
 25292 9001 A0 00			ldy #$00
 25293 9003 B1 88			lda (@move.src),y
 25294 9005 18 69 01			add #1
 25295 9008 85 84			sta @move.cnt
 25296 900A 90 01			scc
 25297 900C C8				iny
 25298 900D 84 85			sty @move.cnt+1
 25299 900F 20 D7 0E			jsr @move
 25300
 25301 				; optimize OK (updates.pas), line = 380
 25302
 25303 9012 A9 05			lda #$05
 25304 9014 8D 55 E4			sta adr.FP_WEAPON+$10
 25305
 25306 				; optimize OK (updates.pas), line = 381
 25307
 25308 9017 A9 1E			lda #$1E
 25309 9019 8D 95 E4			sta adr.FP_ENERGY+$10
 25310
 25311 				; optimize FAIL ('DOFIGHT', updates.pas), line = 383
 25312
 25313 901C 20 66 4D			jsr DOFIGHT
 25314 901F AD 1C A8			lda DOFIGHT.RESULT
 25315 9022 C9 01			cmp #$01
 25316 9024 D0 05			jne l_611D
 25317
 25318 				; optimize OK (updates.pas), line = 384
 25319
 25320 9026 A9 00			lda #$00
 25321 9028 4C 2D 90			jmp l_612B
 25322 902B			l_611D
 25323
 25324 				; optimize OK (updates.pas), line = 386
 25325
 25326 902B A9 01			lda #$01
 25327 902D			l_612B
 25328 902D 8D E5 A8			sta JOBDONE
 25329
 25330 				; optimize FAIL ('ENABLECONSOLE', updates.pas), line = 387
 25331
 25332 9030 20 8E 27			jsr ENABLECONSOLE
 25333 9033			l_60B4
 25334 9033			l_608B
 25335
 25336 				; optimize OK (updates.pas), line = 391
 25337
 25338 9033 AD 8A CD			lda CURRENTPLAYER
 25339 9036 0A				asl @
 25340 9037 A8				tay
 25341 9038 B9 8D C9			lda adr.PLJOBLOCATION+1,y
 25342 903B D0 05			bne @+
 25343 903D B9 8C C9			lda adr.PLJOBLOCATION,y
 25344 9040 C9 0B			cmp #$0B
 25345 				@
 25346 9042 F0 03 4C A5 91		jne l_6146
 25347
 25348 				; optimize OK (updates.pas), line = 393
 25349
 25350 9047 A9 09			lda #$09
 25351 9049 20 49 1C			jsr CRT_WRITELN_LOCSTR
 25352
 25353 				; optimize OK (updates.pas), line = 394
 25354
 25355 904C A9 0A			lda #$0A
 25356 904E 20 53 1C			jsr CRT_WRITELN2_LOCSTR
 25357
 25358 				; optimize OK (updates.pas), line = 395
 25359
 25360 9051 A9 0B			lda #$0B
 25361 9053 20 49 1C			jsr CRT_WRITELN_LOCSTR
 25362
 25363 				; optimize OK (updates.pas), line = 396
 25364
 25365 9056 A9 0C			lda #$0C
 25366 9058 20 49 1C			jsr CRT_WRITELN_LOCSTR
 25367
 25368 				; optimize OK (updates.pas), line = 397
 25369
 25370 905B A9 0D			lda #$0D
 25371 905D 20 49 1C			jsr CRT_WRITELN_LOCSTR
 25372
 25373 				; optimize OK (updates.pas), line = 398
 25374
 25375 9060 A9 0E			lda #$0E
 25376 9062 20 04 1C			jsr CRT_WRITE_LOCSTR
 25377
 25378 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', updates.pas), line = 399
 25379
 25380 9065 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 25381
 25382 				; optimize OK (updates.pas), line = 400
 25383
 25384 9068 A9 63			lda #$63
 25385 906A 8D E6 A8			sta R
 25386
 25387 				; --- RepeatUntilProlog
 25388 906D			l_6159
 25389
 25390 				; optimize FAIL ('READKEYANDSTICK', updates.pas), line = 402
 25391
 25392 906D 20 1B 1B			jsr READKEYANDSTICK
 25393 9070 AD BC A4			lda READKEYANDSTICK.RESULT
 25394 9073 8D E9 A8			sta CH
 25395
 25396 				; optimize OK (updates.pas), line = 403
 25397
 25398 9076 8D EB A8			sta @CASETMP_0017
 25399 9079 C9 1F			cmp #$1F
 25400 907B D0 08			jne l_6168
 25401 				@
 25402
 25403 				; optimize OK (updates.pas), line = 404
 25404
 25405 907D A9 01			lda #$01
 25406 907F 8D E6 A8			sta R
 25407 9082 4C 9A 90			jmp a_0017
 25408 9085			l_6168
 25409 9085 C9 1E			cmp #$1E
 25410 9087 D0 08			jne l_6173
 25411
 25412 				; optimize OK (updates.pas), line = 405
 25413
 25414 9089 A9 02			lda #$02
 25415 908B 8D E6 A8			sta R
 25416 908E 4C 9A 90			jmp a_0017
 25417 9091			l_6173
 25418 9091 C9 1A			cmp #$1A
 25419 9093 D0 05			jne l_617E
 25420
 25421 				; optimize OK (updates.pas), line = 406
 25422
 25423 9095 A9 03			lda #$03
 25424 9097 8D E6 A8			sta R
 25425 909A			l_617E
 25426 909A			a_0017
 25427
 25428 				; optimize OK (updates.pas), line = 408
 25429
 25430 909A AD E6 A8			lda R
 25431 909D C9 63			cmp #$63
 25432 909F F0 CC			jeq l_6159
 25433
 25434 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', updates.pas), line = 410
 25435
 25436 90A1 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 25437
 25438 				; optimize FAIL ('B_CRT.CRT_NEWLINE.@00', updates.pas), line = 411
 25439
 25440 90A4 20 25 1A			jsr B_CRT.CRT_NEWLINE.@00
 25441
 25442 				; optimize OK (updates.pas), line = 413
 25443
 25444 90A7 A9 06			lda #$06
 25445 90A9 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 25446 90AC AD E6 A8			lda R
 25447 90AF CD 27 9C			cmp SYSTEM.RANDOM.@010180000.RESULT
 25448 90B2 B0 64			jcs l_61A9
 25449
 25450 				; optimize OK (updates.pas), line = 415
 25451
 25452 90B4 A9 64			lda #$64
 25453 90B6 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 25454 90B9 E8				inx
 25455 90BA AD 27 9C 95 94		mva SYSTEM.RANDOM.@010180000.RESULT :STACKORIGIN,x
 25456 90BF E8				inx
 25457 90C0 AD E6 A8 95 94		mva R :STACKORIGIN,x
 25458 90C5 20 32 10			jsr imulBYTE
 25459 90C8 CA				dex
 25460 90C9 A5 84			lda :eax
 25461 90CB 18 69 2C			add #$2C
 25462 90CE 8D E7 A8			sta P
 25463 90D1 A5 85			lda :eax+1
 25464 90D3 69 01			adc #$01
 25465 90D5 8D E8 A8			sta P+1
 25466 90D8 CA				dex
 25467
 25468 				; optimize OK (updates.pas), line = 416
 25469
 25470 90D9 A9 0F			lda #$0F
 25471 90DB 20 49 1C			jsr CRT_WRITELN_LOCSTR
 25472
 25473 				; optimize OK (updates.pas), line = 417
 25474
 25475 90DE A9 10			lda #$10
 25476 90E0 20 04 1C			jsr CRT_WRITE_LOCSTR
 25477
 25478 				; optimize OK (updates.pas), line = 418
 25479
 25480 90E3 AD E7 A8			lda P
 25481 90E6 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 25482 90E9 AD E8 A8			lda P+1
 25483 90EC 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 25484 90EF 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 25485
 25486 				; optimize FAIL ('CRT_WRITELN', updates.pas), line = 419
 25487
 25488 90F2 E8				inx
 25489 90F3 A9 73 95 94			mva #$73 :STACKORIGIN,x
 25490 90F7 A9 0C 95 A4			mva #$0C :STACKORIGIN+STACKWIDTH,x
 25491 90FB 20 E7 1D			jsr CRT_WRITELN
 25492
 25493 				; optimize OK (updates.pas), line = 420
 25494
 25495 90FE AD E7 A8			lda P
 25496 9101 8D 99 A7			sta ADDMONEY.AMOUNT
 25497 9104 AD E8 A8			lda P+1
 25498 9107 8D 9A A7			sta ADDMONEY.AMOUNT+1
 25499 910A 20 5F 2F			jsr ADDMONEY
 25500
 25501 				; optimize FAIL ('WAITFORKEY', updates.pas), line = 421
 25502
 25503 910D 20 88 1D			jsr WAITFORKEY
 25504
 25505 				; optimize OK (updates.pas), line = 422
 25506
 25507 9110 A9 01			lda #$01
 25508 9112 8D E5 A8			sta JOBDONE
 25509 9115 4C A5 91			jmp l_61D3
 25510 9118			l_61A9
 25511
 25512 				; optimize OK (updates.pas), line = 426
 25513
 25514 9118 A9 11			lda #$11
 25515 911A 20 49 1C			jsr CRT_WRITELN_LOCSTR
 25516
 25517 				; optimize OK (updates.pas), line = 427
 25518
 25519 911D A9 12			lda #$12
 25520 911F 20 49 1C			jsr CRT_WRITELN_LOCSTR
 25521
 25522 				; optimize FAIL ('WAITFORKEY', updates.pas), line = 428
 25523
 25524 9122 20 88 1D			jsr WAITFORKEY
 25525
 25526 				; optimize OK (updates.pas), line = 429
 25527
 25528 9125 A9 01			lda #$01
 25529 9127 8D 02 E4			sta adr.FP_AI+$01
 25530
 25531 				; optimize OK (updates.pas), line = 430
 25532
 25533 912A 8D 04 E4			sta adr.FP_N+$01
 25534
 25535 				; optimize OK (updates.pas), line = 431
 25536
 25537 912D AD 9B A3			lda adr.FP_NAME+$20
 25538 9130 85 8C			sta @move.dst
 25539 9132 AD 9C A3			lda adr.FP_NAME+1+$20
 25540 9135 85 8D			sta @move.dst+1
 25541 9137 AD BC 9A			lda LOC_STRING_30
 25542 913A 85 88			sta @move.src
 25543 913C AD BD 9A			lda LOC_STRING_30+1
 25544 913F 85 89			sta @move.src+1
 25545 9141 A0 00			ldy #$00
 25546 9143 B1 88			lda (@move.src),y
 25547 9145 18 69 01			add #1
 25548 9148 85 84			sta @move.cnt
 25549 914A 90 01			scc
 25550 914C C8				iny
 25551 914D 84 85			sty @move.cnt+1
 25552 914F 20 D7 0E			jsr @move
 25553
 25554 				; optimize OK (updates.pas), line = 432
 25555
 25556 9152 AD 79 A3			lda adr.FP_GANG+$02
 25557 9155 85 8C			sta @move.dst
 25558 9157 AD 7A A3			lda adr.FP_GANG+1+$02
 25559 915A 85 8D			sta @move.dst+1
 25560 915C AD BC 9A			lda LOC_STRING_30
 25561 915F 85 88			sta @move.src
 25562 9161 AD BD 9A			lda LOC_STRING_30+1
 25563 9164 85 89			sta @move.src+1
 25564 9166 A0 00			ldy #$00
 25565 9168 B1 88			lda (@move.src),y
 25566 916A 18 69 01			add #1
 25567 916D 85 84			sta @move.cnt
 25568 916F 90 01			scc
 25569 9171 C8				iny
 25570 9172 84 85			sty @move.cnt+1
 25571 9174 20 D7 0E			jsr @move
 25572
 25573 				; optimize OK (updates.pas), line = 433
 25574
 25575 9177 A9 00			lda #$00
 25576 9179 8D 55 E5			sta adr.FP_SEX+$10
 25577
 25578 				; optimize OK (updates.pas), line = 434
 25579
 25580 917C A9 02			lda #$02
 25581 917E 8D 55 E4			sta adr.FP_WEAPON+$10
 25582
 25583 				; optimize OK (updates.pas), line = 435
 25584
 25585 9181 A9 0A			lda #$0A
 25586 9183 8D 95 E4			sta adr.FP_ENERGY+$10
 25587
 25588 				; optimize OK (updates.pas), line = 436
 25589
 25590 9186 A9 1E			lda #$1E
 25591 9188 8D D5 E4			sta adr.FP_STRENGTH+$10
 25592
 25593 				; optimize OK (updates.pas), line = 437
 25594
 25595 918B 8D 15 E5			sta adr.FP_BRUTALITY+$10
 25596
 25597 				; optimize FAIL ('DOFIGHT', updates.pas), line = 439
 25598
 25599 918E 20 66 4D			jsr DOFIGHT
 25600 9191 AD 1C A8			lda DOFIGHT.RESULT
 25601 9194 C9 01			cmp #$01
 25602 9196 D0 05			jne l_6217
 25603
 25604 				; optimize OK (updates.pas), line = 440
 25605
 25606 9198 A9 00			lda #$00
 25607 919A 4C 9F 91			jmp l_6225
 25608 919D			l_6217
 25609
 25610 				; optimize OK (updates.pas), line = 442
 25611
 25612 919D A9 01			lda #$01
 25613 919F			l_6225
 25614 919F 8D E5 A8			sta JOBDONE
 25615
 25616 				; optimize FAIL ('ENABLECONSOLE', updates.pas), line = 443
 25617
 25618 91A2 20 8E 27			jsr ENABLECONSOLE
 25619 91A5			l_61D3
 25620 91A5			l_6146
 25621
 25622 				; optimize OK (updates.pas), line = 447
 25623
 25624 91A5 AD 8A CD			lda CURRENTPLAYER
 25625 91A8 0A				asl @
 25626 91A9 A8				tay
 25627 91AA B9 8D C9			lda adr.PLJOBLOCATION+1,y
 25628 91AD D0 05			bne @+
 25629 91AF B9 8C C9			lda adr.PLJOBLOCATION,y
 25630 91B2 C9 10			cmp #$10
 25631 				@
 25632 91B4 F0 03 4C 44 92		jne l_6240
 25633
 25634 				; optimize OK (updates.pas), line = 449
 25635
 25636 91B9 A9 13			lda #$13
 25637 91BB 20 49 1C			jsr CRT_WRITELN_LOCSTR
 25638
 25639 				; optimize OK (updates.pas), line = 450
 25640
 25641 91BE A9 14			lda #$14
 25642 91C0 20 49 1C			jsr CRT_WRITELN_LOCSTR
 25643
 25644 				; optimize FAIL ('WAITFORKEY', updates.pas), line = 451
 25645
 25646 91C3 20 88 1D			jsr WAITFORKEY
 25647
 25648 				; optimize OK (updates.pas), line = 452
 25649
 25650 91C6 A9 01			lda #$01
 25651 91C8 8D 02 E4			sta adr.FP_AI+$01
 25652
 25653 				; optimize OK (updates.pas), line = 453
 25654
 25655 91CB 8D 04 E4			sta adr.FP_N+$01
 25656
 25657 				; optimize OK (updates.pas), line = 454
 25658
 25659 91CE AD 9B A3			lda adr.FP_NAME+$20
 25660 91D1 85 8C			sta @move.dst
 25661 91D3 AD 9C A3			lda adr.FP_NAME+1+$20
 25662 91D6 85 8D			sta @move.dst+1
 25663 91D8 AD BE 9A			lda LOC_STRING_31
 25664 91DB 85 88			sta @move.src
 25665 91DD AD BF 9A			lda LOC_STRING_31+1
 25666 91E0 85 89			sta @move.src+1
 25667 91E2 A0 00			ldy #$00
 25668 91E4 B1 88			lda (@move.src),y
 25669 91E6 18 69 01			add #1
 25670 91E9 85 84			sta @move.cnt
 25671 91EB 90 01			scc
 25672 91ED C8				iny
 25673 91EE 84 85			sty @move.cnt+1
 25674 91F0 20 D7 0E			jsr @move
 25675
 25676 				; optimize OK (updates.pas), line = 455
 25677
 25678 91F3 AD 79 A3			lda adr.FP_GANG+$02
 25679 91F6 85 8C			sta @move.dst
 25680 91F8 AD 7A A3			lda adr.FP_GANG+1+$02
 25681 91FB 85 8D			sta @move.dst+1
 25682 91FD AD BE 9A			lda LOC_STRING_31
 25683 9200 85 88			sta @move.src
 25684 9202 AD BF 9A			lda LOC_STRING_31+1
 25685 9205 85 89			sta @move.src+1
 25686 9207 A0 00			ldy #$00
 25687 9209 B1 88			lda (@move.src),y
 25688 920B 18 69 01			add #1
 25689 920E 85 84			sta @move.cnt
 25690 9210 90 01			scc
 25691 9212 C8				iny
 25692 9213 84 85			sty @move.cnt+1
 25693 9215 20 D7 0E			jsr @move
 25694
 25695 				; optimize OK (updates.pas), line = 456
 25696
 25697 9218 A9 00			lda #$00
 25698 921A 8D 55 E5			sta adr.FP_SEX+$10
 25699
 25700 				; optimize OK (updates.pas), line = 457
 25701
 25702 921D 8D 55 E4			sta adr.FP_WEAPON+$10
 25703
 25704 				; optimize OK (updates.pas), line = 458
 25705
 25706 9220 A9 14			lda #$14
 25707 9222 8D 95 E4			sta adr.FP_ENERGY+$10
 25708
 25709 				; optimize OK (updates.pas), line = 459
 25710
 25711 9225 A9 1E			lda #$1E
 25712 9227 8D D5 E4			sta adr.FP_STRENGTH+$10
 25713
 25714 				; optimize OK (updates.pas), line = 460
 25715
 25716 922A 8D 15 E5			sta adr.FP_BRUTALITY+$10
 25717
 25718 				; optimize FAIL ('DOFIGHT', updates.pas), line = 462
 25719
 25720 922D 20 66 4D			jsr DOFIGHT
 25721 9230 AD 1C A8			lda DOFIGHT.RESULT
 25722 9233 C9 01			cmp #$01
 25723 9235 D0 05			jne l_6285
 25724
 25725 				; optimize OK (updates.pas), line = 463
 25726
 25727 9237 A9 00			lda #$00
 25728 9239 4C 3E 92			jmp l_6293
 25729 923C			l_6285
 25730
 25731 				; optimize OK (updates.pas), line = 465
 25732
 25733 923C A9 01			lda #$01
 25734 923E			l_6293
 25735 923E 8D E5 A8			sta JOBDONE
 25736
 25737 				; optimize FAIL ('ENABLECONSOLE', updates.pas), line = 466
 25738
 25739 9241 20 8E 27			jsr ENABLECONSOLE
 25740 9244			l_6240
 25741
 25742 				; optimize OK (updates.pas), line = 470
 25743
 25744 9244 AD E5 A8			lda JOBDONE
 25745 9247 C9 01			cmp #$01
 25746 9249 D0 66			jne l_62AC
 25747
 25748 				; optimize OK (updates.pas), line = 472
 25749
 25750 924B AC 8A CD			ldy CURRENTPLAYER
 25751 924E B9 80 C9			lda adr.PLJOB,y
 25752 9251 38 E9 01			sub #$01
 25753 9254 99 80 C9			sta adr.PLJOB,y
 25754
 25755 				; optimize OK (updates.pas), line = 473
 25756
 25757 9257 F0 03			jeq l_62D2
 25758 9259 4C D9 92			jmp @exit
 25759 925C			l_62D2
 25760
 25761 				; optimize FAIL ('JOBWORKING', updates.pas), line = 474
 25762
 25763 925C 20 E1 86			jsr JOBWORKING
 25764
 25765 				; optimize OK (updates.pas), line = 475
 25766
 25767 925F A9 15			lda #$15
 25768 9261 20 49 1C			jsr CRT_WRITELN_LOCSTR
 25769
 25770 				; optimize OK (updates.pas), line = 476
 25771
 25772 9264 AD 8A CD			lda CURRENTPLAYER
 25773 9267 0A				asl @
 25774 9268 A8				tay
 25775 9269 B9 84 C9			lda adr.PLJOBWAGE,y
 25776 926C 8D 5D A1			sta B_CRT.CRT_WRITE.@010181000.NUM
 25777 926F B9 85 C9			lda adr.PLJOBWAGE+1,y
 25778 9272 8D 5E A1			sta B_CRT.CRT_WRITE.@010181000.NUM+1
 25779 9275 20 F1 18			jsr B_CRT.CRT_WRITE.@010181000
 25780
 25781 				; optimize OK (updates.pas), line = 477
 25782
 25783 9278 A9 16			lda #$16
 25784 927A 20 49 1C			jsr CRT_WRITELN_LOCSTR
 25785
 25786 				; optimize FAIL ('WAITFORKEY', updates.pas), line = 478
 25787
 25788 927D 20 88 1D			jsr WAITFORKEY
 25789
 25790 				; optimize OK (updates.pas), line = 479
 25791
 25792 9280 AD 8A CD			lda CURRENTPLAYER
 25793 9283 0A				asl @
 25794 9284 A8				tay
 25795 9285 B9 84 C9			lda adr.PLJOBWAGE,y
 25796 9288 8D 99 A7			sta ADDMONEY.AMOUNT
 25797 928B B9 85 C9			lda adr.PLJOBWAGE+1,y
 25798 928E 8D 9A A7			sta ADDMONEY.AMOUNT+1
 25799 9291 20 5F 2F			jsr ADDMONEY
 25800
 25801 				; optimize OK (updates.pas), line = 480
 25802
 25803 9294 A9 03			lda #$03
 25804 9296 20 B3 2F			jsr ADDPOINTS
 25805
 25806 				; optimize OK (updates.pas), line = 482
 25807
 25808 9299 AC 8A CD			ldy CURRENTPLAYER
 25809 929C A9 00			lda #$00
 25810 929E 99 80 C9			sta adr.PLJOB,y
 25811
 25812 				; optimize OK (updates.pas), line = 483
 25813
 25814 92A1 98				tya
 25815 92A2 0A				asl @
 25816 92A3 A8				tay
 25817 92A4 A9 0F			lda #$0F
 25818 92A6 99 8C C9			sta adr.PLJOBLOCATION,y
 25819 92A9 A9 00			lda #$00
 25820 92AB 99 8D C9			sta adr.PLJOBLOCATION+1,y
 25821 92AE 4C D9 92			jmp @exit
 25822 92B1			l_62AC
 25823
 25824 				; optimize FAIL ('JOBWORKING', updates.pas), line = 487
 25825
 25826 92B1 20 E1 86			jsr JOBWORKING
 25827
 25828 				; optimize OK (updates.pas), line = 488
 25829
 25830 92B4 A9 17			lda #$17
 25831 92B6 20 49 1C			jsr CRT_WRITELN_LOCSTR
 25832
 25833 				; optimize OK (updates.pas), line = 489
 25834
 25835 92B9 A9 18			lda #$18
 25836 92BB 20 49 1C			jsr CRT_WRITELN_LOCSTR
 25837
 25838 				; optimize FAIL ('WAITFORKEY', updates.pas), line = 490
 25839
 25840 92BE 20 88 1D			jsr WAITFORKEY
 25841
 25842 				; optimize OK (updates.pas), line = 491
 25843
 25844 92C1 A9 02			lda #$02
 25845 92C3 20 C4 2F			jsr REMOVEPOINTS
 25846
 25847 				; optimize OK (updates.pas), line = 492
 25848
 25849 92C6 AD 8A CD			lda CURRENTPLAYER
 25850 92C9 0A				asl @
 25851 92CA A8				tay
 25852 92CB A9 00			lda #$00
 25853 92CD 99 8C C9			sta adr.PLJOBLOCATION,y
 25854 92D0 99 8D C9			sta adr.PLJOBLOCATION+1,y
 25855
 25856 				; optimize OK (updates.pas), line = 493
 25857
 25858 92D3 AC 8A CD			ldy CURRENTPLAYER
 25859 92D6 99 80 C9			sta adr.PLJOB,y
 25860 92D9			@exit
 25861
 25862 				; ------------------------------------------------------------
 25863
 25864 = A8E4			RESULT	= DATAORIGIN+$0CC9
 25865 = A8E5			JOBDONE	= DATAORIGIN+$0CCA
 25866 = A8E6			R	= DATAORIGIN+$0CCB
 25867 = A8E7			P	= DATAORIGIN+$0CCC
 25868 = A8E9			CH	= DATAORIGIN+$0CCE
 25869 = A8EA			@CASETMP_0016	= DATAORIGIN+$0CCF
 25870 = A8EB			@CASETMP_0017	= DATAORIGIN+$0CD0
 25871
 25872 = A8E5			@VarData	= JOBDONE
 25873 = 0007			@VarDataSize	= 7
 25874
 25875 92D9 60				rts						; ret
 25876 				.endl
 25877
 25878 92DA			.local	CLEARMEMORY					; PROCEDURE
 25879
 25880 				; optimize OK (main.pas), line = 127
 25881
 25882 92DA A9 00			lda #$00
 25883 92DC 85 88			sta SYSTEM.FILLCHAR.@03018000001810000188000.A
 25884 92DE A9 D8			lda #$D8
 25885 92E0 85 89			sta SYSTEM.FILLCHAR.@03018000001810000188000.A+1
 25886 92E2 A9 00			lda #$00
 25887 92E4 85 8C			sta SYSTEM.FILLCHAR.@03018000001810000188000.COUNT
 25888 92E6 A9 18			lda #$18
 25889 92E8 85 8D			sta SYSTEM.FILLCHAR.@03018000001810000188000.COUNT+1
 25890 92EA A9 00			lda #$00
 25891 92EC 85 84			sta SYSTEM.FILLCHAR.@03018000001810000188000.VALUE
 25892 92EE				.LOCAL +MAIN.SYSTEM.FILLCHAR.@03018000001810000188000
 25893 92EE				m@INLINE
Macro: MAIN.SYSTEM.FILLCHAR.@03018000001810000188000.M@INLINE [Source: main.a65]
     4 92EE 20 2C 0F			jsr @fill
Source: main.a65
 25894 					.ENDL
 25895
 25896 				; optimize OK (main.pas), line = 128
 25897
 25898 92F1 A9 00			lda #$00
 25899 92F3 85 88			sta SYSTEM.FILLCHAR.@03018000001810000188000.A
 25900 92F5 A9 C0			lda #$C0
 25901 92F7 85 89			sta SYSTEM.FILLCHAR.@03018000001810000188000.A+1
 25902 92F9 A9 00			lda #$00
 25903 92FB 85 8C			sta SYSTEM.FILLCHAR.@03018000001810000188000.COUNT
 25904 92FD A9 10			lda #$10
 25905 92FF 85 8D			sta SYSTEM.FILLCHAR.@03018000001810000188000.COUNT+1
 25906 9301 A9 00			lda #$00
 25907 9303 85 84			sta SYSTEM.FILLCHAR.@03018000001810000188000.VALUE
 25908 9305				.LOCAL +MAIN.SYSTEM.FILLCHAR.@03018000001810000188000
 25909 9305				m@INLINE
Macro: MAIN.SYSTEM.FILLCHAR.@03018000001810000188000.M@INLINE [Source: main.a65]
     4 9305 20 2C 0F			jsr @fill
Source: main.a65
 25910 					.ENDL
 25911
 25912 				; optimize OK (main.pas), line = 129
 25913
 25914 9308 A9 00			lda #$00
 25915 930A A0 43			ldy #$43
 25916 930C 99 00 CA 88 10 FA		sta:rpl $CA00,y-
 25917
 25918 9312			@exit
 25919 					.ifdef @new
 25920 					lda <@VarData
 25921 					sta :ztmp
 25922 					lda >@VarData
 25923 					ldy #@VarDataSize-1
 25924 					jmp @FreeMem
 25925 					els
 25926 9312 60				rts						; ret
 25927 					eif
 25928 				.endl
 25929
 25930 9313			.local	INITGLOBALVARS					; PROCEDURE
 25931
 25932 				; optimize OK (main.pas), line = 137
 25933
 25934 9313 A9 00			lda #$00
 25935 9315 A8				tay
 25936
 25937 9316			l_632C
 25938 				; --- ForToDoCondition
 25939 9316 C0 04			cpy #$04
 25940 9318 B0 0E			jcs l_633A
 25941
 25942 				; optimize OK (main.pas), line = 139
 25943
 25944 931A A9 63			lda #$63
 25945 931C 99 8C CD			sta adr.PLRENT,y
 25946
 25947 				; optimize OK (main.pas), line = 140
 25948
 25949 931F 99 70 C9			sta adr.PLLOANSHARK,y
 25950
 25951 				; optimize OK (main.pas), line = 141
 25952
 25953 9322 99 AC C9			sta adr.PLFREED,y
 25954
 25955 				; --- ForToDoEpilog
 25956 9325 C8				iny
 25957 9326 D0 EE			jne l_632C
 25958 9328			l_633A
 25959 9328 8C EC A8			sty K
 25960
 25961 				; ------------------------------------------------------------
 25962
 25963 = A8EC			K	= DATAORIGIN+$0CD1
 25964
 25965 = A8EC			@VarData	= K
 25966 = 0001			@VarDataSize	= 1
 25967
 25968 932B			@exit
 25969 					.ifdef @new
 25970 					lda <@VarData
 25971 					sta :ztmp
 25972 					lda >@VarData
 25973 					ldy #@VarDataSize-1
 25974 					jmp @FreeMem
 25975 					els
 25976 932B 60				rts						; ret
 25977 					eif
 25978 				.endl
 25979
 25980 932C			.local	SHOWCREDITS					; PROCEDURE
 25981
 25982 				; optimize OK (main.pas), line = 150
 25983
 25984 932C A9 1E			lda #$1E
 25985 932E 20 BD 28			jsr LOADLOCATION
 25986
 25987 				; optimize FAIL ('SHOWLOCATIONHEADER', main.pas), line = 151
 25988
 25989 9331 20 18 28			jsr SHOWLOCATIONHEADER
 25990
 25991 				; optimize OK (main.pas), line = 152
 25992
 25993 9334 AD 82 9A			lda LOC_STRING_1
 25994 9337 8D EE A8			sta CUR_LOC_STR
 25995 933A AD 83 9A			lda LOC_STRING_1+1
 25996 933D 8D EF A8			sta CUR_LOC_STR+1
 25997
 25998 				; optimize OK (main.pas), line = 153
 25999
 26000 9340 A9 00			lda #$00
 26001 9342 8D ED A8			sta K
 26002
 26003 9345			l_6369
 26004 				; --- ForToDoCondition
 26005 9345 AD ED A8			lda K
 26006 9348 C9 0F			cmp #$0F
 26007 934A B0 21			jcs l_6377
 26008
 26009 				; optimize FAIL ('CRT_WRITELN', main.pas), line = 155
 26010
 26011 934C E8				inx
 26012 934D AD EE A8 95 94		mva CUR_LOC_STR :STACKORIGIN,x
 26013 9352 AD EF A8 95 A4		mva CUR_LOC_STR+1 :STACKORIGIN+STACKWIDTH,x
 26014 9357 20 E7 1D			jsr CRT_WRITELN
 26015
 26016 				; optimize OK (main.pas), line = 156
 26017
 26018 935A AD EE A8			lda CUR_LOC_STR
 26019 935D 18 69 28			add #$28
 26020 9360 8D EE A8			sta CUR_LOC_STR
 26021 9363 90 03			scc
 26022 9365 EE EF A8			inc CUR_LOC_STR+1
 26023
 26024 				; --- ForToDoEpilog
 26025 9368 EE ED A8			inc K
 26026 936B D0 D8			jne l_6369
 26027 936D			l_6377
 26028
 26029 				; optimize FAIL ('WAITFORKEY', main.pas), line = 158
 26030
 26031 936D 20 88 1D			jsr WAITFORKEY
 26032
 26033 				; optimize FAIL ('SHOWLOCATIONHEADER', main.pas), line = 159
 26034
 26035 9370 20 18 28			jsr SHOWLOCATIONHEADER
 26036
 26037 				; optimize OK (main.pas), line = 160
 26038
 26039 9373 A9 00			lda #$00
 26040 9375 8D ED A8			sta K
 26041
 26042 9378			l_6393
 26043 				; --- ForToDoCondition
 26044 9378 AD ED A8			lda K
 26045 937B C9 0F			cmp #$0F
 26046 937D B0 21			jcs l_63A1
 26047
 26048 				; optimize FAIL ('CRT_WRITELN', main.pas), line = 162
 26049
 26050 937F E8				inx
 26051 9380 AD EE A8 95 94		mva CUR_LOC_STR :STACKORIGIN,x
 26052 9385 AD EF A8 95 A4		mva CUR_LOC_STR+1 :STACKORIGIN+STACKWIDTH,x
 26053 938A 20 E7 1D			jsr CRT_WRITELN
 26054
 26055 				; optimize OK (main.pas), line = 163
 26056
 26057 938D AD EE A8			lda CUR_LOC_STR
 26058 9390 18 69 28			add #$28
 26059 9393 8D EE A8			sta CUR_LOC_STR
 26060 9396 90 03			scc
 26061 9398 EE EF A8			inc CUR_LOC_STR+1
 26062
 26063 				; --- ForToDoEpilog
 26064 939B EE ED A8			inc K
 26065 939E D0 D8			jne l_6393
 26066 93A0			l_63A1
 26067
 26068 				; optimize FAIL ('WAITFORKEY', main.pas), line = 165
 26069
 26070 93A0 20 88 1D			jsr WAITFORKEY
 26071
 26072 				; ------------------------------------------------------------
 26073
 26074 = A8ED			K	= DATAORIGIN+$0CD2
 26075 = A8EE			CUR_LOC_STR	= DATAORIGIN+$0CD3
 26076
 26077 = A8ED			@VarData	= K
 26078 = 0003			@VarDataSize	= 3
 26079
 26080 93A3			@exit
 26081 					.ifdef @new
 26082 					lda <@VarData
 26083 					sta :ztmp
 26084 					lda >@VarData
 26085 					ldy #@VarDataSize-1
 26086 					jmp @FreeMem
 26087 					els
 26088 93A3 60				rts						; ret
 26089 					eif
 26090 				.endl
 26091 93A4			l_00EA
 26092
 26093 				; optimize OK (main.pas), line = 175
 26094
 26095 93A4 A9 22			lda #$22
 26096 93A6 8D 00 D4			sta ATARI.DMACTL
 26097
 26098 				; -------------------  ASM Block 00000170  -------------------
 26099
 26100
 26101 93A9 48			        pha
 26102 93AA 20 2A 08		        jsr xbios.xBIOS_SET_DEFAULT_DEVICE
 26103 93AD A9 00		        lda #$00
 26104 93AF 8D E8 0B		        sta xbios.xIRQEN
 26105 93B2 68			        pla
 26106 				    
 26107 				; optimize FAIL ('SYSTEM.RANDOMIZE', main.pas), line = 184
 26108
 26109 93B3 20 83 13			jsr SYSTEM.RANDOMIZE
 26110
 26111 				; optimize FAIL ('B_SYSTEM.SYSTEMOFF.@00', main.pas), line = 185
 26112
 26113 93B6 20 D7 16			jsr B_SYSTEM.SYSTEMOFF.@00
 26114
 26115 				; optimize OK (main.pas), line = 195
 26116
 26117 93B9 A9 00			lda #$00
 26118 93BB 8D 11 CA			sta PLAYMUSIC
 26119
 26120 				; optimize OK (main.pas), line = 198
 26121
 26122 93BE C9 63			cmp #$63
 26123 93C0 D0 03			jne l_63D0
 26124
 26125 				; optimize FAIL ('MUSICPROXY', main.pas), line = 199
 26126
 26127 93C2 20 0A 1B			jsr MUSICPROXY
 26128 93C5			l_63D0
 26129
 26130 				; optimize FAIL ('ENABLECONSOLE', main.pas), line = 201
 26131
 26132 93C5 20 8E 27			jsr ENABLECONSOLE
 26133
 26134 				; optimize FAIL ('CLEARMEMORY', main.pas), line = 203
 26135
 26136 93C8 20 DA 92			jsr CLEARMEMORY
 26137
 26138 				; optimize OK (main.pas), line = 204
 26139
 26140 93CB AD F8 9B			lda E7FNAME
 26141 93CE 8D 07 A7			sta LOADXAPL.FNAME
 26142 93D1 AD F9 9B			lda E7FNAME+1
 26143 93D4 8D 08 A7			sta LOADXAPL.FNAME+1
 26144 93D7 A9 00			lda #$00
 26145 93D9 8D 09 A7			sta LOADXAPL.OUTPUTPOINTER
 26146 93DC A9 E7			lda #$E7
 26147 93DE 8D 0A A7			sta LOADXAPL.OUTPUTPOINTER+1
 26148 93E1 20 20 27			jsr LOADXAPL
 26149
 26150 				; optimize FAIL ('INITGLOBALVARS', main.pas), line = 206
 26151
 26152 93E4 20 13 93			jsr INITGLOBALVARS
 26153
 26154 				; optimize FAIL ('SHOWCREDITS', main.pas), line = 207
 26155
 26156 93E7 20 2C 93			jsr SHOWCREDITS
 26157
 26158 				; optimize FAIL ('SETUPGAME', main.pas), line = 209
 26159
 26160 93EA 20 68 83			jsr SETUPGAME
 26161
 26162 				; optimize OK (main.pas), line = 211
 26163
 26164 93ED A9 00			lda #$00
 26165 93EF 8D 73 A3			sta MSX.PLAYER
 26166 93F2 A9 F0			lda #$F0
 26167 93F4 8D 74 A3			sta MSX.PLAYER+1
 26168
 26169 				; optimize OK (main.pas), line = 212
 26170
 26171 93F7 A9 00			lda #$00
 26172 93F9 8D 75 A3			sta MSX.MODUL
 26173 93FC A9 F7			lda #$F7
 26174 93FE 8D 76 A3			sta MSX.MODUL+1
 26175
 26176 				; optimize OK (main.pas), line = 217
 26177
 26178 9401 A9 00			lda #$00
 26179 9403 8D 11 CA			sta PLAYMUSIC
 26180
 26181 				; optimize OK (main.pas), line = 220
 26182
 26183 9406 A9 01			lda #$01
 26184 9408 8D BB A4			sta SHOWBITMAPS
 26185
 26186 				; --- RepeatUntilProlog
 26187 940B			l_63EE
 26188
 26189 				; optimize OK (main.pas), line = 224
 26190
 26191 940B A0 01			ldy #1
 26192 940D AD C4 CA			lda GAMELENGTH
 26193 9410 CD C3 CA			cmp CURRENTYEAR
 26194 9413 90 01			bcc @+
 26195 9415 88				dey
 26196 				@
 26197 9416 98				tya
 26198 9417 8D 89 CD			sta GAMEENDS
 26199
 26200 				; optimize OK (main.pas), line = 226
 26201
 26202 941A AD 8A CD			lda CURRENTPLAYER
 26203 941D D0 41			jne l_640E
 26204
 26205 				; optimize OK (main.pas), line = 227
 26206
 26207 941F 8D F0 A8			sta K
 26208 9422 AC 20 C9			ldy NPLAYERS
 26209 9425 88				dey
 26210 9426 8C 2A 94			sty @FORTMP_641B_0
 26211
 26212 9429			l_641E
 26213 				; --- ForToDoCondition
 26214 9429 A9 00			lda @FORTMP_641B_0::#$00
 26215 942B CD F0 A8			cmp K
 26216 942E 90 30			jcc l_642C
 26217
 26218 				; optimize OK (main.pas), line = 228
 26219
 26220 9430 AC F0 A8			ldy K
 26221 9433 A9 00			lda #$00
 26222 9435 CD C6 CA			cmp GAMEPOINTS+1
 26223 9438 D0 06			bne @+
 26224 943A B9 9C C9			lda adr.PLPOINTS,y
 26225 943D CD C5 CA			cmp GAMEPOINTS
 26226 				@
 26227 9440 90 19			jcc l_6442
 26228
 26229 				; optimize OK (main.pas), line = 229
 26230
 26231 9442 B9 28 C9			lda adr.PLMONEYTRANSPORTER,y
 26232 9445 C9 01			cmp #$01
 26233 9447 D0 12			jne l_6458
 26234
 26235 				; optimize OK (main.pas), line = 230
 26236
 26237 9449 B9 2C C9			lda adr.PLKILLEDMAJOR,y
 26238 944C C9 01			cmp #$01
 26239 944E D0 0B			jne l_646E
 26240
 26241 				; optimize OK (main.pas), line = 232
 26242
 26243 9450 A9 01			lda #$01
 26244 9452 99 0C CA			sta adr.PLWINNERS,y
 26245
 26246 				; optimize OK (main.pas), line = 233
 26247
 26248 9455 EE 89 CD			inc GAMEENDS
 26249
 26250 				; optimize OK (main.pas), line = 234
 26251
 26252 9458 EE 10 CA			inc PLNWINNERS
 26253 945B			l_646E
 26254 945B			l_6458
 26255 945B			l_6442
 26256
 26257 				; --- ForToDoEpilog
 26258 945B EE F0 A8			inc K
 26259 945E D0 C9			jne l_641E
 26260 9460			l_642C
 26261 9460			l_640E
 26262
 26263 				; optimize OK (main.pas), line = 237
 26264
 26265 9460 AD 89 CD			lda GAMEENDS
 26266 9463 F0 03			jeq l_64A9
 26267 9465 4C 3E 98			jmp b_63EE
 26268 9468			l_64A9
 26269
 26270 				; optimize OK (main.pas), line = 239
 26271
 26272 9468 A9 13			lda #$13
 26273 946A 20 BD 28			jsr LOADLOCATION
 26274
 26275 				; optimize FAIL ('ENABLECONSOLE', main.pas), line = 240
 26276
 26277 946D 20 8E 27			jsr ENABLECONSOLE
 26278
 26279 				; optimize FAIL ('PLAYERSTURN', main.pas), line = 241
 26280
 26281 9470 20 2B 2E			jsr PLAYERSTURN
 26282 9473 AD 96 A7			lda PLAYERSTURN.RESULT
 26283 9476 C9 1D			cmp #$1D
 26284 9478 D0 03			jne l_64BF
 26285 947A 4C 3B 98			jmp c_63EE
 26286 947D			l_64BF
 26287
 26288 				; optimize FAIL ('BLACKCONSOLE', main.pas), line = 245
 26289
 26290 947D 20 6C 27			jsr BLACKCONSOLE
 26291
 26292 				; optimize OK (main.pas), line = 247
 26293
 26294 9480 A9 0F			lda #$0F
 26295 9482 8D 12 CA			sta CURRENTLOCATION
 26296
 26297 				; optimize OK (main.pas), line = 248
 26298
 26299 9485 8D 72 A3			sta LASTLOCATION
 26300
 26301 				; optimize FAIL ('UPDATERANK', main.pas), line = 250
 26302
 26303 9488 20 25 87			jsr UPDATERANK
 26304
 26305 				; optimize OK (main.pas), line = 256
 26306
 26307 948B AC 8A CD			ldy CURRENTPLAYER
 26308 948E B9 40 C9			lda adr.PLFAKEMONEY,y
 26309 9491 F0 16			jeq l_64E1
 26310
 26311 				; optimize OK (main.pas), line = 258
 26312
 26313 9493 38 E9 01			sub #$01
 26314 9496 99 40 C9			sta adr.PLFAKEMONEY,y
 26315
 26316 				; optimize OK (main.pas), line = 259
 26317
 26318 9499 D0 0E			jne l_6507
 26319
 26320 				; optimize FAIL ('ENABLECONSOLE', main.pas), line = 261
 26321
 26322 949B 20 8E 27			jsr ENABLECONSOLE
 26323
 26324 				; optimize FAIL ('JOBWORKING', main.pas), line = 262
 26325
 26326 949E 20 E1 86			jsr JOBWORKING
 26327
 26328 				; optimize OK (main.pas), line = 263
 26329
 26330 94A1 A9 0B			lda #$0B
 26331 94A3 20 49 1C			jsr CRT_WRITELN_LOCSTR
 26332
 26333 				; optimize FAIL ('WAITFORKEY', main.pas), line = 264
 26334
 26335 94A6 20 88 1D			jsr WAITFORKEY
 26336 94A9			l_6507
 26337 94A9			l_64E1
 26338
 26339 				; optimize OK (main.pas), line = 269
 26340
 26341 94A9 AC 8A CD			ldy CURRENTPLAYER
 26342 94AC B9 48 C9			lda adr.PLFORGEDID,y
 26343 94AF F0 22			jeq l_6526
 26344
 26345 				; optimize OK (main.pas), line = 271
 26346
 26347 94B1 A9 0C			lda #$0C
 26348 94B3 20 8F 13			jsr SYSTEM.RANDOM.@010180000
 26349 94B6 AD 27 9C			lda SYSTEM.RANDOM.@010180000.RESULT
 26350 94B9 C9 01			cmp #$01
 26351 94BB D0 16			jne l_6538
 26352
 26353 				; optimize FAIL ('ENABLECONSOLE', main.pas), line = 273
 26354
 26355 94BD 20 8E 27			jsr ENABLECONSOLE
 26356
 26357 				; optimize FAIL ('JOBWORKING', main.pas), line = 274
 26358
 26359 94C0 20 E1 86			jsr JOBWORKING
 26360
 26361 				; optimize OK (main.pas), line = 275
 26362
 26363 94C3 A9 0C			lda #$0C
 26364 94C5 20 49 1C			jsr CRT_WRITELN_LOCSTR
 26365
 26366 				; optimize FAIL ('WAITFORKEY', main.pas), line = 276
 26367
 26368 94C8 20 88 1D			jsr WAITFORKEY
 26369
 26370 				; optimize OK (main.pas), line = 277
 26371
 26372 94CB AC 8A CD			ldy CURRENTPLAYER
 26373 94CE A9 00			lda #$00
 26374 94D0 99 48 C9			sta adr.PLFORGEDID,y
 26375 94D3			l_6538
 26376 94D3			l_6526
 26377
 26378 				; optimize FAIL ('UPDATEGANGSTERS', main.pas), line = 281
 26379
 26380 94D3 20 5B 8D			jsr UPDATEGANGSTERS
 26381
 26382 				; optimize FAIL ('UPDATERENT', main.pas), line = 282
 26383
 26384 94D6 20 0C 89			jsr UPDATERENT
 26385
 26386 				; optimize FAIL ('UPDATEOPPORTUNITIES', main.pas), line = 283
 26387
 26388 94D9 20 88 8C			jsr UPDATEOPPORTUNITIES
 26389
 26390 				; optimize FAIL ('UPDATEPRISON', main.pas), line = 284
 26391
 26392 94DC 20 BB 8D			jsr UPDATEPRISON
 26393
 26394 				; optimize OK (main.pas), line = 287
 26395
 26396 94DF AC 8A CD			ldy CURRENTPLAYER
 26397 94E2 B9 7C C9			lda adr.PLBRIBE,y
 26398 94E5 F0 06			jeq l_6562
 26399
 26400 				; optimize OK (main.pas), line = 288
 26401
 26402 94E7 38 E9 01			sub #$01
 26403 94EA 99 7C C9			sta adr.PLBRIBE,y
 26404 94ED			l_6562
 26405
 26406 				; optimize OK (main.pas), line = 290
 26407
 26408 94ED AD 12 CA			lda CURRENTLOCATION
 26409 94F0 C9 11			cmp #$11
 26410 94F2 D0 06			jne l_6587
 26411
 26412 				; optimize FAIL ('NEXTPLAYER', main.pas), line = 291
 26413
 26414 94F4 20 D5 2D			jsr NEXTPLAYER
 26415 94F7 4C 3B 98			jmp c_63EE
 26416 94FA			l_6587
 26417
 26418 				; optimize OK (main.pas), line = 296
 26419
 26420 94FA A9 16			lda #$16
 26421 94FC 20 BD 28			jsr LOADLOCATION
 26422
 26423 				; optimize FAIL ('UPDATELOANSHARK', main.pas), line = 297
 26424
 26425 94FF 20 5F 8A			jsr UPDATELOANSHARK
 26426
 26427 				; optimize OK (main.pas), line = 298
 26428
 26429 9502 AC 8A CD			ldy CURRENTPLAYER
 26430 9505 B9 80 C9			lda adr.PLJOB,y
 26431 9508 F0 0E			jeq l_65A3
 26432
 26433 				; optimize FAIL ('UPDATEJOB', main.pas), line = 300
 26434
 26435 950A 20 05 8F			jsr UPDATEJOB
 26436
 26437 				; optimize OK (main.pas), line = 301
 26438
 26439 950D A9 11			lda #$11
 26440 950F 8D 12 CA			sta CURRENTLOCATION
 26441
 26442 				; optimize FAIL ('NEXTPLAYER', main.pas), line = 303
 26443
 26444 9512 20 D5 2D			jsr NEXTPLAYER
 26445 9515 4C 3B 98			jmp c_63EE
 26446 9518			l_65A3
 26447
 26448 				; optimize OK (main.pas), line = 307
 26449
 26450 9518 AC 8A CD			ldy CURRENTPLAYER
 26451 951B B9 4C C9			lda adr.PLCAR,y
 26452 951E A8				tay
 26453 951F B9 12 E7			lda adr.CARRANGE,y
 26454 9522 AC 8A CD			ldy CURRENTPLAYER
 26455 9525 99 50 C9			sta adr.PLSTEPS,y
 26456
 26457 				; optimize FAIL ('PLACECURRENTPLAYER', main.pas), line = 308
 26458
 26459 9528 20 20 2F			jsr PLACECURRENTPLAYER
 26460
 26461 				; optimize FAIL ('LOADMAP', main.pas), line = 309
 26462
 26463 952B 20 24 82			jsr LOADMAP
 26464
 26465 				; optimize FAIL ('ENABLESPRITES', main.pas), line = 310
 26466
 26467 952E 20 3E 3D			jsr ENABLESPRITES
 26468
 26469 				; optimize FAIL ('PRINTMAPSTATUS', main.pas), line = 311
 26470
 26471 9531 20 64 7D			jsr PRINTMAPSTATUS
 26472
 26473 				; optimize OK (main.pas), line = 313
 26474
 26475 9534 A9 00			lda #$00
 26476 9536 8D C7 CA			sta LASTACTION
 26477
 26478 				; --- WhileProlog
 26479 9539 4C FF 97			jmp l_65C5
 26480 953C			l_65C6
 26481
 26482 				; optimize FAIL ('ENABLEMAPCONSOLE', main.pas), line = 318
 26483
 26484 953C 20 CE 27			jsr ENABLEMAPCONSOLE
 26485
 26486 				; optimize FAIL ('PRINTMAPSTATUS', main.pas), line = 319
 26487
 26488 953F 20 64 7D			jsr PRINTMAPSTATUS
 26489
 26490 				; optimize OK (main.pas), line = 320
 26491
 26492 9542 A9 00			lda #$00
 26493 9544 20 4B 38			jsr PAINTPLAYER
 26494
 26495 				; --- RepeatUntilProlog
 26496 9547			l_65CB
 26497
 26498 				; optimize FAIL ('READKEYANDSTICK', main.pas), line = 323
 26499
 26500 9547 20 1B 1B			jsr READKEYANDSTICK
 26501 954A AD BC A4			lda READKEYANDSTICK.RESULT
 26502 954D 8D F2 A8			sta CH
 26503
 26504 				; optimize OK (main.pas), line = 331
 26505
 26506 9550 C9 1F			cmp #$1F
 26507 9552 D0 08			jne l_65E1
 26508
 26509 				; optimize OK (main.pas), line = 332
 26510
 26511 9554 AD BB A4			lda SHOWBITMAPS
 26512 9557 49 01			eor #$01
 26513 9559 8D BB A4			sta SHOWBITMAPS
 26514 955C			l_65E1
 26515
 26516 				; optimize OK (main.pas), line = 338
 26517
 26518 955C AD F2 A8			lda CH
 26519 955F C9 65			cmp #$65
 26520 9561 D0 12			jne l_6600
 26521
 26522 				; optimize OK (main.pas), line = 340
 26523
 26524 9563 A9 10			lda #$10
 26525 9565 8D 99 A7			sta ADDMONEY.AMOUNT
 26526 9568 A9 27			lda #$27
 26527 956A 8D 9A A7			sta ADDMONEY.AMOUNT+1
 26528 956D 20 5F 2F			jsr ADDMONEY
 26529
 26530 				; optimize OK (main.pas), line = 341
 26531
 26532 9570 A9 1E			lda #$1E
 26533 9572 20 5A 27			jsr WAITFRAMES
 26534 9575			l_6600
 26535
 26536 				; optimize OK (main.pas), line = 344
 26537
 26538 9575 AD F2 A8			lda CH
 26539 9578 C9 6E			cmp #$6E
 26540 957A D0 1E			jne l_6619
 26541
 26542 				; optimize OK (main.pas), line = 346
 26543
 26544 957C AC 8A CD			ldy CURRENTPLAYER
 26545 957F B9 9C C9			lda adr.PLPOINTS,y
 26546 9582 18 69 05			add #$05
 26547 9585 99 9C C9			sta adr.PLPOINTS,y
 26548
 26549 				; optimize OK (main.pas), line = 347
 26550
 26551 9588 A9 FF			lda #$FF
 26552 958A 99 60 C9			sta adr.PLOPPORTUNITY,y
 26553
 26554 				; optimize OK (main.pas), line = 348
 26555
 26556 958D A9 01			lda #$01
 26557 958F 99 28 C9			sta adr.PLMONEYTRANSPORTER,y
 26558
 26559 				; optimize OK (main.pas), line = 349
 26560
 26561 9592 99 2C C9			sta adr.PLKILLEDMAJOR,y
 26562
 26563 				; optimize OK (main.pas), line = 350
 26564
 26565 9595 A9 1E			lda #$1E
 26566 9597 20 5A 27			jsr WAITFRAMES
 26567 959A			l_6619
 26568
 26569 				; optimize OK (main.pas), line = 354
 26570
 26571 959A AD F2 A8			lda CH
 26572 959D C9 1C			cmp #$1C
 26573 959F D0 77			jne l_6655
 26574
 26575 				; optimize OK (main.pas), line = 356
 26576
 26577 95A1 A9 15			lda #$15
 26578 95A3 20 BD 28			jsr LOADLOCATION
 26579
 26580 				; optimize FAIL ('SHOWLOCATIONHEADER', main.pas), line = 357
 26581
 26582 95A6 20 18 28			jsr SHOWLOCATIONHEADER
 26583
 26584 				; optimize OK (main.pas), line = 358
 26585
 26586 95A9 A9 03			lda #$03
 26587 95AB 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 26588 95AE A9 12			lda #$12
 26589 95B0 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 26590 95B3 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 26591
 26592 				; optimize OK (main.pas), line = 359
 26593
 26594 95B6 A9 0F			lda #$0F
 26595 95B8 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
 26596 95BB A9 04			lda #$04
 26597 95BD 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
 26598 95C0 20 F9 17			jsr B_CRT.CRT_GOTOXY
 26599
 26600 				; optimize OK (main.pas), line = 360
 26601
 26602 95C3 AD C4 CA			lda GAMELENGTH
 26603 95C6 38 ED C3 CA			sub CURRENTYEAR
 26604 95CA 8D BD A3			sta TMP
 26605
 26606 				; optimize OK (main.pas), line = 361
 26607
 26608 95CD 20 CB 18			jsr B_CRT.CRT_WRITE.@010180000
 26609
 26610 				; optimize OK (main.pas), line = 362
 26611
 26612 95D0 A9 13			lda #$13
 26613 95D2 20 04 1C			jsr CRT_WRITE_LOCSTR
 26614
 26615 				; optimize OK (main.pas), line = 363
 26616
 26617 95D5 A9 06			lda #$06
 26618 95D7 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 26619 95DA A9 14			lda #$14
 26620 95DC 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 26621 95DF 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 26622
 26623 				; optimize OK (main.pas), line = 364
 26624
 26625 95E2 A9 00			lda #$00
 26626 95E4 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
 26627 95E7 A9 04			lda #$04
 26628 95E9 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
 26629 95EC 20 F9 17			jsr B_CRT.CRT_GOTOXY
 26630
 26631 				; optimize OK (main.pas), line = 365
 26632
 26633 95EF A9 01			lda #$01
 26634 95F1 8D 23 C9			sta SHOWWEAPONS
 26635
 26636 				; optimize FAIL ('PRINTGANGSTERS', main.pas), line = 366
 26637
 26638 95F4 20 8B 32			jsr PRINTGANGSTERS
 26639
 26640 				; optimize OK (main.pas), line = 367
 26641
 26642 95F7 A9 00			lda #$00
 26643 95F9 8D 23 C9			sta SHOWWEAPONS
 26644
 26645 				; optimize OK (main.pas), line = 368
 26646
 26647 95FC 8D 57 A0			sta B_CRT.CRT_GOTOXY.X
 26648 95FF A9 14			lda #$14
 26649 9601 8D 58 A0			sta B_CRT.CRT_GOTOXY.Y
 26650 9604 20 F9 17			jsr B_CRT.CRT_GOTOXY
 26651
 26652 				; optimize FAIL ('WAITFORKEY', main.pas), line = 369
 26653
 26654 9607 20 88 1D			jsr WAITFORKEY
 26655
 26656 				; optimize FAIL ('ENABLEMAPCONSOLE', main.pas), line = 370
 26657
 26658 960A 20 CE 27			jsr ENABLEMAPCONSOLE
 26659
 26660 				; optimize FAIL ('PRINTMAPSTATUS', main.pas), line = 371
 26661
 26662 960D 20 64 7D			jsr PRINTMAPSTATUS
 26663
 26664 				; optimize OK (main.pas), line = 372
 26665
 26666 9610 A9 00			lda #$00
 26667 9612 20 4B 38			jsr PAINTPLAYER
 26668 9615 4C 5A 96			jmp c_65CB
 26669 9618			l_6655
 26670
 26671 				; optimize OK (main.pas), line = 375
 26672
 26673 9618 AD F2 A8			lda CH
 26674 961B 20 47 3A			jsr MOVECURRENTPLAYER
 26675 961E AD C5 A7			lda MOVECURRENTPLAYER.RESULT
 26676 9621 8D 12 CA			sta CURRENTLOCATION
 26677
 26678 				; optimize OK (main.pas), line = 376
 26679
 26680 9624 C9 11			cmp #$11
 26681 9626 D0 03			jne l_66A3
 26682 9628 4C 5D 96			jmp b_65CB
 26683 962B			l_66A3
 26684
 26685 				; optimize FAIL ('PRINTMAPSTATUS', main.pas), line = 377
 26686
 26687 962B 20 64 7D			jsr PRINTMAPSTATUS
 26688
 26689 				; optimize OK (main.pas), line = 378
 26690
 26691 962E A9 01			lda #$01
 26692 9630 8D B9 A4			sta MAPRELOADED
 26693
 26694 				; optimize FAIL ('CHANGEMAP', main.pas), line = 379
 26695
 26696 9633 20 2E 82			jsr CHANGEMAP
 26697
 26698 				; optimize OK (main.pas), line = 380
 26699
 26700 9636 A0 01			ldy #1
 26701 9638 AD 12 CA			lda CURRENTLOCATION
 26702 963B C9 10			cmp #$10
 26703 963D D0 01			bne @+
 26704 963F 88				dey
 26705 				@
 26706 9640 84 9D			sty :STACKORIGIN+9
 26707 9642 AC 8A CD			ldy CURRENTPLAYER
 26708 9645 B9 50 C9			lda adr.PLSTEPS,y
 26709 9648 85 9E			sta :STACKORIGIN+10
 26710 964A A0 01			ldy #1
 26711 964C A5 9E			lda :STACKORIGIN+10
 26712 964E 30 03			bmi @+
 26713 9650 F0 01			beq @+
 26714 9652 88				dey
 26715 				@
 26716 9653 98				tya
 26717 9654 05 9D			ora :STACKORIGIN+9
 26718 9656 85 9D			sta :STACKORIGIN+9
 26719 9658 D0 03			bne *+5
 26720 965A			c_65CB
 26721 965A 4C 47 95			jmp l_65CB
 26722 965D			b_65CB
 26723
 26724 				; optimize OK (main.pas), line = 382
 26725
 26726 965D AD 12 CA			lda CURRENTLOCATION
 26727 9660 C9 11			cmp #$11
 26728 9662 D0 0E			jne l_66DA
 26729
 26730 				; optimize OK (main.pas), line = 384
 26731
 26732 9664 AC 8A CD			ldy CURRENTPLAYER
 26733 9667 A9 00			lda #$00
 26734 9669 99 50 C9			sta adr.PLSTEPS,y
 26735
 26736 				; optimize FAIL ('BLACKCONSOLE', main.pas), line = 385
 26737
 26738 966C 20 6C 27			jsr BLACKCONSOLE
 26739 966F 4C 16 98			jmp b_65C6
 26740 9672			l_66DA
 26741
 26742 				; optimize OK (main.pas), line = 390
 26743
 26744 9672 AD 12 CA			lda CURRENTLOCATION
 26745 9675 C9 0F			cmp #$0F
 26746 9677 F0 04			jeq l_6703x
 26747 9679 C9 10			cmp #$10
 26748 967B D0 03			jne l_6703
 26749 967D			l_6703x
 26750 967D 4C 16 98			jmp b_65C6
 26751 9680			l_6703
 26752
 26753 				; optimize OK (main.pas), line = 393
 26754
 26755 9680 AD B2 EA			lda OLDMAPPOS_X
 26756 9683 8D B0 EA			sta MAPPOS_X
 26757
 26758 				; optimize OK (main.pas), line = 394
 26759
 26760 9686 AD B3 EA			lda OLDMAPPOS_Y
 26761 9689 8D B1 EA			sta MAPPOS_Y
 26762
 26763 				; optimize OK (main.pas), line = 395
 26764
 26765 968C AD B4 EA			lda OLDPLAYERPOS_X
 26766 968F 8D AE EA			sta PLAYERPOS_X
 26767
 26768 				; optimize OK (main.pas), line = 396
 26769
 26770 9692 AD B5 EA			lda OLDPLAYERPOS_Y
 26771 9695 8D AF EA			sta PLAYERPOS_Y
 26772
 26773 				; optimize OK (main.pas), line = 397
 26774
 26775 9698 AC 8A CD			ldy CURRENTPLAYER
 26776 969B B9 50 C9			lda adr.PLSTEPS,y
 26777 969E 38 E9 06			sub #$06
 26778 96A1 99 50 C9			sta adr.PLSTEPS,y
 26779
 26780 				; optimize FAIL ('CLEARSPRITES', main.pas), line = 399
 26781
 26782 96A4 20 26 3D			jsr CLEARSPRITES
 26783
 26784 				; optimize FAIL ('BLACKCONSOLE', main.pas), line = 402
 26785
 26786 96A7 20 6C 27			jsr BLACKCONSOLE
 26787
 26788 				; optimize OK (main.pas), line = 404
 26789
 26790 96AA AD 12 CA			lda CURRENTLOCATION
 26791 96AD 20 15 2C			jsr SHOWLOCATION
 26792 96B0 AD 5D A7			lda SHOWLOCATION.RESULT
 26793 96B3 8D 22 C9			sta CURRENTCHOICE
 26794
 26795 				; optimize OK (main.pas), line = 405
 26796
 26797 96B6 CD A9 C2			cmp LOC_NOPTIONS
 26798 96B9 D0 05			jne l_674B
 26799
 26800 				; optimize OK (main.pas), line = 406
 26801
 26802 96BB A9 0F			lda #$0F
 26803 96BD 8D 12 CA			sta CURRENTLOCATION
 26804 96C0			l_674B
 26805
 26806 				; optimize OK (main.pas), line = 408
 26807
 26808 96C0 AD 12 CA			lda CURRENTLOCATION
 26809 96C3 8D F4 A8			sta @CASETMP_0018
 26810 96C6 C9 01			cmp #$01
 26811 96C8 D0 0C			jne l_675D
 26812 				@
 26813
 26814 				; optimize FAIL ('BANKCHOICES', main.pas), line = 409
 26815
 26816 96CA 20 E9 53			jsr BANKCHOICES
 26817 96CD AD 54 A8			lda BANKCHOICES.RESULT
 26818 96D0 8D F1 A8			sta OUTCOME
 26819 96D3 4C AF 97			jmp a_0018
 26820 96D6			l_675D
 26821 96D6 C9 02			cmp #$02
 26822 96D8 D0 0C			jne l_6768
 26823
 26824 				; optimize FAIL ('FORGERYCHOICES', main.pas), line = 410
 26825
 26826 96DA 20 B4 5C			jsr FORGERYCHOICES
 26827 96DD AD 6D A8			lda FORGERYCHOICES.RESULT
 26828 96E0 8D F1 A8			sta OUTCOME
 26829 96E3 4C AF 97			jmp a_0018
 26830 96E6			l_6768
 26831 96E6 C9 03			cmp #$03
 26832 96E8 D0 0C			jne l_6773
 26833
 26834 				; optimize FAIL ('MONEYTRANSPORTERCHOICES', main.pas), line = 411
 26835
 26836 96EA 20 BC 7C			jsr MONEYTRANSPORTERCHOICES
 26837 96ED AD C0 A8			lda MONEYTRANSPORTERCHOICES.RESULT
 26838 96F0 8D F1 A8			sta OUTCOME
 26839 96F3 4C AF 97			jmp a_0018
 26840 96F6			l_6773
 26841 96F6 C9 04			cmp #$04
 26842 96F8 D0 0C			jne l_677E
 26843
 26844 				; optimize FAIL ('LOANSHARKCHOICES', main.pas), line = 412
 26845
 26846 96FA 20 F5 64			jsr LOANSHARKCHOICES
 26847 96FD AD 86 A8			lda LOANSHARKCHOICES.RESULT
 26848 9700 8D F1 A8			sta OUTCOME
 26849 9703 4C AF 97			jmp a_0018
 26850 9706			l_677E
 26851 9706 C9 05			cmp #$05
 26852 9708 D0 0C			jne l_6789
 26853
 26854 				; optimize FAIL ('POLICECHOICES', main.pas), line = 413
 26855
 26856 970A 20 CB 6A			jsr POLICECHOICES
 26857 970D AD 8E A8			lda POLICECHOICES.RESULT
 26858 9710 8D F1 A8			sta OUTCOME
 26859 9713 4C AF 97			jmp a_0018
 26860 9716			l_6789
 26861 9716 C9 06			cmp #$06
 26862 9718 D0 0C			jne l_6794
 26863
 26864 				; optimize FAIL ('CARDEALERCHOICES', main.pas), line = 414
 26865
 26866 971A 20 AD 59			jsr CARDEALERCHOICES
 26867 971D AD 65 A8			lda CARDEALERCHOICES.RESULT
 26868 9720 8D F1 A8			sta OUTCOME
 26869 9723 4C AF 97			jmp a_0018
 26870 9726			l_6794
 26871 9726 C9 07			cmp #$07
 26872 9728 D0 0C			jne l_679F
 26873
 26874 				; optimize FAIL ('PUBCHOICES', main.pas), line = 415
 26875
 26876 972A 20 AE 6C			jsr PUBCHOICES
 26877 972D AD 95 A8			lda PUBCHOICES.RESULT
 26878 9730 8D F1 A8			sta OUTCOME
 26879 9733 4C AF 97			jmp a_0018
 26880 9736			l_679F
 26881 9736 C9 17			cmp #$17
 26882 9738 D0 0C			jne l_67AA
 26883
 26884 				; optimize FAIL ('CENTRALSTATIONCHOICES', main.pas), line = 416
 26885
 26886 973A 20 B9 7A			jsr CENTRALSTATIONCHOICES
 26887 973D AD BA A8			lda CENTRALSTATIONCHOICES.RESULT
 26888 9740 8D F1 A8			sta OUTCOME
 26889 9743 4C AF 97			jmp a_0018
 26890 9746			l_67AA
 26891 9746 C9 09			cmp #$09
 26892 9748 D0 0C			jne l_67B5
 26893
 26894 				; optimize FAIL ('STORECHOICES', main.pas), line = 417
 26895
 26896 974A 20 F5 73			jsr STORECHOICES
 26897 974D AD A8 A8			lda STORECHOICES.RESULT
 26898 9750 8D F1 A8			sta OUTCOME
 26899 9753 4C AF 97			jmp a_0018
 26900 9756			l_67B5
 26901 9756 C9 0A			cmp #$0A
 26902 9758 D0 0C			jne l_67C0
 26903
 26904 				; optimize FAIL ('HIDEOUTCHOICES', main.pas), line = 418
 26905
 26906 975A 20 1D 60			jsr HIDEOUTCHOICES
 26907 975D AD 7C A8			lda HIDEOUTCHOICES.RESULT
 26908 9760 8D F1 A8			sta OUTCOME
 26909 9763 4C AF 97			jmp a_0018
 26910 9766			l_67C0
 26911 9766 C9 0B			cmp #$0B
 26912 9768 D0 0C			jne l_67CB
 26913
 26914 				; optimize FAIL ('GAMBLINGCHOICES', main.pas), line = 419
 26915
 26916 976A 20 93 5E			jsr GAMBLINGCHOICES
 26917 976D AD 75 A8			lda GAMBLINGCHOICES.RESULT
 26918 9770 8D F1 A8			sta OUTCOME
 26919 9773 4C AF 97			jmp a_0018
 26920 9776			l_67CB
 26921 9776 C9 0C			cmp #$0C
 26922 9778 D0 0C			jne l_67D6
 26923
 26924 				; optimize FAIL ('SUBWAYCHOICES', main.pas), line = 420
 26925
 26926 977A 20 89 78			jsr SUBWAYCHOICES
 26927 977D AD B0 A8			lda SUBWAYCHOICES.RESULT
 26928 9780 8D F1 A8			sta OUTCOME
 26929 9783 4C AF 97			jmp a_0018
 26930 9786			l_67D6
 26931 9786 C9 0D			cmp #$0D
 26932 9788 D0 0C			jne l_67E1
 26933
 26934 				; optimize FAIL ('ARMSDEALERCHOICES', main.pas), line = 421
 26935
 26936 978A 20 49 4F			jsr ARMSDEALERCHOICES
 26937 978D AD 25 A8			lda ARMSDEALERCHOICES.RESULT
 26938 9790 8D F1 A8			sta OUTCOME
 26939 9793 4C AF 97			jmp a_0018
 26940 9796			l_67E1
 26941 9796 C9 18			cmp #$18
 26942 9798 D0 0C			jne l_67EC
 26943
 26944 				; optimize FAIL ('MAJORCHOICES', main.pas), line = 422
 26945
 26946 979A 20 B9 7B			jsr MAJORCHOICES
 26947 979D AD BE A8			lda MAJORCHOICES.RESULT
 26948 97A0 8D F1 A8			sta OUTCOME
 26949 97A3 4C AF 97			jmp a_0018
 26950 97A6			l_67EC
 26951 97A6 C9 0F			cmp #$0F
 26952 97A8 D0 05			jne l_67F7
 26953
 26954 				; optimize OK (main.pas), line = 423
 26955
 26956 97AA A9 0F			lda #$0F
 26957 97AC 8D F1 A8			sta OUTCOME
 26958 97AF			l_67F7
 26959 97AF			a_0018
 26960
 26961 				; optimize OK (main.pas), line = 426
 26962
 26963 97AF A9 00			lda #$00
 26964 97B1 8D B9 A4			sta MAPRELOADED
 26965
 26966 				; optimize OK (main.pas), line = 427
 26967
 26968 97B4 AD 12 CA			lda CURRENTLOCATION
 26969 97B7 8D 72 A3			sta LASTLOCATION
 26970
 26971 				; optimize OK (main.pas), line = 428
 26972
 26973 97BA AD F1 A8			lda OUTCOME
 26974 97BD 8D 12 CA			sta CURRENTLOCATION
 26975
 26976 				; optimize OK (main.pas), line = 431
 26977
 26978 97C0 AD B5 CD			lda DIDFIGHT
 26979 97C3 C9 01			cmp #$01
 26980 97C5 D0 38			jne l_682E
 26981
 26982 				; optimize OK (main.pas), line = 432
 26983
 26984 97C7 A9 00			lda #$00
 26985 97C9 8D B5 CD			sta DIDFIGHT
 26986
 26987 				; optimize OK (main.pas), line = 433
 26988
 26989 97CC AD B2 EA			lda OLDMAPPOS_X
 26990 97CF 8D B0 EA			sta MAPPOS_X
 26991
 26992 				; optimize OK (main.pas), line = 434
 26993
 26994 97D2 AD B3 EA			lda OLDMAPPOS_Y
 26995 97D5 8D B1 EA			sta MAPPOS_Y
 26996
 26997 				; optimize OK (main.pas), line = 435
 26998
 26999 97D8 AD B4 EA			lda OLDPLAYERPOS_X
 27000 97DB 8D AE EA			sta PLAYERPOS_X
 27001
 27002 				; optimize OK (main.pas), line = 436
 27003
 27004 97DE AD B5 EA			lda OLDPLAYERPOS_Y
 27005 97E1 8D AF EA			sta PLAYERPOS_Y
 27006
 27007 				; optimize OK (main.pas), line = 437
 27008
 27009 97E4 AC 8A CD			ldy CURRENTPLAYER
 27010 97E7 B9 50 C9			lda adr.PLSTEPS,y
 27011 97EA F0 07			jeq l_686Cx
 27012 97EC AD 12 CA			lda CURRENTLOCATION
 27013 97EF C9 11			cmp #$11
 27014 97F1 D0 03			jne l_686C
 27015 97F3			l_686Cx
 27016 97F3 4C 16 98			jmp b_65C6
 27017 97F6			l_686C
 27018
 27019 				; optimize FAIL ('LOADMAP', main.pas), line = 438
 27020
 27021 97F6 20 24 82			jsr LOADMAP
 27022
 27023 				; optimize FAIL ('ENABLESPRITES', main.pas), line = 439
 27024
 27025 97F9 20 3E 3D			jsr ENABLESPRITES
 27026
 27027 				; optimize FAIL ('PRINTMAPSTATUS', main.pas), line = 440
 27028
 27029 97FC 20 64 7D			jsr PRINTMAPSTATUS
 27030 97FF			l_682E
 27031 97FF			l_65C5
 27032
 27033 				; optimize OK (main.pas), line = 315
 27034
 27035 97FF AC 8A CD			ldy CURRENTPLAYER
 27036 9802 B9 50 C9			lda adr.PLSTEPS,y
 27037 9805 30 02			smi
 27038 9807 D0 03			bne @+
 27039 9809 4C 16 98			jmp l_65C6w
 27040 				@
 27041 980C AD 12 CA			lda CURRENTLOCATION
 27042 980F C9 11			cmp #$11
 27043 9811 F0 03			jeq l_65C6w
 27044 				@
 27045 9813 4C 3C 95			jmp l_65C6
 27046 9816			l_65C6w
 27047 9816			b_65C6
 27048
 27049 				; optimize OK (main.pas), line = 445
 27050
 27051 9816 AC 8A CD			ldy CURRENTPLAYER
 27052 9819 AD B0 EA			lda MAPPOS_X
 27053 981C 99 54 C9			sta adr.PLMAPPOSX,y
 27054
 27055 				; optimize OK (main.pas), line = 446
 27056
 27057 981F AD B1 EA			lda MAPPOS_Y
 27058 9822 99 58 C9			sta adr.PLMAPPOSY,y
 27059
 27060 				; optimize OK (main.pas), line = 447
 27061
 27062 9825 AD 90 CD			lda CURRENTMAP
 27063 9828 99 5C C9			sta adr.PLCURRENTMAP,y
 27064
 27065 				; optimize FAIL ('NEXTPLAYER', main.pas), line = 449
 27066
 27067 982B 20 D5 2D			jsr NEXTPLAYER
 27068
 27069 				; optimize OK (main.pas), line = 450
 27070
 27071 982E A0 01			ldy #1
 27072 9830 AD 89 CD			lda GAMEENDS
 27073 9833 C9 01			cmp #$01
 27074 9835 F0 01			beq @+
 27075 9837 88				dey
 27076 				@
 27077 9838 98				tya
 27078 9839 D0 03			bne *+5
 27079 983B			c_63EE
 27080 983B 4C 0B 94			jmp l_63EE
 27081 983E			b_63EE
 27082
 27083 				; optimize FAIL ('ENABLECONSOLE', main.pas), line = 453
 27084
 27085 983E 20 8E 27			jsr ENABLECONSOLE
 27086
 27087 				; optimize FAIL ('B_CRT.CRT_CLEAR.@00', main.pas), line = 454
 27088
 27089 9841 20 D1 17			jsr B_CRT.CRT_CLEAR.@00
 27090
 27091 				; optimize OK (main.pas), line = 456
 27092
 27093 9844 A9 13			lda #$13
 27094 9846 20 BD 28			jsr LOADLOCATION
 27095 9849 A0 F4			ldy #256-12
 27096 984B B9 CE 0B 99 A4 A3 + 	mva:rne CODEORIGIN+$00C2+12-256,y adr.FINALFNAME+12-256,y+
 27097
 27098 				; optimize OK (main.pas), line = 460
 27099
 27100 9854 AD 10 CA			lda PLNWINNERS
 27101 9857 C9 01			cmp #$01
 27102 9859 D0 77			jne l_68CE
 27103
 27104 				; optimize OK (main.pas), line = 461
 27105
 27106 985B A9 00			lda #$00
 27107 985D 8D F0 A8			sta K
 27108 9860 AC 20 C9			ldy NPLAYERS
 27109 9863 88				dey
 27110 9864 8C 68 98			sty @FORTMP_68DB_0
 27111
 27112 9867			l_68DE
 27113 				; --- ForToDoCondition
 27114 9867 A9 00			lda @FORTMP_68DB_0::#$00
 27115 9869 CD F0 A8			cmp K
 27116 986C 90 61			jcc l_68EC
 27117
 27118 				; optimize OK (main.pas), line = 463
 27119
 27120 986E AC F0 A8			ldy K
 27121 9871 B9 0C CA			lda adr.PLWINNERS,y
 27122 9874 C9 01			cmp #$01
 27123 9876 D0 52			jne l_6901
 27124
 27125 				; optimize OK (main.pas), line = 465
 27126
 27127 9878 AD F0 A8			lda K
 27128 987B 0A				asl @
 27129 987C 0A				asl @
 27130 987D 0A				asl @
 27131 987E 8D BD A3			sta TMP
 27132
 27133 				; optimize FAIL ('B_CRT.CRT_WRITECENTERED.@02018986000001000180000', main.pas), line = 466
 27134
 27135 9881 E8				inx
 27136 9882 AD BD A3			lda TMP
 27137 9885 0A				asl @
 27138 9886 A8				tay
 27139 9887 B9 E2 A3			lda adr.GANGSTERNAMES,y
 27140 988A 85 82			sta :bp2
 27141 988C B9 E3 A3			lda adr.GANGSTERNAMES+1,y
 27142 988F 85 83			sta :bp2+1
 27143 9891 A0 00			ldy #$00
 27144 9893 B1 82 99 6A A1 C8 + 	mva:rne (:bp2),y B_CRT.CRT_WRITECENTERED.@02018986000001000180000.adr.S,y+
 27145 989B E8				inx
 27146 989C A9 05 95 94			mva #$05 :STACKORIGIN,x
 27147 98A0 20 2C 1A			jsr B_CRT.CRT_WRITECENTERED.@02018986000001000180000
 27148
 27149 				; optimize OK (main.pas), line = 467
 27150
 27151 98A3 A9 07			lda #$07
 27152 98A5 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 27153 98A8 A9 23			lda #$23
 27154 98AA 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 27155 98AD 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 27156
 27157 				; optimize OK (main.pas), line = 468
 27158
 27159 98B0 A9 08			lda #$08
 27160 98B2 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 27161 98B5 A9 24			lda #$24
 27162 98B7 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 27163 98BA 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 27164
 27165 				; optimize OK (main.pas), line = 469
 27166
 27167 98BD A9 09			lda #$09
 27168 98BF 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 27169 98C2 A9 25			lda #$25
 27170 98C4 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 27171 98C7 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 27172 98CA			l_6901
 27173
 27174 				; --- ForToDoEpilog
 27175 98CA EE F0 A8			inc K
 27176 98CD D0 98			jne l_68DE
 27177 98CF			l_68EC
 27178 98CF 4C 4F 99			jmp l_692C
 27179 98D2			l_68CE
 27180
 27181 				; optimize OK (main.pas), line = 481
 27182
 27183 98D2 AD 10 CA			lda PLNWINNERS
 27184 98D5 F0 0D			jeq l_693E
 27185
 27186 				; optimize OK (main.pas), line = 482
 27187
 27188 98D7 A9 05			lda #$05
 27189 98D9 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 27190 98DC A9 26			lda #$26
 27191 98DE 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 27192 98E1 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 27193 98E4			l_693E
 27194
 27195 				; optimize OK (main.pas), line = 483
 27196
 27197 98E4 A9 00			lda #$00
 27198 98E6 8D 22 C9			sta CURRENTCHOICE
 27199
 27200 				; optimize OK (main.pas), line = 484
 27201
 27202 98E9 8D F0 A8			sta K
 27203 98EC AC 20 C9			ldy NPLAYERS
 27204 98EF 88				dey
 27205 98F0 8C F4 98			sty @FORTMP_6954_0
 27206
 27207 98F3			l_6957
 27208 				; --- ForToDoCondition
 27209 98F3 A9 00			lda @FORTMP_6954_0::#$00
 27210 98F5 CD F0 A8			cmp K
 27211 98F8 90 41			jcc l_6965
 27212
 27213 				; optimize OK (main.pas), line = 486
 27214
 27215 98FA AC F0 A8			ldy K
 27216 98FD B9 0C CA			lda adr.PLWINNERS,y
 27217 9900 C9 01			cmp #$01
 27218 9902 D0 32			jne l_697A
 27219
 27220 				; optimize OK (main.pas), line = 488
 27221
 27222 9904 AD F0 A8			lda K
 27223 9907 0A				asl @
 27224 9908 0A				asl @
 27225 9909 0A				asl @
 27226 990A 8D BD A3			sta TMP
 27227
 27228 				; optimize FAIL ('B_CRT.CRT_WRITECENTERED.@02018986000001000180000', main.pas), line = 489
 27229
 27230 990D E8				inx
 27231 990E AD BD A3			lda TMP
 27232 9911 0A				asl @
 27233 9912 A8				tay
 27234 9913 B9 E2 A3			lda adr.GANGSTERNAMES,y
 27235 9916 85 82			sta :bp2
 27236 9918 B9 E3 A3			lda adr.GANGSTERNAMES+1,y
 27237 991B 85 83			sta :bp2+1
 27238 991D A0 00			ldy #$00
 27239 991F B1 82 99 6A A1 C8 + 	mva:rne (:bp2),y B_CRT.CRT_WRITECENTERED.@02018986000001000180000.adr.S,y+
 27240 9927 E8				inx
 27241 9928 A9 07			lda #$07
 27242 992A 18 6D 22 C9			add CURRENTCHOICE
 27243 992E 95 94			sta :STACKORIGIN,x
 27244 9930 20 2C 1A			jsr B_CRT.CRT_WRITECENTERED.@02018986000001000180000
 27245
 27246 				; optimize OK (main.pas), line = 490
 27247
 27248 9933 EE 22 C9			inc CURRENTCHOICE
 27249 9936			l_697A
 27250
 27251 				; --- ForToDoEpilog
 27252 9936 EE F0 A8			inc K
 27253 9939 D0 B8			jne l_6957
 27254 993B			l_6965
 27255
 27256 				; optimize OK (main.pas), line = 493
 27257
 27258 993B A9 07			lda #$07
 27259 993D 18 6D 22 C9			add CURRENTCHOICE
 27260 9941 18 69 02			add #$02
 27261 9944 8D C9 A4			sta CRT_WRITECENTERED_LOCSTR.R
 27262 9947 A9 27			lda #$27
 27263 9949 8D CA A4			sta CRT_WRITECENTERED_LOCSTR.B
 27264 994C 20 5D 1C			jsr CRT_WRITECENTERED_LOCSTR
 27265 994F			l_692C
 27266
 27267 				; optimize FAIL ('CRT_READKEYORFIRE', main.pas), line = 496
 27268
 27269 994F 20 42 1D			jsr CRT_READKEYORFIRE
 27270
 27271 				; optimize FAIL ('B_SYSTEM.DISABLEDLI', main.pas), line = 497
 27272
 27273 9952 20 FD 16			jsr B_SYSTEM.DISABLEDLI
 27274
 27275 				; optimize OK (main.pas), line = 498
 27276
 27277 9955 A9 B0			lda #$B0
 27278 9957 8D 02 D4			sta ATARI.DLISTL
 27279 995A A9 FF			lda #$FF
 27280 995C 8D 03 D4			sta ATARI.DLISTL+1
 27281
 27282 				; optimize OK (main.pas), line = 499
 27283
 27284 995F A9 0A			lda #$0A
 27285 9961 20 5A 27			jsr WAITFRAMES
 27286
 27287 				; optimize OK (main.pas), line = 503
 27288
 27289 9964 AD FC 9B			lda FINALFNAME
 27290 9967 8D 07 A7			sta LOADXAPL.FNAME
 27291 996A AD FD 9B			lda FINALFNAME+1
 27292 996D 8D 08 A7			sta LOADXAPL.FNAME+1
 27293 9970 A9 FA			lda #$FA
 27294 9972 8D 09 A7			sta LOADXAPL.OUTPUTPOINTER
 27295 9975 A9 2F			lda #$2F
 27296 9977 8D 0A A7			sta LOADXAPL.OUTPUTPOINTER+1
 27297 997A 20 20 27			jsr LOADXAPL
 27298 997D A0 F4			ldy #256-12
 27299 997F B9 DA 0B 99 A4 A3 + 	mva:rne CODEORIGIN+$00CE+12-256,y adr.FINALFNAME+12-256,y+
 27300
 27301 				; optimize OK (main.pas), line = 506
 27302
 27303 9988 AD FC 9B			lda FINALFNAME
 27304 998B 8D 07 A7			sta LOADXAPL.FNAME
 27305 998E AD FD 9B			lda FINALFNAME+1
 27306 9991 8D 08 A7			sta LOADXAPL.FNAME+1
 27307 9994 A9 00			lda #$00
 27308 9996 8D 09 A7			sta LOADXAPL.OUTPUTPOINTER
 27309 9999 A9 B8			lda #$B8
 27310 999B 8D 0A A7			sta LOADXAPL.OUTPUTPOINTER+1
 27311 999E 20 20 27			jsr LOADXAPL
 27312 99A1 A0 F4			ldy #256-12
 27313 99A3 B9 E6 0B 99 A4 A3 + 	mva:rne CODEORIGIN+$00DA+12-256,y adr.FINALFNAME+12-256,y+
 27314
 27315 				; optimize OK (main.pas), line = 508
 27316
 27317 99AC AD FC 9B			lda FINALFNAME
 27318 99AF 8D 07 A7			sta LOADXAPL.FNAME
 27319 99B2 AD FD 9B			lda FINALFNAME+1
 27320 99B5 8D 08 A7			sta LOADXAPL.FNAME+1
 27321 99B8 A9 00			lda #$00
 27322 99BA 8D 09 A7			sta LOADXAPL.OUTPUTPOINTER
 27323 99BD A9 B0			lda #$B0
 27324 99BF 8D 0A A7			sta LOADXAPL.OUTPUTPOINTER+1
 27325 99C2 20 20 27			jsr LOADXAPL
 27326
 27327 				; -------------------  ASM Block 00000171  -------------------
 27328
 27329 99C5 A9 70		        lda #$70
 27330 99C7 A2 00		        ldx #$00  ; low byte of music
 27331 99C9 A0 B8		        ldy #$b8 ; high byte <-- CHANGE TOO if music addr changes
 27332 99CB 20 03 B0		        jsr $b000+3
 27333 99CE A9 00		        lda #$00
 27334 99D0 A2 00		        ldx #$00
 27335 99D2 20 03 B0		        jsr $b000+3
 27336 				    
 27337 				; -------------------  ASM Block 00000172  -------------------
 27338
 27339 99D5			    lpend:
 27340 99D5 20 00 68		        jsr $6800;
 27341 99D8 4C D5 99		        jmp lpend
 27342 				    
 27343 				; ------------------------------------------------------------
 27344
 27345 = B000			TXT_ADDRESS	= $B000
 27346 = B400			MAINFONT_ADR	= $B400
 27347 = B800			PMG_BASE_ADR	= $B800
 27348 = C000			LOCATION_ADR	= $C000
 27349 = C920			VARBLOCK2	= $C920
 27350 = CA00			VARBLOCK1	= $CA00
 27351 = D800			MAP_FNT_ADDRESS	= $D800
 27352 = DC00			MAP_SCR_ADDRESS	= $DC00
 27353 = E000			LOC_MAP_ADR	= $E000
 27354 = E400			VARFIGHT	= $E400
 27355 = E700			E7_ADR	= $E700
 27356 = F000			RMT_PLAYER	= $F000
 27357 = F700			RMT_MODUL	= $F700
 27358 = FF70			DL_CONSOLE_ADR	= $FF70
 27359 = FF90			DL_MAP_ADR	= $FF90
 27360 = FFB0			DL_BLACK_CONSOLE_ADR	= $FFB0
 27361 = FFB8			DL_BITMAP_ADR	= $FFB8
 27362 = 1FFA			XEX_ADDRESS	= $1FFA
 27363 = B000			SAP_PLAYER	= $B000
 27364 = B003			SAP_PLAYER_3	= $B003
 27365 = B006			SAP_PLAYER_6	= $B006
 27366 = C200			SAVE_LOCATION_ADR	= $C200
 27367 = C205			SAVE_GAMEFOUND	= $C205
 27368 = A372			LASTLOCATION	= DATAORIGIN+$0757
 27369 = A373			adr.MSX	= DATAORIGIN+$0758	; [4] OBJECT
 27370 99DB			.var MSX	= adr.MSX .word
 27371 = A373			MSX.PLAYER	= DATAORIGIN+$0758
 27372 = A375			MSX.MODUL	= DATAORIGIN+$075A
 27373 = C920			NPLAYERS	= $C920
 27374 = C921			LASTLOCATIONSTRINGS	= $C921
 27375 = C922			CURRENTCHOICE	= $C922
 27376 = C923			SHOWWEAPONS	= $C923
 27377 = C924			adr.PLSTUFF	= $C924
 27378 99DB			.var PLSTUFF	= adr.PLSTUFF .word
 27379 = C928			adr.PLMONEYTRANSPORTER	= $C928
 27380 99DB			.var PLMONEYTRANSPORTER	= adr.PLMONEYTRANSPORTER .word
 27381 = C92C			adr.PLKILLEDMAJOR	= $C92C
 27382 99DB			.var PLKILLEDMAJOR	= adr.PLKILLEDMAJOR .word
 27383 = C930			adr.PLMONEY	= $C930
 27384 99DB			.var PLMONEY	= adr.PLMONEY .word
 27385 = C940			adr.PLFAKEMONEY	= $C940
 27386 99DB			.var PLFAKEMONEY	= adr.PLFAKEMONEY .word
 27387 = C944			adr.PLALCOHOL	= $C944
 27388 99DB			.var PLALCOHOL	= adr.PLALCOHOL .word
 27389 = C948			adr.PLFORGEDID	= $C948
 27390 99DB			.var PLFORGEDID	= adr.PLFORGEDID .word
 27391 = C94C			adr.PLCAR	= $C94C
 27392 99DB			.var PLCAR	= adr.PLCAR .word
 27393 = C950			adr.PLSTEPS	= $C950
 27394 99DB			.var PLSTEPS	= adr.PLSTEPS .word
 27395 = C954			adr.PLMAPPOSX	= $C954
 27396 99DB			.var PLMAPPOSX	= adr.PLMAPPOSX .word
 27397 = C958			adr.PLMAPPOSY	= $C958
 27398 99DB			.var PLMAPPOSY	= adr.PLMAPPOSY .word
 27399 = C95C			adr.PLCURRENTMAP	= $C95C
 27400 99DB			.var PLCURRENTMAP	= adr.PLCURRENTMAP .word
 27401 = C960			adr.PLOPPORTUNITY	= $C960
 27402 99DB			.var PLOPPORTUNITY	= adr.PLOPPORTUNITY .word
 27403 = C964			adr.PLLOAN	= $C964
 27404 99DB			.var PLLOAN	= adr.PLLOAN .word
 27405 = C96C			adr.PLLOANTIME	= $C96C
 27406 99DB			.var PLLOANTIME	= adr.PLLOANTIME .word
 27407 = C970			adr.PLLOANSHARK	= $C970
 27408 99DB			.var PLLOANSHARK	= adr.PLLOANSHARK .word
 27409 = C974			adr.PLRENTMONTHS	= $C974
 27410 99DB			.var PLRENTMONTHS	= adr.PLRENTMONTHS .word
 27411 = C978			adr.PLRENTCOST	= $C978
 27412 99DB			.var PLRENTCOST	= adr.PLRENTCOST .word
 27413 = C97C			adr.PLBRIBE	= $C97C
 27414 99DB			.var PLBRIBE	= adr.PLBRIBE .word
 27415 = C980			adr.PLJOB	= $C980
 27416 99DB			.var PLJOB	= adr.PLJOB .word
 27417 = C984			adr.PLJOBWAGE	= $C984
 27418 99DB			.var PLJOBWAGE	= adr.PLJOBWAGE .word
 27419 = C98C			adr.PLJOBLOCATION	= $C98C
 27420 99DB			.var PLJOBLOCATION	= adr.PLJOBLOCATION .word
 27421 = C994			adr.PLPRISON	= $C994
 27422 99DB			.var PLPRISON	= adr.PLPRISON .word
 27423 = C998			adr.PLRANK	= $C998
 27424 99DB			.var PLRANK	= adr.PLRANK .word
 27425 = C99C			adr.PLPOINTS	= $C99C
 27426 99DB			.var PLPOINTS	= adr.PLPOINTS .word
 27427 = C9A0			adr.PLNEWPOINTS	= $C9A0
 27428 99DB			.var PLNEWPOINTS	= adr.PLNEWPOINTS .word
 27429 = C9A4			adr.PLLOANINVEST	= $C9A4
 27430 99DB			.var PLLOANINVEST	= adr.PLLOANINVEST .word
 27431 = C9AC			adr.PLFREED	= $C9AC
 27432 99DB			.var PLFREED	= adr.PLFREED .word
 27433 = E400			FP_WINNER	= $E400
 27434 = E401			adr.FP_AI	= $E401
 27435 99DB			.var FP_AI	= adr.FP_AI .word
 27436 = E403			adr.FP_N	= $E403
 27437 99DB			.var FP_N	= adr.FP_N .word
 27438 = E405			adr.FP_POSW	= $E405
 27439 99DB			.var FP_POSW	= adr.FP_POSW .word
 27440 = E445			adr.FP_WEAPON	= $E445
 27441 99DB			.var FP_WEAPON	= adr.FP_WEAPON .word
 27442 = E485			adr.FP_ENERGY	= $E485
 27443 99DB			.var FP_ENERGY	= adr.FP_ENERGY .word
 27444 = E4C5			adr.FP_STRENGTH	= $E4C5
 27445 99DB			.var FP_STRENGTH	= adr.FP_STRENGTH .word
 27446 = E505			adr.FP_BRUTALITY	= $E505
 27447 99DB			.var FP_BRUTALITY	= adr.FP_BRUTALITY .word
 27448 = E545			adr.FP_SEX	= $E545
 27449 99DB			.var FP_SEX	= adr.FP_SEX .word
 27450 = E585			adr.FP_GANG_1	= $E585
 27451 99DB			.var FP_GANG_1	= adr.FP_GANG_1 .word
 27452 = E595			adr.FP_GANG_2	= $E595
 27453 99DB			.var FP_GANG_2	= adr.FP_GANG_2 .word
 27454 = E5A5			adr.FP_NAME_1	= $E5A5
 27455 99DB			.var FP_NAME_1	= adr.FP_NAME_1 .word
 27456 = E5B5			adr.FP_NAME_2	= $E5B5
 27457 99DB			.var FP_NAME_2	= adr.FP_NAME_2 .word
 27458 = E5C5			adr.FP_NAME_3	= $E5C5
 27459 99DB			.var FP_NAME_3	= adr.FP_NAME_3 .word
 27460 = E5D5			adr.FP_NAME_4	= $E5D5
 27461 99DB			.var FP_NAME_4	= adr.FP_NAME_4 .word
 27462 = E5E5			adr.FP_NAME_5	= $E5E5
 27463 99DB			.var FP_NAME_5	= adr.FP_NAME_5 .word
 27464 = E5F5			adr.FP_NAME_6	= $E5F5
 27465 99DB			.var FP_NAME_6	= adr.FP_NAME_6 .word
 27466 = E605			adr.FP_NAME_7	= $E605
 27467 99DB			.var FP_NAME_7	= adr.FP_NAME_7 .word
 27468 = E615			adr.FP_NAME_8	= $E615
 27469 99DB			.var FP_NAME_8	= adr.FP_NAME_8 .word
 27470 = E625			adr.FP_NAME_9	= $E625
 27471 99DB			.var FP_NAME_9	= adr.FP_NAME_9 .word
 27472 = E635			adr.FP_NAME_10	= $E635
 27473 99DB			.var FP_NAME_10	= adr.FP_NAME_10 .word
 27474 = E645			adr.FP_NAME_11	= $E645
 27475 99DB			.var FP_NAME_11	= adr.FP_NAME_11 .word
 27476 = E655			adr.FP_NAME_12	= $E655
 27477 99DB			.var FP_NAME_12	= adr.FP_NAME_12 .word
 27478 = E665			adr.FP_NAME_13	= $E665
 27479 99DB			.var FP_NAME_13	= adr.FP_NAME_13 .word
 27480 = E675			adr.FP_NAME_14	= $E675
 27481 99DB			.var FP_NAME_14	= adr.FP_NAME_14 .word
 27482 = E685			adr.FP_NAME_15	= $E685
 27483 99DB			.var FP_NAME_15	= adr.FP_NAME_15 .word
 27484 = E695			adr.FP_NAME_16	= $E695
 27485 99DB			.var FP_NAME_16	= adr.FP_NAME_16 .word
 27486 = E6A5			adr.FP_NAME_17	= $E6A5
 27487 99DB			.var FP_NAME_17	= adr.FP_NAME_17 .word
 27488 = E6B5			adr.FP_NAME_18	= $E6B5
 27489 99DB			.var FP_NAME_18	= adr.FP_NAME_18 .word
 27490 = E6C5			adr.FP_NAME_19	= $E6C5
 27491 99DB			.var FP_NAME_19	= adr.FP_NAME_19 .word
 27492 = E6D5			adr.FP_NAME_20	= $E6D5
 27493 99DB			.var FP_NAME_20	= adr.FP_NAME_20 .word
 27494 = E6E5			FP_CURRENTPLAYER	= $E6E5
 27495 = E6E6			FP_CURRENTSITE	= $E6E6
 27496 = E6E7			FP_CURRENTCOMMAND	= $E6E7
 27497 = E6E8			FP_VALIDCMD	= $E6E8
 27498 = E6E9			SHOOT_DIFF	= $E6E9
 27499 = E6EA			SHOOT_START	= $E6EA
 27500 = E6EF			F_CURPOS	= $E6EF
 27501 = 0003			FIGHT_BULLETTIME	= $03
 27502 = 0014			FIGHT_HITTIME	= $14
 27503 = 0032			FIGHT_TEXTTIME	= $32
 27504 = 0005			FIGHT_ROUNDTIME	= $05
 27505 = 0046			FIGHT_DEADTIME	= $46
 27506 = A377			adr.FP_GANG	= [DATAORIGIN+$075C] .array [2] .word
 27507 99DB			.var FP_GANG	= adr.FP_GANG .word
 27508 = A37B			adr.FP_NAME	= [DATAORIGIN+$0760] .array [32] .word
 27509 99DB			.var FP_NAME	= adr.FP_NAME .word
 27510 = A3BB			TMPSTR	= DATAORIGIN+$07A0
 27511 = A3BD			TMP	= DATAORIGIN+$07A2
 27512 = C000			adr.LOC_NAME	= $C000
 27513 99DB			.var LOC_NAME	= adr.LOC_NAME .word
 27514 = C028			adr.LOC_SUBLOCATION_NAME_1	= $C028
 27515 99DB			.var LOC_SUBLOCATION_NAME_1	= adr.LOC_SUBLOCATION_NAME_1 .word
 27516 = C050			adr.LOC_SUBLOCATION_NAME_2	= $C050
 27517 99DB			.var LOC_SUBLOCATION_NAME_2	= adr.LOC_SUBLOCATION_NAME_2 .word
 27518 = C078			adr.LOC_SUBLOCATION_NAME_3	= $C078
 27519 99DB			.var LOC_SUBLOCATION_NAME_3	= adr.LOC_SUBLOCATION_NAME_3 .word
 27520 = C0A0			adr.LOC_SUBLOCATION_NAME_4	= $C0A0
 27521 99DB			.var LOC_SUBLOCATION_NAME_4	= adr.LOC_SUBLOCATION_NAME_4 .word
 27522 = C0C8			adr.LOC_OPTIONS_1	= $C0C8
 27523 99DB			.var LOC_OPTIONS_1	= adr.LOC_OPTIONS_1 .word
 27524 = C0F0			adr.LOC_OPTIONS_2	= $C0F0
 27525 99DB			.var LOC_OPTIONS_2	= adr.LOC_OPTIONS_2 .word
 27526 = C118			adr.LOC_OPTIONS_3	= $C118
 27527 99DB			.var LOC_OPTIONS_3	= adr.LOC_OPTIONS_3 .word
 27528 = C140			adr.LOC_OPTIONS_4	= $C140
 27529 99DB			.var LOC_OPTIONS_4	= adr.LOC_OPTIONS_4 .word
 27530 = C168			adr.LOC_OPTIONS_5	= $C168
 27531 99DB			.var LOC_OPTIONS_5	= adr.LOC_OPTIONS_5 .word
 27532 = C190			adr.LOC_OPTIONS_6	= $C190
 27533 99DB			.var LOC_OPTIONS_6	= adr.LOC_OPTIONS_6 .word
 27534 = C1B8			adr.LOC_OPTIONS_7	= $C1B8
 27535 99DB			.var LOC_OPTIONS_7	= adr.LOC_OPTIONS_7 .word
 27536 = C1E0			adr.LOC_OPTIONS_8	= $C1E0
 27537 99DB			.var LOC_OPTIONS_8	= adr.LOC_OPTIONS_8 .word
 27538 = C208			adr.LOC_OPTIONS_9	= $C208
 27539 99DB			.var LOC_OPTIONS_9	= adr.LOC_OPTIONS_9 .word
 27540 = C230			adr.LOC_OPTIONS_10	= $C230
 27541 99DB			.var LOC_OPTIONS_10	= adr.LOC_OPTIONS_10 .word
 27542 = C258			adr.LOC_DESCRIPTION_1	= $C258
 27543 99DB			.var LOC_DESCRIPTION_1	= adr.LOC_DESCRIPTION_1 .word
 27544 = C280			adr.LOC_DESCRIPTION_2	= $C280
 27545 99DB			.var LOC_DESCRIPTION_2	= adr.LOC_DESCRIPTION_2 .word
 27546 = C2A9			LOC_NOPTIONS	= $C2A9
 27547 = C2AA			adr.LOC_MAP_PLACES	= $C2AA
 27548 99DB			.var LOC_MAP_PLACES	= adr.LOC_MAP_PLACES .word
 27549 = C2B0			adr.LOC_STRING_1	= $C2B0
 27550 99DB			.var LOC_STRING_1	= adr.LOC_STRING_1 .word
 27551 = C2D8			adr.LOC_STRING_2	= $C2D8
 27552 99DB			.var LOC_STRING_2	= adr.LOC_STRING_2 .word
 27553 = C300			adr.LOC_STRING_3	= $C300
 27554 99DB			.var LOC_STRING_3	= adr.LOC_STRING_3 .word
 27555 = C328			adr.LOC_STRING_4	= $C328
 27556 99DB			.var LOC_STRING_4	= adr.LOC_STRING_4 .word
 27557 = C350			adr.LOC_STRING_5	= $C350
 27558 99DB			.var LOC_STRING_5	= adr.LOC_STRING_5 .word
 27559 = C378			adr.LOC_STRING_6	= $C378
 27560 99DB			.var LOC_STRING_6	= adr.LOC_STRING_6 .word
 27561 = C3A0			adr.LOC_STRING_7	= $C3A0
 27562 99DB			.var LOC_STRING_7	= adr.LOC_STRING_7 .word
 27563 = C3C8			adr.LOC_STRING_8	= $C3C8
 27564 99DB			.var LOC_STRING_8	= adr.LOC_STRING_8 .word
 27565 = C3F0			adr.LOC_STRING_9	= $C3F0
 27566 99DB			.var LOC_STRING_9	= adr.LOC_STRING_9 .word
 27567 = C418			adr.LOC_STRING_10	= $C418
 27568 99DB			.var LOC_STRING_10	= adr.LOC_STRING_10 .word
 27569 = C440			adr.LOC_STRING_11	= $C440
 27570 99DB			.var LOC_STRING_11	= adr.LOC_STRING_11 .word
 27571 = C468			adr.LOC_STRING_12	= $C468
 27572 99DB			.var LOC_STRING_12	= adr.LOC_STRING_12 .word
 27573 = C490			adr.LOC_STRING_13	= $C490
 27574 99DB			.var LOC_STRING_13	= adr.LOC_STRING_13 .word
 27575 = C4B8			adr.LOC_STRING_14	= $C4B8
 27576 99DB			.var LOC_STRING_14	= adr.LOC_STRING_14 .word
 27577 = C4E0			adr.LOC_STRING_15	= $C4E0
 27578 99DB			.var LOC_STRING_15	= adr.LOC_STRING_15 .word
 27579 = C508			adr.LOC_STRING_16	= $C508
 27580 99DB			.var LOC_STRING_16	= adr.LOC_STRING_16 .word
 27581 = C530			adr.LOC_STRING_17	= $C530
 27582 99DB			.var LOC_STRING_17	= adr.LOC_STRING_17 .word
 27583 = C558			adr.LOC_STRING_18	= $C558
 27584 99DB			.var LOC_STRING_18	= adr.LOC_STRING_18 .word
 27585 = C580			adr.LOC_STRING_19	= $C580
 27586 99DB			.var LOC_STRING_19	= adr.LOC_STRING_19 .word
 27587 = C5A8			adr.LOC_STRING_20	= $C5A8
 27588 99DB			.var LOC_STRING_20	= adr.LOC_STRING_20 .word
 27589 = C5D0			adr.LOC_STRING_21	= $C5D0
 27590 99DB			.var LOC_STRING_21	= adr.LOC_STRING_21 .word
 27591 = C5F8			adr.LOC_STRING_22	= $C5F8
 27592 99DB			.var LOC_STRING_22	= adr.LOC_STRING_22 .word
 27593 = C620			adr.LOC_STRING_23	= $C620
 27594 99DB			.var LOC_STRING_23	= adr.LOC_STRING_23 .word
 27595 = C648			adr.LOC_STRING_24	= $C648
 27596 99DB			.var LOC_STRING_24	= adr.LOC_STRING_24 .word
 27597 = C670			adr.LOC_STRING_25	= $C670
 27598 99DB			.var LOC_STRING_25	= adr.LOC_STRING_25 .word
 27599 = C698			adr.LOC_STRING_26	= $C698
 27600 99DB			.var LOC_STRING_26	= adr.LOC_STRING_26 .word
 27601 = C6C0			adr.LOC_STRING_27	= $C6C0
 27602 99DB			.var LOC_STRING_27	= adr.LOC_STRING_27 .word
 27603 = C6E8			adr.LOC_STRING_28	= $C6E8
 27604 99DB			.var LOC_STRING_28	= adr.LOC_STRING_28 .word
 27605 = C710			adr.LOC_STRING_29	= $C710
 27606 99DB			.var LOC_STRING_29	= adr.LOC_STRING_29 .word
 27607 = C738			adr.LOC_STRING_30	= $C738
 27608 99DB			.var LOC_STRING_30	= adr.LOC_STRING_30 .word
 27609 = C760			adr.LOC_STRING_31	= $C760
 27610 99DB			.var LOC_STRING_31	= adr.LOC_STRING_31 .word
 27611 = C788			adr.LOC_STRING_32	= $C788
 27612 99DB			.var LOC_STRING_32	= adr.LOC_STRING_32 .word
 27613 = C7B0			adr.LOC_STRING_33	= $C7B0
 27614 99DB			.var LOC_STRING_33	= adr.LOC_STRING_33 .word
 27615 = C7D8			adr.LOC_STRING_34	= $C7D8
 27616 99DB			.var LOC_STRING_34	= adr.LOC_STRING_34 .word
 27617 = C800			adr.LOC_STRING_35	= $C800
 27618 99DB			.var LOC_STRING_35	= adr.LOC_STRING_35 .word
 27619 = C828			adr.LOC_STRING_36	= $C828
 27620 99DB			.var LOC_STRING_36	= adr.LOC_STRING_36 .word
 27621 = C850			adr.LOC_STRING_37	= $C850
 27622 99DB			.var LOC_STRING_37	= adr.LOC_STRING_37 .word
 27623 = C878			adr.LOC_STRING_38	= $C878
 27624 99DB			.var LOC_STRING_38	= adr.LOC_STRING_38 .word
 27625 = C8A0			adr.LOC_STRING_39	= $C8A0
 27626 99DB			.var LOC_STRING_39	= adr.LOC_STRING_39 .word
 27627 = C8C8			adr.LOC_STRING_40	= $C8C8
 27628 99DB			.var LOC_STRING_40	= adr.LOC_STRING_40 .word
 27629 = C8F0			adr.LOC_STRING_41	= $C8F0
 27630 99DB			.var LOC_STRING_41	= adr.LOC_STRING_41 .word
 27631 = C918			LOCCOLBK	= $C918
 27632 = C919			LOCCOLPF0	= $C919
 27633 = C91A			LOCCOLPF1	= $C91A
 27634 = C91B			LOCCOLPF2	= $C91B
 27635 = A3BE			adr.LOC_OPTIONS	= [DATAORIGIN+$07A3] .array [10] .word
 27636 99DB			.var LOC_OPTIONS	= adr.LOC_OPTIONS .word
 27637 = A3D2			adr.LOC_SUBLOCATION_NAMES	= [DATAORIGIN+$07B7] .array [4] .word
 27638 99DB			.var LOC_SUBLOCATION_NAMES	= adr.LOC_SUBLOCATION_NAMES .word
 27639 = CA00			adr.GANGSTERMAP	= $CA00
 27640 99DB			.var GANGSTERMAP	= adr.GANGSTERMAP .word
 27641 = CA0A			GANGSTERCOUNT	= $CA0A
 27642 = CA0B			TMPOPPORTUNITY	= $CA0B
 27643 = CA0C			adr.PLWINNERS	= $CA0C
 27644 99DB			.var PLWINNERS	= adr.PLWINNERS .word
 27645 = CA10			PLNWINNERS	= $CA10
 27646 = CA11			PLAYMUSIC	= $CA11
 27647 = CA12			CURRENTLOCATION	= $CA12
 27648 = CA44			adr.PLGANG_1	= $CA44
 27649 99DB			.var PLGANG_1	= adr.PLGANG_1 .word
 27650 = CA54			adr.PLGANG_2	= $CA54
 27651 99DB			.var PLGANG_2	= adr.PLGANG_2 .word
 27652 = CA64			adr.PLGANG_3	= $CA64
 27653 99DB			.var PLGANG_3	= adr.PLGANG_3 .word
 27654 = CA74			adr.PLGANG_4	= $CA74
 27655 99DB			.var PLGANG_4	= adr.PLGANG_4 .word
 27656 = A3DA			adr.PLGANG	= [DATAORIGIN+$07BF] .array [4] .word
 27657 99DB			.var PLGANG	= adr.PLGANG .word
 27658 = CAC2			CURRENTMONTH	= $CAC2
 27659 = CAC3			CURRENTYEAR	= $CAC3
 27660 = CAC4			GAMELENGTH	= $CAC4
 27661 = CAC5			GAMEPOINTS	= $CAC5
 27662 = CAC7			LASTACTION	= $CAC7
 27663 = CAC8			adr.GANGSTERNAME_1	= $CAC8
 27664 99DB			.var GANGSTERNAME_1	= adr.GANGSTERNAME_1 .word
 27665 = CAD8			adr.GANGSTERNAME_2	= $CAD8
 27666 99DB			.var GANGSTERNAME_2	= adr.GANGSTERNAME_2 .word
 27667 = CAE8			adr.GANGSTERNAME_3	= $CAE8
 27668 99DB			.var GANGSTERNAME_3	= adr.GANGSTERNAME_3 .word
 27669 = CAF8			adr.GANGSTERNAME_4	= $CAF8
 27670 99DB			.var GANGSTERNAME_4	= adr.GANGSTERNAME_4 .word
 27671 = CB08			adr.GANGSTERNAME_5	= $CB08
 27672 99DB			.var GANGSTERNAME_5	= adr.GANGSTERNAME_5 .word
 27673 = CB18			adr.GANGSTERNAME_6	= $CB18
 27674 99DB			.var GANGSTERNAME_6	= adr.GANGSTERNAME_6 .word
 27675 = CB28			adr.GANGSTERNAME_7	= $CB28
 27676 99DB			.var GANGSTERNAME_7	= adr.GANGSTERNAME_7 .word
 27677 = CB38			adr.GANGSTERNAME_8	= $CB38
 27678 99DB			.var GANGSTERNAME_8	= adr.GANGSTERNAME_8 .word
 27679 = CB48			adr.GANGSTERNAME_9	= $CB48
 27680 99DB			.var GANGSTERNAME_9	= adr.GANGSTERNAME_9 .word
 27681 = CB58			adr.GANGSTERNAME_10	= $CB58
 27682 99DB			.var GANGSTERNAME_10	= adr.GANGSTERNAME_10 .word
 27683 = CB68			adr.GANGSTERNAME_11	= $CB68
 27684 99DB			.var GANGSTERNAME_11	= adr.GANGSTERNAME_11 .word
 27685 = CB78			adr.GANGSTERNAME_12	= $CB78
 27686 99DB			.var GANGSTERNAME_12	= adr.GANGSTERNAME_12 .word
 27687 = CB88			adr.GANGSTERNAME_13	= $CB88
 27688 99DB			.var GANGSTERNAME_13	= adr.GANGSTERNAME_13 .word
 27689 = CB98			adr.GANGSTERNAME_14	= $CB98
 27690 99DB			.var GANGSTERNAME_14	= adr.GANGSTERNAME_14 .word
 27691 = CBA8			adr.GANGSTERNAME_15	= $CBA8
 27692 99DB			.var GANGSTERNAME_15	= adr.GANGSTERNAME_15 .word
 27693 = CBB8			adr.GANGSTERNAME_16	= $CBB8
 27694 99DB			.var GANGSTERNAME_16	= adr.GANGSTERNAME_16 .word
 27695 = CBC8			adr.GANGSTERNAME_17	= $CBC8
 27696 99DB			.var GANGSTERNAME_17	= adr.GANGSTERNAME_17 .word
 27697 = CBD8			adr.GANGSTERNAME_18	= $CBD8
 27698 99DB			.var GANGSTERNAME_18	= adr.GANGSTERNAME_18 .word
 27699 = CBE8			adr.GANGSTERNAME_19	= $CBE8
 27700 99DB			.var GANGSTERNAME_19	= adr.GANGSTERNAME_19 .word
 27701 = CBF8			adr.GANGSTERNAME_20	= $CBF8
 27702 99DB			.var GANGSTERNAME_20	= adr.GANGSTERNAME_20 .word
 27703 = CC08			adr.GANGSTERNAME_21	= $CC08
 27704 99DB			.var GANGSTERNAME_21	= adr.GANGSTERNAME_21 .word
 27705 = CC18			adr.GANGSTERNAME_22	= $CC18
 27706 99DB			.var GANGSTERNAME_22	= adr.GANGSTERNAME_22 .word
 27707 = CC28			adr.GANGSTERNAME_23	= $CC28
 27708 99DB			.var GANGSTERNAME_23	= adr.GANGSTERNAME_23 .word
 27709 = CC38			adr.GANGSTERNAME_24	= $CC38
 27710 99DB			.var GANGSTERNAME_24	= adr.GANGSTERNAME_24 .word
 27711 = CC48			adr.GANGSTERNAME_25	= $CC48
 27712 99DB			.var GANGSTERNAME_25	= adr.GANGSTERNAME_25 .word
 27713 = CC58			adr.GANGSTERNAME_26	= $CC58
 27714 99DB			.var GANGSTERNAME_26	= adr.GANGSTERNAME_26 .word
 27715 = CC68			adr.GANGSTERNAME_27	= $CC68
 27716 99DB			.var GANGSTERNAME_27	= adr.GANGSTERNAME_27 .word
 27717 = CC78			adr.GANGSTERNAME_28	= $CC78
 27718 99DB			.var GANGSTERNAME_28	= adr.GANGSTERNAME_28 .word
 27719 = CC88			adr.GANGSTERNAME_29	= $CC88
 27720 99DB			.var GANGSTERNAME_29	= adr.GANGSTERNAME_29 .word
 27721 = CC98			adr.GANGSTERNAME_30	= $CC98
 27722 99DB			.var GANGSTERNAME_30	= adr.GANGSTERNAME_30 .word
 27723 = CCA8			adr.GANGSTERNAME_31	= $CCA8
 27724 99DB			.var GANGSTERNAME_31	= adr.GANGSTERNAME_31 .word
 27725 = CCB8			adr.GANGSTERNAME_32	= $CCB8
 27726 99DB			.var GANGSTERNAME_32	= adr.GANGSTERNAME_32 .word
 27727 = CCC8			adr.GANGSTERSTR	= $CCC8
 27728 99DB			.var GANGSTERSTR	= adr.GANGSTERSTR .word
 27729 = CCE8			adr.GANGSTERINT	= $CCE8
 27730 99DB			.var GANGSTERINT	= adr.GANGSTERINT .word
 27731 = CD08			adr.GANGSTERBRUT	= $CD08
 27732 99DB			.var GANGSTERBRUT	= adr.GANGSTERBRUT .word
 27733 = CD28			adr.GANGSTERHEALTH	= $CD28
 27734 99DB			.var GANGSTERHEALTH	= adr.GANGSTERHEALTH .word
 27735 = CD48			adr.GANGSTERWEAPON	= $CD48
 27736 99DB			.var GANGSTERWEAPON	= adr.GANGSTERWEAPON .word
 27737 = CD68			adr.GANGSTERSEX	= $CD68
 27738 99DB			.var GANGSTERSEX	= adr.GANGSTERSEX .word
 27739 = CD88			CURRENTGANGSTER	= $CD88
 27740 = CD89			GAMEENDS	= $CD89
 27741 = CD8A			CURRENTPLAYER	= $CD8A
 27742 = CD8B			LOCCOL	= $CD8B
 27743 = CD8C			adr.PLRENT	= $CD8C
 27744 99DB			.var PLRENT	= adr.PLRENT .word
 27745 = CD90			CURRENTMAP	= $CD90
 27746 = CD91			adr.PLGANGSTERS	= $CD91
 27747 99DB			.var PLGANGSTERS	= adr.PLGANGSTERS .word
 27748 = CDB1			adr.PLNGANGSTERS	= $CDB1
 27749 99DB			.var PLNGANGSTERS	= adr.PLNGANGSTERS .word
 27750 = CDB5			DIDFIGHT	= $CDB5
 27751 = CDC0			SAVEGAMEMAGIC	= $CDC0
 27752 = CE70			adr.BUF_GANGSTERTEXT1	= $CE70
 27753 99DB			.var BUF_GANGSTERTEXT1	= adr.BUF_GANGSTERTEXT1 .word
 27754 = CE98			adr.BUF_GANGSTERTEXT2	= $CE98
 27755 99DB			.var BUF_GANGSTERTEXT2	= adr.BUF_GANGSTERTEXT2 .word
 27756 = CEC0			adr.BUF_GANGSTERTEXT3	= $CEC0
 27757 99DB			.var BUF_GANGSTERTEXT3	= adr.BUF_GANGSTERTEXT3 .word
 27758 = CEE8			adr.BUF_GANGSTERTEXT4	= $CEE8
 27759 99DB			.var BUF_GANGSTERTEXT4	= adr.BUF_GANGSTERTEXT4 .word
 27760 = CF10			adr.BUF_GANGSTERTEXT5	= $CF10
 27761 99DB			.var BUF_GANGSTERTEXT5	= adr.BUF_GANGSTERTEXT5 .word
 27762 = CF38			adr.BUF_GANGSTERANREDE	= $CF38
 27763 99DB			.var BUF_GANGSTERANREDE	= adr.BUF_GANGSTERANREDE .word
 27764 = CF48			BUF_GANGSTERSEX	= $CF48
 27765 = CF49			BUF_GANGSTERSTR	= $CF49
 27766 = CF4A			BUF_GANGSTERBRUT	= $CF4A
 27767 = CF4B			BUF_GANGSTERINT	= $CF4B
 27768 = CF4C			BUF_GANGSTERWEAPON	= $CF4C
 27769 = CF4D			adr.BUF_GANGSTERNAME	= $CF4D
 27770 99DB			.var BUF_GANGSTERNAME	= adr.BUF_GANGSTERNAME .word
 27771 = CF5D			BUF_GANGSTERPRICE	= $CF5D
 27772 = A3E2			adr.GANGSTERNAMES	= [DATAORIGIN+$07C7] .array [32] .word
 27773 99DB			.var GANGSTERNAMES	= adr.GANGSTERNAMES .word
 27774 = E700			adr.CARPRICES	= $E700
 27775 99DB			.var CARPRICES	= adr.CARPRICES .word
 27776 = E70C			adr.CARCARGO	= $E70C
 27777 99DB			.var CARCARGO	= adr.CARCARGO .word
 27778 = E712			adr.CARRANGE	= $E712
 27779 99DB			.var CARRANGE	= adr.CARRANGE .word
 27780 = E718			adr.WEAPONPRICES	= $E718
 27781 99DB			.var WEAPONPRICES	= adr.WEAPONPRICES .word
 27782 = E72A			adr.WEAPONREACH	= $E72A
 27783 99DB			.var WEAPONREACH	= adr.WEAPONREACH .word
 27784 = E733			adr.WEAPONPRECISION	= $E733
 27785 99DB			.var WEAPONPRECISION	= adr.WEAPONPRECISION .word
 27786 = E73C			adr.WEAPONEFFECT	= $E73C
 27787 99DB			.var WEAPONEFFECT	= adr.WEAPONEFFECT .word
 27788 = E745			adr.WEAPONSOUND	= $E745
 27789 99DB			.var WEAPONSOUND	= adr.WEAPONSOUND .word
 27790 = E74E			adr.FNTNAME	= $E74E
 27791 99DB			.var FNTNAME	= adr.FNTNAME .word
 27792 = E75E			adr.WANTED_M_FNAME	= $E75E
 27793 99DB			.var WANTED_M_FNAME	= adr.WANTED_M_FNAME .word
 27794 = E76E			adr.WANTED_F_FNAME	= $E76E
 27795 99DB			.var WANTED_F_FNAME	= adr.WANTED_F_FNAME .word
 27796 = E77E			adr.FIGHT_MAP_FNAME	= $E77E
 27797 99DB			.var FIGHT_MAP_FNAME	= adr.FIGHT_MAP_FNAME .word
 27798 = E78E			adr.GANGSTERFILENAME	= $E78E
 27799 99DB			.var GANGSTERFILENAME	= adr.GANGSTERFILENAME .word
 27800 = E79E			adr.LOCABANKFNAME	= $E79E
 27801 99DB			.var LOCABANKFNAME	= adr.LOCABANKFNAME .word
 27802 = E7AE			adr.LOCAFORGFNAME	= $E7AE
 27803 99DB			.var LOCAFORGFNAME	= adr.LOCAFORGFNAME .word
 27804 = E7BE			adr.LOCAMONYFNAME	= $E7BE
 27805 99DB			.var LOCAMONYFNAME	= adr.LOCAMONYFNAME .word
 27806 = E7CE			adr.LOCALOANFNAME	= $E7CE
 27807 99DB			.var LOCALOANFNAME	= adr.LOCALOANFNAME .word
 27808 = E7DE			adr.LOCAPOLIFNAME	= $E7DE
 27809 99DB			.var LOCAPOLIFNAME	= adr.LOCAPOLIFNAME .word
 27810 = E7EE			adr.LOCACARSFNAME	= $E7EE
 27811 99DB			.var LOCACARSFNAME	= adr.LOCACARSFNAME .word
 27812 = E7FE			adr.LOCAPUBBFNAME	= $E7FE
 27813 99DB			.var LOCAPUBBFNAME	= adr.LOCAPUBBFNAME .word
 27814 = E80E			adr.LOCAPUBCFNAME	= $E80E
 27815 99DB			.var LOCAPUBCFNAME	= adr.LOCAPUBCFNAME .word
 27816 = E81E			adr.LOCASTORFNAME	= $E81E
 27817 99DB			.var LOCASTORFNAME	= adr.LOCASTORFNAME .word
 27818 = E82E			adr.LOCAHIDEFNAME	= $E82E
 27819 99DB			.var LOCAHIDEFNAME	= adr.LOCAHIDEFNAME .word
 27820 = E83E			adr.LOCAGAMBFNAME	= $E83E
 27821 99DB			.var LOCAGAMBFNAME	= adr.LOCAGAMBFNAME .word
 27822 = E84E			adr.LOCASUBWFNAME	= $E84E
 27823 99DB			.var LOCASUBWFNAME	= adr.LOCASUBWFNAME .word
 27824 = E85E			adr.LOCAARMSFNAME	= $E85E
 27825 99DB			.var LOCAARMSFNAME	= adr.LOCAARMSFNAME .word
 27826 = E86E			adr.LOCAMAINFNAME	= $E86E
 27827 99DB			.var LOCAMAINFNAME	= adr.LOCAMAINFNAME .word
 27828 = E87E			adr.LOCAJOBBFNAME	= $E87E
 27829 99DB			.var LOCAJOBBFNAME	= adr.LOCAJOBBFNAME .word
 27830 = E88E			adr.LOCAMAJOFNAME	= $E88E
 27831 99DB			.var LOCAMAJOFNAME	= adr.LOCAMAJOFNAME .word
 27832 = E89E			adr.LOCACOURFNAME	= $E89E
 27833 99DB			.var LOCACOURFNAME	= adr.LOCACOURFNAME .word
 27834 = E8AE			adr.LOCACAUGFNAME	= $E8AE
 27835 99DB			.var LOCACAUGFNAME	= adr.LOCACAUGFNAME .word
 27836 = E8BE			adr.LOCAROADFNAME	= $E8BE
 27837 99DB			.var LOCAROADFNAME	= adr.LOCAROADFNAME .word
 27838 = E8CE			adr.LOCAUPDTFNAME	= $E8CE
 27839 99DB			.var LOCAUPDTFNAME	= adr.LOCAUPDTFNAME .word
 27840 = E8DE			adr.LOCASETUFNAME	= $E8DE
 27841 99DB			.var LOCASETUFNAME	= adr.LOCASETUFNAME .word
 27842 = E8EE			adr.LOCACENTFNAME	= $E8EE
 27843 99DB			.var LOCACENTFNAME	= adr.LOCACENTFNAME .word
 27844 = E8FE			adr.LOCACREDFNAME	= $E8FE
 27845 99DB			.var LOCACREDFNAME	= adr.LOCACREDFNAME .word
 27846 = E90E			adr.RANK_1	= $E90E
 27847 99DB			.var RANK_1	= adr.RANK_1 .word
 27848 = E91E			adr.RANK_2	= $E91E
 27849 99DB			.var RANK_2	= adr.RANK_2 .word
 27850 = E92E			adr.RANK_3	= $E92E
 27851 99DB			.var RANK_3	= adr.RANK_3 .word
 27852 = E93E			adr.RANK_4	= $E93E
 27853 99DB			.var RANK_4	= adr.RANK_4 .word
 27854 = E94E			adr.RANK_5	= $E94E
 27855 99DB			.var RANK_5	= adr.RANK_5 .word
 27856 = E95E			adr.RANK_6	= $E95E
 27857 99DB			.var RANK_6	= adr.RANK_6 .word
 27858 = E96E			adr.RANK_7	= $E96E
 27859 99DB			.var RANK_7	= adr.RANK_7 .word
 27860 = E97E			adr.RANK_8	= $E97E
 27861 99DB			.var RANK_8	= adr.RANK_8 .word
 27862 = E98E			adr.RANK_9	= $E98E
 27863 99DB			.var RANK_9	= adr.RANK_9 .word
 27864 = E99E			adr.RANK_10	= $E99E
 27865 99DB			.var RANK_10	= adr.RANK_10 .word
 27866 = E9AE			adr.RANK_11	= $E9AE
 27867 99DB			.var RANK_11	= adr.RANK_11 .word
 27868 = E9BE			adr.WEAPONNAME_1	= $E9BE
 27869 99DB			.var WEAPONNAME_1	= adr.WEAPONNAME_1 .word
 27870 = E9CE			adr.WEAPONNAME_2	= $E9CE
 27871 99DB			.var WEAPONNAME_2	= adr.WEAPONNAME_2 .word
 27872 = E9DE			adr.WEAPONNAME_3	= $E9DE
 27873 99DB			.var WEAPONNAME_3	= adr.WEAPONNAME_3 .word
 27874 = E9EE			adr.WEAPONNAME_4	= $E9EE
 27875 99DB			.var WEAPONNAME_4	= adr.WEAPONNAME_4 .word
 27876 = E9FE			adr.WEAPONNAME_5	= $E9FE
 27877 99DB			.var WEAPONNAME_5	= adr.WEAPONNAME_5 .word
 27878 = EA0E			adr.WEAPONNAME_6	= $EA0E
 27879 99DB			.var WEAPONNAME_6	= adr.WEAPONNAME_6 .word
 27880 = EA1E			adr.WEAPONNAME_7	= $EA1E
 27881 99DB			.var WEAPONNAME_7	= adr.WEAPONNAME_7 .word
 27882 = EA2E			adr.WEAPONNAME_8	= $EA2E
 27883 99DB			.var WEAPONNAME_8	= adr.WEAPONNAME_8 .word
 27884 = EA3E			adr.WEAPONNAME_9	= $EA3E
 27885 99DB			.var WEAPONNAME_9	= adr.WEAPONNAME_9 .word
 27886 = EA4E			adr.CARNAMES_1	= $EA4E
 27887 99DB			.var CARNAMES_1	= adr.CARNAMES_1 .word
 27888 = EA5E			adr.CARNAMES_2	= $EA5E
 27889 99DB			.var CARNAMES_2	= adr.CARNAMES_2 .word
 27890 = EA6E			adr.CARNAMES_3	= $EA6E
 27891 99DB			.var CARNAMES_3	= adr.CARNAMES_3 .word
 27892 = EA7E			adr.CARNAMES_4	= $EA7E
 27893 99DB			.var CARNAMES_4	= adr.CARNAMES_4 .word
 27894 = EA8E			adr.CARNAMES_5	= $EA8E
 27895 99DB			.var CARNAMES_5	= adr.CARNAMES_5 .word
 27896 = EA9E			adr.CARNAMES_6	= $EA9E
 27897 99DB			.var CARNAMES_6	= adr.CARNAMES_6 .word
 27898 = EAAE			PLAYERPOS_X	= $EAAE
 27899 = EAAF			PLAYERPOS_Y	= $EAAF
 27900 = EAB0			MAPPOS_X	= $EAB0
 27901 = EAB1			MAPPOS_Y	= $EAB1
 27902 = EAB2			OLDMAPPOS_X	= $EAB2
 27903 = EAB3			OLDMAPPOS_Y	= $EAB3
 27904 = EAB4			OLDPLAYERPOS_X	= $EAB4
 27905 = EAB5			OLDPLAYERPOS_Y	= $EAB5
 27906 = EAB6			adr.FPPOSSTART	= $EAB6
 27907 99DB			.var FPPOSSTART	= adr.FPPOSSTART .word
 27908 = EAF6			MAPCOLORA	= $EAF6
 27909 = EAF7			MAPCOLORB	= $EAF7
 27910 = EAF8			SPRITEMOVEDIR	= $EAF8
 27911 = EAF9			JOYSTICKUSED	= $EAF9
 27912 = EAFA			adr.FIGHT_STRING_1	= $EAFA
 27913 99DB			.var FIGHT_STRING_1	= adr.FIGHT_STRING_1 .word
 27914 = EB0A			adr.FIGHT_STRING_2	= $EB0A
 27915 99DB			.var FIGHT_STRING_2	= adr.FIGHT_STRING_2 .word
 27916 = EB1A			adr.FIGHT_STRING_3	= $EB1A
 27917 99DB			.var FIGHT_STRING_3	= adr.FIGHT_STRING_3 .word
 27918 = EB2A			adr.FIGHT_STRING_4	= $EB2A
 27919 99DB			.var FIGHT_STRING_4	= adr.FIGHT_STRING_4 .word
 27920 = EB3A			adr.FIGHT_STRING_5	= $EB3A
 27921 99DB			.var FIGHT_STRING_5	= adr.FIGHT_STRING_5 .word
 27922 = EB4A			adr.FIGHT_STRING_6	= $EB4A
 27923 99DB			.var FIGHT_STRING_6	= adr.FIGHT_STRING_6 .word
 27924 = EB5A			adr.WAITKEY_STRING	= $EB5A
 27925 99DB			.var WAITKEY_STRING	= adr.WAITKEY_STRING .word
 27926 = EB82			adr.MAP_STRING_WEAPON	= $EB82
 27927 99DB			.var MAP_STRING_WEAPON	= adr.MAP_STRING_WEAPON .word
 27928 = EB92			adr.MAP_STRING_GANGSTER	= $EB92
 27929 99DB			.var MAP_STRING_GANGSTER	= adr.MAP_STRING_GANGSTER .word
 27930 = EBA2			adr.MAP_STRING_RENT	= $EBA2
 27931 99DB			.var MAP_STRING_RENT	= adr.MAP_STRING_RENT .word
 27932 = EBB2			adr.MAP_STRING_BRIBE	= $EBB2
 27933 99DB			.var MAP_STRING_BRIBE	= adr.MAP_STRING_BRIBE .word
 27934 = EBC2			adr.MAP_STRING_CAR	= $EBC2
 27935 99DB			.var MAP_STRING_CAR	= adr.MAP_STRING_CAR .word
 27936 = EBD2			adr.MAP_STRING_STEPS	= $EBD2
 27937 99DB			.var MAP_STRING_STEPS	= adr.MAP_STRING_STEPS .word
 27938 = EBE2			adr.MAP_STRING_CARGO	= $EBE2
 27939 99DB			.var MAP_STRING_CARGO	= adr.MAP_STRING_CARGO .word
 27940 = EBF2			adr.MAP_STRING_MONEY	= $EBF2
 27941 99DB			.var MAP_STRING_MONEY	= adr.MAP_STRING_MONEY .word
 27942 = EC02			adr.MAP_STRING_CREDIT	= $EC02
 27943 99DB			.var MAP_STRING_CREDIT	= adr.MAP_STRING_CREDIT .word
 27944 = EC12			adr.FIGHT_POLICE_STRING_1	= $EC12
 27945 99DB			.var FIGHT_POLICE_STRING_1	= adr.FIGHT_POLICE_STRING_1 .word
 27946 = EC22			adr.FIGHT_POLICE_STRING_2	= $EC22
 27947 99DB			.var FIGHT_POLICE_STRING_2	= adr.FIGHT_POLICE_STRING_2 .word
 27948 = EC32			adr.NOT_ENOUGH_MONEY_STRING	= $EC32
 27949 99DB			.var NOT_ENOUGH_MONEY_STRING	= adr.NOT_ENOUGH_MONEY_STRING .word
 27950 = EC5A			adr.YOUR_CHOICE_STRING	= $EC5A
 27951 99DB			.var YOUR_CHOICE_STRING	= adr.YOUR_CHOICE_STRING .word
 27952 = EC6A			adr.POLICE_STRING_1	= $EC6A
 27953 99DB			.var POLICE_STRING_1	= adr.POLICE_STRING_1 .word
 27954 = EC92			LEN_STRING_BRIBE	= $EC92
 27955 = EC93			adr.FIGHT_STRING_7	= $EC93
 27956 99DB			.var FIGHT_STRING_7	= adr.FIGHT_STRING_7 .word
 27957 = A422			adr.RANKNAMES	= [DATAORIGIN+$0807] .array [11] .word
 27958 99DB			.var RANKNAMES	= adr.RANKNAMES .word
 27959 = A438			adr.WEAPONNAMES	= [DATAORIGIN+$081D] .array [9] .word
 27960 99DB			.var WEAPONNAMES	= adr.WEAPONNAMES .word
 27961 = A44A			adr.CARNAMES	= [DATAORIGIN+$082F] .array [6] .word
 27962 99DB			.var CARNAMES	= adr.CARNAMES .word
 27963 = 0C4D			adr.E7FNAME	= $0C4D
 27964 99DB			.var E7FNAME	= adr.E7FNAME .word
 27965 = 0C59			adr.SAVEFNAME	= $0C59
 27966 99DB			.var SAVEFNAME	= adr.SAVEFNAME .word
 27967 = A498			adr.FINALFNAME	= [DATAORIGIN+$087D] .array [33]
 27968 99DB			.var FINALFNAME	= adr.FINALFNAME .word
 27969 = A4B9			MAPRELOADED	= DATAORIGIN+$089E
 27970 = A4BA			SPRITEOFFSET	= DATAORIGIN+$089F
 27971 = A4BB			SHOWBITMAPS	= DATAORIGIN+$08A0
 27972 = 0278			STICK	= $0278
 27973 = D012			PCOLR0	= $D012
 27974 = D013			PCOLR1	= $D013
 27975 = D014			PCOLR2	= $D014
 27976 = D015			PCOLR3	= $D015
 27977 = 0023			N_KEYCODE	= $23
 27978 = 002E			N_CHARCODE	= $2E
 27979 = 002B			Y_KEYCODE	= $2B
 27980 = 0039			Y_CHARCODE	= $39
 27981 = 0038			F_KEYCODE	= $38
 27982 = 0026			F_CHARCODE	= $26
 27983 = 0025			M_KEYCODE	= $25
 27984 = 002D			M_CHARCODE	= $2D
 27985 = 003E			SHORT_GAME_KEYCODE	= $3E
 27986 = 0033			SHORT_GAME_CHARCODE	= $33
 27987 = 0000			LONG_GAME_KEYCODE	= $00
 27988 = 002C			LONG_GAME_CHARCODE	= $2C
 27989 = 003E			SHOOTING_RANGE_KEYCODE	= $3E
 27990 = 0033			SHOOTING_RANGE_CHARCODE	= $33
 27991 = 002D			TRAINING_CAMP_KEYCODE	= $2D
 27992 = 0034			TRAINING_CAMP_CHARCODE	= $34
 27993 = 0C65			adr.HEALTH_CHAR	= CODEORIGIN+$0065
 27994 99DB			.var HEALTH_CHAR	= adr.HEALTH_CHAR .word
 27995 = 0C68			adr.WEAPON_CHAR	= CODEORIGIN+$0068
 27996 99DB			.var WEAPON_CHAR	= adr.WEAPON_CHAR .word
 27997 = 000B			LEN_STRING_GANGSTER	= $0B
 27998 = 0010			FAST_ADJUST_DELAY	= $10
 27999 = 06E0			SAVEGAMELENGTH	= $06E0
 28000 = A70C			CONSOLESTATE	= DATAORIGIN+$0AF1
 28001 = 0002			LAST_TRAIN	= $02
 28002 = 0001			BANK_	= $01
 28003 = 0002			FORGERY_	= $02
 28004 = 0003			MONEYTRANSPORT_	= $03
 28005 = 0004			LOANSHARK_	= $04
 28006 = 0005			POLICE_	= $05
 28007 = 0006			CARDEALER_	= $06
 28008 = 0007			PUB_	= $07
 28009 = 0008			MAILTRAIN_	= $08
 28010 = 0009			STORE_	= $09
 28011 = 000A			HIDEOUT_	= $0A
 28012 = 000B			GAMBLING_	= $0B
 28013 = 000C			SUBWAY_	= $0C
 28014 = 000D			ARMSDEALER_	= $0D
 28015 = 000E			TITLE_	= $0E
 28016 = 000F			NONE_	= $0F
 28017 = 0010			STREET_	= $10
 28018 = 0011			END_TURN_	= $11
 28019 = 0012			LOSTFIGHT_	= $12
 28020 = 0013			MAIN_	= $13
 28021 = 0014			PUB2_	= $14
 28022 = 0015			UPDATES_	= $15
 28023 = 0016			JOB_	= $16
 28024 = 0017			CENTRALSTATION_	= $17
 28025 = 0018			MAJOR_	= $18
 28026 = 0019			COURT_	= $19
 28027 = 001A			CAUGHT_	= $1A
 28028 = 001B			ROADBLOCK_	= $1B
 28029 = 001C			SETUP_	= $1C
 28030 = 001D			RESET_	= $1D
 28031 = 001E			CREDITS_	= $1E
 28032 = A70E			CURRENTSUBLOCATION	= DATAORIGIN+$0AF3
 28033 = A70F			adr.CURRENTSUBLOCATIONNAME	= [DATAORIGIN+$0AF4] .array [41]
 28034 99DB			.var CURRENTSUBLOCATIONNAME	= adr.CURRENTSUBLOCATIONNAME .word
 28035 = 0001			MOVESPEED	= $01
 28036 = 0030			SPRITESIZE	= $30
 28037 = 0C8E			adr.SAFECLMFNAME	= $0C8E
 28038 99DB			.var SAFECLMFNAME	= adr.SAFECLMFNAME .word
 28039 = A8F0			K	= DATAORIGIN+$0CD5
 28040 = A8F1			OUTCOME	= DATAORIGIN+$0CD6
 28041 = A8F2			CH	= DATAORIGIN+$0CD7
 28042 = A8F4			@CASETMP_0018	= DATAORIGIN+$0CD9
 28043 99DB			@exit
 28044
 28045 99DB A2 00		@halt	ldx #$00
 28046 99DD 9A				txs
 28047
 28048 					.ifdef MAIN.@DEFINES.ROMOFF
 28049 99DE EE 01 D3			inc portb
 28050 					.fi
 28051
 28052 99E1 A0 01			ldy #$01
 28053
 28054 99E3 60				rts
 28055
 28056 				; ------------------------------------------------------------
 28057
 28058 99E4			.local	@DEFINES
 28059 99E4			ATARI
 28060 99E4			LOCATION_EN
 28061 99E4			CHEAT
 28062 99E4			CPU_6502
 28063 99E4			ROMOFF
 28064 99E4			NOROMFONT
 28065 99E4			BASICOFF
 28066 				.endl
 28067
 28068 99E4			.local	@RESOURCE
 28069 				.endl
 28070
 28071 = 99E4 73 A3		MSX
 28071 = 99E6 24 C9		PLSTUFF
 28071 = 99E8 28 C9		PLMONEYTRANSPORTER
 28071 = 99EA 2C C9		PLKILLEDMAJOR
 28071 = 99EC 30 C9		PLMONEY
 28071 = 99EE 40 C9		PLFAKEMONEY
 28071 = 99F0 44 C9		PLALCOHOL
 28071 = 99F2 48 C9		PLFORGEDID
 28071 = 99F4 4C C9		PLCAR
 28071 = 99F6 50 C9		PLSTEPS
 28071 = 99F8 54 C9		PLMAPPOSX
 28071 = 99FA 58 C9		PLMAPPOSY
 28071 = 99FC 5C C9		PLCURRENTMAP
 28071 = 99FE 60 C9		PLOPPORTUNITY
 28071 = 9A00 64 C9		PLLOAN
 28071 = 9A02 6C C9		PLLOANTIME
 28071 = 9A04 70 C9		PLLOANSHARK
 28071 = 9A06 74 C9		PLRENTMONTHS
 28071 = 9A08 78 C9		PLRENTCOST
 28071 = 9A0A 7C C9		PLBRIBE
 28071 = 9A0C 80 C9		PLJOB
 28071 = 9A0E 84 C9		PLJOBWAGE
 28071 = 9A10 8C C9		PLJOBLOCATION
 28071 = 9A12 94 C9		PLPRISON
 28071 = 9A14 98 C9		PLRANK
 28071 = 9A16 9C C9		PLPOINTS
 28071 = 9A18 A0 C9		PLNEWPOINTS
 28071 = 9A1A A4 C9		PLLOANINVEST
 28071 = 9A1C AC C9		PLFREED
 28071 = 9A1E 01 E4		FP_AI
 28071 = 9A20 03 E4		FP_N
 28071 = 9A22 05 E4		FP_POSW
 28071 = 9A24 45 E4		FP_WEAPON
 28071 = 9A26 85 E4		FP_ENERGY
 28071 = 9A28 C5 E4		FP_STRENGTH
 28071 = 9A2A 05 E5		FP_BRUTALITY
 28071 = 9A2C 45 E5		FP_SEX
 28071 = 9A2E 85 E5		FP_GANG_1
 28071 = 9A30 95 E5		FP_GANG_2
 28071 = 9A32 A5 E5		FP_NAME_1
 28071 = 9A34 B5 E5		FP_NAME_2
 28071 = 9A36 C5 E5		FP_NAME_3
 28071 = 9A38 D5 E5		FP_NAME_4
 28071 = 9A3A E5 E5		FP_NAME_5
 28071 = 9A3C F5 E5		FP_NAME_6
 28071 = 9A3E 05 E6		FP_NAME_7
 28071 = 9A40 15 E6		FP_NAME_8
 28071 = 9A42 25 E6		FP_NAME_9
 28071 = 9A44 35 E6		FP_NAME_10
 28071 = 9A46 45 E6		FP_NAME_11
 28071 = 9A48 55 E6		FP_NAME_12
 28071 = 9A4A 65 E6		FP_NAME_13
 28071 = 9A4C 75 E6		FP_NAME_14
 28071 = 9A4E 85 E6		FP_NAME_15
 28071 = 9A50 95 E6		FP_NAME_16
 28071 = 9A52 A5 E6		FP_NAME_17
 28071 = 9A54 B5 E6		FP_NAME_18
 28071 = 9A56 C5 E6		FP_NAME_19
 28071 = 9A58 D5 E6		FP_NAME_20
 28071 = 9A5A 77 A3		FP_GANG
 28071 = 9A5C 7B A3		FP_NAME
 28071 = 9A5E 00 C0		LOC_NAME
 28071 = 9A60 28 C0		LOC_SUBLOCATION_NAME_1
 28071 = 9A62 50 C0		LOC_SUBLOCATION_NAME_2
 28071 = 9A64 78 C0		LOC_SUBLOCATION_NAME_3
 28071 = 9A66 A0 C0		LOC_SUBLOCATION_NAME_4
 28071 = 9A68 C8 C0		LOC_OPTIONS_1
 28071 = 9A6A F0 C0		LOC_OPTIONS_2
 28071 = 9A6C 18 C1		LOC_OPTIONS_3
 28071 = 9A6E 40 C1		LOC_OPTIONS_4
 28071 = 9A70 68 C1		LOC_OPTIONS_5
 28071 = 9A72 90 C1		LOC_OPTIONS_6
 28071 = 9A74 B8 C1		LOC_OPTIONS_7
 28071 = 9A76 E0 C1		LOC_OPTIONS_8
 28071 = 9A78 08 C2		LOC_OPTIONS_9
 28071 = 9A7A 30 C2		LOC_OPTIONS_10
 28071 = 9A7C 58 C2		LOC_DESCRIPTION_1
 28071 = 9A7E 80 C2		LOC_DESCRIPTION_2
 28071 = 9A80 AA C2		LOC_MAP_PLACES
 28071 = 9A82 B0 C2		LOC_STRING_1
 28071 = 9A84 D8 C2		LOC_STRING_2
 28071 = 9A86 00 C3		LOC_STRING_3
 28071 = 9A88 28 C3		LOC_STRING_4
 28071 = 9A8A 50 C3		LOC_STRING_5
 28071 = 9A8C 78 C3		LOC_STRING_6
 28071 = 9A8E A0 C3		LOC_STRING_7
 28071 = 9A90 C8 C3		LOC_STRING_8
 28071 = 9A92 F0 C3		LOC_STRING_9
 28071 = 9A94 18 C4		LOC_STRING_10
 28071 = 9A96 40 C4		LOC_STRING_11
 28071 = 9A98 68 C4		LOC_STRING_12
 28071 = 9A9A 90 C4		LOC_STRING_13
 28071 = 9A9C B8 C4		LOC_STRING_14
 28071 = 9A9E E0 C4		LOC_STRING_15
 28071 = 9AA0 08 C5		LOC_STRING_16
 28071 = 9AA2 30 C5		LOC_STRING_17
 28071 = 9AA4 58 C5		LOC_STRING_18
 28071 = 9AA6 80 C5		LOC_STRING_19
 28071 = 9AA8 A8 C5		LOC_STRING_20
 28071 = 9AAA D0 C5		LOC_STRING_21
 28071 = 9AAC F8 C5		LOC_STRING_22
 28071 = 9AAE 20 C6		LOC_STRING_23
 28071 = 9AB0 48 C6		LOC_STRING_24
 28071 = 9AB2 70 C6		LOC_STRING_25
 28071 = 9AB4 98 C6		LOC_STRING_26
 28071 = 9AB6 C0 C6		LOC_STRING_27
 28071 = 9AB8 E8 C6		LOC_STRING_28
 28071 = 9ABA 10 C7		LOC_STRING_29
 28071 = 9ABC 38 C7		LOC_STRING_30
 28071 = 9ABE 60 C7		LOC_STRING_31
 28071 = 9AC0 88 C7		LOC_STRING_32
 28071 = 9AC2 B0 C7		LOC_STRING_33
 28071 = 9AC4 D8 C7		LOC_STRING_34
 28071 = 9AC6 00 C8		LOC_STRING_35
 28071 = 9AC8 28 C8		LOC_STRING_36
 28071 = 9ACA 50 C8		LOC_STRING_37
 28071 = 9ACC 78 C8		LOC_STRING_38
 28071 = 9ACE A0 C8		LOC_STRING_39
 28071 = 9AD0 C8 C8		LOC_STRING_40
 28071 = 9AD2 F0 C8		LOC_STRING_41
 28071 = 9AD4 BE A3		LOC_OPTIONS
 28071 = 9AD6 D2 A3		LOC_SUBLOCATION_NAMES
 28071 = 9AD8 00 CA		GANGSTERMAP
 28071 = 9ADA 0C CA		PLWINNERS
 28071 = 9ADC 44 CA		PLGANG_1
 28071 = 9ADE 54 CA		PLGANG_2
 28071 = 9AE0 64 CA		PLGANG_3
 28071 = 9AE2 74 CA		PLGANG_4
 28071 = 9AE4 DA A3		PLGANG
 28071 = 9AE6 C8 CA		GANGSTERNAME_1
 28071 = 9AE8 D8 CA		GANGSTERNAME_2
 28071 = 9AEA E8 CA		GANGSTERNAME_3
 28071 = 9AEC F8 CA		GANGSTERNAME_4
 28071 = 9AEE 08 CB		GANGSTERNAME_5
 28071 = 9AF0 18 CB		GANGSTERNAME_6
 28071 = 9AF2 28 CB		GANGSTERNAME_7
 28071 = 9AF4 38 CB		GANGSTERNAME_8
 28071 = 9AF6 48 CB		GANGSTERNAME_9
 28071 = 9AF8 58 CB		GANGSTERNAME_10
 28071 = 9AFA 68 CB		GANGSTERNAME_11
 28071 = 9AFC 78 CB		GANGSTERNAME_12
 28071 = 9AFE 88 CB		GANGSTERNAME_13
 28071 = 9B00 98 CB		GANGSTERNAME_14
 28071 = 9B02 A8 CB		GANGSTERNAME_15
 28071 = 9B04 B8 CB		GANGSTERNAME_16
 28071 = 9B06 C8 CB		GANGSTERNAME_17
 28071 = 9B08 D8 CB		GANGSTERNAME_18
 28071 = 9B0A E8 CB		GANGSTERNAME_19
 28071 = 9B0C F8 CB		GANGSTERNAME_20
 28071 = 9B0E 08 CC		GANGSTERNAME_21
 28071 = 9B10 18 CC		GANGSTERNAME_22
 28071 = 9B12 28 CC		GANGSTERNAME_23
 28071 = 9B14 38 CC		GANGSTERNAME_24
 28071 = 9B16 48 CC		GANGSTERNAME_25
 28071 = 9B18 58 CC		GANGSTERNAME_26
 28071 = 9B1A 68 CC		GANGSTERNAME_27
 28071 = 9B1C 78 CC		GANGSTERNAME_28
 28071 = 9B1E 88 CC		GANGSTERNAME_29
 28071 = 9B20 98 CC		GANGSTERNAME_30
 28071 = 9B22 A8 CC		GANGSTERNAME_31
 28071 = 9B24 B8 CC		GANGSTERNAME_32
 28071 = 9B26 C8 CC		GANGSTERSTR
 28071 = 9B28 E8 CC		GANGSTERINT
 28071 = 9B2A 08 CD		GANGSTERBRUT
 28071 = 9B2C 28 CD		GANGSTERHEALTH
 28071 = 9B2E 48 CD		GANGSTERWEAPON
 28071 = 9B30 68 CD		GANGSTERSEX
 28071 = 9B32 8C CD		PLRENT
 28071 = 9B34 91 CD		PLGANGSTERS
 28071 = 9B36 B1 CD		PLNGANGSTERS
 28071 = 9B38 70 CE		BUF_GANGSTERTEXT1
 28071 = 9B3A 98 CE		BUF_GANGSTERTEXT2
 28071 = 9B3C C0 CE		BUF_GANGSTERTEXT3
 28071 = 9B3E E8 CE		BUF_GANGSTERTEXT4
 28071 = 9B40 10 CF		BUF_GANGSTERTEXT5
 28071 = 9B42 38 CF		BUF_GANGSTERANREDE
 28071 = 9B44 4D CF		BUF_GANGSTERNAME
 28071 = 9B46 E2 A3		GANGSTERNAMES
 28071 = 9B48 00 E7		CARPRICES
 28071 = 9B4A 0C E7		CARCARGO
 28071 = 9B4C 12 E7		CARRANGE
 28071 = 9B4E 18 E7		WEAPONPRICES
 28071 = 9B50 2A E7		WEAPONREACH
 28071 = 9B52 33 E7		WEAPONPRECISION
 28071 = 9B54 3C E7		WEAPONEFFECT
 28071 = 9B56 45 E7		WEAPONSOUND
 28071 = 9B58 4E E7		FNTNAME
 28071 = 9B5A 5E E7		WANTED_M_FNAME
 28071 = 9B5C 6E E7		WANTED_F_FNAME
 28071 = 9B5E 7E E7		FIGHT_MAP_FNAME
 28071 = 9B60 8E E7		GANGSTERFILENAME
 28071 = 9B62 9E E7		LOCABANKFNAME
 28071 = 9B64 AE E7		LOCAFORGFNAME
 28071 = 9B66 BE E7		LOCAMONYFNAME
 28071 = 9B68 CE E7		LOCALOANFNAME
 28071 = 9B6A DE E7		LOCAPOLIFNAME
 28071 = 9B6C EE E7		LOCACARSFNAME
 28071 = 9B6E FE E7		LOCAPUBBFNAME
 28071 = 9B70 0E E8		LOCAPUBCFNAME
 28071 = 9B72 1E E8		LOCASTORFNAME
 28071 = 9B74 2E E8		LOCAHIDEFNAME
 28071 = 9B76 3E E8		LOCAGAMBFNAME
 28071 = 9B78 4E E8		LOCASUBWFNAME
 28071 = 9B7A 5E E8		LOCAARMSFNAME
 28071 = 9B7C 6E E8		LOCAMAINFNAME
 28071 = 9B7E 7E E8		LOCAJOBBFNAME
 28071 = 9B80 8E E8		LOCAMAJOFNAME
 28071 = 9B82 9E E8		LOCACOURFNAME
 28071 = 9B84 AE E8		LOCACAUGFNAME
 28071 = 9B86 BE E8		LOCAROADFNAME
 28071 = 9B88 CE E8		LOCAUPDTFNAME
 28071 = 9B8A DE E8		LOCASETUFNAME
 28071 = 9B8C EE E8		LOCACENTFNAME
 28071 = 9B8E FE E8		LOCACREDFNAME
 28071 = 9B90 0E E9		RANK_1
 28071 = 9B92 1E E9		RANK_2
 28071 = 9B94 2E E9		RANK_3
 28071 = 9B96 3E E9		RANK_4
 28071 = 9B98 4E E9		RANK_5
 28071 = 9B9A 5E E9		RANK_6
 28071 = 9B9C 6E E9		RANK_7
 28071 = 9B9E 7E E9		RANK_8
 28071 = 9BA0 8E E9		RANK_9
 28071 = 9BA2 9E E9		RANK_10
 28071 = 9BA4 AE E9		RANK_11
 28071 = 9BA6 BE E9		WEAPONNAME_1
 28071 = 9BA8 CE E9		WEAPONNAME_2
 28071 = 9BAA DE E9		WEAPONNAME_3
 28071 = 9BAC EE E9		WEAPONNAME_4
 28071 = 9BAE FE E9		WEAPONNAME_5
 28071 = 9BB0 0E EA		WEAPONNAME_6
 28071 = 9BB2 1E EA		WEAPONNAME_7
 28071 = 9BB4 2E EA		WEAPONNAME_8
 28071 = 9BB6 3E EA		WEAPONNAME_9
 28071 = 9BB8 4E EA		CARNAMES_1
 28071 = 9BBA 5E EA		CARNAMES_2
 28071 = 9BBC 6E EA		CARNAMES_3
 28071 = 9BBE 7E EA		CARNAMES_4
 28071 = 9BC0 8E EA		CARNAMES_5
 28071 = 9BC2 9E EA		CARNAMES_6
 28071 = 9BC4 B6 EA		FPPOSSTART
 28071 = 9BC6 FA EA		FIGHT_STRING_1
 28071 = 9BC8 0A EB		FIGHT_STRING_2
 28071 = 9BCA 1A EB		FIGHT_STRING_3
 28071 = 9BCC 2A EB		FIGHT_STRING_4
 28071 = 9BCE 3A EB		FIGHT_STRING_5
 28071 = 9BD0 4A EB		FIGHT_STRING_6
 28071 = 9BD2 5A EB		WAITKEY_STRING
 28071 = 9BD4 82 EB		MAP_STRING_WEAPON
 28071 = 9BD6 92 EB		MAP_STRING_GANGSTER
 28071 = 9BD8 A2 EB		MAP_STRING_RENT
 28071 = 9BDA B2 EB		MAP_STRING_BRIBE
 28071 = 9BDC C2 EB		MAP_STRING_CAR
 28071 = 9BDE D2 EB		MAP_STRING_STEPS
 28071 = 9BE0 E2 EB		MAP_STRING_CARGO
 28071 = 9BE2 F2 EB		MAP_STRING_MONEY
 28071 = 9BE4 02 EC		MAP_STRING_CREDIT
 28071 = 9BE6 12 EC		FIGHT_POLICE_STRING_1
 28071 = 9BE8 22 EC		FIGHT_POLICE_STRING_2
 28071 = 9BEA 32 EC		NOT_ENOUGH_MONEY_STRING
 28071 = 9BEC 5A EC		YOUR_CHOICE_STRING
 28071 = 9BEE 6A EC		POLICE_STRING_1
 28071 = 9BF0 93 EC		FIGHT_STRING_7
 28071 = 9BF2 22 A4		RANKNAMES
 28071 = 9BF4 38 A4		WEAPONNAMES
 28071 = 9BF6 4A A4		CARNAMES
 28071 = 9BF8 4D 0C		E7FNAME
 28071 = 9BFA 59 0C		SAVEFNAME
 28071 = 9BFC 98 A4		FINALFNAME
 28071 = 9BFE 65 0C		HEALTH_CHAR
 28071 = 9C00 68 0C		WEAPON_CHAR
 28071 = 9C02 0F A7		CURRENTSUBLOCATIONNAME
 28071 = 9C04 8E 0C		SAFECLMFNAME
 28071 				.endl							; MAIN
 28072
 28073 				; ------------------------------------------------------------
 28074 				; ------------------------------------------------------------
 28075
 28076 				.macro	UNITINITIALIZATION
 28077 				
 28078 					.ifdef MAIN.SYSTEM.@UnitInit
 28079 					jsr MAIN.SYSTEM.@UnitInit
 28080 					.fi
 28081 				
 28082 					.ifdef MAIN.ATARI.@UnitInit
 28083 					jsr MAIN.ATARI.@UnitInit
 28084 					.fi
 28085 				
 28086 					.ifdef MAIN.MATH.@UnitInit
 28087 					jsr MAIN.MATH.@UnitInit
 28088 					.fi
 28089 				
 28090 					.ifdef MAIN.PMG.@UnitInit
 28091 					jsr MAIN.PMG.@UnitInit
 28092 					.fi
 28093 				
 28094 					.ifdef MAIN.XBIOS.@UnitInit
 28095 					jsr MAIN.XBIOS.@UnitInit
 28096 					.fi
 28097 				
 28098 					.ifdef MAIN.CRT.@UnitInit
 28099 					jsr MAIN.CRT.@UnitInit
 28100 					.fi
 28101 				
 28102 					.ifdef MAIN.B_UTILS.@UnitInit
 28103 					jsr MAIN.B_UTILS.@UnitInit
 28104 					.fi
 28105 				
 28106 					.ifdef MAIN.MISC.@UnitInit
 28107 					jsr MAIN.MISC.@UnitInit
 28108 					.fi
 28109 				
 28110 					.ifdef MAIN.RMT.@UnitInit
 28111 					jsr MAIN.RMT.@UnitInit
 28112 					.fi
 28113 				
 28114 					.ifdef MAIN.DOS.@UnitInit
 28115 					jsr MAIN.DOS.@UnitInit
 28116 					.fi
 28117 				
 28118 					.ifdef MAIN.STRUTILS.@UnitInit
 28119 					jsr MAIN.STRUTILS.@UnitInit
 28120 					.fi
 28121 				
 28122 					.ifdef MAIN.SYSUTILS.@UnitInit
 28123 					jsr MAIN.SYSUTILS.@UnitInit
 28124 					.fi
 28125 				
 28126 					.ifdef MAIN.B_SYSTEM.@UnitInit
 28127 					jsr MAIN.B_SYSTEM.@UnitInit
 28128 					.fi
 28129 				
 28130 					.ifdef MAIN.B_CRT.@UnitInit
 28131 					jsr MAIN.B_CRT.@UnitInit
 28132 					.fi
 28133 				.endm
 28134
 28135 				; ------------------------------------------------------------
 28136
 28137 					ift .SIZEOF(MAIN.SYSTEM) > 0
 28138 					.print 'SYSTEM: ',MAIN.SYSTEM,'..',MAIN.SYSTEM+.SIZEOF(MAIN.SYSTEM)-1
 28138 				SYSTEM: $1337..$1455
 28139 					eif
 28140
 28141 					ift .SIZEOF(MAIN.ATARI) > 0
 28142 					.print 'ATARI: ',MAIN.ATARI,'..',MAIN.ATARI+.SIZEOF(MAIN.ATARI)-1
 28143 					eif
 28144
 28145 					ift .SIZEOF(MAIN.MATH) > 0
 28146 					.print 'MATH: ',MAIN.MATH,'..',MAIN.MATH+.SIZEOF(MAIN.MATH)-1
 28147 					eif
 28148
 28149 					ift .SIZEOF(MAIN.PMG) > 0
 28150 					.print 'PMG: ',MAIN.PMG,'..',MAIN.PMG+.SIZEOF(MAIN.PMG)-1
 28150 				PMG: $1456..$1459
 28151 					eif
 28152
 28153 					ift .SIZEOF(MAIN.XBIOS) > 0
 28154 					.print 'XBIOS: ',MAIN.XBIOS,'..',MAIN.XBIOS+.SIZEOF(MAIN.XBIOS)-1
 28154 				XBIOS: $145A..$1525
 28155 					eif
 28156
 28157 					ift .SIZEOF(MAIN.CRT) > 0
 28158 					.print 'CRT: ',MAIN.CRT,'..',MAIN.CRT+.SIZEOF(MAIN.CRT)-1
 28159 					eif
 28160
 28161 					ift .SIZEOF(MAIN.B_UTILS) > 0
 28162 					.print 'B_UTILS: ',MAIN.B_UTILS,'..',MAIN.B_UTILS+.SIZEOF(MAIN.B_UTILS)-1
 28162 				B_UTILS: $1526..$1527
 28163 					eif
 28164
 28165 					ift .SIZEOF(MAIN.MISC) > 0
 28166 					.print 'MISC: ',MAIN.MISC,'..',MAIN.MISC+.SIZEOF(MAIN.MISC)-1
 28166 				MISC: $1528..$1551
 28167 					eif
 28168
 28169 					ift .SIZEOF(MAIN.RMT) > 0
 28170 					.print 'RMT: ',MAIN.RMT,'..',MAIN.RMT+.SIZEOF(MAIN.RMT)-1
 28170 				RMT: $1552..$1611
 28171 					eif
 28172
 28173 					ift .SIZEOF(MAIN.DOS) > 0
 28174 					.print 'DOS: ',MAIN.DOS,'..',MAIN.DOS+.SIZEOF(MAIN.DOS)-1
 28175 					eif
 28176
 28177 					ift .SIZEOF(MAIN.STRUTILS) > 0
 28178 					.print 'STRUTILS: ',MAIN.STRUTILS,'..',MAIN.STRUTILS+.SIZEOF(MAIN.STRUTILS)-1
 28179 					eif
 28180
 28181 					ift .SIZEOF(MAIN.SYSUTILS) > 0
 28182 					.print 'SYSUTILS: ',MAIN.SYSUTILS,'..',MAIN.SYSUTILS+.SIZEOF(MAIN.SYSUTILS)-1
 28182 				SYSUTILS: $1612..$1685
 28183 					eif
 28184
 28185 					ift .SIZEOF(MAIN.B_SYSTEM) > 0
 28186 					.print 'B_SYSTEM: ',MAIN.B_SYSTEM,'..',MAIN.B_SYSTEM+.SIZEOF(MAIN.B_SYSTEM)-1
 28186 				B_SYSTEM: $1686..$172B
 28187 					eif
 28188
 28189 					ift .SIZEOF(MAIN.B_CRT) > 0
 28190 					.print 'B_CRT: ',MAIN.B_CRT,'..',MAIN.B_CRT+.SIZEOF(MAIN.B_CRT)-1
 28190 				B_CRT: $172C..$1B09
 28191 					eif
 28192
 28193 				.nowarn	.print 'CODE: ',CODEORIGIN,'..',MAIN.@RESOURCE-1
 28193 				CODE: $0C00..$99E3
 28194
 28195 					ift .SIZEOF(MAIN.@RESOURCE)>0
 28196 				.nowarn	.print 'RESOURCE: ',MAIN.@RESOURCE,'..',MAIN.@RESOURCE+.SIZEOF(MAIN.@RESOURCE)-1
 28197 					eif
 28198
 28199 9C06			@end
 28200
 28201 				.nowarn	.print 'VARS: ',MAIN.@RESOURCE+.SIZEOF(MAIN.@RESOURCE),'..',@end-1
 28201 				VARS: $99E4..$9C05
 28202
 28203 				; ------------------------------------------------------------
 28204
 28205 = 9C06				?adr = *
 28206 					ift (?adr < ?old_adr) && (?old_adr - ?adr < $120)
 28207 = 9C1B				?adr = ?old_adr
 28208 					eif
 28209
 28210 					org ?adr
 28211 = 9C1B				?old_adr = *
 28212
 28213 9C1B			DATAORIGIN
 28214 9C1B-A455> 2D 0C 00 00 + .by  $2D $0C $00 $00 $00 $28 $00 $18  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28215 9C33 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28216 9C4B 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28217 9C63 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28218 9C7B 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28219 9C93 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28220 9CAB 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28221 9CC3 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28222 9CDB 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28223 9CF3 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28224 9D0B 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28225 9D23 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28226 9D3B 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $02 $08 $80 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28227 9D53 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  <[CODEORIGIN+$0001] >[CODEORIGIN+$0001] $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28228 9D6B 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28229 9D83 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28230 9D9B 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28231 9DB3 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28232 9DCB 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $1F $1C $1F $1E $1F $1E
 28233 9DE3 1F 1F 1E 1F 1E 1F + .by  $1F $1F $1E $1F $1E $1F $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28234 9DFB 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28235 9E13 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28236 9E2B 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28237 9E43 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28238 9E5B 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28239 9E73 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28240 9E8B 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28241 9EA3 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28242 9EBB 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28243 9ED3 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28244 9EEB 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28245 9F03 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28246 9F1B 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28247 9F33 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28248 9F4B 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28249 9F63 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28250 9F7B 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28251 9F93 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28252 9FAB 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28253 9FC3 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28254 9FDB 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28255 9FF3 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28256 A00B 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28257 A023 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28258 A03B 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28259 A053 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28260 A06B 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28261 A083 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28262 A09B 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28263 A0B3 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28264 A0CB 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28265 A0E3 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28266 A0FB 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28267 A113 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28268 A12B 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28269 A143 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28270 A15B 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28271 A173 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28272 A18B 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28273 A1A3 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28274 A1BB 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28275 A1D3 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28276 A1EB 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28277 A203 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28278 A21B 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28279 A233 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28280 A24B 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28281 A263 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28282 A27B 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28283 A293 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28284 A2AB 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28285 A2C3 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28286 A2DB 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28287 A2F3 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28288 A30B 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28289 A323 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28290 A33B 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28291 A353 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $00 $00 $00 $00
 28292 A36B 00 00 00 00 00 00 + .by  $00 $00 $00 $00 $00 $00 $00 $00  $00 $00 $00 $00 $85 $E5 $95 $E5  $A5 $E5 $B5 $E5 $C5 $E5 $D5 $E5
 28293 A383 E5 E5 F5 E5 05 E6 + .by  $E5 $E5 $F5 $E5 $05 $E6 $15 $E6  $25 $E6 $35 $E6 $35 $E6 $35 $E6  $35 $E6 $35 $E6 $35 $E6 $35 $E6
 28294 A39B 45 E6 55 E6 65 E6 + .by  $45 $E6 $55 $E6 $65 $E6 $75 $E6  $85 $E6 $95 $E6 $A5 $E6 $B5 $E6  $C5 $E6 $D5 $E6 $D5 $E6 $D5 $E6
 28295 A3B3 D5 E6 D5 E6 D5 E6 + .by  $D5 $E6 $D5 $E6 $D5 $E6 $D5 $E6  $00 $00 $00 $C8 $C0 $F0 $C0 $18  $C1 $40 $C1 $68 $C1 $90 $C1 $B8
 28296 A3CB C1 E0 C1 08 C2 30 + .by  $C1 $E0 $C1 $08 $C2 $30 $C2 $28  $C0 $50 $C0 $78 $C0 $A0 $C0 $44  $CA $54 $CA $64 $CA $74 $CA $C8
 28297 A3E3 CA D8 CA E8 CA F8 + .by  $CA $D8 $CA $E8 $CA $F8 $CA $08  $CB $18 $CB $28 $CB $38 $CB $48  $CB $58 $CB $68 $CB $78 $CB $88
 28298 A3FB CB 98 CB A8 CB B8 + .by  $CB $98 $CB $A8 $CB $B8 $CB $C8  $CB $D8 $CB $E8 $CB $F8 $CB $08  $CC $18 $CC $28 $CC $38 $CC $48
 28299 A413 CC 58 CC 68 CC 78 + .by  $CC $58 $CC $68 $CC $78 $CC $88  $CC $98 $CC $A8 $CC $B8 $CC $0E  $E9 $1E $E9 $2E $E9 $3E $E9 $4E
 28300 A42B E9 5E E9 6E E9 7E + .by  $E9 $5E $E9 $6E $E9 $7E $E9 $8E  $E9 $9E $E9 $AE $E9 $BE $E9 $CE  $E9 $DE $E9 $EE $E9 $FE $E9 $0E
 28301 A443 EA 1E EA 2E EA 3E + .by  $EA $1E $EA $2E $EA $3E $EA $4E  $EA $5E $EA $6E $EA $7E $EA $8E  $EA $9E $EA
 28302
 28303 = 083B			VARINITSIZE	= *-DATAORIGIN
 28304 = 0CDC			VARDATASIZE	= 3292
 28305
 28306 = A8F7			PROGRAMSTACK	= DATAORIGIN+VARDATASIZE
 28307
 28308 					.print 'DATA: ',DATAORIGIN,'..',PROGRAMSTACK
 28308 				DATA: $9C1B..$A8F7
 28309
 28310 					ert DATAORIGIN<@end,'DATA memory overlap'
 28311
 28312 02E0-02E1> AA 12			run START
 28313
 28314 				; ------------------------------------------------------------
 28315
 28316 				.macro	STATICDATA
 28317 				.by  $40 $41 $42 $43 $44 $45 $46 $47  $48 $49 $4A $4B $4C $4D $4E $4F  $50 $51 $52 $53 $54 $55 $56 $57
 28318 				.by  $58 $59 $5A $61 $62 $63 $64 $65  $66 $67 $68 $69 $6A $6B $6C $6D  $6E $6F $70 $71 $72 $73 $74 $75
 28319 				.by  $76 $77 $78 $79 $7A $30 $31 $32  $33 $34 $35 $36 $37 $38 $39 $2B  $2F $00 $04 $54 $52 $55 $45 $05
 28320 				.by  $46 $41 $4C $53 $45 $0B $45 $37  $30 $30 $50 $41 $47 $45 $41 $45  $4E $0B $53 $41 $56 $45 $47 $41
 28321 				.by  $4D $45 $44 $41 $54 $02 $25 $1A  $02 $37 $1A $02 $00 $00 $04 $00  $00 $00 $00 $02 $04 $01 $03 $00
 28322 				.by  $0D $00 $02 $33 $1A $03 $00 $29  $1A $03 $00 $22 $1A $02 $0C $00  $02 $04 $00 $02 $09 $00 $0B $53
 28323 				.by  $41 $46 $45 $43 $42 $4D $50 $41  $50 $4C $02 $00 $08 $02 $04 $09  $02 $04 $0E $02 $09 $1F $04 $04
 28324 				.by  $09 $1F $00 $03 $0E $0E $0E $03  $08 $10 $0D $02 $01 $01 $03 $00  $00 $00 $03 $00 $2D $09 $03 $09
 28325 				.by  $1F $00 $0B $46 $49 $4E $41 $47  $50 $49 $43 $41 $50 $4C $0B $46  $4D $55 $53 $42 $38 $30 $30 $41
 28326 				.by  $50 $4C $0B $50 $4C $41 $59 $42  $30 $52 $5A $41 $50 $4C $6C $6A  $3B $FF $FF $6B $2B $2A $6F $FF
 28327 				.by  $70 $75 $9B $69 $2D $3D $76 $FF  $63 $FF $FF $62 $78 $7A $34 $FF  $33 $36 $1B $35 $32 $31 $2C $20
 28328 				.by  $2E $6E $FF $6D $2F $81 $72 $FF  $65 $79 $7F $74 $77 $71 $39 $FF  $30 $37 $7E $38 $3E $FF $66 $68
 28329 				.by  $64 $FF $82 $67 $73 $61 $4C $4A  $3A $FF $FF $4B $5C $5E $4F $FF  $50 $55 $FF $49 $5F $7C $56 $FF
 28330 				.by  $43 $FF $FF $42 $58 $5A $24 $FF  $23 $26 $FF $25 $22 $21 $5B $3B  $5D $4E $FF $4D $3F $FF $52 $FF
 28331 				.by  $45 $59 $FF $54 $57 $51 $28 $FF  $29 $27 $FF $40 $FF $FF $46 $48  $44 $FF $FF $47 $53 $41 $FF $FF
 28332 				.by  $FF $FF $FF $FF $FF $FF $FF $FF  $FF $FF $FF $FF $FF $FF $FF $FF  $FF $FF $FF $FF $FF $FF $FF $FF
 28333 				.by  $FF $FF $FF $FF $FF $FF $FF $FF  $FF $FF $FF $FF $FF $FF $FF $FF  $FF $FF $FF $FF $FF $FF $FF $FF
 28334 				.by  $FF $FF $FF $FF $FF $FF $FF $FF  $FF $FF $FF $FF $FF $FF $FF $FF  $FF $FF $FF $FF $FF $FF $FF $FF
 28335 				.by  $FF $FF $FF $FF $FF $FF $FF $FF  $FF $FF $FF $FF $FF $FF $FF $FF  $FF $FF $FF $FF $FF $FF $FF $FF
 28336 				.by  $FF $FF $FF $FF $FF $FF $FF $FF  $FF $FF $FF $FF $FF $FF $FF $FF  $FF $FF $FF $FF $FF $FF $FF $FF
 28337 				.by  $FF $FF $FF $FF $FF $FF
 28338 				.endm
 28339
 28340 					end
